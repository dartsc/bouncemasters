(()=>{var t,e,r={7054:(t,e,r)=>{"use strict";var n,i,o,a,s,u,l,c,h,f,p,d,m,y,g,v,b;r.d(e,{A7:()=>v,G5:()=>b,I2:()=>u,N3:()=>i,Nt:()=>f,T$:()=>a,UN:()=>y,V0:()=>o,Vi:()=>n,WB:()=>p,aH:()=>h,cB:()=>g,iw:()=>d,lg:()=>s,sp:()=>l,vK:()=>c,yl:()=>m}),function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(n||(n={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(i||(i={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(o||(o={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(a||(a={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(s||(s={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(u||(u={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(l||(l={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(c||(c={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(h||(h={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(f||(f={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(p||(p={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(d||(d={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(m||(m={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(y||(y={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(g||(g={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(v||(v={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(b||(b={}))},5307:(t,e,r)=>{"use strict";r.d(e,{$r:()=>Ct,Bv:()=>de,Ie:()=>ae,JZ:()=>ce,TI:()=>B,Th:()=>ee,UX:()=>Lt,VL:()=>y,Y9:()=>ie,ZM:()=>It,ZX:()=>U,a$:()=>oe,bO:()=>Q,e6:()=>re,ex:()=>Mt,kP:()=>ne,lW:()=>N,oo:()=>H,ud:()=>X,wn:()=>jt,xE:()=>I});var n=r(5264),i=r(7054),o=r(5323),a=r(3557),s=r(5662),u=r(4295);n.X.PREFER_ENV=o.isMobile.any?i.Vi.WEBGL:i.Vi.WEBGL2,n.X.STRICT_TEXTURE_CACHE=!1;var l=[];function c(t,e){if(!t)return null;var r="";if("string"==typeof t){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=l.length-1;i>=0;--i){var o=l[i];if(o.test&&o.test(t,r))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var h=function(t,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},h(t,e)};function f(t,e){function r(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var p=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new a.R("setRealSize"),this.onUpdate=new a.R("update"),this.onError=new a.R("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,r){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),d=function(t){function e(e,r){var n=this,i=r||{},o=i.width,a=i.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return(n=t.call(this,o,a)||this).data=e,n}return f(e,t),e.prototype.upload=function(t,e,r){var n=t.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===i.iw.UNPACK),r.width===e.width&&r.height===e.height?n.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,n.texImage2D(e.target,0,r.internalFormat,e.width,e.height,0,e.format,r.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(p),m={scaleMode:i.aH.NEAREST,format:i.I2.RGBA,alphaMode:i.iw.NPM},y=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var a=t.call(this)||this,s=(r=r||{}).alphaMode,u=r.mipmap,l=r.anisotropicLevel,h=r.scaleMode,f=r.width,d=r.height,m=r.wrapMode,y=r.format,g=r.type,v=r.target,b=r.resolution,_=r.resourceOptions;return!e||e instanceof p||((e=c(e,_)).internal=!0),a.width=f||0,a.height=d||0,a.resolution=b||n.X.RESOLUTION,a.mipmap=void 0!==u?u:n.X.MIPMAP_TEXTURES,a.anisotropicLevel=void 0!==l?l:n.X.ANISOTROPIC_LEVEL,a.wrapMode=m||n.X.WRAP_MODE,a.scaleMode=void 0!==h?h:n.X.SCALE_MODE,a.format=y||i.I2.RGBA,a.type=g||i.vK.UNSIGNED_BYTE,a.target=v||i.sp.TEXTURE_2D,a.alphaMode=void 0!==s?s:i.iw.UNPACK,void 0!==r.premultiplyAlpha&&(a.premultiplyAlpha=r.premultiplyAlpha),a.uid=(0,o.uid)(),a.touched=0,a.isPowerOfTwo=!1,a._refreshPOT(),a._glTextures={},a.dirtyId=0,a.dirtyStyleId=0,a.cacheId=null,a.valid=f>0&&d>0,a.textureCacheIds=[],a.destroyed=!1,a.resource=null,a._batchEnabled=0,a._batchLocation=0,a.parentTextureArray=null,a.setResource(e),a}return f(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=(0,o.isPow2)(this.realWidth)&&(0,o.isPow2)(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete o.BaseTextureCache[this.cacheId],delete o.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,r,i){void 0===i&&(i=n.X.STRICT_TEXTURE_CACHE);var a="string"==typeof t,s=null;a?s=t:(t._pixiId||(t._pixiId="pixiid_"+(0,o.uid)()),s=t._pixiId);var u=o.BaseTextureCache[s];if(a&&i&&!u)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return u||((u=new e(t,r)).cacheId=s,e.addToCache(u,s)),u},e.fromBuffer=function(t,r,n,o){t=t||new Float32Array(r*n*4);var a=new d(t,{width:r,height:n}),s=t instanceof Float32Array?i.vK.FLOAT:i.vK.UNSIGNED_BYTE;return new e(a,Object.assign(m,o||{width:r,height:n,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),o.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),o.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=o.BaseTextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete o.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete o.BaseTextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(o.EventEmitter),g=function(t){function e(e,r){var n=this,i=r||{},o=i.width,a=i.height;(n=t.call(this,o,a)||this).items=[],n.itemDirtyIds=[];for(var s=0;s<e;s++){var u=new y;n.items.push(u),n.itemDirtyIds.push(-2)}return n.length=e,n._load=null,n.baseTexture=null,n}return f(e,t),e.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof p?this.addResourceAt(t[r],r):this.addResourceAt(c(t[r],e),r))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],r=e.realWidth,n=e.realHeight;return t.resize(r,n),Promise.resolve(t)})),this._load},e}(p),v=function(t){function e(e,r){var n,i,o=this,a=r||{},s=a.width,u=a.height;return Array.isArray(e)?(n=e,i=e.length):i=e,o=t.call(this,i,{width:s,height:u})||this,n&&o.initFromArray(n,r),o}return f(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=i.sp.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,r){var n=this,i=n.length,o=n.itemDirtyIds,a=n.items,s=t.gl;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,i,0,e.format,e.type,null);for(var u=0;u<i;u++){var l=a[u];o[u]<l.dirtyId&&(o[u]=l.dirtyId,l.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,u,l.resource.width,l.resource.height,1,e.format,e.type,l.resource.source))}return!0},e}(g),b=function(t){function e(e){var r=this,n=e,i=n.naturalWidth||n.videoWidth||n.width,o=n.naturalHeight||n.videoHeight||n.height;return(r=t.call(this,i,o)||this).source=e,r.noSubImage=!1,r}return f(e,t),e.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=(0,o.determineCrossOrigin)(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},e.prototype.upload=function(t,e,r,n){var o=t.gl,a=e.realWidth,s=e.realHeight;return n=n||this.source,o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===i.iw.UNPACK),this.noSubImage||e.target!==o.TEXTURE_2D||r.width!==a||r.height!==s?(r.width=a,r.height=s,o.texImage2D(e.target,0,e.format,e.format,e.type,n)):o.texSubImage2D(o.TEXTURE_2D,0,0,0,e.format,e.type,n),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(p),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(b),w=function(t){function e(r,n){var o=this,a=n||{},s=a.width,u=a.height,l=a.autoLoad,c=a.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");o=t.call(this,6,{width:s,height:u})||this;for(var h=0;h<e.SIDES;h++)o.items[h].target=i.sp.TEXTURE_CUBE_MAP_POSITIVE_X+h;return o.linkBaseTexture=!1!==c,r&&o.initFromArray(r,n),!1!==l&&o.load(),o}return f(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=i.sp.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=i.sp.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,r,n){for(var i=this.itemDirtyIds,o=0;o<e.SIDES;o++){var a=this.items[o];i[o]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(t,a,n),i[o]=a.dirtyId):i[o]<-1&&(t.gl.texImage2D(a.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[o]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(g),x=function(t){function e(e,r){var i=this;if(r=r||{},!(e instanceof HTMLImageElement)){var o=new Image;b.crossOrigin(o,e,r.crossorigin),o.src=e,e=o}return i=t.call(this,e)||this,!e.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==r.createBitmap?r.createBitmap:n.X.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,i.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(i.premultiplyAlpha=r.premultiplyAlpha),i.bitmap=null,i._load=null,!1!==r.autoLoad&&i.load(),i}return f(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,r){var n=e.source;e.url=n.src;var i=function(){e.destroyed||(n.onload=null,n.onerror=null,e.resize(n.width,n.height),e._load=null,e.createBitmap?t(e.process()):t(e))};n.complete&&n.src?i():(n.onload=i,n.onerror=function(t){r(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===i.iw.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,r,n){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,n,this.bitmap),!this.preserveBitmap){var i=!0,o=r._glTextures;for(var a in o){var s=o[a];if(s!==n&&s.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(b),S=function(t){function e(e,r){var n=this;return r=r||{},(n=t.call(this,document.createElement("canvas"))||this)._width=0,n._height=0,n.svg=e,n.scale=r.scale||1,n._overrideWidth=r.width,n._overrideHeight=r.height,n._resolve=null,n._crossorigin=r.crossorigin,n._load=null,!1!==r.autoLoad&&n.load(),n}return f(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;b.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(r){t._resolve&&(e.onerror=null,t.onError.emit(r))},e.onload=function(){if(t._resolve){var r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=r*t.scale,a=n*t.scale;(t._overrideWidth||t._overrideHeight)&&(i=t._overrideWidth||t._overrideHeight/n*r,a=t._overrideHeight||t._overrideWidth/r*n),i=Math.round(i),a=Math.round(a);var s=t.source;s.width=i,s.height=a,s._pixiId="canvas_"+(0,o.uid)(),s.getContext("2d").drawImage(e,0,0,r,n,0,0,i,a),t._resolve(),t._resolve=null}}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(b),T=function(t){function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var a=r[0].src||r[0];b.crossOrigin(o,a,n.crossorigin);for(var s=0;s<r.length;++s){var u=document.createElement("source"),l=r[s],c=l.src,h=l.mime,f=(c=c||r[s]).split("?").shift().toLowerCase(),p=f.substr(f.lastIndexOf(".")+1);h=h||e.MIME_TYPES[p]||"video/"+p,u.src=c,u.type=h,o.appendChild(u)}r=o}return(i=t.call(this,r)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==n.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==n.autoLoad&&i.load(),i}return f(e,t),e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var r=s.vB.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){t.valid?r(t):(t._resolve=r,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(s.vB.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(s.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&s.vB.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(s.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(s.vB.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,r){return t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(b),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(b);l.push(x,E,_,T,S,d,w,v);var O=function(){function t(t){this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.upload=function(t,e,r){var n=t.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===i.iw.UNPACK),r.width===e.width&&r.height===e.height?n.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,n.texImage2D(e.target,0,1===t.context.webGLVersion?n.DEPTH_COMPONENT:n.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(d),k=function(){function t(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new a.R("disposeFramebuffer"),this.multisample=i.G5.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new y(null,{scaleMode:i.aH.NEAREST,resolution:1,mipmap:i.WB.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new y(new A(null,{width:this.width,height:this.height}),{scaleMode:i.aH.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:i.WB.OFF,format:i.I2.DEPTH_COMPONENT,type:i.vK.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var n=this.colorTextures[r],i=n.resolution;n.setSize(t/i,e/i)}if(this.depthTexture){i=this.depthTexture.resolution;this.depthTexture.setSize(t/i,e/i)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),P=function(t){function e(e){var r=this;if("number"==typeof e){var n=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3];e={width:n,height:i,scaleMode:o,resolution:a}}r=t.call(this,null,e)||this;var s=e||{},u=s.width,l=s.height;return r.mipmap=0,r.width=Math.ceil(u)||100,r.height=Math.ceil(l)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new k(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return f(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(y),C=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var o=t.width/2/n,a=t.height/2/i,s=t.x/n+o,l=t.y/i+a;r=u.Lv.add(r,u.Lv.NW),this.x0=s+o*u.Lv.uX(r),this.y0=l+a*u.Lv.uY(r),r=u.Lv.add(r,2),this.x1=s+o*u.Lv.uX(r),this.y1=l+a*u.Lv.uY(r),r=u.Lv.add(r,2),this.x2=s+o*u.Lv.uX(r),this.y2=l+a*u.Lv.uY(r),r=u.Lv.add(r,2),this.x3=s+o*u.Lv.uX(r),this.y3=l+a*u.Lv.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t}(),M=new C,I=function(t){function e(r,n,i,o,a,s){var l=t.call(this)||this;if(l.noFrame=!1,n||(l.noFrame=!0,n=new u.Ae(0,0,1,1)),r instanceof e&&(r=r.baseTexture),l.baseTexture=r,l._frame=n,l.trim=o,l.valid=!1,l._uvs=M,l.uvMatrix=null,l.orig=i||n,l._rotate=Number(a||0),!0===a)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=s?new u.E9(s.x,s.y):new u.E9(0,0),l._updateID=0,l.textureCacheIds=[],r.valid?l.noFrame?r.valid&&l.onBaseTextureUpdated(r):l.frame=n:r.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&r.on("update",l.onBaseTextureUpdated,l),l}return f(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture;r&&r.url&&o.TextureCache[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===M&&(this._uvs=new C),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r,i){void 0===r&&(r={}),void 0===i&&(i=n.X.STRICT_TEXTURE_CACHE);var a="string"==typeof t,s=null;a?s=t:(t._pixiId||(t._pixiId="pixiid_"+(0,o.uid)()),s=t._pixiId);var u=o.TextureCache[s];if(a&&i&&!u)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return u||(r.resolution||(r.resolution=(0,o.getResolutionOfUrl)(t)),(u=new e(new y(t,r))).baseTexture.cacheId=s,y.addToCache(u.baseTexture,s),e.addToCache(u,s)),u},e.fromURL=function(t,r){var n=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),i=e.from(t,Object.assign({resourceOptions:n},r),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then((function(){return Promise.resolve(i)}))},e.fromBuffer=function(t,r,n,i){return new e(y.fromBuffer(t,r,n,i))},e.fromLoader=function(t,r,i){var a=new x(t);a.url=r;var s=new e(new y(a,{scaleMode:n.X.SCALE_MODE,resolution:(0,o.getResolutionOfUrl)(r)}));return i||(i=r),y.addToCache(s.baseTexture,i),e.addToCache(s,i),i!==r&&(y.addToCache(s.baseTexture,r),e.addToCache(s,r)),s},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),o.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),o.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=o.TextureCache[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete o.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)o.TextureCache[t.textureCacheIds[n]]===t&&delete o.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,a=r+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",u="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,l="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+s+" "+l)}this.valid=n&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(o.EventEmitter);function j(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}I.EMPTY=new I(new y),j(I.EMPTY),j(I.EMPTY.baseTexture),I.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new I(new y(new _(t)))}(),j(I.WHITE),j(I.WHITE.baseTexture);var B=function(t){function e(e,r){var n=this,i=null;if(!(e instanceof P)){var o=arguments[1],a=arguments[2],s=arguments[3],u=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+a+") instead of the ctor directly."),i=arguments[0],r=null,e=new P({width:o,height:a,scaleMode:s,resolution:u})}return(n=t.call(this,e,r)||this).legacyRenderer=i,n.valid=!0,n.filterFrame=null,n.filterPoolKey=null,n.updateUvs(),n}return f(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new P(t))},e}(I),L=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e){var r=new P(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new B(r)},t.prototype.getOptimalTexture=function(e,r,n){void 0===n&&(n=1);var i=t.SCREEN_KEY;e*=n,r*=n,this.enableFullScreen&&e===this._pixelsWidth&&r===this._pixelsHeight||(i=(65535&(e=(0,o.nextPow2)(e)))<<16|65535&(r=(0,o.nextPow2)(r))),this.texturePool[i]||(this.texturePool[i]=[]);var a=this.texturePool[i].pop();return a||(a=this.createTexture(e,r)),a.filterPoolKey=i,a.setResolution(n),a},t.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var n=0;n<r.length;n++)r[n].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var r=t.SCREEN_KEY,n=this.texturePool[r];if(this.enableFullScreen=e.width>0&&e.height>0,n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),R=function(){function t(t,e,r,n,i,o,a){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===n&&(n=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=n,this.stride=i,this.start=o,this.instance=a}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,o){return new t(e,r,n,i,o)},t}(),q=0,N=function(){function t(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=q++,this.disposeRunner=new a.R("disposeBuffer")}return t.prototype.update=function(t){this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function F(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var V={Float32Array,Uint32Array,Int32Array,Uint8Array};var D={5126:4,5123:2,5121:1},G=0,z={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},U=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=G++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new a.R("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,r,n,i,o,a,s){if(void 0===r&&(r=0),void 0===n&&(n=!1),void 0===s&&(s=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof N||(e instanceof Array&&(e=new Float32Array(e)),e=new N(e));var u=t.split("|");if(u.length>1){for(var l=0;l<u.length;l++)this.addAttribute(u[l],e,r,n,i);return this}var c=this.buffers.indexOf(e);return-1===c&&(this.buffers.push(e),c=this.buffers.length-1),this.attributes[t]=new R(c,r,n,i,o,a,s),this.instanced=this.instanced||s,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof N||(t instanceof Array&&(t=new Uint16Array(t)),t=new N(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],n=new N;for(t in this.attributes){var i=this.attributes[t],o=this.buffers[i.buffer];e.push(o.data),r.push(i.size*D[i.type]/4),i.buffer=0}for(n.data=function(t,e){for(var r=0,n=0,i={},o=0;o<t.length;o++)n+=e[o],r+=t[o].length;var a=new ArrayBuffer(4*r),s=null,u=0;for(o=0;o<t.length;o++){var l=e[o],c=t[o],h=F(c);i[h]||(i[h]=new V[h](a)),s=i[h];for(var f=0;f<c.length;f++)s[(f/l|0)*n+u+f%l]=c[f];u+=l}return new Float32Array(a)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new N(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new R(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var r,n=new t,i=[],o=[],a=[],s=0;s<e.length;s++){r=e[s];for(var u=0;u<r.buffers.length;u++)o[u]=o[u]||0,o[u]+=r.buffers[u].data.length,a[u]=0}for(s=0;s<r.buffers.length;s++)i[s]=new(z[F(r.buffers[s].data)])(o[s]),n.buffers[s]=new N(i[s]);for(s=0;s<e.length;s++){r=e[s];for(u=0;u<r.buffers.length;u++)i[u].set(r.buffers[u].data,a[u]),a[u]+=r.buffers[u].data.length}if(n.attributes=r.attributes,r.indexBuffer){n.indexBuffer=n.buffers[r.buffers.indexOf(r.indexBuffer)],n.indexBuffer.index=!0;var l=0,c=0,h=0,f=0;for(s=0;s<r.buffers.length;s++)if(r.buffers[s]!==r.indexBuffer){f=s;break}for(var s in r.attributes){var p=r.attributes[s];(0|p.buffer)===f&&(c+=p.size*D[p.type]/4)}for(s=0;s<e.length;s++){var d=e[s].indexBuffer.data;for(u=0;u<d.length;u++)n.indexBuffer.data[u+h]+=l;l+=r.buffers[f].data.length/c,h+=d.length}}return n},t}(),Y=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return f(e,t),e}(U),X=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new N(e.vertices),e.uvBuffer=new N(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return f(e,t),e.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(U),W=0,H=function(){function t(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=W++,this.static=!!e}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,r,n){this.uniforms[e]=new t(r,n)},t.from=function(e,r){return new t(e,r)},t}(),Z=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new u.Ae,this.destinationFrame=new u.Ae,this.filters=[]}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),K=function(t){function e(e){var r=t.call(this,e)||this;return r.defaultFilterStack=[{}],r.texturePool=new L,r.texturePool.setScreenSize(e.view),r.statePool=[],r.quad=new Y,r.quadUv=new X,r.tempRect=new u.Ae,r.activeState={},r.globalUniforms=new H({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return f(e,t),e.prototype.push=function(t,e){for(var r=this.renderer,n=this.defaultFilterStack,i=this.statePool.pop()||new Z,o=e[0].resolution,a=e[0].padding,s=e[0].autoFit,u=e[0].legacy,l=1;l<e.length;l++){var c=e[l];o=Math.min(o,c.resolution),a=this.useMaxPadding?Math.max(a,c.padding):a+c.padding,s=s||c.autoFit,u=u||c.legacy}1===n.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),n.push(i),i.resolution=o,i.legacy=u,i.target=t,i.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),i.sourceFrame.pad(a),s&&i.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),i.sourceFrame.ceil(o),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,o),i.filters=e,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height;var h=this.tempRect;h.width=i.sourceFrame.width,h.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,r.renderTexture.bind(i.renderTexture,i.sourceFrame,h),r.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var n=this.globalUniforms.uniforms;n.outputFrame=e.sourceFrame,n.resolution=e.resolution;var o=n.inputSize,a=n.inputPixel,s=n.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],a[0]=o[0]*e.resolution,a[1]=o[1]*e.resolution,a[2]=1/a[0],a[3]=1/a[1],s[0]=.5*a[2],s[1]=.5*a[3],s[2]=e.sourceFrame.width*o[2]-.5*a[2],s[3]=e.sourceFrame.height*o[3]-.5*a[3],e.legacy){var u=n.filterArea;u[0]=e.destinationFrame.width,u[1]=e.destinationFrame.height,u[2]=e.sourceFrame.x,u[3]=e.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();var l=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,l.renderTexture,i.yl.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var c=e.renderTexture,h=this.getOptimalFilterTexture(c.width,c.height,e.resolution);h.filterFrame=c.filterFrame;var f=0;for(f=0;f<r.length-1;++f){r[f].apply(this,c,h,i.yl.CLEAR,e);var p=c;c=h,h=p}r[f].apply(this,c,l.renderTexture,i.yl.BLEND,e),this.returnFilterTexture(c),this.returnFilterTexture(h)}e.clear(),this.statePool.push(e)},e.prototype.bindAndClear=function(t,e){if(void 0===e&&(e=i.yl.CLEAR),t&&t.filterFrame){var r=this.tempRect;r.width=t.filterFrame.width,r.height=t.filterFrame.height,this.renderer.renderTexture.bind(t,t.filterFrame,r)}else this.renderer.renderTexture.bind(t);"boolean"==typeof e&&(e=e?i.yl.CLEAR:i.yl.BLEND,(0,o.deprecation)("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(e===i.yl.CLEAR||e===i.yl.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},e.prototype.applyFilter=function(t,e,r,n){var o=this.renderer;this.bindAndClear(r,n),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.state.set(t.state),o.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(i.lg.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(i.lg.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,n=r.sourceFrame,i=r.destinationFrame,o=e._texture.orig,a=t.set(i.width,0,0,i.height,n.x,n.y),s=e.worldTransform.copyTo(u.y3.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(e.anchor.x,e.anchor.y),a},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var n=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return n.filterFrame=t.filterFrame,n},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(O),Q=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),J=function(t){function e(e){var r=t.call(this,e)||this;return r.emptyRenderer=new Q(e),r.currentRenderer=r.emptyRenderer,r}return f(e,t),e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,n=e-1;n>=0;--n)t[n]=r[n]||null,t[n]&&(t[n]._batchLocation=n)},e.prototype.boundArray=function(t,e,r,n){for(var i=t.elements,o=t.ids,a=t.count,s=0,u=0;u<a;u++){var l=i[u],c=l._batchLocation;if(c>=0&&c<n&&e[c]===l)o[u]=c;else for(;s<n;){var h=e[s];if(!h||h._batchEnabled!==r||h._batchLocation!==s){o[u]=s,l._batchLocation=s,e[s]=l;break}s++}}},e}(O),$=0,tt=function(t){function e(e){var r=t.call(this,e)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),e.view.addEventListener("webglcontextlost",r.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return f(e,t),Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=$++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=$++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var r;if(n.X.PREFER_ENV>=i.Vi.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var e="WebGL2RenderingContext"in window&&t instanceof window.WebGL2RenderingContext||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=e,e||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(O),et=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=i.G5.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},rt=new u.Ae,nt=function(t){function e(e){var r=t.call(this,e)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new k(10,10),r.msaaSamples=null,r}return f(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new u.Ae,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;n.X.PREFER_ENV===i.Vi.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,e){var r=this.gl;if(t){var n=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,n.framebuffer)),n.dirtyId!==t.dirtyId&&(n.dirtyId=t.dirtyId,n.dirtyFormat!==t.dirtyFormat?(n.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):n.dirtySize!==t.dirtySize&&(n.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var i=0;i<t.colorTextures.length;i++){var o=t.colorTextures[i];this.renderer.texture.unbind(o.parentTextureArray||o)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,r,n){var i=this.viewport;i.width===r&&i.height===n&&i.x===t&&i.y===e||(i.x=t,i.y=e,i.width=r,i.height=n,this.gl.viewport(t,e,r,n))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,e,r,n,o){void 0===o&&(o=i.V0.COLOR|i.V0.DEPTH);var a=this.gl;a.clearColor(t,e,r,n),a.clear(o)},e.prototype.initFramebuffer=function(t){var e=this.gl,r=new et(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},e.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var n=t.colorTextures,i=0;i<n.length;i++)this.renderer.texture.bind(n[i],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],n=t.colorTextures.length;e.drawBuffers||(n=Math.min(n,1)),r.multisample>1&&(r.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,r.msaaBuffer));for(var i=[],o=0;o<n;o++)if(!(0===o&&r.multisample>1)){var a=t.colorTextures[o],s=a.parentTextureArray||a;this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,a.target,s._glTextures[this.CONTEXT_UID].texture,0),i.push(e.COLOR_ATTACHMENT0+o)}if((i.length>1&&e.drawBuffers(i),t.depthTexture)&&this.writeDepthTexture){var u=t.depthTexture;this.renderer.texture.bind(u,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil))},e.prototype.detectSamples=function(t){var e=this.msaaSamples,r=i.G5.NONE;if(t<=1||null===e)return r;for(var n=0;n<e.length;n++)if(e[n]<=t){r=e[n];break}return 1===r&&(r=i.G5.NONE),r},e.prototype.blit=function(t,e,r){var n=this,i=n.current,o=n.renderer,a=n.gl,s=n.CONTEXT_UID;if(2===o.context.webGLVersion&&i){var u=i.glFramebuffers[s];if(u){if(!t){if(u.multisample<=1)return;u.blitFramebuffer||(u.blitFramebuffer=new k(i.width,i.height),u.blitFramebuffer.addColorTexture(0,i.colorTextures[0])),(t=u.blitFramebuffer).width=i.width,t.height=i.height}e||((e=rt).width=i.width,e.height=i.height),r||(r=e);var l=e.width===r.width&&e.height===r.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,u.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,a.COLOR_BUFFER_BIT,l?a.NEAREST:a.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(t);i>=0&&this.managedFramebuffers.splice(i,1),t.disposeRunner.remove(this),e||(n.deleteFramebuffer(r.framebuffer),r.stencil&&n.deleteRenderbuffer(r.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var r=t.width,n=t.height,i=this.gl,o=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,o),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,r,n),e.stencil=o,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new u.Ae},e}(O),it=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},ot={5126:4,5123:2,5121:1},at=function(t){function e(e){var r=t.call(this,e)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return f(e,t),e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var r=this.renderer.context.extensions.vertexArrayObject;n.X.PREFER_ENV===i.Vi.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(!t.vertexAttribDivisor){var o=t.getExtension("ANGLE_instanced_arrays");o?(t.vertexAttribDivisor=function(t,e){return o.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,n,i){return o.drawElementsInstancedANGLE(t,e,r,n,i)},t.drawArraysInstanced=function(t,e,r,n){return o.drawArraysInstancedANGLE(t,e,r,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,n=t.glVertexArrayObjects[this.CONTEXT_UID];n||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=n={});var i=n[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==i&&(this._activeVao=i,this.hasVao?r.bindVertexArray(i):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var n=t.buffers[r],i=n._glBuffers[this.CONTEXT_UID];if(n._updateID!==i.updateID){i.updateID=n._updateID;var o=n.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,i.buffer),this._boundBuffer=i,i.byteLength>=n.data.byteLength)e.bufferSubData(o,0,n.data);else{var a=n.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;i.byteLength=n.data.byteLength,e.bufferData(o,n.data,a)}}}},e.prototype.checkCompatibility=function(t,e){var r=t.attributes,n=e.attributeData;for(var i in n)if(!r[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},e.prototype.getSignature=function(t,e){var r=t.attributes,n=e.attributeData,i=["g",t.id];for(var o in r)n[o]&&i.push(o);return i.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var r=this.gl,n=this.CONTEXT_UID,i=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],a=o[i];if(a)return o[e.id]=a,a;var s=t.buffers,u=t.attributes,l={},c={};for(var h in s)l[h]=0,c[h]=0;for(var h in u)!u[h].size&&e.attributeData[h]?u[h].size=e.attributeData[h].size:u[h].size||console.warn("PIXI Geometry attribute '"+h+"' size cannot be determined (likely the bound shader does not have the attribute)"),l[u[h].buffer]+=u[h].size*ot[u[h].type];for(var h in u){var f=u[h],p=f.size;void 0===f.stride&&(l[f.buffer]===p*ot[f.type]?f.stride=0:f.stride=l[f.buffer]),void 0===f.start&&(f.start=c[f.buffer],c[f.buffer]+=p*ot[f.type])}a=r.createVertexArray(),r.bindVertexArray(a);for(var d=0;d<s.length;d++){var m=s[d];m._glBuffers[n]||(m._glBuffers[n]=new it(r.createBuffer()),this.managedBuffers[m.id]=m,m.disposeRunner.add(this)),m._glBuffers[n].refCount++}return this.activateVao(t,e),this._activeVao=a,o[e.id]=a,o[i]=a,a},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],n=this.gl;t.disposeRunner.remove(this),r&&(e||n.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,i=t.buffers;if(t.disposeRunner.remove(this),r){for(var o=0;o<i.length;o++){var a=i[o]._glBuffers[this.CONTEXT_UID];a.refCount--,0!==a.refCount||e||this.disposeBuffer(i[o],e)}if(!e)for(var s in r)if("g"===s[0]){var u=r[s];this._activeVao===u&&this.unbind(),n.deleteVertexArray(u)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);e=Object.keys(this.managedBuffers);for(r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},e.prototype.activateVao=function(t,e){var r=this.gl,n=this.CONTEXT_UID,i=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[n].buffer);var a=null;for(var s in o){var u=o[s],l=i[u.buffer]._glBuffers[n];if(e.attributeData[s]){a!==l&&(r.bindBuffer(r.ARRAY_BUFFER,l.buffer),a=l);var c=e.attributeData[s].location;if(r.enableVertexAttribArray(c),r.vertexAttribPointer(c,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(c,1)}}}},e.prototype.draw=function(t,e,r,n){var i=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,s=2===a?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?i.drawElementsInstanced(t,e||o.indexBuffer.data.length,s,(r||0)*a,n||1):i.drawElements(t,e||o.indexBuffer.data.length,s,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?i.drawArraysInstanced(t,r,e||o.getSize(),n||1):i.drawArrays(t,r,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(O),st=function(){function t(t){void 0===t&&(t=null),this.type=i.A7.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=i.A7.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function ut(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function lt(t,e,r,n){var i=ut(t,t.VERTEX_SHADER,e),o=ut(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,i),t.attachShader(a,o),n)for(var s in n)t.bindAttribLocation(a,n[s],s);return t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(t.getShaderParameter(i,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(i))),t.getShaderParameter(o,t.COMPILE_STATUS)||(console.warn(r),console.error(t.getShaderInfoLog(o))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(i),t.deleteShader(o),a}function ct(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function ht(t,e){switch(t){case"float":case"int":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return ct(2*e);case"bvec3":return ct(3*e);case"bvec4":return ct(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var ft,pt={},dt=pt;function mt(){if(dt===pt||dt&&dt.isContextLost()){var t=document.createElement("canvas"),e=void 0;n.X.PREFER_ENV>=i.Vi.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),dt=e}return dt}function yt(t,e,r){if("precision"!==t.substring(0,9)){var n=e;return e===i.cB.HIGH&&r!==i.cB.HIGH&&(n=i.cB.MEDIUM),"precision "+n+" float;\n"+t}return r!==i.cB.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var gt={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function vt(t){return gt[t]}var bt=null,_t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function wt(t,e){if(!bt){var r=Object.keys(_t);bt={};for(var n=0;n<r.length;++n){var i=r[n];bt[t[i]]=_t[i]}}return bt[e]}var xt=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],St={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Tt={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var Et,Ot=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function At(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}var kt=0,Pt={},Ct=function(){function t(e,r,o){void 0===o&&(o="pixi-shader"),this.id=kt++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(o=o.replace(/\s+/g,"-"),Pt[o]?(Pt[o]++,o+="-"+Pt[o]):Pt[o]=1,this.vertexSrc="#define SHADER_NAME "+o+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+o+"\n"+this.fragmentSrc,this.vertexSrc=yt(this.vertexSrc,n.X.PRECISION_VERTEX,i.cB.HIGH),this.fragmentSrc=yt(this.fragmentSrc,n.X.PRECISION_FRAGMENT,function(){if(!ft){ft=i.cB.MEDIUM;var t=mt();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);ft=e.precision?i.cB.HIGH:i.cB.MEDIUM}}return ft}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(t,e){var r=mt();if(r){var n=lt(r,t,e);this.attributeData=this.getAttributeData(n,r),this.uniformData=this.getUniformData(n,r),r.deleteProgram(n)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(t,e){for(var r={},n=[],i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<i;o++){var a=e.getActiveAttrib(t,o),s=wt(e,a.type),u={type:s,name:a.name,size:vt(s),location:0};r[a.name]=u,n.push(u)}n.sort((function(t,e){return t.name>e.name?1:-1}));for(o=0;o<n.length;o++)n[o].location=o;return r},t.prototype.getUniformData=function(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=e.getActiveUniform(t,i),a=o.name.replace(/\[.*?\]$/,""),s=o.name.match(/\[.*?\]$/),u=wt(e,o.type);r[a]={type:u,size:o.size,isArray:s,value:ht(u,o.size)}}return r},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,a=o.ProgramCache[i];return a||(o.ProgramCache[i]=a=new t(e,r,n)),a},t}(),Mt=function(){function t(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof H?e:new H(e):new H({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var n=e.uniforms[r];if(n.group&&this.checkUniformExists(t,n))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){return new t(Ct.from(e,r),n)},t}(),It=function(){function t(){this.data=0,this.blendMode=i.T$.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==i.T$.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),jt=function(t){function e(r,i,o){var a=this,s=Ct.from(r||e.defaultVertexSrc,i||e.defaultFragmentSrc);return(a=t.call(this,s,o)||this).padding=0,a.resolution=n.X.FILTER_RESOLUTION,a.enabled=!0,a.autoFit=!0,a.legacy=!!a.program.attributeData.aTextureCoord,a.state=new It,a}return f(e,t),e.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(Mt),Bt=new u.y3,Lt=function(){function t(t,e){this._texture=t,this.mapCoord=new u.y3,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(Bt.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(Bt));var o=e.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(e._frame.x+s+u)/o.width,a[1]=(e._frame.y+s+u)/o.height,a[2]=(e._frame.x+e._frame.width-s+u)/o.width,a[3]=(e._frame.y+e._frame.height-s+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),Rt=function(t){function e(e){var r=this,n=new u.y3;return r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,r.maskSprite=e,r.maskMatrix=n,r}return f(e,t),e.prototype.apply=function(t,e,r,n){var i=this.maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Lt(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,n))},e}(jt),qt=function(t){function e(e){var r=t.call(this,e)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return f(e,t),e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){var r=e;if(!r.isMaskData){var n=this.maskDataPool.pop()||new st;n.pooled=!0,n.maskObject=e,r=n}switch(r.autoDetect&&this.detect(r),r.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),r._target=t,r.type){case i.A7.SCISSOR:this.maskStack.push(r),this.renderer.scissor.push(r);break;case i.A7.STENCIL:this.maskStack.push(r),this.renderer.stencil.push(r);break;case i.A7.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r),this.maskStack.push(r)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case i.A7.SCISSOR:this.renderer.scissor.pop();break;case i.A7.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case i.A7.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=i.A7.SPRITE;else if(t.type=i.A7.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var r=e.worldTransform,n=Math.atan2(r.b,r.a),o=Math.atan2(r.d,r.c);n=Math.round(n*(180/Math.PI)*100),o=((o=Math.round(o*(180/Math.PI)*100)-n)%18e3+18e3)%18e3,0===(n=(n%9e3+9e3)%9e3)&&9e3===o&&(t.type=i.A7.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,r=t._target,n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new Rt(e)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=e;var i=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,n),r.filterArea=i,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(O),Nt=function(t){function e(e){var r=t.call(this,e)||this;return r.maskStack=[],r.glConst=0,r}return f(e,t),e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var n=this.getStackLength();n!==r&&(0===n?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(O),Ft=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return f(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var r=t._scissorRect,n=e.getBounds(!0),i=this.renderer.gl;e.renderable=!1,r?n.fit(r):i.enable(i.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=n,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,r=this.renderer.projection,n=r.transform,i=r.sourceFrame,o=r.destinationFrame,a=e?e.resolution:this.renderer.resolution,s=(t.x-i.x)*a+o.x,u=(t.y-i.y)*a+o.y,l=t.width*a,c=t.height*a;n&&(s+=n.tx*a,u+=n.ty*a),e||(u=this.renderer.height-c-u),this.renderer.gl.scissor(s,u,l,c)},e}(Nt),Vt=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return f(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,n=t._stencilCounter;0===n&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,n,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(Nt),Dt=function(t){function e(e){var r=t.call(this,e)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new u.y3,r.transform=null,r}return f(e,t),e.prototype.update=function(t,e,r,n){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,n),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,r,n){var i=this.projectionMatrix,o=n?-1:1;i.identity(),i.a=1/e.width*2,i.d=o*(1/e.height*2),i.tx=-1-e.x*i.a,i.ty=-o-e.y*i.d},e.prototype.setTransform=function(t){},e}(O),Gt=new u.Ae,zt=new u.Ae,Ut=new u.Ae,Yt=function(t){function e(e){var r=t.call(this,e)||this;return r.clearColor=e._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new u.Ae,r.destinationFrame=new u.Ae,r}return f(e,t),e.prototype.bind=function(t,e,r){void 0===t&&(t=null);var n,i,o,a=this.renderer;this.current=t,t?(o=(n=t.baseTexture).resolution,e||(Gt.width=t.frame.width,Gt.height=t.frame.height,e=Gt),r||(zt.x=t.frame.x,zt.y=t.frame.y,zt.width=e.width,zt.height=e.height,r=zt),i=n.framebuffer):(o=a.resolution,e||(Gt.width=a.screen.width,Gt.height=a.screen.height,e=Gt),r||((r=Gt).width=e.width,r.height=e.height)),Ut.x=r.x*o,Ut.y=r.y*o,Ut.width=r.width*o,Ut.height=r.height*o,this.renderer.framebuffer.bind(i,Ut),this.renderer.projection.update(r,e,o,!i),t?this.renderer.mask.setMaskStack(n.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},e.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e)},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(O),Xt=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),Wt=0,Ht={textureCount:0},Zt=function(t){function e(e){var r=t.call(this,e)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=Wt++,r}return f(e,t),e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Et)return Et;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Et=!0===t({a:"b"},"a","b")}catch(t){Et=!1}return Et}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,n=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(n.program)),e||(Ht.textureCount=0,this.syncUniformGroup(t.uniformGroup,Ht)),n},e.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var r=this.getglProgram();t.static&&t.dirtyId===r.uniformGroups[t.id]||(r.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},e.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var n in t.uniforms){var i=e[n];if(i){for(var o=t.uniforms[n],a=!1,s=0;s<xt.length;s++)if(xt[s].test(i,o)){r.push(xt[s].code(n,o)),a=!0;break}if(!a){var u=(1===i.size?St:Tt)[i.type].replace("location",'ud["'+n+'"].location');r.push('\n            cv = ud["'+n+'"].value;\n            v = uv["'+n+'"];\n            '+u+";")}}else t.uniforms[n].group&&r.push('\n                    renderer.shader.syncUniformGroup(uv["'+n+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var r=t.uniforms,n=[];for(var i in r)n.push(i),e[i]&&n.push(e[i].type);return n.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,r=t.program,n={};for(var i in r.attributeData)n[i]=r.attributeData[i].location;var o=lt(e,r.vertexSrc,r.fragmentSrc,n),a={};for(var i in r.uniformData){var s=r.uniformData[i];a[i]={location:e.getUniformLocation(o,i),value:ht(s.type,s.size)}}var u=new Xt(o,a);return r.glPrograms[this.renderer.CONTEXT_UID]=u,u},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(O);var Kt=function(t){function e(e){var r=t.call(this,e)||this;return r.gl=null,r.stateId=0,r.polygonOffset=0,r.blendMode=i.T$.NONE,r._blendEq=!1,r.map=[],r.map[0]=r.setBlend,r.map[1]=r.setOffset,r.map[2]=r.setCullFace,r.map[3]=r.setDepthTest,r.map[4]=r.setFrontFace,r.checks=[],r.defaultState=new It,r.defaultState.blend=!0,r}return f(e,t),e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[i.T$.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.ADD]=[t.ONE,t.ONE],e[i.T$.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.NONE]=[0,0],e[i.T$.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[i.T$.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.T$.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[i.T$.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[i.T$.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[i.T$.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[i.T$.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[i.T$.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[i.T$.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[i.T$.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[i.T$.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},e}(O),Qt=function(t){function e(e){var r=t.call(this,e)||this;return r.count=0,r.checkCount=0,r.maxIdle=n.X.GC_MAX_IDLE,r.checkCountMax=n.X.GC_MAX_CHECK_COUNT,r.mode=n.X.GC_MODE,r}return f(e,t),e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==i.UN.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){var o=0;for(n=0;n<e.length;n++)null!==e[n]&&(e[o++]=e[n]);e.length=o}},e.prototype.unload=function(t){var e,r=this.renderer.texture;(null===(e=t._texture)||void 0===e?void 0:e.framebuffer)&&r.destroyTexture(t._texture);for(var n=t.children.length-1;n>=0;n--)this.unload(t.children[n])},e}(O),Jt=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},$t=function(t){function e(e){var r=t.call(this,e)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new y,r}return f(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var n=new Jt(t.createTexture());t.bindTexture(t.TEXTURE_2D,n.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=n,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Jt(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(r=0;r<this.boundTextures.length;r++)this.bind(null,r)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var n=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,n.texture)),n.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<r.length;n++)r[n]===this.unknownTexture&&this.bind(null,n)}for(n=0;n<r.length;n++)r[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),r[n]=null)},e.prototype.initTexture=function(t){var e=new Jt(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var r=this.renderer.gl;t.type===r.FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA32F),t.type===i.vK.HALF_FLOAT&&(e.type=r.HALF_FLOAT),e.type===r.HALF_FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e));else{var n=t.realWidth,i=t.realHeight,o=r.gl;(e.width!==n||e.height!==i||e.dirtyId<0)&&(e.width=n,e.height=i,o.texImage2D(t.target,0,e.internalFormat,n,i,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var n=this.managedTextures.indexOf(t);-1!==n&&(0,o.removeItems)(this.managedTextures,n,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==i.WB.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=i.Nt.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===i.aH.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var n=this.renderer.context.extensions.anisotropicFiltering;if(n&&t.anisotropicLevel>0&&t.scaleMode===i.aH.LINEAR){var o=Math.min(t.anisotropicLevel,r.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,n.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===i.aH.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===i.aH.LINEAR?r.LINEAR:r.NEAREST)},e}(O),te=new u.y3,ee=function(t){function e(r){var n=t.call(this,i.N3.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new a.R("destroy"),contextChange:new a.R("contextChange"),reset:new a.R("reset"),update:new a.R("update"),postrender:new a.R("postrender"),prerender:new a.R("prerender"),resize:new a.R("resize")},n.globalUniforms=new H({projectionMatrix:new u.y3},!0),n.addSystem(qt,"mask").addSystem(tt,"context").addSystem(Kt,"state").addSystem(Zt,"shader").addSystem($t,"texture").addSystem(at,"geometry").addSystem(nt,"framebuffer").addSystem(Ft,"scissor").addSystem(Vt,"stencil").addSystem(Dt,"projection").addSystem(Qt,"textureGC").addSystem(K,"filter").addSystem(Yt,"renderTexture").addSystem(J,"batch"),n.initPlugins(e.__plugins),r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.transparent,antialias:r.antialias,premultipliedAlpha:n.transparent&&"notMultiplied"!==n.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,(0,o.sayHello)(2===n.context.webGLVersion?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return f(e,t),e.create=function(t){if((0,o.isWebGLSupported)())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var n in this[e]=r,this.runners)this.runners[n].add(r);return this},e.prototype.render=function(t,e,r,n,i){if(this.renderingToScreen=!e,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=n,!this.context.isLost){if(e||(this._lastObjectRendered=t),!i){var o=t.enableTempParent();t.updateTransform(),t.disableTempParent(o)}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.emit(e,r)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(function(t){function e(e,r){void 0===e&&(e=i.N3.UNKNOWN);var a=t.call(this)||this;return(r=Object.assign({},n.X.RENDER_OPTIONS,r)).roundPixels&&(n.X.ROUND_PIXELS=r.roundPixels,(0,o.deprecation)("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),a.options=r,a.type=e,a.screen=new u.Ae(0,0,r.width,r.height),a.view=r.view||document.createElement("canvas"),a.resolution=r.resolution||n.X.RESOLUTION,a.transparent=r.transparent,a.autoDensity=r.autoDensity||r.autoResize||!1,a.preserveDrawingBuffer=r.preserveDrawingBuffer,a.clearBeforeRender=r.clearBeforeRender,a._backgroundColor=0,a._backgroundColorRgba=[0,0,0,0],a._backgroundColorString="#000000",a.backgroundColor=r.backgroundColor||a._backgroundColor,a._lastObjectRendered=null,a.plugins={},a}return f(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},e.prototype.generateTexture=function(t,e,r,n){0===(n=n||t.getLocalBounds(null,!0)).width&&(n.width=1),0===n.height&&(n.height=1);var i=B.create({width:0|n.width,height:0|n.height,scaleMode:e,resolution:r});return te.tx=-n.x,te.ty=-n.y,this.render(t,i,!1,te,!!t.parent),i},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=i.N3.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,o.hex2string)(t),(0,o.hex2rgb)(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),e}(o.EventEmitter));function re(t){return ee.create(t)}var ne="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",ie="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",oe=function(){this.texArray=null,this.blend=0,this.type=i.lg.TRIANGLES,this.start=0,this.size=0,this.data=null},ae=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),se=function(){function t(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),ue=function(t){function e(e){var r=t.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=It.for2d(),r.size=4*n.X.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return f(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;n.X.PREFER_ENV===i.Vi.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),n.X.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=Ot.replace(/%forloop%/gi,At(t));if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,r=e._textureArrayPool,n=this.size/4,i=Math.floor(n/this.MAX_TEXTURES)+1;t.length<n;)t.push(new oe);for(;r.length<i;)r.push(new ae);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,r=this.MAX_TEXTURES,n=e._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,a=this.renderer.textureGC.count,s=++y._globalBatch,u=0,l=n[0],c=0;i.copyBoundTextures(o,r);for(var h=0;h<this._bufferSize;++h){var f=t[h];t[h]=null,f._batchEnabled!==s&&(l.count>=r&&(i.boundArray(l,o,s,r),this.buildDrawCalls(l,c,h),c=h,l=n[++u],++s),f._batchEnabled=s,f.touched=a,l.elements[l.count++]=f)}l.count>0&&(i.boundArray(l,o,s,r),this.buildDrawCalls(l,c,this._bufferSize),++u,++s);for(h=0;h<o.length;h++)o[h]=null;y._globalBatch=s},e.prototype.buildDrawCalls=function(t,r,n){var i=this,a=i._bufferedElements,s=i._attributeBuffer,u=i._indexBuffer,l=i.vertexSize,c=e._drawCallPool,h=this._dcIndex,f=this._aIndex,p=this._iIndex,d=c[h];d.start=this._iIndex,d.texArray=t;for(var m=r;m<n;++m){var y=a[m],g=y._texture.baseTexture,v=o.premultiplyBlendMode[g.alphaMode?1:0][y.blendMode];a[m]=null,r<m&&d.blend!==v&&(d.size=p-d.start,r=m,(d=c[++h]).texArray=t,d.start=p),this.packInterleavedGeometry(y,s,u,f,p),f+=y.vertexData.length/2*l,p+=y.indices.length,d.blend=v}r<n&&(d.size=p-d.start,++h),this._dcIndex=h,this._aIndex=f,this._iIndex=p},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,r=t._attributeBuffer,i=t._indexBuffer;n.X.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,r=this.renderer,n=r.gl,i=r.state,o=e._drawCallPool,a=null,s=0;s<t;s++){var u=o[s],l=u.texArray,c=u.type,h=u.size,f=u.start,p=u.blend;a!==l&&(a=l,this.bindAndClearTexArray(l)),this.state.blendMode=p,i.set(this.state),n.drawElements(c,h,n.UNSIGNED_SHORT,2*f)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),n.X.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=(0,o.nextPow2)(Math.ceil(t/8)),r=(0,o.log2)(e),n=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new se(n*this.vertexSize*4)),i},e.prototype.getIndexBuffer=function(t){var e=(0,o.nextPow2)(Math.ceil(t/12)),r=(0,o.log2)(e),n=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i},e.prototype.packInterleavedGeometry=function(t,e,r,n,i){for(var a=e.uint32View,s=e.float32View,u=n/this.vertexSize,l=t.uvs,c=t.indices,h=t.vertexData,f=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),d=p<1&&t._texture.baseTexture.alphaMode?(0,o.premultiplyTint)(t._tintRGB,p):t._tintRGB+(255*p<<24),m=0;m<h.length;m+=2)s[n++]=h[m],s[n++]=h[m+1],s[n++]=l[m],s[n++]=l[m+1],a[n++]=d,s[n++]=f;for(m=0;m<c.length;m++)r[i++]=u+c[m]},e._drawCallPool=[],e._textureArrayPool=[],e}(Q),le=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=H.from({uSamplers:e},!0);var n=this.fragTemplate;n=(n=n.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Ct(this.vertexSrc,n)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new u.y3,default:this.defaultGroupCache[t]};return new Mt(this.programCache[t],i)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},t}(),ce=function(t){function e(e){void 0===e&&(e=!1);var r=t.call(this)||this;return r._buffer=new N(null,e,!1),r._indexBuffer=new N(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,i.vK.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,i.vK.FLOAT).addAttribute("aColor",r._buffer,4,!0,i.vK.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,i.vK.FLOAT).addIndex(r._indexBuffer),r}return f(e,t),e}(U),he="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",fe="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",pe=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:he,fragment:fe,geometryClass:ce,vertexSize:6},t),r=e.vertex,n=e.fragment,i=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var a=t.call(this,e)||this;return a.shaderGenerator=new le(r,n),a.geometryClass=o,a.vertexSize=i,a}return f(e,t),e}(ue)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return he},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return fe},enumerable:!1,configurable:!0}),t}(),de=pe.create()},29:(t,e,r)=>{"use strict";r.d(e,{Ql:()=>c,W2:()=>f,YZ:()=>a,s$:()=>l});var n=r(5264),i=r(4295),o=r(5323);n.X.SORTABLE_CHILDREN=!1;var a=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?i.Ae.EMPTY:((t=t||new i.Ae(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],a=t[1];e=o<e?o:e,r=a<r?a:r,n=o>n?o:n,i=a>i?a:i,e=(o=t[2])<e?o:e,r=(a=t[3])<r?a:r,n=o>n?o:n,i=a>i?a:i,e=(o=t[4])<e?o:e,r=(a=t[5])<r?a:r,n=o>n?o:n,i=a>i?a:i,e=(o=t[6])<e?o:e,r=(a=t[7])<r?a:r,n=o>n?o:n,i=a>i?a:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.addFrame=function(t,e,r,n,i){this.addFrameMatrix(t.worldTransform,e,r,n,i)},t.prototype.addFrameMatrix=function(t,e,r,n,i){var o=t.a,a=t.b,s=t.c,u=t.d,l=t.tx,c=t.ty,h=this.minX,f=this.minY,p=this.maxX,d=this.maxY,m=o*e+s*r+l,y=a*e+u*r+c;h=m<h?m:h,f=y<f?y:f,p=m>p?m:p,d=y>d?y:d,h=(m=o*n+s*r+l)<h?m:h,f=(y=a*n+u*r+c)<f?y:f,p=m>p?m:p,d=y>d?y:d,h=(m=o*e+s*i+l)<h?m:h,f=(y=a*e+u*i+c)<f?y:f,p=m>p?m:p,d=y>d?y:d,h=(m=o*n+s*i+l)<h?m:h,f=(y=a*n+u*i+c)<f?y:f,p=m>p?m:p,d=y>d?y:d,this.minX=h,this.minY=f,this.maxX=p,this.maxY=d},t.prototype.addVertexData=function(t,e,r){for(var n=this.minX,i=this.minY,o=this.maxX,a=this.maxY,s=e;s<r;s+=2){var u=t[s],l=t[s+1];n=u<n?u:n,i=l<i?l:i,o=u>o?u:o,a=l>a?l:a}this.minX=n,this.minY=i,this.maxX=o,this.maxY=a},t.prototype.addVertices=function(t,e,r,n){this.addVerticesMatrix(t.worldTransform,e,r,n)},t.prototype.addVerticesMatrix=function(t,e,r,n,i,o){void 0===i&&(i=0),void 0===o&&(o=i);for(var a=t.a,s=t.b,u=t.c,l=t.d,c=t.tx,h=t.ty,f=this.minX,p=this.minY,d=this.maxX,m=this.maxY,y=r;y<n;y+=2){var g=e[y],v=e[y+1],b=a*g+u*v+c,_=l*v+s*g+h;f=Math.min(f,b-i),d=Math.max(d,b+i),p=Math.min(p,_-o),m=Math.max(m,_+o)}this.minX=f,this.minY=p,this.maxX=d,this.maxY=m},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=r<a?r:a,this.minY=n<s?n:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=r<a?r:a,this.minY=n<s?n:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,r,n,i,o){t-=i,e-=o,r+=i,n+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n},t}(),s=function(t,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},s(t,e)};function u(t,e){function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var l=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new i.wx,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new a,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return u(e,t),e.mixin=function(t){for(var r=Object.keys(t),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(t,i))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new i.Ae),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new i.Ae),t=this._localBoundsRect),this._localBounds||(this._localBounds=new a);var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var n=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=n,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,n,i,o,a,s,u){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=u,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new c),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*i.jl},set:function(t){this.transform.rotation=t*i.ZX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1);(this._mask=t,this._mask)&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),e}(o.EventEmitter),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return u(e,t),e}(l);function h(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}l.prototype.displayObjectUpdateTransform=l.prototype.updateTransform;var f=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=n.X.SORTABLE_CHILDREN,e.sortDirty=!1,e}return u(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var n=0;n<e.length;n++)this.addChild(e[n]);else{var i=e[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);(0,o.removeItems)(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var n=0;n<e.length;n++)this.removeChild(e[n]);else{var i=e[0],a=this.children.indexOf(i);if(-1===a)return null;i.parent=null,i.transform._parentID=-1,(0,o.removeItems)(this.children,a,1),this._boundsID++,this.onChildrenChange(a),i.emit("removed",this),this.emit("childRemoved",i,this,a)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,o.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r,n=t,i=e-n;if(i>0&&i<=e){r=this.children.splice(n,i);for(var o=0;o<r.length;++o)r[o].parent=null,r[o].transform&&(r[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(o=0;o<r.length;++o)r[o].emit("removed",this),this.emit("childRemoved",r[o],this,o);return r}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var n=this.children[e];n._lastSortedIndex=e,t||0===n.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(h),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.maskObject||e._mask;r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var n=t.prototype.getLocalBounds.call(this,e);if(!r)for(var i=0,o=this.children.length;i<o;++i){var a=this.children[i];a.visible&&a.updateTransform()}return n},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t);n=0;for(var i=this.children.length;n<i;n++)this.children[n].render(t);t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(l);f.prototype.containerUpdateTransform=f.prototype.updateTransform},426:(t,e,r)=>{"use strict";r.d(e,{TC:()=>F});var n,i,o=r(5307),a=r(4295),s=r(5323),u=r(7054),l=r(29);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(n||(n={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(i||(i={}));var c={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},h=function(){function t(){this.color=16777215,this.alpha=1,this.texture=o.xE.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=o.xE.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),f=function(t,e){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},f(t,e)};function p(t,e){function r(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var d={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,o=e.indices;if(r.length>=6){for(var a=[],u=0;u<n.length;u++){var l=n[u];a.push(r.length/2),r=r.concat(l.points)}var c=(0,s.earcut)(r,a,2);if(!c)return;var h=i.length/2;for(u=0;u<c.length;u+=3)o.push(c[u]+h),o.push(c[u+1]+h),o.push(c[u+2]+h);for(u=0;u<r.length;u++)i.push(r[u])}}},m={build:function(t){var e,r,n=t.shape,i=t.points,o=n.x,s=n.y;if(i.length=0,t.type===a.HS.CIRC)e=n.radius,r=n.radius;else{var u=t.shape;e=u.width,r=u.height}if(0!==e&&0!==r){var l=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(e+r));l/=2.3;for(var c=2*Math.PI/l,h=0;h<l-.5;h++)i.push(o+Math.sin(-c*h)*e,s+Math.cos(-c*h)*r);i.push(i[0],i[1])}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,o=n.length/2,a=o,s=t.shape,u=t.matrix,l=s.x,c=s.y;n.push(t.matrix?u.a*l+u.c*c+u.tx:l,t.matrix?u.b*l+u.d*c+u.ty:c);for(var h=0;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(o++,a,o)}},y={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,o=e.height,a=t.points;a.length=0,a.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function g(t,e,r){return t+(e-t)*r}function v(t,e,r,n,i,o,a){void 0===a&&(a=[]);for(var s=a,u=0,l=0,c=0,h=0,f=0,p=0,d=0,m=0;d<=20;++d)u=g(t,r,m=d/20),l=g(e,n,m),c=g(r,i,m),h=g(n,o,m),f=g(u,c,m),p=g(l,h,m),s.push(f,p);return s}var b={build:function(t){var e=t.shape,r=t.points,n=e.x,i=e.y,o=e.width,a=e.height,s=Math.max(0,Math.min(e.radius,Math.min(o,a)/2));r.length=0,s?(v(n,i+s,n,i,n+s,i,r),v(n+o-s,i,n+o,i,n+o,i+s,r),v(n+o,i+a-s,n+o,i+a,n+o-s,i+a,r),v(n+s,i+a,n,i+a,n,i+a-s,r)):r.push(n,i,n+o,i,n+o,i+a,n,i+a)},triangulate:function(t,e){for(var r=t.points,n=e.points,i=e.indices,o=n.length/2,a=(0,s.earcut)(r,null,2),u=0,l=a.length;u<l;u+=3)i.push(a[u]+o),i.push(a[u+1]+o),i.push(a[u+2]+o);for(u=0,l=r.length;u<l;u++)n.push(r[u],r[++u])}};function _(t,e,r,n,i,o,a,s){var u,l;a?(u=n,l=-r):(u=-n,l=r);var c=t-r*i+u,h=e-n*i+l,f=t+r*o+u,p=e+n*o+l;return s.push(c,h),s.push(f,p),2}function w(t,e,r,n,i,o,a,s){var u=r-t,l=n-e,c=Math.atan2(u,l),h=Math.atan2(i-t,o-e);s&&c<h?c+=2*Math.PI:!s&&c>h&&(h+=2*Math.PI);var f=c,p=h-c,d=Math.abs(p),m=Math.sqrt(u*u+l*l),y=1+(15*d*Math.sqrt(m)/Math.PI>>0),g=p/y;if(f+=g,s){a.push(t,e),a.push(r,n);for(var v=1,b=f;v<y;v++,b+=g)a.push(t,e),a.push(t+Math.sin(b)*m,e+Math.cos(b)*m);a.push(t,e),a.push(i,o)}else{a.push(r,n),a.push(t,e);for(v=1,b=f;v<y;v++,b+=g)a.push(t+Math.sin(b)*m,e+Math.cos(b)*m),a.push(t,e);a.push(i,o),a.push(t,e)}return 2*y}function x(t,e){t.lineStyle.native?function(t,e){var r=0,n=t.shape,i=t.points||n.points,o=n.type!==a.HS.POLY||n.closeStroke;if(0!==i.length){var s=e.points,u=e.indices,l=i.length/2,c=s.length/2,h=c;for(s.push(i[0],i[1]),r=1;r<l;r++)s.push(i[2*r],i[2*r+1]),u.push(h,h+1),h++;o&&u.push(h,c)}}(t,e):function(t,e){var r=t.shape,o=t.points||r.points.slice(),s=e.closePointEps;if(0!==o.length){var u=t.lineStyle,l=new a.E9(o[0],o[1]),h=new a.E9(o[o.length-2],o[o.length-1]),f=r.type!==a.HS.POLY||r.closeStroke,p=Math.abs(l.x-h.x)<s&&Math.abs(l.y-h.y)<s;if(f){o=o.slice(),p&&(o.pop(),o.pop(),h.set(o[o.length-2],o[o.length-1]));var d=.5*(l.x+h.x),m=.5*(h.y+l.y);o.unshift(d,m),o.push(d,m)}var y=e.points,g=o.length/2,v=o.length,b=y.length/2,x=u.width/2,S=x*x,T=u.miterLimit*u.miterLimit,E=o[0],O=o[1],A=o[2],k=o[3],P=0,C=0,M=-(O-k),I=E-A,j=0,B=0,L=Math.sqrt(M*M+I*I);M/=L,I/=L,M*=x,I*=x;var R=u.alignment,q=2*(1-R),N=2*R;f||(u.cap===i.ROUND?v+=w(E-M*(q-N)*.5,O-I*(q-N)*.5,E-M*q,O-I*q,E+M*N,O+I*N,y,!0)+2:u.cap===i.SQUARE&&(v+=_(E,O,M,I,q,N,!0,y))),y.push(E-M*q,O-I*q),y.push(E+M*N,O+I*N);for(var F=1;F<g-1;++F){E=o[2*(F-1)],O=o[2*(F-1)+1],A=o[2*F],k=o[2*F+1],P=o[2*(F+1)],C=o[2*(F+1)+1],M=-(O-k),I=E-A,M/=L=Math.sqrt(M*M+I*I),I/=L,M*=x,I*=x,j=-(k-C),B=A-P,j/=L=Math.sqrt(j*j+B*B),B/=L,j*=x,B*=x;var V=A-E,D=O-k,G=A-P,z=C-k,U=D*G-z*V,Y=U<0;if(Math.abs(U)<.1)y.push(A-M*q,k-I*q),y.push(A+M*N,k+I*N);else{var X=(-M+E)*(-I+k)-(-M+A)*(-I+O),W=(-j+P)*(-B+k)-(-j+A)*(-B+C),H=(V*W-G*X)/U,Z=(z*X-D*W)/U,K=(H-A)*(H-A)+(Z-k)*(Z-k),Q=A+(H-A)*q,J=k+(Z-k)*q,$=A-(H-A)*N,tt=k-(Z-k)*N;u.join===n.BEVEL||K/S>T?(Y?(y.push(Q,J),y.push(A+M*N,k+I*N),y.push(Q,J),y.push(A+j*N,k+B*N)):(y.push(A-M*q,k-I*q),y.push($,tt),y.push(A-j*q,k-B*q),y.push($,tt)),v+=2):u.join===n.ROUND?Y?(y.push(Q,J),y.push(A+M*N,k+I*N),v+=w(A,k,A+M*N,k+I*N,A+j*N,k+B*N,y,!0)+4,y.push(Q,J),y.push(A+j*N,k+B*N)):(y.push(A-M*q,k-I*q),y.push($,tt),v+=w(A,k,A-M*q,k-I*q,A-j*q,k-B*q,y,!1)+4,y.push(A-j*q,k-B*q),y.push($,tt)):(y.push(Q,J),y.push($,tt))}}E=o[2*(g-2)],O=o[2*(g-2)+1],A=o[2*(g-1)],M=-(O-(k=o[2*(g-1)+1])),I=E-A,M/=L=Math.sqrt(M*M+I*I),I/=L,M*=x,I*=x,y.push(A-M*q,k-I*q),y.push(A+M*N,k+I*N),f||(u.cap===i.ROUND?v+=w(A-M*(q-N)*.5,k-I*(q-N)*.5,A-M*q,k-I*q,A+M*N,k+I*N,y,!1)+2:u.cap===i.SQUARE&&(v+=_(A,k,M,I,q,N,!1,y)));var et=e.indices,rt=c.epsilon*c.epsilon;for(F=b;F<v+b-2;++F)E=y[2*F],O=y[2*F+1],A=y[2*(F+1)],k=y[2*(F+1)+1],P=y[2*(F+2)],C=y[2*(F+2)+1],Math.abs(E*(k-C)+A*(C-O)+P*(O-k))<rt||et.push(F,F+1,F+2)}}(t,e)}var S,T=function(t){function e(e,r,n,i,o,s){void 0===s&&(s=0);o=o||i/2;for(var u=-1*Math.PI/2+s,l=2*n,c=a._b/l,h=[],f=0;f<l;f++){var p=f%2?o:i,d=f*c+u;h.push(e+p*Math.cos(d),r+p*Math.sin(d))}return t.call(this,h)||this}return p(e,t),e}(a.mg),E=function(){function t(){}return t.curveTo=function(t,e,r,n,i,o){var a=o[o.length-2],s=o[o.length-1]-e,u=a-t,l=n-e,c=r-t,h=Math.abs(s*c-u*l);if(h<1e-8||0===i)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var f=s*s+u*u,p=l*l+c*c,d=s*l+u*c,m=i*Math.sqrt(f)/h,y=i*Math.sqrt(p)/h,g=m*d/f,v=y*d/p,b=m*c+y*u,_=m*l+y*s,w=u*(y+g),x=s*(y+g),S=c*(m+v),T=l*(m+v);return{cx:b+t,cy:_+e,radius:i,startAngle:Math.atan2(x-_,w-b),endAngle:Math.atan2(T-_,S-b),anticlockwise:u*l>c*s}},t.arc=function(t,e,r,n,i,o,s,u,l){for(var h=s-o,f=c._segmentsCount(Math.abs(h)*i,40*Math.ceil(Math.abs(h)/a._b)),p=h/(2*f),d=2*p,m=Math.cos(p),y=Math.sin(p),g=f-1,v=g%1/g,b=0;b<=g;++b){var _=p+o+d*(b+v*b),w=Math.cos(_),x=-Math.sin(_);l.push((m*w+y*x)*i+r,(m*-x+y*w)*i+n)}},t}(),O=function(){function t(){}return t.curveLength=function(t,e,r,n,i,o,a,s){for(var u=0,l=0,c=0,h=0,f=0,p=0,d=0,m=0,y=0,g=0,v=0,b=t,_=e,w=1;w<=10;++w)g=b-(m=(d=(p=(f=1-(l=w/10))*f)*f)*t+3*p*l*r+3*f*(c=l*l)*i+(h=c*l)*a),v=_-(y=d*e+3*p*l*n+3*f*c*o+h*s),b=m,_=y,u+=Math.sqrt(g*g+v*v);return u},t.curveTo=function(e,r,n,i,o,a,s){var u=s[s.length-2],l=s[s.length-1];s.length-=2;var h=c._segmentsCount(t.curveLength(u,l,e,r,n,i,o,a)),f=0,p=0,d=0,m=0,y=0;s.push(u,l);for(var g=1,v=0;g<=h;++g)d=(p=(f=1-(v=g/h))*f)*f,y=(m=v*v)*v,s.push(d*u+3*p*v*e+3*f*m*n+y*o,d*l+3*p*v*r+3*f*m*i+y*a)},t}(),A=function(){function t(){}return t.curveLength=function(t,e,r,n,i,o){var a=t-2*r+i,s=e-2*n+o,u=2*r-2*t,l=2*n-2*e,c=4*(a*a+s*s),h=4*(a*u+s*l),f=u*u+l*l,p=2*Math.sqrt(c+h+f),d=Math.sqrt(c),m=2*c*d,y=2*Math.sqrt(f),g=h/d;return(m*p+d*h*(p-y)+(4*f*c-h*h)*Math.log((2*d+g+p)/(g+y)))/(4*m)},t.curveTo=function(e,r,n,i,o){for(var a=o[o.length-2],s=o[o.length-1],u=c._segmentsCount(t.curveLength(a,s,e,r,n,i)),l=0,h=0,f=1;f<=u;++f){var p=f/u;l=a+(e-a)*p,h=s+(r-s)*p,o.push(l+(e+(n-e)*p-l)*p,h+(r+(i-r)*p-h)*p)}},t}(),k=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),P=((S={})[a.HS.POLY]=d,S[a.HS.CIRC]=m,S[a.HS.ELIP]=m,S[a.HS.RECT]=y,S[a.HS.RREC]=b,S),C=[],M=[],I=function(){function t(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=n,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),j=new a.E9,B=new l.YZ,L=function(t){function e(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new l.YZ,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return p(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),M.push(this.drawCalls[t]);this.drawCalls.length=0;for(t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),C.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=null);var i=new I(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var r=new I(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fillStyle.visible&&(n.shape&&(n.matrix?n.matrix.applyInverse(t,j):j.copyFrom(t),n.shape.contains(j.x,j.y)))){var i=!1;if(n.holes)for(var o=0;o<n.holes.length;o++){if(n.holes[o].shape.contains(j.x,j.y)){i=!0;break}}if(!i)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,r=this.graphicsData,n=null,i=null;this.batches.length>0&&(i=(n=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<r.length;o++){this.shapeIndex++;var a=r[o],s=a.fillStyle,l=a.lineStyle;P[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix);for(var c=0;c<2;c++){var h=0===c?s:l;if(h.visible){var f=h.texture.baseTexture,p=this.indices.length,d=this.points.length/2;f.wrapMode=u.Nt.REPEAT,0===c?this.processFill(a):this.processLine(a);var m=this.points.length/2-d;0!==m&&(n&&!this._compareStyles(i,h)&&(n.end(p,d),n=null),n||((n=C.pop()||new k).begin(h,p,d),this.batches.push(n),i=h),this.addUvs(this.points,e,h.texture,d,m,h.matrix))}}}var y=this.indices.length,g=this.points.length/2;if(n&&n.end(y,g),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var v=g>65535&&t;this.indicesUint16=v?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var n=t[e],i=0;i<n.size;i++){var o=n.start+i;this.indicesUint16[o]=this.indicesUint16[o]-n.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++o.VL._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),M.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,n=this.textureIds,i=M.pop();i||((i=new o.a$).texArray=new o.Ie),i.texArray.count=0,i.start=0,i.size=0,i.type=u.lg.TRIANGLES;var a=0,s=null,l=0,c=!1,h=u.lg.TRIANGLES,f=0;this.drawCalls.push(i);for(e=0;e<this.batches.length;e++){var p=this.batches[e],d=p.style,m=d.texture.baseTexture;c!==!!d.native&&(h=(c=!!d.native)?u.lg.LINES:u.lg.TRIANGLES,s=null,a=8,t++),s!==m&&(s=m,m._batchEnabled!==t&&(8===a&&(t++,a=0,i.size>0&&((i=M.pop())||((i=new o.a$).texArray=new o.Ie),this.drawCalls.push(i)),i.start=f,i.size=0,i.texArray.count=0,i.type=h),m.touched=1,m._batchEnabled=t,m._batchLocation=a,m.wrapMode=10497,i.texArray.elements[i.texArray.count++]=m,a++)),i.size+=p.size,f+=p.size,l=m._batchLocation,this.addColors(r,d.color,d.alpha,p.attribSize),this.addTextureIds(n,l,p.attribSize)}o.VL._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(3*t.length*4),o=new Float32Array(i),a=new Uint32Array(i),s=0,u=0;u<t.length/2;u++)o[s++]=t[2*u],o[s++]=t[2*u+1],o[s++]=e[2*u],o[s++]=e[2*u+1],a[s++]=r[u],o[s++]=n[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),d.triangulate(t,this)):P[t.type].triangulate(t,this)},e.prototype.processLine=function(t){x(t,this);for(var e=0;e<t.holes.length;e++)x(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];P[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=B,r=a.y3.IDENTITY;this._bounds.clear(),e.clear();for(var n=0;n<this.graphicsData.length;n++){var i=this.graphicsData[n],o=i.shape,s=i.type,u=i.lineStyle,l=i.matrix||a.y3.IDENTITY,c=0;if(u&&u.visible){var h=u.alignment;c=u.width,s===a.HS.POLY?c*=.5+Math.abs(.5-h):c*=Math.max(0,h)}if(r!==l&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=l),s===a.HS.RECT||s===a.HS.RREC){var f=o;e.addFramePad(f.x,f.y,f.x+f.width,f.y+f.height,c,c)}else if(s===a.HS.CIRC){var p=o;e.addFramePad(p.x,p.y,p.x,p.y,p.radius+c,p.radius+c)}else if(s===a.HS.ELIP){var d=o;e.addFramePad(d.x,d.y,d.x,d.y,d.width+c,d.height+c)}else{var m=o;t.addVerticesMatrix(r,m.points,0,m.points.length,c,c)}}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var n=t[2*r],i=t[2*r+1];t[2*r]=e.a*n+e.c*i+e.tx,t[2*r+1]=e.b*n+e.d*i+e.ty}},e.prototype.addColors=function(t,e,r,n){for(var i=(e>>16)+(65280&e)+((255&e)<<16),o=(0,s.premultiplyTint)(i,r);n-- >0;)t.push(o)},e.prototype.addTextureIds=function(t,e,r){for(;r-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,r,n,i,o){void 0===o&&(o=null);for(var a=0,s=e.length,u=r.frame;a<i;){var l=t[2*(n+a)],c=t[2*(n+a)+1];if(o){var h=o.a*l+o.c*c+o.tx;c=o.b*l+o.d*c+o.ty,l=h}a++,e.push(l/u.width,c/u.height)}var f=r.baseTexture;(u.width<f.width||u.height<f.height)&&this.adjustUvs(e,r,s,i)},e.prototype.adjustUvs=function(t,e,r,n){for(var i=e.baseTexture,o=1e-6,a=r+2*n,s=e.frame,u=s.width/i.width,l=s.height/i.height,c=s.x/s.width,h=s.y/s.height,f=Math.floor(t[r]+o),p=Math.floor(t[r+1]+o),d=r+2;d<a;d+=2)f=Math.min(f,Math.floor(t[d]+o)),p=Math.min(p,Math.floor(t[d+1]+o));c-=f,h-=p;for(d=r;d<a;d+=2)t[d]=(t[d]+c)*u,t[d+1]=(t[d+1]+h)*l},e.BATCHABLE_SIZE=100,e}(o.JZ),R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=i.BUTT,e.join=n.MITER,e.miterLimit=10,e}return p(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(h),q=new Float32Array(3),N={},F=function(t){function e(e){void 0===e&&(e=null);var r=t.call(this)||this;return r._geometry=e||new L,r._geometry.refCount++,r.shader=null,r.state=o.ZM.for2d(),r._fillStyle=new h,r._lineStyle=new R,r._matrix=null,r._holeMode=!1,r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r.pluginName="batch",r._transformID=-1,r.tint=16777215,r.blendMode=u.T$.NORMAL,r}return p(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t){if(void 0===t&&(t=null),"number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){if("number"==typeof t){(0,s.deprecation)("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments,r=e[0],a=e[1],u=e[2],l=e[3],c=e[4],h=e[5],f=e[6];t={width:r,texture:a,color:u,alpha:l,matrix:c,alignment:h,native:f},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({width:0,texture:o.xE.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:i.BUTT,join:n.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var p=t.width>0&&t.alpha>0;return p?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:p},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new a.mg,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new a.mg,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return n===t&&i===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,n){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),A.curveTo(t,e,r,n,i),this},e.prototype.bezierCurveTo=function(t,e,r,n,i,o){return this._initCurve(),O.curveTo(t,e,r,n,i,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,n,i){this._initCurve(t,e);var o=this.currentPath.points,a=E.curveTo(t,e,r,n,i,o);if(a){var s=a.cx,u=a.cy,l=a.radius,c=a.startAngle,h=a.endAngle,f=a.anticlockwise;this.arc(s,u,l,c,h,f)}return this},e.prototype.arc=function(t,e,r,n,i,o){if(void 0===o&&(o=!1),n===i)return this;if(!o&&i<=n?i+=a._b:o&&n<=i&&(n+=a._b),0===i-n)return this;var s=t+Math.cos(n)*r,u=e+Math.sin(n)*r,l=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;if(c){var h=Math.abs(c[c.length-2]-s),f=Math.abs(c[c.length-1]-u);h<l&&f<l||c.push(s,u)}else this.moveTo(s,u),c=this.currentPath.points;return E.arc(s,u,t,e,r,n,i,o,c),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:o.xE.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){if(t instanceof o.xE){(0,s.deprecation)("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments,r=e[0],n=e[1],i=e[2],a=e[3];t={texture:r,color:n,alpha:i,matrix:a},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({texture:o.xE.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var u=t.alpha>0;return u?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:u},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new a.Ae(t,e,r,n))},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new a.c9(t,e,r,n,i))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new a.Cd(t,e,r))},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new a.Pj(t,e,r,n))},e.prototype.drawPolygon=function(){for(var t,e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=!0,o=r[0];o.points?(i=o.closeStroke,t=o.points):t=Array.isArray(r[0])?r[0]:r;var s=new a.mg(t);return s.closeStroke=i,this.drawShape(s),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,r,n,i,o){return void 0===o&&(o=0),this.drawPolygon(new T(t,e,r,n,i,o))},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===a.HS.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,r=t.context.supports.uint32Indices;e.updateBatches(r),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var n=0;n<r;n++){var i=t.batches[n],o=i.style.color,a=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),u=new Float32Array(t.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),l={vertexData:a,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*i.start,i.size),uvs:u,_batchRGB:(0,s.hex2rgb)(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=l}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,n=this.tint,i=this.worldAlpha,o=e.uniforms,a=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(n>>16&255)/255*i,o.tint[1]=(n>>8&255)/255*i,o.tint[2]=(255&n)/255*i,o.tint[3]=i,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var s=0,u=a.length;s<u;s++)this._renderDrawCallDirect(t,r.drawCalls[s])},e.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,n=e.type,i=e.size,o=e.start,a=r.count,s=0;s<a;s++)t.texture.bind(r.elements[s],s);t.geometry.draw(n,i,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!N[r]){for(var n=new Int32Array(16),i=0;i<16;i++)n[i]=i;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new a.y3,default:o.oo.from({uSamplers:n},!0)},u=t.plugins[r]._shader.program;N[r]=new o.ex(u,s)}e=N[r]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,n=e.minY,i=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,n,i,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=(0,s.hex2rgb)(this.tint,q),e=0;e<this.batches.length;e++){var r=this.batches[e],n=r._batchRGB,i=(t[0]*n[0]*255<<16)+(t[1]*n[1]*255<<8)+(0|t[2]*n[2]*255);r._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this._geometry.points,l=this.vertexData,c=0,h=0;h<u.length;h+=2){var f=u[h],p=u[h+1];l[c++]=r*f+i*p+a,l[c++]=o*p+n*f+s}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new a.E9,e}(l.W2)},9148:(t,e,r)=>{"use strict";r.d(e,{LP:()=>P,aN:()=>k,kC:()=>E});var n=r(9571),i=r.n(n),o=r(2940),a=r.n(o);function s(){}function u(t,e,r,n){var i=0,o=t.length;!function a(s){s||i===o?r&&r(s):n?setTimeout((function(){e(t[i++],a)}),1):e(t[i++],a)}()}function l(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function c(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,n={_tasks:[],concurrency:e,saturated:s,unsaturated:s,buffer:e/4,empty:s,drain:s,error:s,started:!1,paused:!1,push:function(t,e){i(t,!1,e)},kill:function(){r=0,n.drain=s,n.started=!1,n._tasks=[]},unshift:function(t,e){i(t,!0,e)},process:function(){for(;!n.paused&&r<n.concurrency&&n._tasks.length;){var e=n._tasks.shift();0===n._tasks.length&&n.empty(),(r+=1)===n.concurrency&&n.saturated(),t(e.data,l(o(e)))}},length:function(){return n._tasks.length},running:function(){return r},idle:function(){return n._tasks.length+r===0},pause:function(){!0!==n.paused&&(n.paused=!0)},resume:function(){if(!1!==n.paused){n.paused=!1;for(var t=1;t<=n.concurrency;t++)n.process()}}};function i(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,null==t&&n.idle())setTimeout((function(){return n.drain()}),1);else{var i={data:t,callback:"function"==typeof r?r:s};e?n._tasks.unshift(i):n._tasks.push(i),setTimeout((function(){return n.process()}),1)}}function o(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&n.error(arguments[0],t.data),r<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}}return n}var h={};function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),t}var d=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),m=null;function y(){}var g=function(){function t(e,r,n){if("string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=y,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new(a()),this.onProgress=new(a()),this.onComplete=new(a()),this.onAfterMiddleware=new(a())}t.setExtensionLoadType=function(e,r){v(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){v(t._xhrTypeMap,e,r)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(r)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:d&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=r,n},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(b(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(b(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(b(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,r="",n=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===n&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2===(n/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,m||(m=document.createElement("a")),m.href=t;var r=!(t=i()(m.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(n>-1?n:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},p(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function v(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function b(t){return t.toString().replace("object ","")}g.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},g.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},g.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},g.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},g._loadTypeMap={gif:g.LOAD_TYPE.IMAGE,png:g.LOAD_TYPE.IMAGE,bmp:g.LOAD_TYPE.IMAGE,jpg:g.LOAD_TYPE.IMAGE,jpeg:g.LOAD_TYPE.IMAGE,tif:g.LOAD_TYPE.IMAGE,tiff:g.LOAD_TYPE.IMAGE,webp:g.LOAD_TYPE.IMAGE,tga:g.LOAD_TYPE.IMAGE,svg:g.LOAD_TYPE.IMAGE,"svg+xml":g.LOAD_TYPE.IMAGE,mp3:g.LOAD_TYPE.AUDIO,ogg:g.LOAD_TYPE.AUDIO,wav:g.LOAD_TYPE.AUDIO,mp4:g.LOAD_TYPE.VIDEO,webm:g.LOAD_TYPE.VIDEO},g._xhrTypeMap={xhtml:g.XHR_RESPONSE_TYPE.DOCUMENT,html:g.XHR_RESPONSE_TYPE.DOCUMENT,htm:g.XHR_RESPONSE_TYPE.DOCUMENT,xml:g.XHR_RESPONSE_TYPE.DOCUMENT,tmx:g.XHR_RESPONSE_TYPE.DOCUMENT,svg:g.XHR_RESPONSE_TYPE.DOCUMENT,tsx:g.XHR_RESPONSE_TYPE.DOCUMENT,gif:g.XHR_RESPONSE_TYPE.BLOB,png:g.XHR_RESPONSE_TYPE.BLOB,bmp:g.XHR_RESPONSE_TYPE.BLOB,jpg:g.XHR_RESPONSE_TYPE.BLOB,jpeg:g.XHR_RESPONSE_TYPE.BLOB,tif:g.XHR_RESPONSE_TYPE.BLOB,tiff:g.XHR_RESPONSE_TYPE.BLOB,webp:g.XHR_RESPONSE_TYPE.BLOB,tga:g.XHR_RESPONSE_TYPE.BLOB,json:g.XHR_RESPONSE_TYPE.JSON,text:g.XHR_RESPONSE_TYPE.TEXT,txt:g.XHR_RESPONSE_TYPE.TEXT,ttf:g.XHR_RESPONSE_TYPE.BUFFER,otf:g.XHR_RESPONSE_TYPE.BUFFER},g.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var _=window.URL||window.webkitURL;var w={caching:function(t,e){var r=this;h[t.url]?(t.data=h[t.url],t.complete()):t.onComplete.once((function(){return h[r.url]=r.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===g.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=_.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=g.TYPE.IMAGE,void(t.data.onload=function(){_.revokeObjectURL(r),t.data.onload=null,e()})}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<t.length?n[o]=255&t.charCodeAt(r++):n[o]=0;switch(i[0]=n[0]>>2,i[1]=(3&n[0])<<4|n[1]>>4,i[2]=(15&n[1])<<2|n[2]>>6,i[3]=63&n[2],r-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var a=0;a<i.length;++a)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[a])}return e}(t.xhr.responseText),t.type=g.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},x=/(#[\w-]+)?$/,S=function(){function t(e,r){var n=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return n._loadResource(t,e)},this._queue=c(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new(a()),this.onError=new(a()),this.onLoad=new(a()),this.onStart=new(a()),this.onComplete=new(a());for(var i=0;i<t._defaultBeforeMiddleware.length;++i)this.pre(t._defaultBeforeMiddleware[i]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,r,n){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"==typeof t&&(n=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new g(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var o=r.parentResource,a=[],s=0;s<o.children.length;++s)o.children[s].isComplete||a.push(o.children[s]);var u=o.progressChunk*(a.length+1)/(a.length+2);o.children.push(this.resources[t]),o.progressChunk=u;for(var l=0;l<a.length;++l)a[l].progressChunk=u;this.resources[t].progressChunk=u}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,r=i()(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=x.exec(e)[0];-1!==(e=e.substr(0,e.length-n.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=n}return e},e._loadResource=function(t,e){var r=this;t._dequeue=e,u(this._beforeMiddleware,(function(e,n){e.call(r,t,(function(){n(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),u(this._afterMiddleware,(function(r,n){r.call(e,t,n)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},p(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();S._defaultBeforeMiddleware=[],S._defaultAfterMiddleware=[],S.pre=function(t){return S._defaultBeforeMiddleware.push(t),S},S.use=function(t){return S._defaultAfterMiddleware.push(t),S};var T=r(5307),E=g,O=function(t,e){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},O(t,e)};var A=function(){function t(){}return t.use=function(t,e){t.data&&t.type===g.TYPE.IMAGE&&(t.texture=T.xE.fromLoader(t.data,t.url,t.name)),e()},t}(),k=function(t){function e(r,n){for(var i=t.call(this,r,n)||this,o=0;o<e._plugins.length;++o){var a=e._plugins[o],s=a.pre,u=a.use;s&&i.pre(s),u&&i.use(u)}return i._protected=!1,i}return function(t,e){function r(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}(S);k.registerPlugin({use:w.parsing}),k.registerPlugin(A);var P=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?k.shared:new k},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}()},4295:(t,e,r)=>{"use strict";r.d(e,{AB:()=>p,Ae:()=>s,Cd:()=>u,E9:()=>f,HS:()=>n,Lv:()=>x,Pj:()=>l,ZX:()=>a,_b:()=>i,c9:()=>h,jl:()=>o,mg:()=>c,wx:()=>S,y3:()=>d});var n,i=2*Math.PI,o=180/Math.PI,a=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(n||(n={}));var s=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=n.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=n,this.height=Math.max(i-n,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=n-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=n,this.height=i-n,this},t}(),u=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=n.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return(n*=n)+(i*=i)<=r},t.prototype.getBounds=function(){return new s(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}(),l=function(){function t(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=n.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return(r*=r)+(n*=n)<=1},t.prototype.getBounds=function(){return new s(this.x-this.width,this.y-this.height,this.width,this.height)},t}(),c=function(){function t(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var i=Array.isArray(e[0])?e[0]:e;if("number"!=typeof i[0]){for(var o=[],a=0,s=i.length;a<s;a++)o.push(i[a].x,i[a].y);i=o}this.points=i,this.type=n.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var a=this.points[2*i],s=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1];s>e!=l>e&&t<(e-s)/(l-s)*(u-a)+a&&(r=!r)}return r},t}(),h=function(){function t(t,e,r,i,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=o,this.type=n.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),n=e-(this.y+this.radius),i=this.radius*this.radius;if(r*r+n*n<=i)return!0;if((r=t-(this.x+this.width-this.radius))*r+n*n<=i)return!0;if(r*r+(n=e-(this.y+this.height-this.radius))*n<=i)return!0;if((r=t-(this.x+this.radius))*r+n*n<=i)return!0}return!1},t}(),f=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t}(),p=function(){function t(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0),this._x=r,this._y=n,this.cb=t,this.scope=e}return t.prototype.clone=function(e,r){return void 0===e&&(e=this.cb),void 0===r&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),d=function(){function t(t,e,r,n,i,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new f;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new f;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,r,n,i,o,a,s,u){return this.a=Math.cos(a+u)*i,this.b=Math.sin(a+u)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=t-(r*this.a+n*this.c),this.ty=e-(r*this.b+n*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,o=this.d,a=-Math.atan2(-n,o),s=Math.atan2(r,e),u=Math.abs(a+s);return u<1e-5||Math.abs(i-u)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+o*o),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),m=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],y=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],g=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],v=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],b=[],_=[],w=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];b.push(e);for(var r=0;r<16;r++)for(var n=w(m[t]*m[r]+g[t]*y[r]),i=w(y[t]*m[r]+v[t]*y[r]),o=w(m[t]*g[r]+g[t]*v[r]),a=w(y[t]*g[r]+v[t]*v[r]),s=0;s<16;s++)if(m[s]===n&&y[s]===i&&g[s]===o&&v[s]===a){e.push(s);break}}for(t=0;t<16;t++){var u=new d;u.set(m[t],y[t],g[t],v[t],0,0),_.push(u)}}();var x={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return m[t]},uY:function(t){return y[t]},vX:function(t){return g[t]},vY:function(t){return v[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return b[t][e]},sub:function(t,e){return b[t][x.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?x.S:x.N:2*Math.abs(e)<=Math.abs(t)?t>0?x.E:x.W:e>0?t>0?x.SE:x.SW:t>0?x.NE:x.NW},matrixAppendRotationInv:function(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=_[x.inv(e)];i.tx=r,i.ty=n,t.append(i)}},S=function(){function t(){this.worldTransform=new d,this.localTransform=new d,this.position=new p(this.onChange,this,0,0),this.scale=new p(this.onChange,this,1,1),this.pivot=new p(this.onChange,this,0,0),this.skew=new p(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}()},9773:(t,e,r)=>{"use strict";r.d(e,{AL:()=>f,IE:()=>c,ZT:()=>p});var n=r(1473),i=r(7054),o=r(5307),a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},a(t,e)};function s(t,e){function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var u=function(t){function e(e,r,n,i){void 0===e&&(e=100),void 0===r&&(r=100),void 0===n&&(n=10),void 0===i&&(i=10);var o=t.call(this)||this;return o.segWidth=n,o.segHeight=i,o.width=e,o.height=r,o.build(),o}return s(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],n=[],i=this.segWidth-1,o=this.segHeight-1,a=this.width/i,s=this.height/o,u=0;u<t;u++){var l=u%this.segWidth,c=u/this.segWidth|0;e.push(l*a,c*s),r.push(l/i,c/o)}var h=i*o;for(u=0;u<h;u++){var f=u%i,p=u/i|0,d=p*this.segWidth+f,m=p*this.segWidth+f+1,y=(p+1)*this.segWidth+f,g=(p+1)*this.segWidth+f+1;n.push(d,m,y,m,g,y)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(n),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(n.xc),l=function(t){function e(e,r,n){void 0===e&&(e=200),void 0===n&&(n=0);var i=t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return i.points=r,i._width=e,i.textureScale=n,i.build(),i}return s(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),n=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),n.data=new Uint16Array(6*(t.length-1)));var i=r.data,o=n.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var a=0,s=t[0],u=this._width*this.textureScale,l=t.length,c=0;c<l;c++){var h=4*c;if(this.textureScale>0){var f=s.x-t[c].x,p=s.y-t[c].y,d=Math.sqrt(f*f+p*p);s=t[c],a+=d/u}else a=c/(l-1);i[h]=a,i[h+1]=0,i[h+2]=a,i[h+3]=1}var m=0;for(c=0;c<l-1;c++){h=2*c;o[m++]=h,o[m++]=h+1,o[m++]=h+2,o[m++]=h+2,o[m++]=h+1,o[m++]=h+3}r.update(),n.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],n=0,i=0,o=this.buffers[0].data,a=t.length,s=0;s<a;s++){var u=t[s],l=4*s;i=-((e=s<t.length-1?t[s+1]:u).x-r.x),n=e.y-r.y;var c=Math.sqrt(n*n+i*i),h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;n/=c,i/=c,n*=h,i*=h,o[l]=u.x+n,o[l+1]=u.y+i,o[l+2]=u.x-n,o[l+3]=u.y-i,r=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(n.xc),c=function(t){function e(e,r,o){void 0===o&&(o=0);var a=this,s=new l(e.height,r,o),u=new n.rY(e);return o>0&&(e.baseTexture.wrapMode=i.Nt.REPEAT),(a=t.call(this,s,u)||this).autoUpdate=!0,a}return s(e,t),e.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),t.prototype._render.call(this,e)},e}(n.Kj),h=function(t){function e(e,r,i){var a=this,s=new u(e.width,e.height,r,i),l=new n.rY(o.xE.WHITE);return(a=t.call(this,s,l)||this).texture=e,a}return s(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e}(n.Kj),f=function(t){function e(e,r,i,a,s){void 0===e&&(e=o.xE.EMPTY);var u=this,l=new n.xc(r,i,a);l.getBuffer("aVertexPosition").static=!1;var c=new n.rY(e);return(u=t.call(this,l,c,null,s)||this).autoUpdate=!0,u}return s(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},e}(n.Kj),p=function(t){function e(e,r,n,i,a){void 0===r&&(r=10),void 0===n&&(n=10),void 0===i&&(i=10),void 0===a&&(a=10);var s=t.call(this,o.xE.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=r,s._rightWidth=i,s._topHeight=n,s._bottomHeight=a,s.texture=e,s}return s(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,r=this._topHeight+this._bottomHeight,n=this._height>r?1:this._height/r;return Math.min(e,n)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,n=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=n*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(h)},1473:(t,e,r)=>{"use strict";r.d(e,{Kj:()=>d,rY:()=>m,xc:()=>y});var n=r(5307),i=r(4295),o=r(7054),a=r(29),s=r(5264),u=r(5323),l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},l(t,e)};function c(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var h=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),f=new i.E9,p=new i.mg,d=function(t){function e(e,r,i,a){void 0===a&&(a=o.lg.TRIANGLES);var u=t.call(this)||this;return u.geometry=e,e.refCount++,u.shader=r,u.state=i||n.ZM.for2d(),u.drawMode=a,u.start=0,u.size=0,u.uvs=null,u.indices=null,u.vertexData=new Float32Array(1),u.vertexDirty=0,u._transformID=-1,u.tint=16777215,u.blendMode=o.T$.NORMAL,u._roundPixels=s.X.ROUND_PIXELS,u.batchUvs=null,u}return c(e,t),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this.shader.tint},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===o.lg.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,n=r.a,i=r.b,o=r.c,a=r.d,u=r.tx,l=r.ty,c=this.vertexData,h=0;h<c.length/2;h++){var f=e[2*h],p=e[2*h+1];c[2*h]=n*f+o*p+u,c[2*h+1]=i*f+a*p+l}if(this._roundPixels){var d=s.X.RESOLUTION;for(h=0;h<c.length;++h)c[h]=Math.round((c[h]*d|0)/d)}this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new h(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,f);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=p.points,n=this.geometry.getIndex().data,i=n.length,o=4===this.drawMode?3:1,a=0;a+2<i;a+=o){var s=2*n[a],u=2*n[a+1],l=2*n[a+2];if(r[0]=e[s],r[1]=e[s+1],r[2]=e[u],r[3]=e[u+1],r[4]=e[l],r[5]=e[l+1],p.contains(f.x,f.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(a.W2),m=function(t){function e(e,r){var o=this,a={uSampler:e,alpha:1,uTextureMatrix:i.y3.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(a,r.uniforms),(o=t.call(this,r.program||n.$r.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),a)||this)._colorDirty=!1,o.uvMatrix=new n.UX(e),o.batchable=void 0===r.program,o.pluginName=r.pluginName,o.tint=r.tint,o.alpha=r.alpha,o}return c(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;(0,u.premultiplyTintToRgba)(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(n.ex),y=function(t){function e(e,r,i){var a=t.call(this)||this,s=new n.lW(e),u=new n.lW(r,!0),l=new n.lW(i,!0,!0);return a.addAttribute("aVertexPosition",s,2,!1,o.vK.FLOAT).addAttribute("aTextureCoord",u,2,!1,o.vK.FLOAT).addIndex(l),a._updateId=-1,a}return c(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(n.ZX)},3557:(t,e,r)=>{"use strict";r.d(e,{R:()=>n});var n=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,r,n,i,o,a,s){if(arguments.length>8)throw new Error("max arguments reached");var u=this,l=u.name,c=u.items;this._aliasCount++;for(var h=0,f=c.length;h<f;h++)c[h][l](t,e,r,n,i,o,a,s);return c===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(n.prototype,{dispatch:{value:n.prototype.emit},run:{value:n.prototype.emit}})},5264:(t,e,r)=>{"use strict";r.d(e,{t:()=>b,X:()=>_});var n=/iPhone/i,i=/iPod/i,o=/iPad/i,a=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,l=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,h=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,d=/BB10/i,m=/Opera Mini/i,y=/\b(CriOS|Chrome)(?:.+)Mobile/i,g=/Mobile(?:.+)Firefox\b/i,v=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};var b=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,b=r.split("[FBAN");void 0!==b[1]&&(r=b[0]),void 0!==(b=r.split("Twitter"))[1]&&(r=b[0]);var _=function(t){return function(e){return e.test(t)}}(r),w={apple:{phone:_(n)&&!_(h),ipod:_(i),tablet:!_(n)&&(_(o)||v(e))&&!_(h),universal:_(a),device:(_(n)||_(i)||_(o)||_(a)||v(e))&&!_(h)},amazon:{phone:_(l),tablet:!_(l)&&_(c),device:_(l)||_(c)},android:{phone:!_(h)&&_(l)||!_(h)&&_(s),tablet:!_(h)&&!_(l)&&!_(s)&&(_(c)||_(u)),device:!_(h)&&(_(l)||_(c)||_(s)||_(u))||_(/\bokhttp\b/i)},windows:{phone:_(h),tablet:_(f),device:_(h)||_(f)},other:{blackberry:_(p),blackberry10:_(d),opera:_(m),firefox:_(g),chrome:_(y),device:_(p)||_(d)||_(m)||_(g)||_(y)},any:!1,phone:!1,tablet:!1};return w.any=w.apple.device||w.android.device||w.windows.device||w.other.device,w.phone=w.apple.phone||w.android.phone||w.windows.phone,w.tablet=w.apple.tablet||w.android.tablet||w.windows.tablet,w}(window.navigator);var _={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e=!0;if(b.tablet||b.phone){var r;if(b.apple.device)if(r=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(r[1],10)<11&&(e=!1);if(b.android.device)if(r=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(r[1],10)<7&&(e=!1)}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:b.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!b.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1}},9038:(t,e,r)=>{"use strict";r.d(e,{j:()=>f});var n=r(7054),i=r(5307),o=r(29),a=r(4295),s=r(5264),u=r(5323),l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},l(t,e)};var c=new a.E9,h=new Uint16Array([0,1,2,0,2,3]),f=function(t){function e(e){var r=t.call(this)||this;return r._anchor=new a.AB(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=n.T$.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||i.xE.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=h,r.pluginName="batch",r.isSprite=!0,r._roundPixels=s.X.ROUND_PIXELS,r}return function(t,e){function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=(0,u.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,u.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,a=e.tx,u=e.ty,l=this.vertexData,c=t.trim,h=t.orig,f=this._anchor,p=0,d=0,m=0,y=0;if(c?(p=(d=c.x-f._x*h.width)+c.width,m=(y=c.y-f._y*h.height)+c.height):(p=(d=-f._x*h.width)+h.width,m=(y=-f._y*h.height)+h.height),l[0]=r*d+i*y+a,l[1]=o*y+n*d+u,l[2]=r*p+i*y+a,l[3]=o*y+n*p+u,l[4]=r*p+i*m+a,l[5]=o*m+n*p+u,l[6]=r*d+i*m+a,l[7]=o*m+n*d+u,this._roundPixels)for(var g=s.X.RESOLUTION,v=0;v<l.length;++v)l[v]=Math.round((l[v]*g|0)/g)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,c=i.ty,h=-n._x*r.width,f=h+r.width,p=-n._y*r.height,d=p+r.height;e[0]=o*h+s*p+l,e[1]=u*p+a*h+c,e[2]=o*f+s*p+l,e[3]=u*p+a*f+c,e[4]=o*f+s*d+l,e[5]=u*d+a*f+c,e[6]=o*h+s*d+l,e[7]=u*d+a*h+c},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new a.Ae),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return c.x>=n&&c.x<n+e&&(i=-r*this.anchor.y,c.y>=i&&c.y<i+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null},e.from=function(t,r){return new e(t instanceof i.xE?t:i.xE.from(t,r))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,u.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,u.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||i.xE.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(o.W2)},5662:(t,e,r)=>{"use strict";r.d(e,{Sb:()=>s,uF:()=>n,vB:()=>a});var n,i=r(5264);i.X.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(n||(n={}));var o=function(){function t(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=0),void 0===n&&(n=!1),this.fn=t,this.context=e,this.priority=r,this.once=n,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),a=function(){function t(){var t=this;this._head=new o(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/i.X.TARGET_FPMS,this.elapsedMS=1/i.X.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,r){return void 0===r&&(r=n.NORMAL),this._addListener(new o(t,e,r))},t.prototype.addOnce=function(t,e,r){return void 0===r&&(r=n.NORMAL),this._addListener(new o(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*i.X.TARGET_FPMS;for(var n=this._head,o=n.next;o;)o=o.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,i.X.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),s=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,n.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?a.shared:new a,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}()},5323:(t,e,r)=>{"use strict";r.r(e),r.d(e,{BaseTextureCache:()=>F,CanvasRenderTarget:()=>G,DATA_URI:()=>Y,EventEmitter:()=>o.a,ProgramCache:()=>q,TextureCache:()=>N,clearTextureCache:()=>D,correctBlendMode:()=>_,createIndicesForQuads:()=>T,decomposeDataUri:()=>X,deprecation:()=>R,destroyTextureCache:()=>V,determineCrossOrigin:()=>W,earcut:()=>s.a,getBufferType:()=>E,getResolutionOfUrl:()=>H,hex2rgb:()=>m,hex2string:()=>y,interleaveTypedArrays:()=>A,isMobile:()=>n.t,isPow2:()=>P,isWebGLSupported:()=>d,log2:()=>C,nextPow2:()=>k,premultiplyBlendMode:()=>b,premultiplyRgba:()=>w,premultiplyTint:()=>x,premultiplyTintToRgba:()=>S,removeItems:()=>M,rgb2hex:()=>v,sayHello:()=>p,sign:()=>I,skipHello:()=>f,string2hex:()=>g,trimCanvas:()=>z,uid:()=>B,url:()=>u});var n=r(5264),i=r(8718),o=r.n(i),a=r(9187),s=r.n(a),u=r(8575),l=r(7054);n.X.RETINA_PREFIX=/@([0-9\.]+)x/,n.X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var c,h=!1;function f(){h=!0}function p(t){var e;if(!h){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS 5.3.3 - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=window.console).log.apply(e,r)}else window.console&&window.console.log("PixiJS 5.3.3 - "+t+" - http://www.pixijs.com/");h=!0}}function d(){return void 0===c&&(c=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:n.X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var o=r.getExtension("WEBGL_lose_context");o&&o.loseContext()}return r=null,i}catch(t){return!1}}()),c}function m(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function y(t){var e=t.toString(16);return"#"+(e="000000".substr(0,6-e.length)+e)}function g(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}function v(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var b=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[l.T$.NORMAL_NPM]=l.T$.NORMAL,t[l.T$.ADD_NPM]=l.T$.ADD,t[l.T$.SCREEN_NPM]=l.T$.SCREEN,e[l.T$.NORMAL]=l.T$.NORMAL_NPM,e[l.T$.ADD]=l.T$.ADD_NPM,e[l.T$.SCREEN]=l.T$.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}();function _(t,e){return b[e?1:0][t]}function w(t,e,r,n){return r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function x(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i=i*e+.5|0)}function S(t,e,r,n){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function T(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function E(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var O={Float32Array,Uint32Array,Int32Array,Uint8Array};function A(t,e){for(var r=0,n=0,i={},o=0;o<t.length;o++)n+=e[o],r+=t[o].length;var a=new ArrayBuffer(4*r),s=null,u=0;for(o=0;o<t.length;o++){var l=e[o],c=t[o],h=E(c);i[h]||(i[h]=new O[h](a)),s=i[h];for(var f=0;f<c.length;f++){s[(f/l|0)*n+u+f%l]=c[f]}u+=l}return new Float32Array(a)}function k(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function P(t){return!(t&t-1||!t)}function C(t){var e=(t>65535?1:0)<<4,r=((t>>>=e)>255?1:0)<<3;return e|=r,e|=r=((t>>>=r)>15?1:0)<<2,(e|=r=((t>>>=r)>3?1:0)<<1)|(t>>>=r)>>1}function M(t,e,r){var n,i=t.length;if(!(e>=i||0===r)){var o=i-(r=e+r>i?i-e:r);for(n=e;n<o;++n)t[n]=t[n+r];t.length=o}}function I(t){return 0===t?0:t<0?-1:1}var j=0;function B(){return++j}var L={};function R(t,e,r){if(void 0===r&&(r=3),!L[e]){var n=(new Error).stack;void 0===n?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(n))),L[e]=!0}}var q={},N=Object.create(null),F=Object.create(null);function V(){var t;for(t in N)N[t].destroy();for(t in F)F[t].destroy()}function D(){var t;for(t in N)delete N[t];for(t in F)delete F[t]}var G=function(){function t(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||n.X.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();function z(t){var e,r,n,i=t.width,o=t.height,a=t.getContext("2d"),s=a.getImageData(0,0,i,o).data,u=s.length,l={top:null,left:null,right:null,bottom:null},c=null;for(e=0;e<u;e+=4)0!==s[e+3]&&(r=e/4%i,n=~~(e/4/i),null===l.top&&(l.top=n),(null===l.left||r<l.left)&&(l.left=r),(null===l.right||l.right<r)&&(l.right=r+1),(null===l.bottom||l.bottom<n)&&(l.bottom=n));return null!==l.top&&(i=l.right-l.left,o=l.bottom-l.top+1,c=a.getImageData(l.left,l.top,i,o)),{height:o,width:i,data:c}}var U,Y=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function X(t){var e=Y.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function W(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,U||(U=document.createElement("a")),U.href=t;var r=(0,u.parse)(U.href),n=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&n&&r.protocol===e.protocol?"":"anonymous"}function H(t,e){var r=n.X.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}},8718:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,n,o,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||t,a),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,i,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,o),!0;case 6:return c.fn.call(c.context,e,n,i,o,a),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},s.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},s.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},s.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==e||i&&!s[u].once||n&&s[u].context!==n)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s},6194:(t,e,r)=>{"use strict";r.d(e,{Od:()=>y,ZP:()=>v,kX:()=>c,oY:()=>i});var n,i={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-i.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*i.Bounce.In(2*t):.5*i.Bounce.Out(2*t-1)+.5}}},o="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},a=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map((function(e){return t._tweens[e]}))},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=o()),void 0===e&&(e=!1);var r=Object.keys(this._tweens);if(0===r.length)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<r.length;n++){var i=this._tweens[r[n]],a=!e;i&&!1===i.update(t,a)&&!e&&delete this._tweens[r[n]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),s={Linear:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),o=s.Utils.Linear;return e<0?o(t[0],t[1],n):e>1?o(t[r],t[r-1],r-n):o(t[i],t[i+1>r?r:i+1],n-i)},Bezier:function(t,e){for(var r=0,n=t.length-1,i=Math.pow,o=s.Utils.Bernstein,a=0;a<=n;a++)r+=i(1-e,n-a)*i(e,a)*t[a]*o(n,a);return r},CatmullRom:function(t,e){var r=t.length-1,n=r*e,i=Math.floor(n),o=s.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(i=Math.floor(n=r*(1+e))),o(t[(i-1+r)%r],t[i],t[(i+1)%r],t[(i+2)%r],n-i)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[r]-(o(t[r],t[r],t[r-1],t[r-1],n-r)-t[r]):o(t[i?i-1:0],t[i],t[r<i+1?r:i+1],t[r<i+2?r:i+2],n-i)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=s.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:(n=[1],function(t){var e=1;if(n[t])return n[t];for(var r=t;r>1;r--)e*=r;return n[t]=e,e}),CatmullRom:function(t,e,r,n,i){var o=.5*(r-t),a=.5*(n-e),s=i*i;return(2*e-2*r+o+a)*(i*s)+(-3*e+3*r-2*o-a)*s+o*i+e}}},u=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),l=new a,c=function(){function t(t,e){void 0===e&&(e=l),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=i.Linear.None,this._interpolationFunction=s.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=u.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?o()+parseFloat(t):t:o(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,r,n){for(var i in r){var o=t[i],a=Array.isArray(o),s=a?"array":typeof o,u=!a&&Array.isArray(r[i]);if("undefined"!==s&&"function"!==s){if(u){var l=r[i];if(0===l.length)continue;l=l.map(this._handleRelativeValue.bind(this,o)),r[i]=[o].concat(l)}if("object"!==s&&!a||!o||u)void 0===e[i]&&(e[i]=o),a||(e[i]*=1),n[i]=u?r[i].slice().reverse():e[i]||0;else{for(var c in e[i]=a?[]:{},o)e[i][c]=o[c];n[i]=a?[]:{},this._setupProperties(o,e[i],r[i],n[i])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=o()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this},t.prototype.resume=function(t){return void 0===t&&(t=o()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=o()),void 0===e&&(e=!0),this._isPaused)return!0;var r,n,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>i)return!1;e&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=0===this._duration||n>1?1:n;var a=this._easingFunction(n);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(r in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[r]||(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,u=this._chainedTweens.length;s<u;s++)this._chainedTweens[s].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,r,n){for(var i in r)if(void 0!==e[i]){var o=e[i]||0,a=r[i],s=Array.isArray(t[i]),u=Array.isArray(a);!s&&u?t[i]=this._interpolationFunction(a,n):"object"==typeof a&&a?this._updateProperties(t[i],o,a,n):"number"==typeof(a=this._handleRelativeValue(o,a))&&(t[i]=o+(a-o)*n)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],r=this._valuesEnd[t];this._valuesStartRepeat[t]="string"==typeof r?this._valuesStartRepeat[t]+parseFloat(r):this._valuesEnd[t],this._valuesEnd[t]=e},t}(),h=u.nextId,f=l,p=f.getAll.bind(f),d=f.removeAll.bind(f),m=f.add.bind(f),y=f.remove.bind(f),g=f.update.bind(f);const v={Easing:i,Group:a,Interpolation:s,now:o,Sequence:u,nextId:h,Tween:c,VERSION:"18.6.4",getAll:p,removeAll:d,add:m,remove:y,update:g}},1477:(t,e,r)=>{"use strict";r.d(e,{Z:()=>iw});var n=r(6013),i=r(6729),o=r.n(i),a=r(6194),s=r(7563),u=r(3549),l=r.n(u),c=r(6896),h=r(7104);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return d(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function m(){m=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:A(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var p="suspendedStart",d="executing",y="completed",g={};function v(){}function b(){}function _(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==r&&n.call(S,a)&&(w=S);var T=_.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==f(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function A(e,r,n){var i=p;return function(o,a){if(i===d)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?y:"suspendedYield",l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=y,n.method="throw",n.arg=l.arg)}}}function k(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(f(e)+" is not iterable")}return b.prototype=_,i(T,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:b,configurable:!0}),b.displayName=l(_,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,u,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},E(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(T),l(T,u,"Generator"),l(T,a,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function y(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function g(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){y(o,n,i,a,s,"next",t)}function s(t){y(o,n,i,a,s,"throw",t)}a(void 0)}))}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_(n.key),n)}}function _(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==f(e)?e:e+""}function w(t,e,r){return e=S(e),function(t,e){if(e&&("object"==f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,x()?Reflect.construct(e,r||[],S(t).constructor):e.apply(t,r))}function x(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(x=function(){return!!t})()}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}var E=function(t){function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.waitSounds,o=void 0!==i&&i;return v(this,e),(r=w(this,e)).assets=t,r.waitSounds=o,r.totalItems=0,r.loadedItems=0,r.loader=null,r.handleLoadProgress=r.handleLoadProgress.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(e,t),r=e,i=[{key:"getImagesLoaderOptions",value:function(t){var e={};return t.match(/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/)||(e.crossOrigin="anonymous"),e}},{key:"load",value:(a=g(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this.loadImages(),this.loadFonts(),this.loadSounds(),this.loadEditor()]);case 2:return this.done=!0,t.next=5,c.Et(this.loader.resources);case 5:this.emit("complete");case 6:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"handleLoadProgress",value:function(){this.loadedItems++,this.emit("progress",Math.floor(this.loadedItems/this.totalItems*100))}},{key:"loadImages",value:function(){var t=this;return new Promise((function(e){var r=new n.aN;if(t.loader=r,t.assets.images){var i,o=p(t.assets.images);try{for(o.s();!(i=o.n()).done;){var a=i.value;t.totalItems++,r.add(a.name,a.url,t.getImagesLoaderOptions(a.url))}}catch(t){o.e(t)}finally{o.f()}}if(t.assets.atlases){var s,u=p(t.assets.atlases);try{for(u.s();!(s=u.n()).done;){var l=s.value;"json"===l.ext&&(t.totalItems+=2,r.add(l.name,l.url))}}catch(t){u.e(t)}finally{u.f()}}if(t.assets.spine){var c,h=p(t.assets.spine);try{for(h.s();!(c=h.n()).done;){var f=c.value;"json"===f.ext&&(t.totalItems+=3,r.add(f.name,f.url))}}catch(t){h.e(t)}finally{h.f()}}var d=r.onProgress.add(t.handleLoadProgress);r.load((function(){r.onProgress.detach(d),e()}))}))}},{key:"loadFonts",value:function(){var t,r=this,n=[],i=document.getElementsByTagName("head")[0],o=p(this.assets.fonts);try{var a=function(){var o=t.value;r.totalItems++;var a=document.createElement("style");a.type="text/css",a.appendChild(document.createTextNode("@font-face {font-family: "+o.name+"; src: url("+o.url+");}")),i.appendChild(a),n.push(new Promise((function(t){var n=o.name;new(l())(n).load(null,e.FONT_LOAD_TIMEOUT).then((function(){r.handleLoadProgress(),t()})).catch((function(){console.warn(n+" not loaded!"),r.handleLoadProgress(),t()}))})))};for(o.s();!(t=o.n()).done;)a()}catch(t){o.e(t)}finally{o.f()}return Promise.all(n)}},{key:"loadSounds",value:function(){var t,e=this,r=[],n=p(this.assets.sounds);try{var i=function(){var n=t.value;e.totalItems++,r.push(new Promise((function(t){var r=new Audio;r.preload="auto",r.src=n.url,r.addEventListener("canplay",t),r.load(),e.waitSounds||t()})).then((function(){return e.handleLoadProgress()})))};for(n.s();!(t=n.n()).done;)i()}catch(t){n.e(t)}finally{n.f()}return Promise.all(r)}},{key:"loadEditor",value:function(){var t=this,e=this.assets.editor;if(e)return this.totalItems+=e.length,Promise.all(e.map(function(){var e=g(m().mark((function e(r){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.get(r);case 2:t.handleLoadProgress();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}],i&&b(r.prototype,i),o&&b(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o,a}(o());E.FONT_LOAD_TIMEOUT=5e3;const O=E;var A=r(6871),k=r(1505),P=r(5977),C=r(3494),M=r(1328);function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function j(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return B(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function L(){L=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==I(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(I(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function R(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function q(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){R(o,n,i,a,s,"next",t)}function s(t){R(o,n,i,a,s,"throw",t)}a(void 0)}))}}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F(n.key),n)}}function F(t){var e=function(t,e){if("object"!=I(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==I(e)?e:e+""}var V=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data={}},e=[{key:"init",value:(o=q(L().mark((function t(){return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.load();case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"load",value:(i=q(L().mark((function t(){var e;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ytgame.game.loadData();case 3:e=t.sent,this.data=e?JSON.parse(e):{},t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),ytgame.health.logError();case 11:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return i.apply(this,arguments)})},{key:"save",value:(n=q(L().mark((function t(){return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ytgame.game.saveData(JSON.stringify(this.data));case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0),ytgame.health.logError();case 9:case"end":return t.stop()}}),t,this,[[0,5]])}))),function(){return n.apply(this,arguments)})},{key:"clear",value:function(){this.data={},this.save()}},{key:"getItem",value:function(t){return this.data[t]}},{key:"getItems",value:function(t){if(!t)return this.data;var e={};Array.isArray(t)||(t=[t]);var r,n=j(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;e[i]=this.data[i]}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"removeItem",value:function(t){delete this.data[t],this.save()}},{key:"setItem",value:function(t,e){this.data[t]=e,this.save()}}],e&&N(t.prototype,e),r&&N(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,i,o}();const D=V;function G(t){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G(t)}function z(){z=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==G(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(G(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function U(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Y(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){U(o,n,i,a,s,"next",t)}function s(t){U(o,n,i,a,s,"throw",t)}a(void 0)}))}}function X(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W(n.key),n)}}function W(t){var e=function(t,e){if("object"!=G(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==G(e)?e:e+""}function H(t,e,r){return e=K(e),function(t,e){if(e&&("object"==G(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Z()?Reflect.construct(e,r||[],K(t).constructor):e.apply(t,r))}function Z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Z=function(){return!!t})()}function K(t){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},K(t)}function Q(t,e){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Q(t,e)}var J=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=H(this,e)).type="YOUTUBE",t.storage=new D,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q(t,e)}(e,t),r=e,n=[{key:"init",value:(u=Y(z().mark((function t(){return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storage.init();case 2:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"setLoadingProgress",value:function(t){console.log("Loading progress:",t)}},{key:"loadingComplete",value:function(){var t=this;console.log("Loading is complete"),ytgame.game.firstFrameReady(),this.changeAudioState(this.isAudioEnabled()),ytgame.system.onAudioEnabledChange((function(e){t.changeAudioState(e)})),ytgame.system.onResume((function(){iw.resume("platform")}))}},{key:"gameReady",value:function(){ytgame.game.gameReady(),ytgame.system.onPause((function(){iw.pause("platform")}))}},{key:"changeAudioState",value:function(t){t?(k.Z.soundsOn("platform"),k.Z.enabled=!0,this.emit("audioEnabled")):(k.Z.soundsOff("platform"),k.Z.enabled=!1,this.emit("audioDisabled"))}},{key:"isAudioEnabled",value:function(){return ytgame.system.isAudioEnabled()}},{key:"updateScore",value:function(t){ytgame.engagement.sendScore({value:Number(t)})}},{key:"saveData",value:(s=Y(z().mark((function t(e,r){return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.storage.setItem(e,r);case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return s.apply(this,arguments)})},{key:"getSavedData",value:(a=Y(z().mark((function t(){var e,r=arguments;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:null,t.abrupt("return",this.storage.getItems(e));case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"performHaptic",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;window.navigator&&window.navigator.vibrate&&window.navigator.vibrate(t)}},{key:"isMobile",value:function(){var t=navigator.userAgent;return/android|iphone|kindle|ipad/i.test(t)}},{key:"getLanguage",value:(o=Y(z().mark((function t(){return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ytgame.system.getLanguage();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}],n&&X(r.prototype,n),i&&X(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i,o,a,s,u}(o());const $=J;var tt=r(678);const et=JSON.parse('{"S":"auto","j":{"PLAY NOW":{"en":"PLAY NOW"}}}');var rt=r(8220),nt=r(6133),it=r(9466);function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function at(){at=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==ot(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(ot(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function st(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function ut(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){st(o,n,i,a,s,"next",t)}function s(t){st(o,n,i,a,s,"throw",t)}a(void 0)}))}}function lt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ct(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ct(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ft(n.key),n)}}function ft(t){var e=function(t,e){if("object"!=ot(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ot(e)?e:e+""}function pt(t,e,r){return e=mt(e),function(t,e){if(e&&("object"==ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,dt()?Reflect.construct(e,r||[],mt(t).constructor):e.apply(t,r))}function dt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(dt=function(){return!!t})()}function mt(t){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mt(t)}function yt(t,e){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yt(t,e)}var gt=function(t){function e(t){var r,i=t.text,o=t.buttons,a=t.size,s=void 0===a?{width:400,height:700}:a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=pt(this,e)).root=r.addChild(new n.W2),r.overlay=r.root.addChild(new n.TC),r.overlay.beginFill(0,.6),r.overlay.drawRect(-.5,-.5,1,1),r.overlay.endFill(),r.overlay.interactive=!0;var u=s.width,l=s.height;r.back=r.root.addChild(new n.TC),r.back.lineStyle(3,16777215),r.back.beginFill(2105376,.9),r.back.drawRoundedRect(-u/2,-l/2,u,l,20),r.back.endFill();return r.text=r.root.addChild(new n.xv(i,{fill:"#ffffff",fontSize:46,fontWeight:"bold",letterSpacing:1,lineJoin:"round",stroke:"#000000",strokeThickness:5,align:"center",wordWrap:!0,wordWrapWidth:u-140})),r.text.anchor.set(.5,0),r.text.y=-l/2+70,r.buttons=Object.entries(o).map((function(t,e,n){var i=lt(t,2),o=i[0],a=i[1],s=n.length,c=r.root.addChild(new it.y({content:a}));return c.on("button:click",(function(){r.emit("".concat(o,":click")),r.emit("modal",o)})),c.setAnchor(.5,1),c.position.set(-u/2+70+(e+.5)/s*(u-140),l/2-70),c})),r.root.alpha=0,r.disposeBag.push(A.Z.onOff("resize",r.handleResize,r)),r.handleResize(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}(e,t),r=e,i=[{key:"handleShow",value:(u=ut(at().mark((function t(){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new a.kX(this.root).to({alpha:1},150).start();case 2:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"handleRemove",value:(s=ut(at().mark((function t(){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new a.kX(this.root).to({alpha:0},150).start();case 2:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"waitModalResult",value:function(){var t=this;return new Promise((function(e){t.once("modal",e)}))}},{key:"handleResize",value:function(){var t=A.Z.width,e=A.Z.height;this.overlay.scale.set(t,e)}}],i&&ht(r.prototype,i),o&&ht(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o,s,u}(n.W2);function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}function bt(){bt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==vt(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(vt(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function _t(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}var wt=function(){var t,e=(t=bt().mark((function t(e){var r,i,o,a,s,u,l;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=iw.pixiStageCenter,s=e instanceof n.s$?e:new gt(e),a.addChild(s),u=null!==(r=null===(i=s.handleShow)||void 0===i?void 0:i.call(s))&&void 0!==r?r:Promise.resolve(),t.next=6,s.waitModalResult();case 6:return l=t.sent,t.next=9,u;case 9:return t.next=11,null===(o=s.handleRemove)||void 0===o?void 0:o.call(s);case 11:return s.destroy({children:!0}),t.abrupt("return",l);case 13:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){_t(o,n,i,a,s,"next",t)}function s(t){_t(o,n,i,a,s,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),xt=r(8949),St=r(9842),Tt=r.n(St),Et=r(765);function Ot(t){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(t)}function At(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bt(n.key),n)}}function Pt(t,e,r){return e=Mt(e),function(t,e){if(e&&("object"==Ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ct()?Reflect.construct(e,r||[],Mt(t).constructor):e.apply(t,r))}function Ct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ct=function(){return!!t})()}function Mt(t){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mt(t)}function It(t,e){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},It(t,e)}function jt(t,e,r){return(e=Bt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bt(t){var e=function(t,e){if("object"!=Ot(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ot(e)?e:e+""}var Lt=function(t){function e(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16777215;return At(this,e),(i=Pt(this,e)).target=r,i.points=[],i.points.push({x:0,y:0}),i.view=new n.IE(t,i.points),i.points.pop(),i.addChild(i.view),i.view.tint=o,i.maxPoints=e.MAX_POINTS,i.maxLength=e.MAX_LENGTH,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&It(t,e)}(e,t),r=e,(i=[{key:"reset",value:function(){this.points.length=0}},{key:"ensurePathLength",value:function(){for(var t=0,e=this.points.length-1;e>0;e--){var r=this.points[e],n=this.points[e-1],i=n.x-r.x,o=n.y-r.y,a=Math.sqrt(i*i+o*o);if(t+a>this.maxLength){var s=(this.maxLength-t)/a;n.x=r.x+i*s,n.y=r.y+o*s,this.points.splice(0,e-1);break}t+=a}}},{key:"update",value:function(){this.points.push(this.toLocal(new n.E9(0,0),this.target,new n.E9,!1)),this.ensurePathLength(),this.points.splice(0,this.points.length-this.maxPoints),this.view.geometry.build()}}])&&kt(r.prototype,i),o&&kt(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.W2);function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function qt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nt(n.key),n)}}function Nt(t){var e=function(t,e){if("object"!=Rt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rt(e)?e:e+""}function Ft(t,e,r){return e=Dt(e),function(t,e){if(e&&("object"==Rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Vt()?Reflect.construct(e,r||[],Dt(t).constructor):e.apply(t,r))}function Vt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Vt=function(){return!!t})()}function Dt(t){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dt(t)}function Gt(t,e){return Gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Gt(t,e)}jt(Lt,"MAX_POINTS",1500),jt(Lt,"MAX_LENGTH",2e3);var zt=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Ft(this,e)).target=t,r.trailCore=r.addChild(new Lt(e.trailTailTexture,r.target)),r.trailCore.maxLength=1e3,r.trailHead=r.addChild(new n.jy(e.trailHeadTexture)),r.trailHead.anchor.set(0,.5),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gt(t,e)}(e,t),r=e,o=[{key:"trailTailTexture",get:function(){var t;return null!==(t=this._trailTailTexture)&&void 0!==t?t:this._trailTailTexture=function(){var t=(0,c.Fg)("trails/trail-2").baseTexture.resource.source,e=document.createElement("canvas");e.height=160;var r=t.width-t.height/2;e.width=r/t.height*e.height;var i=e.getContext("2d");return(0,rt.hu)(i),i.drawImage(t,0,0,r,t.height,0,0,e.width,e.height),n.xE.from(e)}()}},{key:"trailHeadTexture",get:function(){var t;return null!==(t=this._trailHeadTexture)&&void 0!==t?t:this._trailHeadTexture=function(){var t=(0,c.Fg)("trails/trail-2").baseTexture.resource.source,e=document.createElement("canvas");e.height=160;var r=t.height/2;e.width=r/t.height*e.height;var i=e.getContext("2d");return(0,rt.hu)(i),i.drawImage(t,t.width-r,0,r,t.height,0,0,e.width,e.height),n.xE.from(e)}()}}],(i=[{key:"reset",value:function(){this.trailCore.reset()}},{key:"update",value:function(){this.trailCore.update(),this.toLocal({x:0,y:0},this.target,this.trailHead.position,!1);var t=this.toLocal({x:1,y:0},this.target),e=t.x-this.trailHead.position.x,r=t.y-this.trailHead.position.y;this.trailHead.rotation=Math.atan2(r,e)+Math.PI}}])&&qt(r.prototype,i),o&&qt(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.W2),Ut=r(2075),Yt=r.n(Ut);function Xt(t){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(t)}function Wt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ht(n.key),n)}}function Ht(t){var e=function(t,e){if("object"!=Xt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xt(e)?e:e+""}function Zt(t,e,r){return e=te(e),function(t,e){if(e&&("object"==Xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Kt()?Reflect.construct(e,r||[],te(t).constructor):e.apply(t,r))}function Kt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Kt=function(){return!!t})()}function Qt(t,e){return Qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qt(t,e)}function Jt(){return Jt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=$t(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Jt.apply(null,arguments)}function $t(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=te(t)););return t}function te(t){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},te(t)}var ee=function(t){function e(t){var r,n,i,o,a,s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Zt(this,e,[t])).emitter=(n=e,i="createEmitter",o=r,s=Jt(te(1&(a=3)?n.prototype:n),i,o),2&a&&"function"==typeof s?function(t){return s.apply(o,t)}:s)([]);return r.emitter.rate=new(Yt().Rate)(1,.01),r.emitter.addInitialize(new(Yt().Body)("effects/FX_particle_0")),r.emitter.addBehaviour(new(Yt().Color)("#FFB117","#FFF734",1/0,Yt().easeLinear)),r.emitter.addInitialize(new(Yt().Life)(.2,.4)),r.emitter.addInitialize(new(Yt().Velocity)(new(Yt().getSpan)(1,5),new(Yt().getSpan)(0,360),"polar")),r.emitter.addInitialize(new(Yt().Position)(new(Yt().CircleZone)(0,0,100))),r.emitter.addBehaviour(new(Yt().Scale)(.5,.1,1/0,Yt().easeLinear)),r.emitter.addBehaviour(new(Yt().Force)(10,0,1/0,Yt().easeLinear)),r.emitter.addBehaviour(new(Yt().Alpha)(1,0,1/0,Yt().easeLinear)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qt(t,e)}(e,t),r=e,(n=[{key:"setEmitterPosition",value:function(t){this.emitter.p.x=t.x,this.emitter.p.y=t.y}},{key:"setIsEmitting",value:function(t){t===this.emitter.stoped&&(t?this.emitter.emit():this.emitter.stop())}}])&&Wt(r.prototype,n),i&&Wt(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(P.Z);function re(t){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(t)}function ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ie(n.key),n)}}function ie(t){var e=function(t,e){if("object"!=re(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==re(e)?e:e+""}function oe(t,e,r){return e=ce(e),function(t,e){if(e&&("object"==re(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ae()?Reflect.construct(e,r||[],ce(t).constructor):e.apply(t,r))}function ae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ae=function(){return!!t})()}function se(t,e){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},se(t,e)}function ue(){return ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=le(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},ue.apply(null,arguments)}function le(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=ce(t)););return t}function ce(t){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ce(t)}var he=function(t){function e(t){var r,n,i,o,a,s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=oe(this,e,[t])).emitter=(n=e,i="createEmitter",o=r,s=ue(ce(1&(a=3)?n.prototype:n),i,o),2&a&&"function"==typeof s?function(t){return s.apply(o,t)}:s)([]);return r.emitter.rate=new(Yt().Rate)(3,.01),r.emitter.addInitialize(new(Yt().Body)("effects/FX_dust_small_0")),r.emitter.addInitialize(new(Yt().Life)(.3,.3)),r.emitter.addInitialize(new(Yt().Velocity)(new(Yt().getSpan)(1,3),90,"polar")),r.emitter.addInitialize(new(Yt().Position)(new(Yt().CircleZone)(0,0,100))),r.emitter.addBehaviour(new(Yt().Color)("#b05da4","#b05da4",1/0,Yt().easeLinear)),r.emitter.addBehaviour(new(Yt().Alpha)(.5,.2,1/0,Yt().easeLinear)),r.emitter.addBehaviour(new(Yt().Scale)(1,3,1/0,Yt().easeLinear)),r.emitter.addBehaviour(new(Yt().RandomDrift)(10,10,.1,1/0,Yt().easeLinear)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&se(t,e)}(e,t),r=e,(n=[{key:"setEmitterPosition",value:function(t){this.emitter.p.x=t.x,this.emitter.p.y=t.y}},{key:"setIsEmitting",value:function(t){t===this.emitter.stoped&&(t?this.emitter.emit():this.emitter.stop())}}])&&ne(r.prototype,n),i&&ne(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(P.Z);function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,de(n.key),n)}}function de(t){var e=function(t,e){if("object"!=fe(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fe(e)?e:e+""}function me(t,e,r){return e=ge(e),function(t,e){if(e&&("object"==fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ye()?Reflect.construct(e,r||[],ge(t).constructor):e.apply(t,r))}function ye(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ye=function(){return!!t})()}function ge(t){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ge(t)}function ve(t,e){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ve(t,e)}var be=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=me(this,e)).target=t,r.shine=r.addChild(new n.jy((0,c.Fg)("effects/fx_shine_medium_2"))),r.shine.anchor.set(.5),r.shine.tint=16757015,r.shine.alpha=.2,r.shine.scale.set(4),r.trailCore=r.addChild(new Lt(e.trailTailTexture,r.target)),r.trailHead=r.addChild(new n.jy(e.trailHeadTexture)),r.trailHead.anchor.set(0,.5),r.dustParticles=new he(r),r.dustParticles.doNotAutoDestroy=!0,r.disposeBag.push(r.dustParticles),r.particles0=new ee(r),r.particles0.doNotAutoDestroy=!0,r.disposeBag.push(r.particles0),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ve(t,e)}(e,t),r=e,o=[{key:"trailTailTexture",get:function(){var t;return null!==(t=this._trailTailTexture)&&void 0!==t?t:this._trailTailTexture=function(){var t=(0,c.Fg)("trails/trail-1").baseTexture.resource.source,e=document.createElement("canvas");e.height=160;var r=t.width-t.height/2;e.width=r/t.height*e.height;var i=e.getContext("2d");return(0,rt.hu)(i),i.drawImage(t,0,0,r,t.height,0,0,e.width,e.height),n.xE.from(e)}()}},{key:"trailHeadTexture",get:function(){var t;return null!==(t=this._trailHeadTexture)&&void 0!==t?t:this._trailHeadTexture=function(){var t=(0,c.Fg)("trails/trail-1").baseTexture.resource.source,e=document.createElement("canvas");e.height=160;var r=t.height/2;e.width=r/t.height*e.height;var i=e.getContext("2d");return(0,rt.hu)(i),i.drawImage(t,t.width-r,0,r,t.height,0,0,e.width,e.height),n.xE.from(e)}()}}],(i=[{key:"reset",value:function(){this.trailCore.reset(),this.shine.alpha=0,this.dustParticles.setIsEmitting(!1),this.particles0.setIsEmitting(!1)}},{key:"update",value:function(){this.trailCore.update(),this.toLocal({x:0,y:0},this.target,this.trailHead.position,!1),this.shine.position.copyFrom(this.trailHead.position);var t=this.toLocal({x:1,y:0},this.target),e=t.x-this.trailHead.position.x,r=t.y-this.trailHead.position.y;this.trailHead.rotation=Math.atan2(r,e)+Math.PI,this.dustParticles.setEmitterPosition(this.trailHead.position),this.dustParticles.setIsEmitting(!0),this.particles0.setEmitterPosition(this.trailHead.position),this.particles0.setIsEmitting(!0)}}])&&pe(r.prototype,i),o&&pe(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.W2);function _e(t){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_e(t)}function we(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xe(n.key),n)}}function xe(t){var e=function(t,e){if("object"!=_e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_e(e)?e:e+""}function Se(t,e,r){return e=ke(e),function(t,e){if(e&&("object"==_e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Te()?Reflect.construct(e,r||[],ke(t).constructor):e.apply(t,r))}function Te(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Te=function(){return!!t})()}function Ee(t,e){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ee(t,e)}function Oe(){return Oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=Ae(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Oe.apply(null,arguments)}function Ae(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=ke(t)););return t}function ke(t){return ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ke(t)}var Pe=function(t){function e(t){var r,n,i,o,a,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Se(this,e,[t])).emitter=(n=e,i="createEmitter",o=r,s=Oe(ke(1&(a=3)?n.prototype:n),i,o),2&a&&"function"==typeof s?function(t){return s.apply(o,t)}:s)([]),r.emitter.rate=new(Yt().Rate)(1,.01),r.emitter.addInitialize(new(Yt().Body)("effects/FX_star_1")),r.emitter.addInitialize(new(Yt().Life)(.5,.8)),r.emitter.addInitialize(new(Yt().Velocity)(new(Yt().getSpan)(1,5),new(Yt().getSpan)(0,360),"polar")),r.emitter.addInitialize(new(Yt().Position)(new(Yt().CircleZone)(0,0,100))),r.emitter.addBehaviour(new(Yt().Scale)(1,.1,1/0,Yt().easeLinear)),r.emitter.addBehaviour(new(Yt().Force)(10,0,1/0,Yt().easeLinear)),r.emitter.addBehaviour(new(Yt().Alpha)(1,0,1/0,Yt().easeLinear)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ee(t,e)}(e,t),r=e,(n=[{key:"setEmitterPosition",value:function(t){this.emitter.p.x=t.x,this.emitter.p.y=t.y}},{key:"setIsEmitting",value:function(t){t===this.emitter.stoped&&(t?this.emitter.emit():this.emitter.stop())}}])&&we(r.prototype,n),i&&we(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(P.Z);function Ce(t){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(t)}function Me(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ie(n.key),n)}}function Ie(t){var e=function(t,e){if("object"!=Ce(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ce(e)?e:e+""}function je(t,e,r){return e=Ne(e),function(t,e){if(e&&("object"==Ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Be()?Reflect.construct(e,r||[],Ne(t).constructor):e.apply(t,r))}function Be(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Be=function(){return!!t})()}function Le(t,e){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Le(t,e)}function Re(){return Re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=qe(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Re.apply(null,arguments)}function qe(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Ne(t)););return t}function Ne(t){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ne(t)}var Fe=function(t){function e(t){var r,n,i,o,a,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=je(this,e,[t])).emitter=(n=e,i="createEmitter",o=r,s=Re(Ne(1&(a=3)?n.prototype:n),i,o),2&a&&"function"==typeof s?function(t){return s.apply(o,t)}:s)([]),r.emitter.rate=new(Yt().Rate)(3,.01),r.emitter.addInitialize(new(Yt().Body)("effects/FX_particle_0")),r.emitter.addBehaviour(new(Yt().Color)("#67f04b","#67f04b",1/0,Yt().easeLinear)),r.emitter.addInitialize(new(Yt().Life)(.5,.8)),r.emitter.addInitialize(new(Yt().Velocity)(new(Yt().getSpan)(1,5),new(Yt().getSpan)(0,360),"polar")),r.emitter.addInitialize(new(Yt().Position)(new(Yt().CircleZone)(0,0,100))),r.emitter.addBehaviour(new(Yt().Scale)(.5,.1,1/0,Yt().easeLinear)),r.emitter.addBehaviour(new(Yt().Force)(10,0,1/0,Yt().easeLinear)),r.emitter.addBehaviour(new(Yt().Alpha)(.4,0,1/0,Yt().easeLinear)),r.emitter.emit(.1),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Le(t,e)}(e,t),r=e,(n=[{key:"setEmitterPosition",value:function(t){this.emitter.p.x=t.x,this.emitter.p.y=t.y}},{key:"setIsEmitting",value:function(t){t===this.emitter.stoped&&(t?this.emitter.emit():this.emitter.stop())}}])&&Me(r.prototype,n),i&&Me(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(P.Z);function Ve(t){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ve(t)}function De(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ge(n.key),n)}}function Ge(t){var e=function(t,e){if("object"!=Ve(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ve(e)?e:e+""}function ze(t,e,r){return e=Ye(e),function(t,e){if(e&&("object"==Ve(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ue()?Reflect.construct(e,r||[],Ye(t).constructor):e.apply(t,r))}function Ue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ue=function(){return!!t})()}function Ye(t){return Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ye(t)}function Xe(t,e){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xe(t,e)}var We=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ze(this,e)).target=t,r.trailCore=r.addChild(new Lt(e.trailTailTexture,r.target)),r.trailHead=r.addChild(new n.jy(e.trailHeadTexture)),r.trailHead.anchor.set(0,.5),r.starsParticles=new Pe(r),r.starsParticles.doNotAutoDestroy=!0,r.disposeBag.push(r.starsParticles),r.particles0=new Fe(r),r.particles0.doNotAutoDestroy=!0,r.disposeBag.push(r.particles0),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xe(t,e)}(e,t),r=e,o=[{key:"trailTailTexture",get:function(){var t;return null!==(t=this._trailTailTexture)&&void 0!==t?t:this._trailTailTexture=function(){var t=(0,c.Fg)("trails/trail-3").baseTexture.resource.source,e=document.createElement("canvas");e.height=160;var r=t.width-t.height/2;e.width=r/t.height*e.height;var i=e.getContext("2d");return(0,rt.hu)(i),i.drawImage(t,0,0,r,t.height,0,0,e.width,e.height),n.xE.from(e)}()}},{key:"trailHeadTexture",get:function(){var t;return null!==(t=this._trailHeadTexture)&&void 0!==t?t:this._trailHeadTexture=function(){var t=(0,c.Fg)("trails/trail-3").baseTexture.resource.source,e=document.createElement("canvas");e.height=160;var r=t.height/2;e.width=r/t.height*e.height;var i=e.getContext("2d");return(0,rt.hu)(i),i.drawImage(t,t.width-r,0,r,t.height,0,0,e.width,e.height),n.xE.from(e)}()}}],(i=[{key:"reset",value:function(){this.trailCore.reset(),this.starsParticles.setIsEmitting(!1),this.particles0.setIsEmitting(!1)}},{key:"update",value:function(){this.trailCore.update(),this.toLocal({x:0,y:0},this.target,this.trailHead.position,!1);var t=this.toLocal({x:1,y:0},this.target),e=t.x-this.trailHead.position.x,r=t.y-this.trailHead.position.y;this.trailHead.rotation=Math.atan2(r,e)+Math.PI,this.starsParticles.setEmitterPosition(this.trailHead.position),this.starsParticles.setIsEmitting(!0),this.particles0.setEmitterPosition(this.trailHead.position),this.particles0.setIsEmitting(!0)}}])&&De(r.prototype,i),o&&De(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.W2);function He(t){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(t)}function Ze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ke(n.key),n)}}function Ke(t){var e=function(t,e){if("object"!=He(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=He(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==He(e)?e:e+""}function Qe(t,e,r){return e=rr(e),function(t,e){if(e&&("object"==He(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Je()?Reflect.construct(e,r||[],rr(t).constructor):e.apply(t,r))}function Je(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Je=function(){return!!t})()}function $e(t,e){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$e(t,e)}function tr(){return tr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=er(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},tr.apply(null,arguments)}function er(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=rr(t)););return t}function rr(t){return rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rr(t)}var nr=function(t){function e(t){var r,n,i,o,a,s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Qe(this,e,[t])).emitter=(n=e,i="createEmitter",o=r,s=tr(rr(1&(a=3)?n.prototype:n),i,o),2&a&&"function"==typeof s?function(t){return s.apply(o,t)}:s)([]);return r.emitter.rate=new(Yt().Rate)(1,.01),r.emitter.addInitialize(new(Yt().Body)("effects/FX_particle_0")),r.emitter.addBehaviour(new(Yt().Color)("#FFFFFF","#64CDF2",1/0,Yt().easeLinear)),r.emitter.addInitialize(new(Yt().Life)(.9,.4)),r.emitter.addInitialize(new(Yt().Velocity)(new(Yt().getSpan)(1,5),new(Yt().getSpan)(0,360),"polar")),r.emitter.addInitialize(new(Yt().Position)(new(Yt().CircleZone)(0,0,100))),r.emitter.addBehaviour(new(Yt().Scale)(new(Yt().getSpan)(.7,.3),.1,1/0,Yt().easeLinear)),r.emitter.addBehaviour(new(Yt().Force)(10,0,1/0,Yt().easeLinear)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$e(t,e)}(e,t),r=e,(n=[{key:"setEmitterPosition",value:function(t){this.emitter.p.x=t.x,this.emitter.p.y=t.y}},{key:"setIsEmitting",value:function(t){t===this.emitter.stoped&&(t?this.emitter.emit():this.emitter.stop())}}])&&Ze(r.prototype,n),i&&Ze(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(P.Z);function ir(t){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(t)}function or(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ar(n.key),n)}}function ar(t){var e=function(t,e){if("object"!=ir(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ir(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ir(e)?e:e+""}function sr(t,e,r){return e=lr(e),function(t,e){if(e&&("object"==ir(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ur()?Reflect.construct(e,r||[],lr(t).constructor):e.apply(t,r))}function ur(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ur=function(){return!!t})()}function lr(t){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lr(t)}function cr(t,e){return cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cr(t,e)}var hr=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=sr(this,e)).target=t,r.trailCore=r.addChild(new Lt(e.trailTailTexture,r.target)),r.trailHead=r.addChild(new n.jy(e.trailHeadTexture)),r.trailHead.anchor.set(0,.5),r.particles0=new nr(r),r.particles0.doNotAutoDestroy=!0,r.disposeBag.push(r.particles0),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cr(t,e)}(e,t),r=e,o=[{key:"trailTailTexture",get:function(){var t;return null!==(t=this._trailTailTexture)&&void 0!==t?t:this._trailTailTexture=function(){var t=(0,c.Fg)("trails/trail-4").baseTexture.resource.source,e=document.createElement("canvas");e.height=160;var r=t.width-t.height/2;e.width=r/t.height*e.height;var i=e.getContext("2d");return(0,rt.hu)(i),i.drawImage(t,0,0,r,t.height,0,0,e.width,e.height),n.xE.from(e)}()}},{key:"trailHeadTexture",get:function(){var t;return null!==(t=this._trailHeadTexture)&&void 0!==t?t:this._trailHeadTexture=function(){var t=(0,c.Fg)("trails/trail-4").baseTexture.resource.source,e=document.createElement("canvas");e.height=160;var r=t.height/2;e.width=r/t.height*e.height;var i=e.getContext("2d");return(0,rt.hu)(i),i.drawImage(t,t.width-r,0,r,t.height,0,0,e.width,e.height),n.xE.from(e)}()}}],(i=[{key:"reset",value:function(){this.trailCore.reset(),this.particles0.setIsEmitting(!1)}},{key:"update",value:function(){this.trailCore.update(),this.toLocal({x:0,y:0},this.target,this.trailHead.position,!1);var t=this.toLocal({x:1,y:0},this.target),e=t.x-this.trailHead.position.x,r=t.y-this.trailHead.position.y;this.trailHead.rotation=Math.atan2(r,e)+Math.PI,this.particles0.setEmitterPosition(this.trailHead.position),this.particles0.setIsEmitting(!0)}}])&&or(r.prototype,i),o&&or(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.W2);function fr(t){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fr(t)}function pr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dr(n.key),n)}}function dr(t){var e=function(t,e){if("object"!=fr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=fr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fr(e)?e:e+""}function mr(t,e,r){return e=gr(e),function(t,e){if(e&&("object"==fr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,yr()?Reflect.construct(e,r||[],gr(t).constructor):e.apply(t,r))}function yr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yr=function(){return!!t})()}function gr(t){return gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gr(t)}function vr(t,e){return vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vr(t,e)}var br=function(t){function e(t){var r,n=t.target;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=mr(this,e)).rainbowTrail=r.addChild(new We(n)),r.defaultTrail=r.addChild(new zt(n)),r.fireTrail=r.addChild(new be(n)),r.waterTrail=r.addChild(new hr(n)),r.disableAllTrails(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vr(t,e)}(e,t),r=e,(n=[{key:"isWaterTrailActive",get:function(){return this.waterTrail.visible},set:function(t){this.waterTrail.visible!==t&&(this.waterTrail.visible=t,this.waterTrail.reset())}},{key:"isFireTrailActive",get:function(){return this.fireTrail.visible},set:function(t){this.fireTrail.visible!==t&&(this.fireTrail.visible=t,this.fireTrail.reset())}},{key:"isDefaultTrailActive",get:function(){return this.defaultTrail.visible},set:function(t){this.defaultTrail.visible!==t&&(this.defaultTrail.visible=t,this.defaultTrail.reset())}},{key:"isRainbowTrailActive",get:function(){return this.rainbowTrail.visible},set:function(t){this.rainbowTrail.visible!==t&&(this.rainbowTrail.visible=t,this.rainbowTrail.reset())}},{key:"disableAllTrails",value:function(){this.isFireTrailActive=!1,this.isDefaultTrailActive=!1,this.isRainbowTrailActive=!1,this.isWaterTrailActive=!1}},{key:"update",value:function(){this.fireTrail.visible&&this.fireTrail.update(),this.waterTrail.visible&&this.waterTrail.update(),this.defaultTrail.visible&&this.defaultTrail.update(),this.rainbowTrail.visible&&this.rainbowTrail.update()}}])&&pr(r.prototype,n),i&&pr(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(n.W2);function _r(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=wr(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function wr(t,e){if(t){if("string"==typeof t)return xr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xr(t,e):void 0}}function xr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Sr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random;return t[Math.floor(e()*t.length)]};var Tr=function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.random(),i=t.reduce((function(t,r){return t+e(r)}),0),o=i*n,a=_r(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(o<=e(s))return s;o-=e(s)}}catch(t){a.e(t)}finally{a.f()}return t[t.length-1]},Er=r(6432);function Or(t){return Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Or(t)}function Ar(t){return function(t){if(Array.isArray(t))return kr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return kr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Pr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qr(n.key),n)}}function Cr(t,e,r){return e=Br(e),function(t,e){if(e&&("object"==Or(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Mr()?Reflect.construct(e,r||[],Br(t).constructor):e.apply(t,r))}function Mr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Mr=function(){return!!t})()}function Ir(){return Ir="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=jr(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Ir.apply(null,arguments)}function jr(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Br(t)););return t}function Br(t){return Br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Br(t)}function Lr(t,e){return Lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lr(t,e)}function Rr(t,e,r){return(e=qr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qr(t){var e=function(t,e){if("object"!=Or(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Or(e)?e:e+""}var Nr=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Rr(t=Cr(this,e,["penguin"]),"currentIdleAnimationCounter",0),Rr(t,"idleAnimationsCounter",3),Rr(t,"endIdleAnimationsCounter",1),Rr(t,"startIdleAnimationsCounter",2),Rr(t,"lastSpecialIdleAnimationType","idle"),Rr(t,"flyAssAnimationsChance",.05),Rr(t,"canShowHappyAnimation",!1),Rr(t,"resultAnimationsChance",.2),Rr(t,"_characterState","beforeJumpDown"),Rr(t,"weightsSum",0),t.trailOriginContainer=new n.W2,t.attachChildToBone("trail",t.trailOriginContainer),t.trailOrigin=t.trailOriginContainer.addChild(new n.W2),t.trailOrigin.x=-70,t.idleAnimationsInfos=[{animationType:"idle_clap",weight:1},{animationType:"idle_fish",weight:1},{animationType:"idle_jump",weight:1},{animationType:"idle_slip",weight:1},{animationType:"idle_twerk",weight:1,sounds:["penguin/rez_twerk"]},{animationType:"crap_jump",weight:.5,sounds:["penguin/penguin_fly_7","penguin/penguin_fly_8","penguin/penguin_fly_1"]},{animationType:"idle_rainbow",weight:1},{animationType:"idle_big_fish",weight:1},{animationType:"idle_dance_hype",weight:1},{animationType:"idle_dance_best_mates",weight:1},{animationType:"idle_dance_backpack_kid",weight:1},{animationType:"idle_dance_orange_juice",weight:1},{animationType:"idle_dance_fresh",weight:1},{animationType:"idle_dance_xxxtantacion",weight:1},{animationType:"idle_poop",weight:1,sounds:["penguin/poop"]},{animationType:"idle_tube",weight:5}];for(var r=0,i=t.idleAnimationsInfos.length;r<i;r++)t.weightsSum+=t.idleAnimationsInfos[r].weight;return t.specialIdleAnimations=t.idleAnimationsInfos.map((function(t){return t.animationType})),t.allFlyAnimations=["fly","fly_centrifuge","fly_star","fly_superman","fly_sexy"],t.specialFlyAnimations=["fly","fly_centrifuge","fly_superman","fly_sexy"],t.assFlyAnimations=["fly_ass","fly_ass_sway"],t.excludedResultAnimationsTypes=["idle_poop","crap_jump"],t.specialRisingAnimations=["braking_to_idle","braking_sit_to_idle","braking_belly_to_idle","braking_ass_to_idle"],t.syncronizedAnimations=["idle_dance_hype","idle_dance_best_mates","idle_dance_backpack_kid","idle_dance_orange_juice","idle_dance_fresh","idle_dance_xxxtantacion","idle_poop"],t.skeleton.setSkinByName("penguin_default"),t.setAnimation("stuck_idle",!0),t.addListener((function(e){t.onAnimationStateComplete(e)}),(function(){})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lr(t,e)}(e,t),r=e,i=[{key:"setAnimation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.state.setAnimation(0,t,e)}},{key:"addAnimation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.state.addAnimation(0,t,e,r)}},{key:"setRandomFlyAnimation",value:function(t){var e,r="none",n=this.getCurrentAnimationName();if("fly_ass"===n||"fly_ass_sway"===n)return Math.random()<=.5?"fly_ass":"fly_ass_sway";if(e=t?Math.random()<=this.flyAssAnimationsChance?this.assFlyAnimations:this.allFlyAnimations:this.specialFlyAnimations,r=n,"ability_ass"===n)r=Math.random()<=.5?"fly_ass":"fly_ass_sway";else if(e.length>1)do{r=Sr(e)}while(r==n);this.setAnimation(r,!0)}},{key:"onCharacterStateChanged",value:function(t,e){this._characterState=e,"finish"===e?("braking_belly"===this.getCurrentAnimationName()?this.setAnimation("braking_belly_to_idle",!1):"braking_ass"===this.getCurrentAnimationName()?this.setAnimation("braking_ass_to_idle",!1):Math.random()<=this.resultAnimationsChance&&("result_idle"===this.getCurrentAnimationName()||"result_idle_sit"===this.getCurrentAnimationName())&&this.setAnimation("braking_to_idle",!1),this.idleAnimationsCounter=this.endIdleAnimationsCounter):"beforeJumpDown"==e&&(this.idleAnimationsCounter=this.startIdleAnimationsCounter)}},{key:"onAnimationStateComplete",value:function(t){var e,r=null===(e=t.animation)||void 0===e?void 0:e.name;if(this.specialIdleAnimations.includes(r)||this.specialRisingAnimations.includes(r)||"appear"===r||"upgrade"===r||"idle_happy"===r)this.setAnimation("idle",!0),this.currentIdleAnimationCounter=0;else if("idle"===r&&(this.currentIdleAnimationCounter++,this.currentIdleAnimationCounter>=this.idleAnimationsCounter)){var n=this.lastSpecialIdleAnimationType;this.idleAnimationsInfos.length>1&&(n=this.calculateNextAnimation(this.idleAnimationsInfos,this.lastSpecialIdleAnimationType)),n&&("crap_jump"===n&&this.emit("crapStarted"),this.syncronizedAnimations.includes(n)&&this.emit("synchronizedAnimationStart",n),this.setAnimation(n,!0),this.lastSpecialIdleAnimationType=n)}}},{key:"calculateNextAnimation",value:function(t,e){var r="idle",n=!1;if(this.canShowHappyAnimation&&"finish"===this._characterState&&(r="idle_happy",this.canShowHappyAnimation=!1,n=!0),!n){var i=Ar(t);"finish"===this._characterState&&this.excludedResultAnimationsTypes.forEach((function(t){i=i.filter((function(e){return e.animationType!==t}))})),i=i.filter((function(t){return t.animationType!==e}));for(var o=Math.random()*this.weightsSum,a=0,s=i.length;a<s;a++){var u=i[a].weight;if(o<=u){r=i[a].animationType;break}o-=u}}return r}},{key:"getCurrentAnimationName",value:function(){var t=this.state.tracks[0];return t&&t.animation?t.animation.name:null}},{key:"onIdealKick",value:function(){this.skeleton.setSkinByName("penguin_naked")}},{key:"update",value:function(t){var r,n,i,o,a;(r=e,n="update",i=this,a=Ir(Br(1&(o=3)?r.prototype:r),n,i),2&o&&"function"==typeof a?function(t){return a.apply(i,t)}:a)([t])}}],o=[{key:"create",value:function(){return new e}}],i&&Pr(r.prototype,i),o&&Pr(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(Er.Z);function Fr(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Vr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Vr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Dr=r(6891);function Gr(t){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gr(t)}function zr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ur(n.key),n)}}function Ur(t){var e=function(t,e){if("object"!=Gr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Gr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gr(e)?e:e+""}function Yr(t,e,r){return e=Wr(e),function(t,e){if(e&&("object"==Gr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Xr()?Reflect.construct(e,r||[],Wr(t).constructor):e.apply(t,r))}function Xr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Xr=function(){return!!t})()}function Wr(t){return Wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wr(t)}function Hr(t,e){return Hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hr(t,e)}var Zr=function(t){function e(t){var r,i=t.target;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Yr(this,e)).target=i;var o=(0,c.Fg)("trails/trail_begin_1");return r.trace=r.addChild(new n.ZT(o,16,16,70,10)),r.trace.width=70,r.trace.visible=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hr(t,e)}(e,t),r=e,(i=[{key:"setPosition",value:function(t,e){this.position.set(t,e),this.trace.visible=!0}},{key:"update",value:function(){var t=Math.abs(this.target.position.x-this.position.x);this.trace.width=t,this.trace.pivot.x=t,this.trace.pivot.y=this.trace.height/2}}])&&zr(r.prototype,i),o&&zr(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.W2);function Kr(t){return Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kr(t)}function Qr(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Jr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Jr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function $r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tn(n.key),n)}}function tn(t){var e=function(t,e){if("object"!=Kr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Kr(e)?e:e+""}var en,rn,nn={},on=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.points=e}return e=t,r=[{key:"duration",get:function(){return this.points[this.points.length-1].time}},{key:"start",get:function(){return this.points[0].time}},{key:"evaluate",value:function(t){if(t<=this.start)return this.points[0].value;if(t>=this.duration)return this.points[this.points.length-1].value;var e,r=null,n=Qr(this.points);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(i.time<=t){var o=this.points[this.points.indexOf(i)+1];if(o&&o.time>=t){r=i;break}}}}catch(t){n.e(t)}finally{n.f()}var a=this.points[this.points.indexOf(r)+1],s=r.time,u=r.value,l=r.outSlope,c=a.time,h=a.value,f=a.inSlope;if(l===1/0&&(l=0),f===1/0&&(f=0),"number"==typeof r.value)return this.calculateValue(t,s,u,l,c,h,f);for(var p in u)nn[p]=this.calculateValue(t,s,u[p],l[p],c,h[p],f[p]);return nn}},{key:"calculateValue",value:function(t,e,r,n,i,o,a){return(e*n+e*a-i*n-i*a-2*r+2*o)/(e*e*e-i*i*i+3*e*i*i-3*e*e*i)*t*t*t+(-e*e*n-2*e*e*a+2*i*i*n+i*i*a-e*i*n+e*i*a+3*e*r-3*e*o+3*r*i-3*i*o)/(e*e*e-i*i*i+3*e*i*i-3*e*e*i)*t*t+(e*e*e*a-i*i*i*n-e*i*i*n-2*e*i*i*a+2*e*e*i*n+e*e*i*a-6*e*r*i+6*e*i*o)/(e*e*e-i*i*i+3*e*i*i-3*e*e*i)*t+(e*i*i*i*n-e*e*i*i*n+e*e*i*i*a-e*e*e*i*a-r*i*i*i+e*e*e*o+3*e*r*i*i-3*e*e*i*o)/(e*e*e-i*i*i+3*e*i*i-3*e*e*i)}}],n=[{key:"evaluate",value:function(e,r){return new t(e).evaluate(r)}}],r&&$r(e.prototype,r),n&&$r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();function an(t){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},an(t)}function sn(t){return function(t){if(Array.isArray(t))return ln(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||un(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(t,e){if(t){if("string"==typeof t)return ln(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ln(t,e):void 0}}function ln(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function cn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_n(n.key),n)}}function fn(t,e,r){return e&&hn(t.prototype,e),r&&hn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pn(t,e,r){return e=mn(e),function(t,e){if(e&&("object"==an(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,dn()?Reflect.construct(e,r||[],mn(t).constructor):e.apply(t,r))}function dn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(dn=function(){return!!t})()}function mn(t){return mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mn(t)}function yn(t,e){return yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yn(t,e)}function gn(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function vn(t,e,r){return(e=_n(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bn(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function _n(t){var e=function(t,e){if("object"!=an(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=an(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==an(e)?e:e+""}function wn(t,e,r){"symbol"==an(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function xn(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?an(t):"null"));return t}var Sn,Tn,En=new WeakMap,On=function(t){function e(){var t;return cn(this,e),vn(t=pn(this,e),"MIN_DELAY_BETWEEN_GROUND_COLLISION_SEC",.15),vn(t,"TIME_BETWEEN_PREDICTIONS_SEC",.1),vn(t,"raycastYShift",5),vn(t,"jumpUpDurationMs",200),vn(t,"jumpUpOffset",200),vn(t,"jumpDownDurationMs",850),vn(t,"gravityAccelerationUpMoving",-1800),vn(t,"gravityAccelerationDownMoving",-2800),vn(t,"gravityCosmosAccelerationUpMoving",-2100),vn(t,"gravityCosmosAccelerationDownMoving",-3400),vn(t,"minYVelocityForSpecialAnimation",3e3),vn(t,"minStickAngleDeg",45),vn(t,"xVelocityForDeath",3e3),vn(t,"deathSlidingDurationSec",1),vn(t,"deathSlidingOffset",St.Vector.create(-1e3,0)),vn(t,"deathSlidingFartOffset",St.Vector.create(-300,0)),vn(t,"deathSlidingFartMaxCount",3),vn(t,"rollingXVelocity",0),vn(t,"rollingFinishVelocity",St.Vector.create(0,0)),vn(t,"rollingFallingHeight",0),vn(t,"rollingFallingVelocity",0),vn(t,"swimmingXVelocity",0),vn(t,"swimmingFinishVelocity",St.Vector.create(0,0)),vn(t,"swimmingCurrentDuration",0),vn(t,"swimmingTotalDuration",0),vn(t,"swimmingDepth",0),vn(t,"swimmingCurve",void 0),vn(t,"swimmingLastPosition",St.Vector.create(0,0)),vn(t,"currentDeathSwimmingDuration",0),vn(t,"deathSwimmingDuration",2),vn(t,"deathSwimmingOffset",St.Vector.create(-500,0)),vn(t,"deathSwimmingStartPosition",St.Vector.create(0,0)),vn(t,"deathSwimmingCurve",new on([{time:0,value:0,inSlope:2,outSlope:2,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{time:1,value:1,inSlope:0,outSlope:0,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334}])),vn(t,"heightToStartDragging",5e3),vn(t,"xVelocityDraggingForCoefficient",1.2),vn(t,"fieryFlyingCharacterMinSpeed",-9e3),vn(t,"minShadowHeight",0),vn(t,"minShadowScale",{x:.4,y:.3}),vn(t,"maxShadowScale",{x:.2,y:.15}),vn(t,"minShadowAlpha",1),vn(t,"maxShadowAlpha",.1),vn(t,"maxShadowHeight",1500),vn(t,"flyingVelocity",St.Vector.create(0,0)),vn(t,"predictedPositions",[]),vn(t,"traceEffect",new Zr({target:t})),vn(t,"jumpDownFinishPosition",St.Vector.create(0,0)),vn(t,"jumpPositionsDifference",St.Vector.create(0,0)),vn(t,"currentJumpDurationMs",0),vn(t,"totalJumpDurationMs",0),vn(t,"jumpStartPosition",St.Vector.create(0,0)),vn(t,"jumpCurveFn",(function(t){return t})),vn(t,"currentDeathSlidingFartMaxCount",0),vn(t,"timeBeforeNextGroundCollisionSec",-1),vn(t,"groundCollisionXPositions",[]),vn(t,"isNeedRecalculatePredictions",!0),vn(t,"buritoBisonAdditionalVelocity",St.Vector.create(0,0)),vn(t,"beforeBuritoBisonAbilityVelocity",St.Vector.create(0,0)),vn(t,"deathType","none"),vn(t,"maxXVelocityToDrag",0),vn(t,"startDraggingVelocity",0),vn(t,"isFlipped",!1),vn(t,"targetMaxXVelocity",0),vn(t,"isMaxVelocityCrossed",!1),vn(t,"currentMaxVelocityTime",0),vn(t,"startMaxXVelocity",0),vn(t,"totalMaxVelocityDecreaseTime",0),vn(t,"deathFallingVelocity",{x:0,y:0}),vn(t,"deathFallingGravityAcceleration",0),vn(t,"deathSlidingStartPosition",St.Vector.create(0,0)),vn(t,"currentDeathSlidingDurationMs",0),vn(t,"currentDeathSlidingOffset",St.Vector.clone(t.deathSlidingOffset)),vn(t,"_isFiery",!1),vn(t,"_isShadowVisible",!1),vn(t,"_isAbilityAvailable",!1),vn(t,"_deathSlidingEffect",null),vn(t,"_isDeathSlidingEffectActive",!1),vn(t,"_snowBallTrail",null),vn(t,"_isSnowBallTrailActive",!1),vn(t,"ability",new(function(){return fn((function t(){cn(this,t),vn(this,"fillingDurationMs",300),vn(this,"acceleration",St.Vector.create(-2300,-5e4)),vn(this,"abilityType","buritoBisonAbility"),vn(this,"part",1),vn(this,"isActive",!1)}),[{key:"isAvailable",get:function(){return(0,Et.Iy)(this.part,1)}},{key:"start",value:function(){this.isAvailable&&(this.isActive=!0,this.part=0)}},{key:"stop",value:function(){this.isActive&&(this.isActive=!1)}},{key:"tick",value:function(t){this.part=Math.min(this.part+t/this.fillingDurationMs,1)}}])}())),vn(t,"tickState",null),gn(t,En,en(t,"beforeJumpDown")),vn(t,"__updatePredictedPositionSprites_sprites",(rn(t),[])),t._shadow=t.addChild(new n.jy((0,c.Fg)("shadow"))),t._shadow.anchor.set(.5),t._shadow.visible=t.isShadowVisible,t.containerBehindSprite=t.addChild(new n.W2),t.sprite=t.addChild(Nr.create()),t.sprite.scale.set(.8,-.8),t.sprite.setAnimation("idle",!0),t.sprite.addListener((function(e){var r,n,i;"hammer_one_shot"!==(null===(r=e.animation)||void 0===r?void 0:r.name)&&"hammer_third_stage"!==(null===(n=e.animation)||void 0===n?void 0:n.name)||t.emit("whackFinished"),"appear"===(null===(i=e.animation)||void 0===i?void 0:i.name)&&(t.state="beforeJumpDown")}),(function(t,e){})),t.__raycastOrigin=t.addChild((new n.TC).beginFill(16711680,1).drawCircle(0,0,15).endFill()),t.__raycastOrigin.position.set(0,t.raycastYShift),t.__raycastOrigin.visible=!1,t.trailsHelper=new br({target:t.sprite.trailOrigin}),t.applyUpgrades(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yn(t,e)}(e,t),fn(e,[{key:"isFiery",get:function(){return this._isFiery},set:function(t){this._isFiery!==t&&(this._isFiery=t,this.trailsHelper.isFireTrailActive=t&&"swimming"!==this.state,this.trailsHelper.isDefaultTrailActive=!t&&("flying"===this.state||"spaceLaunch"===this.state))}},{key:"isFlyingCharacterFiery",get:function(){return this.isFiery},set:function(t){this.isFiery=t}},{key:"isShadowVisible",get:function(){return this._isShadowVisible},set:function(t){this._isShadowVisible!==t&&(this._isShadowVisible=t,this._shadow.visible=this._isShadowVisible)}},{key:"isAbilityAvailable",get:function(){return this._isAbilityAvailable},set:function(t){this._isAbilityAvailable!==t&&(this._isAbilityAvailable=t,this._isAbilityAvailable||this.ability.stop())}},{key:"isDeathSlidingEffectActive",get:function(){return this._isDeathSlidingEffectActive},set:function(t){var e=this;this._isDeathSlidingEffectActive!==t&&(this._isDeathSlidingEffectActive=t,t?(this.traceEffect.setPosition(this.x,0),h.Z.createComponent("effects/FxPenguinCollision").then((function(t){e.isDeathSlidingEffectActive&&(e._deathSlidingEffect||(e.containerBehindSprite.addChild(t),t.scale.set(2,-2),e._deathSlidingEffect=t,t.position.set(0,100)))}))):this._deathSlidingEffect&&(this._deathSlidingEffect.destroy({children:!0}),this._deathSlidingEffect=null))}},{key:"isSnowBallTrailActive",get:function(){return this._isSnowBallTrailActive},set:function(t){var e=this;this._isSnowBallTrailActive!==t&&(this._isSnowBallTrailActive=t,t?(this.traceEffect.setPosition(this.x,0),h.Z.createComponent("effects/FxPenguinCollision").then((function(t){e.isSnowBallTrailActive&&(e._snowBallTrail||(e.containerBehindSprite.addChild(t),t.scale.set(2,-2),e._snowBallTrail=t,t.position.set(0,100)))}))):this._snowBallTrail&&(this._snowBallTrail.destroy({children:!0}),this._snowBallTrail=null))}},{key:"isFartAvailable",get:function(){return console.warn("Not implemented IsFartAnimationAvailable"),"deathSliding"===this.state&&this.currentDeathSlidingFartMaxCount<this.deathSlidingFartMaxCount}},{key:"abilityState",get:function(){return"abilityBuritoBison"}},{key:"applyUpgrades",value:function(){this.totalMaxVelocityDecreaseTime=iw.meta.upgrades.maxVelocityDecreaseTime.value,this.targetMaxXVelocity=-Math.abs(iw.meta.upgrades.maxVelocity.value*iw.meta.bats.getBoosterMultiplier("Velocity")),this.maxXVelocityToDrag=this.targetMaxXVelocity*this.xVelocityDraggingForCoefficient}},{key:"fart",value:function(){this.sprite.setAnimation("fart",!1),this.sprite.addAnimation("result_idle",!0),this.currentDeathSlidingOffset.x+=this.deathSlidingFartOffset.x,this.currentDeathSlidingOffset.y+=this.deathSlidingFartOffset.y,this.currentDeathSlidingFartMaxCount+=1,k.Z.replaySingle("penguin/Fart",!1,.5),console.warn("Not implemented play fart particles")}},{key:"currentAbility",get:function(){return this.ability}},{key:"startSwimming",value:function(t,e,r,n,i){"flying"!==this.state&&"deathSliding"!==this.state&&"abilityBuritoBison"!==this.state||(this.swimmingXVelocity=t,this.swimmingFinishVelocity=e,this.swimmingCurrentDuration=0,this.swimmingTotalDuration=r,this.swimmingCurve=n,this.swimmingDepth=i,this.swimmingLastPosition=this.position,this.isFlipped=!0,this.state="swimming",this.trailsHelper.disableAllTrails())}},{key:"startRolling",value:function(t){var e=t.xVelocity,r=t.finishVelocity,n=t.fallingHeight,i=t.maxFallingVelocity,o=t.isFallingImmediately;"flying"===this.state||"abilityBuritoBison"===this.state?(this.ability.isActive&&this.stopAbility(),this.rollingXVelocity=e,this.rollingFinishVelocity=r,this.rollingFallingHeight=n,this.rollingFallingVelocity=Math.min(this.flyingVelocity.y,i),o&&(this.position.y=this.rollingFallingHeight),this.state="rolling"):(0,rt.hu)("Flying character can't roll from state "+this.state)}},{key:"startDeathFalling",value:function(t){var e=t.startVelocity,r=t.gravityAcceleration,n=t.deathTypeParam;"flying"!==this.state&&"abilityBuritoBison"!==this.state||(this.flyingVelocity.x=0,this.flyingVelocity.y=0,this.deathFallingVelocity.x=e.x,this.deathFallingVelocity.y=e.y,this.deathFallingGravityAcceleration=r,this.deathType=n,this.isFlipped=!0,this.state="deathFalling")}},{key:"startAbility",value:function(){!this.isAbilityAvailable||"flying"!==this.state&&"spaceLaunch"!==this.state||(this.ability.start(),this.ability.isActive&&(this.state="abilityBuritoBison",this.buritoBisonAdditionalVelocity.x=0,this.buritoBisonAdditionalVelocity.y=0,this.flyingVelocity.y>0?(this.beforeBuritoBisonAbilityVelocity.y=this.flyingVelocity.y,this.flyingVelocity.y=0):(this.beforeBuritoBisonAbilityVelocity.x=0,this.beforeBuritoBisonAbilityVelocity.y=0)))}},{key:"stopAbility",value:function(){this.ability.stop(),this.isNeedRecalculatePredictions=!0,"abilityBuritoBison"===this.state&&(this.state="flying")}},{key:"state",get:function(){return this._state},set:function(t){if(this._state!==t){switch(this.tickState=null,this.isShadowVisible="swimming"!==t&&"deathSwimming"!==t&&"deathSwimmingSliding"!==t&&"eaten"!==this.deathType&&"stoneStick"!==this.deathType&&"assStick"!==this.deathType&&"iceHillStoneStick"!==this.deathType&&"iceArcherStick"!==this.deathType,this.trailsHelper.isDefaultTrailActive=!this.isFiery&&("flying"===t||"spaceLaunch"===t),this.trailsHelper.isRainbowTrailActive="abilityBuritoBison"===t,this.isAbilityAvailable="flying"===t||"abilityBuritoBison"===t||"spaceLaunch"===t,t){case"beforeJumpDown":this.rotation=0,this.sprite.setAnimation("appear",!1),this.sprite.addAnimation("idle",!0);break;case"jumpDown":this.tickState=this.tickJumpState,this.sprite.setAnimation(Math.random()<=.5?"jump":"jump_diving",!0),k.Z.playSingle(Sr(["penguin/penguin_fly_1","penguin/penguin_fly_7","penguin/penguin_fly_8"]),!1,.5);break;case"spaceLaunch":case"flying":"spaceLaunch"===t?this.tickState=this.tickSpaceLaunchState:"flying"===t&&(this.tickState=this.tickFlyingState);var e=this.flyingVelocity.y>this.minYVelocityForSpecialAnimation;this.sprite.setRandomFlyAnimation(e),this.currentDeathSlidingFartMaxCount>0&&(this.currentDeathSlidingFartMaxCount=0);break;case"abilityBuritoBison":this.tickState=this.tickAbilityBuritoBisonState;break;case"swimming":this.tickState=this.tickSwimmingState,this.sprite.setAnimation(Math.random()<=.5?"swimming":"swimming_fish",!0);break;case"rolling":this.tickState=this.tickRollingState,this.sprite.setAnimation("snowball",!0),this.rotation=0;break;case"deathFalling":this.tickState=this.tickDeathFallingState;break;case"deathSliding":this.tickState=this.tickDeathSlidingState,this.rotation=0,this.y=0,this.deathSlidingStartPosition.x=this.x,this.deathSlidingStartPosition.y=this.y,this.currentDeathSlidingDurationMs=Math.abs(this.flyingVelocity.x)>0?0:1e3*this.deathSlidingDurationSec;var r=this.sprite.getCurrentAnimationName();if("fly_ass"!==r&&"fly_ass_sway"!==r){var n=Math.random();n<=.25?(this.sprite.setAnimation("braking_sit"),this.sprite.addAnimation("result_idle_sit",!0),k.Z.playSingle("penguin/slippy1",!1,.5)):n<=.5?(this.sprite.setAnimation("braking"),this.sprite.addAnimation("result_idle",!0),k.Z.playSingle("penguin/slippy2",!1,.5)):n<=.75?this.sprite.setAnimation("braking_belly",!0):(this.sprite.setAnimation("wiping_sit"),this.sprite.addAnimation("wiping_sit_idle",!0))}else this.sprite.setAnimation("braking_ass",!0);k.Z.replaySingle("penguin/slippy1",!1,.5),this.trailsHelper.disableAllTrails();break;case"deathSwimmingSliding":this.tickState=this.tickDeathSwimmingState,this.deathSwimmingStartPosition=St.Vector.create(this.x,this.y),this.currentDeathSwimmingDuration=0,this.trailsHelper.disableAllTrails();break;case"finish":this.flyingVelocity.x=0,this.flyingVelocity.y=0,this.rotation=0,this.trailsHelper.disableAllTrails()}this.isDeathSlidingEffectActive="deathSliding"===t,this._state=t,this.sprite.onCharacterStateChanged(this,t)}}},{key:"_state",get:function(){return e=this,(t=En).get(bn(t,e));var t,e},set:function(t){var e,r,n;r=this,n=t,(e=En).set(bn(e,r),n)}},{key:"calculateXOffsetForDuration",value:function(t){if(!this.isMaxVelocityCrossed)return t*this.flyingVelocity.x;var e=0,r=(this.targetMaxXVelocity-this.startMaxXVelocity)/this.totalMaxVelocityDecreaseTime,n=Math.min(this.totalMaxVelocityDecreaseTime-this.currentMaxVelocityTime,t);return t-=n,e+=this.flyingVelocity.x*n+r*n*n*.5,e+=t*this.targetMaxXVelocity}},{key:"predictFlyingPositions",value:function(){this.predictedPositions.length=0;var t=St.Vector.create(this.x,this.y),e=this.flyingVelocity.y,r=this.gravityAccelerationUpMoving,n=e>0?Math.abs(e/r):0,i=t.y+e*n+r*n*n*.5,o=this.gravityAccelerationDownMoving,a=0;if(e>0)a=Math.sqrt(Math.abs(2*i/o));else{var s=(0,rt.pZ)(Math.abs(o),2*Math.abs(e),-2*Math.abs(i));(0,rt.hu)(s.length>0,"No roots found"),a=Math.max.apply(Math,sn(s))}for(var u=n+a,l=0;l<u;l+=this.TIME_BETWEEN_PREDICTIONS_SEC){var c=this.calculateXOffsetForDuration(l),h=0,f=(0,Et.uZ)(Math.min(n,l),0,1/0);h+=e*f+r*f*f*.5;var p=(0,Et.uZ)(Math.min(a,l-n),0,1/0);h+=o*p*p*.5,this.predictedPositions.push(St.Vector.create(t.x+c,t.y+h))}this.predictedPositions.push(St.Vector.create(t.x+this.calculateXOffsetForDuration(u),0))}},{key:"__updatePredictedPositionSprites",value:function(){for(var t=Tf.getGrandparentLevel(this),e=0;e<this.predictedPositions.length;e++){var r=this.predictedPositions[e],i=this.__updatePredictedPositionSprites_sprites[e];i||(i=(new n.TC).beginFill(65280,.5).drawCircle(0,0,50).endFill(),this.__updatePredictedPositionSprites_sprites.push(i),t.world.addChild(i)),i.position.set(r.x,r.y),i.visible=!0}for(;e<this.__updatePredictedPositionSprites_sprites.length;e++){this.__updatePredictedPositionSprites_sprites[e].visible=!1}}},{key:"canHitBodyWithBuritoBison",value:function(t){if("abilityBuritoBison"===this.state)return!1;if(!this.isAbilityAvailable)return!1;var e=St.Vector.create(this.flyingVelocity.x,Math.max(this.flyingVelocity.y,0)),r=(0,rt.pZ)(.5*(this.ability.acceleration.y+this.gravityAccelerationDownMoving),e.y,this.y-t.position.y);if(r.length<=0)return!1;var n=Math.max.apply(Math,sn(r)),i=this.x+e.x*n+this.ability.acceleration.x*n*n*.5;return i<=t.bounds.max.x-20&&i>=t.bounds.min.x+20}},{key:"tick",value:function(t){var e;(0,Et.Iy)(this.flyingVelocity.x,0)&&(this.isFiery=!1),this.timeBeforeNextGroundCollisionSec>=0&&(this.timeBeforeNextGroundCollisionSec-=t/1e3),null===(e=this.tickState)||void 0===e||e.call(this,t),this.tickCharacterShadow(t),this.ability.tick(t),this.isNeedRecalculatePredictions&&(this.isNeedRecalculatePredictions=!1,this.predictFlyingPositions()),this.trailsHelper.update(),(this.isDeathSlidingEffectActive||this.isSnowBallTrailActive)&&this.traceEffect.update()}},{key:"tickJumpState",value:function(t){this.currentJumpDurationMs+=t;var e=Math.min(this.currentJumpDurationMs/this.totalJumpDurationMs,1),r=this.jumpCurveFn(e),n={x:this.jumpStartPosition.x+this.jumpPositionsDifference.x*r-this.position.x,y:this.jumpStartPosition.y+this.jumpPositionsDifference.y*r-this.position.y};this.performRaycast(n),"jumpDown"===this.state&&(this.position.x+=n.x,this.position.y+=n.y,e>=1&&this.startJump(!0,this.jumpDownFinishPosition))}},{key:"tickSpaceLaunchState",value:function(t){if(this.y<=this.heightToStartDragging&&this.flyingVelocity.y<0&&((0,Et.Iy)(this.startDraggingVelocity,0)&&(this.startDraggingVelocity=this.flyingVelocity.x),Math.abs(this.startDraggingVelocity)>Math.abs(this.maxXVelocityToDrag))){var e=(0,Et.$O)(0,this.heightToStartDragging,this.y);this.flyingVelocity.x=(0,Et.t7)(this.maxXVelocityToDrag,this.startDraggingVelocity,e)}var r=this.flyingVelocity.y>0?this.gravityCosmosAccelerationUpMoving:this.gravityCosmosAccelerationDownMoving,n=this.calculateFlyingOffset(t,r);this.updateCharacterRotation(this.flyingVelocity),this.performRaycast(n),"spaceLaunch"===this.state&&(this.x+=n.x,this.y+=n.y)}},{key:"tickFlyingState",value:function(t){var e=this.flyingVelocity.y>0?this.gravityAccelerationUpMoving:this.gravityAccelerationDownMoving,r=this.calculateFlyingOffset(t,e);this.updateCharacterRotation(this.flyingVelocity),this.performRaycast(r),"flying"===this.state&&(this.x+=r.x,this.y+=r.y),this.tickMaxVelocityLimiting(t)}},{key:"tickSwimmingState",value:function(t){var e=t/1e3;if(this.swimmingCurrentDuration+e<this.swimmingTotalDuration){this.swimmingCurrentDuration+=e;var r=(0,Et.V2)(this.swimmingCurrentDuration/this.swimmingTotalDuration);(0,rt.hu)(this.swimmingCurve);var n=this.swimmingCurve.evaluate(r);this.position.y=-(1-n)*this.swimmingDepth,this.position.x+=this.swimmingXVelocity*e;var i=St.Vector.create(this.position.x-this.swimmingLastPosition.x,this.position.y-this.swimmingLastPosition.y);this.swimmingLastPosition.x=this.position.x,this.swimmingLastPosition.y=this.position.y,this.updateCharacterRotation(i)}else this.position.y=0,this.flyingVelocity.x=this.swimmingFinishVelocity.x,this.flyingVelocity.y=this.swimmingFinishVelocity.y,this.timeBeforeNextGroundCollisionSec=.15,this.trailsHelper.isWaterTrailActive=!1,this.isFlipped=!1,iw.meta.dailyMissions.addProgress("subzero"),this.state="flying"}},{key:"tickDeathSlidingState",value:function(t){if(this.currentDeathSlidingDurationMs<1e3*this.deathSlidingDurationSec){this.currentDeathSlidingDurationMs+=t;var e=(0,Et.V2)(this.currentDeathSlidingDurationMs/(1e3*this.deathSlidingDurationSec));e=a.oY.Quadratic.Out(e);var r=St.Vector.create(this.deathSlidingStartPosition.x+this.currentDeathSlidingOffset.x*e-this.x,this.deathSlidingStartPosition.y+this.currentDeathSlidingOffset.y*e-this.y);this.performRaycast(r),"deathSliding"===this.state&&(this.x+=r.x,this.y+=r.y)}else this.deathType="slide",this.state="finish"}},{key:"tickAbilityBuritoBisonState",value:function(t){if(this.ability.isActive){var e=St.Vector.create(this.x,this.y),r=St.Vector.create(this.flyingVelocity.x+this.buritoBisonAdditionalVelocity.x,this.flyingVelocity.y+this.buritoBisonAdditionalVelocity.y),n=t/1e3,i=this.gravityAccelerationDownMoving,o=this.ability.acceleration,a=St.Vector.create(r.x*n+o.x*n*n*.5,r.y*n+(o.y+i)*n*n*.5);this.flyingVelocity.y+=i*n,this.buritoBisonAdditionalVelocity.x+=o.x*n,this.buritoBisonAdditionalVelocity.y+=o.y*n,this.performRaycast(a),"stoneStick"!==this.deathType&&"iceArcherStick"!==this.deathType&&"iceHillStoneStick"!==this.deathType&&(this.x=e.x+a.x,this.y=e.y+a.y),this.updateCharacterRotation(r)}}},{key:"tickDeathSwimmingState",value:function(t){var e=t/1e3;if(this.currentDeathSwimmingDuration<this.deathSwimmingDuration){this.currentDeathSwimmingDuration+=e;var r=(0,Et.V2)(this.currentDeathSwimmingDuration/this.deathSwimmingDuration);r=this.deathSwimmingCurve.evaluate(r),this.position.x=this.deathSwimmingStartPosition.x+this.deathSwimmingOffset.x*r,this.position.y=this.deathSwimmingStartPosition.y+this.deathSwimmingOffset.y*r}else this.deathType="eaten",this.state="finish"}},{key:"tickDeathFallingState",value:function(t){var e=this.deathFallingVelocity,r=this.deathFallingGravityAcceleration,n=t/1e3,i=St.Vector.create(e.x*n,e.y*n+r*n*n*.5);e.y+=n*r,this.updateCharacterRotation(e),this.performRaycast(i),"deathFalling"===this.state&&(this.x+=i.x,this.y+=i.y)}},{key:"tickRollingState",value:function(t){var e=t/1e3,r=St.Vector.create(this.rollingXVelocity*e,0);if((0,Et.Iy)(this.position.y,this.rollingFallingHeight))this.isRollingFallingFinished||(this.isRollingFallingFinished=!0,this.isSnowBallTrailActive=!0,this.sprite.setAnimation("snowball_appear"),this.sprite.addAnimation("snowball_idle",!0));else{var n=this.rollingFallingVelocity>0?this.gravityAccelerationUpMoving:this.gravityAccelerationDownMoving;r.y=this.rollingFallingVelocity*e+n*e*e*.5,r.y+this.position.y<this.rollingFallingHeight&&(r.y=this.rollingFallingHeight-this.position.y),this.trailsHelper.disableAllTrails(),this.rollingFallingVelocity+=n*e}this.performRaycast(r),"rolling"===this.state&&this.position.set(this.position.x+r.x,this.position.y+r.y)}},{key:"tickCharacterShadow",value:function(t){if(this.isShadowVisible){var e=(0,Et.$O)(this.minShadowHeight,this.maxShadowHeight,this.position.y);this._shadow.alpha=(0,Et.t7)(this.minShadowAlpha,this.maxShadowAlpha,e),this._shadow.scale.set(2*(0,Et.t7)(this.minShadowScale.x,this.maxShadowScale.x,e),2*(0,Et.t7)(this.minShadowScale.y,this.maxShadowScale.y,e)),this._shadow.rotation=-this.rotation,this._shadow.position.x=Math.sin(this.rotation)*-this.position.y,this._shadow.position.y=Math.cos(this.rotation)*-this.position.y}}},{key:"calculateFlyingOffset",value:function(t,e){var r=St.Vector.create(0,0),n=t/1e3;return r.x=this.flyingVelocity.x*n,r.y=this.flyingVelocity.y*n+e*n*n*.5,this.flyingVelocity.y+=e*n,r}},{key:"tickMaxVelocityLimiting",value:function(t){if(this.isMaxVelocityCrossed)if(this.currentMaxVelocityTime<this.totalMaxVelocityDecreaseTime){var e=(0,Et.V2)(this.currentMaxVelocityTime/this.totalMaxVelocityDecreaseTime);this.flyingVelocity.x=(0,Et.t7)(this.startMaxXVelocity,this.targetMaxXVelocity,e),this.currentMaxVelocityTime+=t/1e3}else this.flyingVelocity.x=this.targetMaxXVelocity,this.isMaxVelocityCrossed=!1}},{key:"collide",value:function(t){var e=t.collider,r=t.point,n={isNextCollideAvailable:!1,isCollidePerformed:!1};if("finish"===this.state)return n;if(!("collidable"in e))return n;var i=e.collidable;if("coin"!==i.type&&"gem"!==i.type&&this.stopAbility(),"ground"===i.type&&(this.timeBeforeNextGroundCollisionSec>0||"deathSliding"===this.state))return n;i.collidePreBegin({flyingCharacter:this,collider:e,point:r}),n.isNextCollideAvailable=i.isNextCollideAvailable,n.isCollidePerformed=!0,"ground"===i.type&&(this.timeBeforeNextGroundCollisionSec=this.MIN_DELAY_BETWEEN_GROUND_COLLISION_SEC,this.groundCollisionXPositions.push(this.x));var o=i.recalculateFlyingVelocity(this.flyingVelocity,this.beforeBuritoBisonAbilityVelocity);if(this.beforeBuritoBisonAbilityVelocity.x=0,this.beforeBuritoBisonAbilityVelocity.y=0,"jumpDown"!==this.state&&"swimming"!==this.state&&"deathFalling"!==this.state&&"ground"===i.type&&Math.abs(o.x)<this.xVelocityForDeath)this.flyingVelocity.x=o.x,this.flyingVelocity.y=o.y,this.state="deathSliding";else if("ground"===i.type&&Math.PI-Math.atan2(o.y,o.x)>=this.minStickAngleDeg/180*Math.PI||"jumpDown"===this.state||"ground"===i.type&&"deathFalling"===this.state){if("jumpDown"===this.state)Math.random()<=1?(this.sprite.setAnimation("stuck_body_front"),this.sprite.addAnimation("stuck_body_front_idle",!0)):(this.sprite.setAnimation("stuck"),this.sprite.addAnimation("stuck_idle",!0));else{var a=Math.random();a<=.33?(this.sprite.setAnimation("stuck_angle"),this.sprite.addAnimation("stuck_angle_idle",!0)):a<=.67?(this.sprite.setAnimation("stuck_angle_butt"),this.sprite.addAnimation("stuck_angle_butt_idle",!0)):(this.sprite.setAnimation("stuck_angle_belly"),this.sprite.addAnimation("stuck_angle_belly_idle",!0))}this.y=0,this.isFlipped&&(this.sprite.scale.x=-1),this.deathType="deathFalling"===this.state?"firTree":"stick",this.state="finish"}else{if("deathSliding"===this.state&&Math.abs(o.x)>this.xVelocityForDeath&&(this.timeBeforeNextGroundCollisionSec=this.MIN_DELAY_BETWEEN_GROUND_COLLISION_SEC,this.state="flying"),this.flyingVelocity.x=o.x,this.flyingVelocity.y=o.y,Math.abs(this.flyingVelocity.x)>Math.abs(this.targetMaxXVelocity)?(this.isMaxVelocityCrossed=!0,this.currentMaxVelocityTime=0,this.startMaxXVelocity=this.flyingVelocity.x):this.isMaxVelocityCrossed=!1,"coin"!==i.type&&"flying"===this.state&&!this.ability.isActive){var s=Math.abs(this.flyingVelocity.y)>this.minYVelocityForSpecialAnimation;this.sprite.setRandomFlyAnimation(s)}i.collidePostBegin({flyingCharacter:this,collider:e,point:r}),"coin"!==i.type&&"gem"!==i.type&&("spaceLaunch"===this.state&&(this.state="flying"),this.isNeedRecalculatePredictions=!0,this.isFiery=this.flyingVelocity.x<=this.fieryFlyingCharacterMinSpeed)}return this.emit("collide",i),n}},{key:"performRaycast",value:function(t){var e,r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=un(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(function(t,e,r,n){for(var i=[],o=Tt().Vector.magnitude(r),a=Tt().Vector.normalise(r),s=new Set,u=0;u<=o+n;u+=n){var l=Math.min(u,o),c=Tt().Vector.create(e.x+a.x*l,e.y+a.y*l),h=Tt().Query.point(t,c);if(0!==h.length){if(u>0)for(var f=0;f<10;f++){var p,d=Math.min(u+n*(f/10-1),o),m=Tt().Vector.create(e.x+a.x*d,e.y+a.y*d),y=Fr(Tt().Query.point(t,m));try{for(y.s();!(p=y.n()).done;){var g=p.value;s.has(g)||(s.add(g),i.push({body:g,point:m}))}}catch(t){y.e(t)}finally{y.f()}}var v,b=Fr(h);try{for(b.s();!(v=b.n()).done;){var _=v.value;s.has(_)||(s.add(_),i.push({body:_,point:c}))}}catch(t){b.e(t)}finally{b.f()}}}return i}(St.Composite.allBodies(Tf.getGrandparentLevel(this).matterWorld),St.Vector.create(this.x,this.y+this.raycastYShift),t,50));try{for(r.s();!(e=r.n()).done;){var n=e.value,i=n.body,o=n.point,a=this.collide({collider:i,point:o}),s=a.isNextCollideAvailable,u=a.isCollidePerformed;if(!s){u&&(t.x=o.x-this.x,t.y=o.y-this.y);break}}}catch(t){r.e(t)}finally{r.f()}}},{key:"calculateYPositionInMomentOfFallingDown",value:function(t){var e=1;this.totalJumpDurationMs>0&&(e=(0,Et.V2)((this.currentJumpDurationMs+t)/this.totalJumpDurationMs));var r=this.jumpCurveFn(e);return this.jumpStartPosition.y+this.jumpPositionsDifference.y*r}},{key:"whackAMole",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t)this.sprite.setAnimation("hammer_one_shot",!1),this.isShadowVisible=!1;else switch(e){case 1:this.sprite.setAnimation("hammer_first_stage",!1),this.sprite.addAnimation("hammer_first_stage_idle",!0);break;case 2:this.sprite.setAnimation("hammer_second_stage",!1),this.sprite.addAnimation("hammer_second_stage_idle",!0),this.isShadowVisible=!1;break;case 3:this.sprite.setAnimation("hammer_third_stage",!1),this.sprite.addAnimation("hammer_third_stage_idle",!0),this.isShadowVisible=!1}k.Z.replaySingle(Sr(["penguin/snow_hit_1","penguin/snow_hit_2"]))}},{key:"jump",value:function(){var t=St.Vector.create(this.position.x,-this.raycastYShift);"beforeJumpDown"===this.state&&(this.jumpDownFinishPosition=St.Vector.clone(t),this.startJump(!1,St.Vector.add(this.position,St.Vector.create(0,this.jumpUpOffset))),this.state="jumpDown")}},{key:"returnToJumpState",value:function(){this.state="beforeJumpDown"}},{key:"startJump",value:function(t,e){var r=t;this.currentJumpDurationMs=0,this.totalJumpDurationMs=r?this.jumpDownDurationMs:this.jumpUpDurationMs,this.jumpCurveFn=r?a.oY.Quadratic.In:a.oY.Cubic.Out,this.jumpStartPosition=this.position.clone(),this.jumpPositionsDifference=St.Vector.create(e.x-this.jumpStartPosition.x,e.y-this.jumpStartPosition.y)}},{key:"kick",value:function(t){this.flyingVelocity.x=t.x,this.flyingVelocity.y=t.y,this.isFiery=this.flyingVelocity.x<=this.fieryFlyingCharacterMinSpeed,this.isNeedRecalculatePredictions=!0,this.state="spaceLaunch"}},{key:"updateCharacterRotation",value:function(t){"flying"!==this.state&&"swimming"!==this.state&&"deathFalling"!==this.state&&"abilityBuritoBison"!==this.state&&"spaceLaunch"!==this.state||(this.rotation=Math.atan2(t.y,t.x),this.isFlipped||(this.rotation+=Math.PI))}},{key:"tryKill",value:function(t,e){var r=!1;switch(t){case"iceHill":r=this._tryKillByIceHill(e);break;case"mooseLegs":case"firTree":"deathSliding"===this.state&&(r=!0,this.flyingVelocity.x=0,this.flyingVelocity.y=0,this.state="finish");break;case"iceArcher":"deathFalling"!==this.state&&(r=!0,this.flyingVelocity.x=0,this.flyingVelocity.y=0,this.x=e.x,this.y=0,this.sprite.state.clearTracks(),this.sprite.setAnimation("result_archer",!0),this.deathType="iceArcherStick",this.state="finish");break;case"stone":r=this._tryKillByStone(e);break;case"mooseAss":"deathFalling"!==this.state&&(r=!0,this.flyingVelocity.x=0,this.flyingVelocity.y=0,this.x=e.x,this.y=e.y,this.deathType="assStick",this.state="finish",this.sprite.visible=!1)}return r}},{key:"_tryKillByIceHill",value:function(t){return"rolling"===this.state?(this.flyingVelocity.x=this.rollingFinishVelocity.x,this.flyingVelocity.y=this.rollingFinishVelocity.y,this.isFiery=!1,this.timeBeforeNextGroundCollisionSec=.15,this.isRollingFallingFinished=!1,this.isSnowBallTrailActive=!1,this.state="flying",!1):"deathSliding"===this.state?(this.flyingVelocity.x=0,this.flyingVelocity.y=0,this.state="finish",!0):"deathFalling"!==this.state&&(this.flyingVelocity.x=0,this.flyingVelocity.y=0,this.deathType="iceHillStoneStick",this.state="finish",this.position.x=t.x,this.position.y=t.y,this.sprite.setAnimation("stuck_stone"),this.sprite.addAnimation("stuck_stone_egg"),this.sprite.addAnimation("stuck_stone_idle",!0),!0)}},{key:"_tryKillByStone",value:function(t){return"deathSliding"===this.state?(this.state="finish",!0):"deathFalling"!==this.state&&(this.deathType="stoneStick",this.state="finish",this.x=t.x,this.y=t.y,this.sprite.setAnimation("stuck_stone"),this.sprite.addAnimation("stuck_stone_egg"),this.sprite.addAnimation("stuck_stone_idle",!0),!0)}},{key:"onKick",value:function(t){"amazing"===t&&this.sprite.onIdealKick()}},{key:"onFlyingCharacterReached",value:function(){"swimming"==this.state&&(this.flyingVelocity.x=0,this.flyingVelocity.y=0,this.state="deathSwimmingSliding")}},{key:"onFlyingCharacterKilled",value:function(){this.sprite.setAnimation("skeleton",!1)}}])}(n.W2),An=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:wn((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||wn(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==an(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},(f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:_n(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return xn(e)===t}:i)}}})(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(On,[],[[xt.LO,1,"_state"]],0,void 0,n.W2).e,kn=(Tn=2,function(t){if(Array.isArray(t))return t}(Sn=An)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(Sn,Tn)||un(Sn,Tn)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());function Pn(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Cn(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Cn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}en=kn[0],rn=kn[1];var Mn,In,jn={},Bn=Tt().Body,Ln=Tt().Common,Rn=Tt().Composite,qn=Tt().Events,Nn=Tt().Vector;Tt().PIXIRender=jn,"undefined"!=typeof window&&(Mn=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout((function(){t(Ln.now())}),1e3/60)},In=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),jn._goodFps=30,jn._goodDelta=1e3/60,jn.create=function(t){var e=Ln.extend({engine:null,parent:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{background:"transparent",wireframeBackground:"transparent",wireframeStrokeStyle:"#00ff00",width:960,height:960,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1}},t);if(!e.parent)throw new Error("PIXIRender.create: options.parent is required");return e.engine=t.engine,e.controller=jn,e.options.showBroadphase=!1,e.container=new n.W2,e.parent.addChild(e.container),e.background=new n.TC,e.container.addChild(e.background),e.graphics=new n.TC,e.container.addChild(e.graphics),e.textsPool=[],e.texts=new n.W2,e.container.addChild(e.texts),e},jn.run=function(t){!function e(r){t.frameRequestId=Mn(e),Dn(t,r),jn.world(t,r),(t.options.showStats||t.options.showDebug)&&jn.stats(t,r),(t.options.showPerformance||t.options.showDebug)&&jn.performance(t,r)}()},jn.stop=function(t){In(t.frameRequestId),t.parent.removeChild(t.container)},jn.world=function(t,e){var r,n,i=Ln.now(),o=t.engine,a=o.world,s=t.graphics,u=t.texts,l=t.options,c=t.timing,h=Rn.allBodies(a),f=Rn.allConstraints(a),p=l.wireframes?l.wireframeBackground:l.background,d={timestamp:o.timing.timestamp};s.clear(),u.removeChildren(),qn.trigger(t,"beforeRender",d),t.currentBackground!==p&&zn(t,p),n=f,r=h,!l.wireframes||o.enableSleeping&&l.showSleeping?jn.bodies(t,r):(l.showConvexHulls&&jn.bodyConvexHulls(t,r),jn.bodyWireframes(t,r)),l.showBounds&&jn.bodyBounds(t,r),(l.showAxes||l.showAngleIndicator)&&jn.bodyAxes(t,r),l.showPositions&&jn.bodyPositions(t,r),l.showVelocity&&jn.bodyVelocity(t,r),l.showIds&&jn.bodyIds(t,r),l.showSeparations&&jn.separations(t,o.pairs.list),l.showCollisions&&jn.collisions(t,o.pairs.list),l.showVertexNumbers&&jn.vertexNumbers(t,r),jn.constraints(t,n),qn.trigger(t,"afterRender",d),c.lastElapsed=Ln.now()-i};var Fn=function(t){var e,r=Pn(t.textsPool);try{for(r.s();!(e=r.n()).done;){if(!(i=e.value).parent)return t.texts.addChild(i),i}}catch(t){r.e(t)}finally{r.f()}var i=new n.xv;return t.texts.addChild(i),t.textsPool.push(i),i};jn.stats=function(t,e){var r,n=t.engine,i=n.world,o=(t.graphics,Rn.allBodies(i)),a=0,s=0;s=-t.options.width/2,r=-t.options.height/2;for(var u=0;u<o.length;u+=1)a+=o[u].parts.length;var l={Part:a,Body:o.length,Cons:Rn.allConstraints(i).length,Comp:Rn.allComposites(i).length,Pair:n.pairs.list.length};for(var c in l){var h=l[c],f=Fn(t);f.style.fill="#aaaaaa",f.style.fontSize=18,f.style.fontFamily="Arial",f.text=c,f.position.set(s+66,r+8);var p=Fn(t);p.style.fill="#eeeeee",p.style.fontSize=18,p.style.fontFamily="Arial",p.text=h,p.position.set(s+66,r+32),s+=66}},jn.performance=function(t){var e,r,n=t.engine,i=t.timing,o=i.deltaHistory,a=i.elapsedHistory,s=i.timestampElapsedHistory,u=i.engineDeltaHistory,l=i.engineUpdatesHistory,c=i.engineElapsedHistory,h=n.timing.lastUpdatesPerFrame,f=n.timing.lastDelta,p=Gn(o),d=Gn(a),m=Gn(u),y=(Gn(l),Gn(c)),g=Gn(s)/p||0,v=(Math.round(p/f),1e3/p||0),b=60;t.graphics;e=-t.options.width/2+10,r=-t.options.height/2+69,jn.status(t,e,r,b,4,o.length,Math.round(v)+" fps",v/Render._goodFps,(function(t){return o[t]/p-1})),jn.status(t,e+12+b,r,b,4,u.length,f.toFixed(2)+" dt",Render._goodDelta/f,(function(t){return u[t]/m-1})),jn.status(t,e+144,r,b,4,c.length,y.toFixed(2)+" ut",1-h*y/Render._goodFps,(function(t){return c[t]/y-1})),jn.status(t,e+216,r,b,4,a.length,d.toFixed(2)+" rt",1-d/Render._goodFps,(function(t){return a[t]/d-1})),jn.status(t,e+288,r,b,4,s.length,g.toFixed(2)+" x",g*g*g,(function(t){return(s[t]/o[t]/g||0)-1}))},jn.status=function(t,e,r,n,i,o,a,s,u){var l=Fn(t);l.style.fill="#eeeeee",l.style.fontSize=18,l.style.fontFamily="Arial",l.position.set(e+n,r-5),l.text=a},jn.constraints=function(t,e){for(var r=t.graphics,n=0;n<e.length;n++){var i=e[n];if(i.render.visible&&i.pointA&&i.pointB){var o,a,s=i.bodyA,u=i.bodyB;o=s?Nn.add(s.position,i.pointA):i.pointA,a=u?Nn.add(u.position,i.pointB):i.pointB,"pin"===i.render.type?(r.lineStyle(i.render.lineWidth,Vn(i.render.strokeStyle)),r.drawCircle(o.x,o.y,3)):(r.lineStyle(i.render.lineWidth,Vn(i.render.strokeStyle)),r.moveTo(o.x,o.y),r.lineTo(a.x,a.y),r.closePath()),i.render.anchors&&(r.beginFill(Vn(i.render.strokeStyle)),r.drawCircle(o.x,o.y,3),r.drawCircle(a.x,a.y,3),r.endFill())}}};var Vn=function(t){return parseInt(t.replace("#",""),16)};jn.bodies=function(t,e){t.engine;var r,n,i,o,a=t.options,s=a.showInternalEdges||!a.wireframes,u=t.graphics;for(i=0;i<e.length;i++)if((r=e[i]).render.visible)for(o=r.parts.length>1?1:0;o<r.parts.length;o++)if((n=r.parts[o]).render.visible){var l=1;if(a.showSleeping&&r.isSleeping?l=.5*n.render.opacity:1!==n.render.opacity&&(l=n.render.opacity),a.wireframes?u.lineStyle(1,a.wireframeStrokeStyle,l):(u.lineStyle(n.render.lineWidth,n.render.strokeStyle,l),u.beginFill(Vn(n.render.fillStyle),l)),n.circleRadius)u.drawCircle(n.position.x,n.position.y,n.circleRadius);else{u.moveTo(n.vertices[0].x,n.vertices[0].y);for(var c=1;c<n.vertices.length;c++)!n.vertices[c-1].isInternal||s?u.lineTo(n.vertices[c].x,n.vertices[c].y):u.moveTo(n.vertices[c].x,n.vertices[c].y),n.vertices[c].isInternal&&!s&&u.moveTo(n.vertices[(c+1)%n.vertices.length].x,n.vertices[(c+1)%n.vertices.length].y);u.lineTo(n.vertices[0].x,n.vertices[0].y)}a.wireframes||u.endFill()}},jn.bodyWireframes=function(t,e){var r,n,i,o,a,s=t.graphics,u=t.options.showInternalEdges;for(i=0;i<e.length;i++)if((r=e[i]).render.visible)for(s.lineStyle(3,Vn(r.render.strokeStyle)),a=r.parts.length>1?1:0;a<r.parts.length;a++){for(n=r.parts[a],s.moveTo(n.vertices[0].x,n.vertices[0].y),o=1;o<n.vertices.length;o++)!n.vertices[o-1].isInternal||u?s.lineTo(n.vertices[o].x,n.vertices[o].y):s.moveTo(n.vertices[o].x,n.vertices[o].y),n.vertices[o].isInternal&&!u&&s.moveTo(n.vertices[(o+1)%n.vertices.length].x,n.vertices[(o+1)%n.vertices.length].y);s.lineTo(n.vertices[0].x,n.vertices[0].y),s.closePath()}},jn.bodyConvexHulls=function(t,e){var r,n,i,o=t.graphics;for(o.lineStyle(1,16777215),n=0;n<e.length;n++)if((r=e[n]).render.visible&&1!==r.parts.length){for(o.moveTo(r.vertices[0].x,r.vertices[0].y),i=1;i<r.vertices.length;i++)o.lineTo(r.vertices[i].x,r.vertices[i].y);o.lineTo(r.vertices[0].x,r.vertices[0].y)}o.closePath()},jn.vertexNumbers=function(t,e){var r,n,i;for(r=0;r<e.length;r++){var o=e[r].parts;for(i=o.length>1?1:0;i<o.length;i++){var a=o[i];for(n=0;n<a.vertices.length;n++){var s=Fn(t);s.style.fill="#ffffff",s.style.fontSize=12,s.style.fontFamily="Arial",s.text=r+"_"+n,s.position.set(a.position.x+.8*(a.vertices[n].x-a.position.x),a.position.y+.8*(a.vertices[n].y-a.position.y))}}}},jn.bodyBounds=function(t,e){var r=t.graphics;t.engine;t.options.wireframes?r.lineStyle(1,16777215,.5):r.lineStyle(1,0,.5);for(var n=0;n<e.length;n++){if(e[n].render.visible)for(var i=e[n].parts,o=i.length>1?1:0;o<i.length;o++){var a=i[o];r.drawRect(a.bounds.min.x,a.bounds.min.y,a.bounds.max.x-a.bounds.min.x,a.bounds.max.y-a.bounds.min.y)}}},jn.bodyAxes=function(t,e){var r,n,i,o,a=t.graphics,s=(t.engine,t.options);for(s.wireframes?a.lineStyle(1,16711680):a.lineStyle(2,16777215,.5),n=0;n<e.length;n++){var u=e[n],l=u.parts;if(u.render.visible)if(s.showAxes)for(i=l.length>1?1:0;i<l.length;i++)for(r=l[i],o=0;o<r.axes.length;o++){var c=r.axes[o];a.moveTo(r.position.x,r.position.y),a.lineTo(r.position.x+20*c.x,r.position.y+20*c.y)}else for(i=l.length>1?1:0;i<l.length;i++)for(r=l[i],o=0;o<r.axes.length;o++)a.moveTo(r.position.x,r.position.y),a.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}a.closePath()},jn.bodyPositions=function(t,e){var r,n,i,o,a=t.graphics;t.engine;for(t.options.wireframes?a.lineStyle(1,16711680):a.lineStyle(1,0,.5),a.beginFill(16750848,.8),i=0;i<e.length;i++)if((r=e[i]).render.visible)for(o=0;o<r.parts.length;o++)n=r.parts[o],a.drawCircle(n.position.x,n.position.y,3);for(i=0;i<e.length;i++)(r=e[i]).render.visible&&a.drawCircle(r.positionPrev.x,r.positionPrev.y,2);a.endFill()},jn.bodyVelocity=function(t,e){var r=t.graphics;r.lineStyle(3,6591981);for(var n=0;n<e.length;n++){var i=e[n];if(i.render.visible){var o=Bn.getVelocity(i);r.moveTo(i.position.x,i.position.y),r.lineTo(i.position.x+o.x,i.position.y+o.y)}}r.closePath()},jn.bodyIds=function(t,e){var r,n;for(r=0;r<e.length;r++)if(e[r].render.visible){var i=e[r].parts;for(n=i.length>1?1:0;n<i.length;n++){var o=i[n],a=Fn(t);a.style.fill="#ffffff",a.style.fontSize=12,a.style.fontFamily="Arial",a.text=o.id,a.position.set(o.position.x-8,o.position.y-10)}}},jn.collisions=function(t,e){var r,n,i,o,a=t.graphics;for(t.options.wireframes?(a.beginFill(16777215,.7),a.lineStyle(1,16777215,.7)):(a.beginFill(16753920),a.lineStyle(1,16753920)),i=0;i<e.length;i++)if((r=e[i]).isActive){n=r.collision;var s=r.activeContacts||r.contacts;for(o=0;o<s.length;o++){var u=s[o].vertex;a.drawRect(u.x-1.5,u.y-1.5,3.5,3.5)}}for(a.endFill(),i=0;i<e.length;i++){if((r=e[i]).isActive)if(n=r.collision,(s=r.activeContacts||r.contacts).length>0){var l=s[0].vertex.x,c=s[0].vertex.y;2===s.length&&(l=(s[0].vertex.x+s[1].vertex.x)/2,c=(s[0].vertex.y+s[1].vertex.y)/2),n.bodyB===n.supports[0].body||!0===n.bodyA.isStatic?a.moveTo(l-16*n.normal.x,c-16*n.normal.y):a.moveTo(l+16*n.normal.x,c+16*n.normal.y),a.lineTo(l,c)}}a.closePath()},jn.separations=function(t,e){var r,n,i,o,a,s=t.graphics;for(t.options.wireframes?s.lineStyle(1,16753920,.5):s.lineStyle(1,16753920),a=0;a<e.length;a++)if((r=e[a]).isActive){i=(n=r.collision).bodyA;var u=1;(o=n.bodyB).isStatic||i.isStatic||(u=.5),o.isStatic&&(u=0),s.moveTo(o.position.x,o.position.y),s.lineTo(o.position.x-n.penetration.x*u,o.position.y-n.penetration.y*u),u=1,o.isStatic||i.isStatic||(u=.5),i.isStatic&&(u=0),s.moveTo(i.position.x,i.position.y),s.lineTo(i.position.x+n.penetration.x*u,i.position.y+n.penetration.y*u)}s.closePath()};var Dn=function(t,e){var r=t.engine,n=t.timing,i=n.historySize,o=r.timing.timestamp;n.delta=e-n.lastTime||jn._goodDelta,n.lastTime=e,n.timestampElapsed=o-n.lastTimestamp||0,n.lastTimestamp=o,n.deltaHistory.unshift(n.delta),n.deltaHistory.length=Math.min(n.deltaHistory.length,i),n.engineDeltaHistory.unshift(r.timing.lastDelta),n.engineDeltaHistory.length=Math.min(n.engineDeltaHistory.length,i),n.timestampElapsedHistory.unshift(n.timestampElapsed),n.timestampElapsedHistory.length=Math.min(n.timestampElapsedHistory.length,i),n.engineUpdatesHistory.unshift(r.timing.lastUpdatesPerFrame),n.engineUpdatesHistory.length=Math.min(n.engineUpdatesHistory.length,i),n.engineElapsedHistory.unshift(r.timing.lastElapsed),n.engineElapsedHistory.length=Math.min(n.engineElapsedHistory.length,i),n.elapsedHistory.unshift(n.lastElapsed),n.elapsedHistory.length=Math.min(n.elapsedHistory.length,i)},Gn=function(t){for(var e=0,r=0;r<t.length;r+=1)e+=t[r];return e/t.length||0},zn=function(t,e){e&&"transparent"!==e?(t.background.beginFill(Vn(e)).drawRect(-1,-1,2,2).endFill(),t.background.width=t.options.width,t.background.height=t.options.height):t.background.clear()};const Un=jn;var Yn=r(9421);function Xn(t){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(t)}function Wn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$n(n.key),n)}}function Hn(t,e,r){return e=Kn(e),function(t,e){if(e&&("object"==Xn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Zn()?Reflect.construct(e,r||[],Kn(t).constructor):e.apply(t,r))}function Zn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Zn=function(){return!!t})()}function Kn(t){return Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kn(t)}function Qn(t,e){return Qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qn(t,e)}function Jn(t,e,r){return(e=$n(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $n(t){var e=function(t,e){if("object"!=Xn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Xn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xn(e)?e:e+""}var ti="aim",ei="strike_lower",ri="strike",ni="strike_upper",ii="miss",oi=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Jn(t=Hn(this,e,["bear"]),"lastSpecialIdleAnimationType","idle"),Jn(t,"currentIdleAnimationCounter",0),Jn(t,"idleAnimationsCounter",3),Jn(t,"specialIdleAnimations",["idle_ass","idle_bat","idle_hulk_hogan","idle_icecream","idle_robot","dance_disco","dance_kalinka"]),Jn(t,"specialBeatingAnimations",["strike_lower","strike","strike_upper"]),Jn(t,"idleAnimationsDisabled",!1),t.skeleton.setSkinByName("default"),t.setAnimation("idle",!0),t.addListener((function(e){t.onAnimationStateComplete(e)}),(function(){})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qn(t,e)}(e,t),function(t,e,r){return e&&Wn(t.prototype,e),r&&Wn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"setAnimation",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.state.setAnimation(0,t,r),"idle_ass"===t?e="bear/bear_scratch":"idle_bat"===t?e="bear/bat_snow":"idle_hulk_hogan"===t?e="bear/hulk":"idle_icecream"===t?e="bear/icecream":"idle_robot"===t&&(e="bear/robot"),e&&k.Z.playSingle(e,!1,.5)}},{key:"addAnimation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.state.addAnimation(0,t,e,r)}},{key:"startIdleAnimations",value:function(){this.idleAnimationsDisabled||(this.setAnimation("idle",!0),this.currentIdleAnimationCounter=0)}},{key:"onAnimationStateComplete",value:function(t){var e,r=null===(e=t.animation)||void 0===e?void 0:e.name;if(this.specialIdleAnimations.includes(r)||"strike_end"===r||"crap_reaction"===r||"joy"===r||"upgrade"===r||"miss"===r||"idle_dance_hype"===r||"idle_dance_best_mates"===r||"idle_dance_backpack_kid"===r||"idle_dance_orange_justice"===r||"idle_dance_fresh"===r||"idle_dance_xxxtantacion"===r)this.startIdleAnimations();else if(this.specialBeatingAnimations.includes(r))this.setAnimation("strike_end",!0);else if("idle"===r){if(this.currentIdleAnimationCounter++,this.currentIdleAnimationCounter>=this.idleAnimationsCounter){var n=this.lastSpecialIdleAnimationType;if(this.specialIdleAnimations.length>1)do{n=Sr(this.specialIdleAnimations)}while(n===this.lastSpecialIdleAnimationType);this.setAnimation(n),this.lastSpecialIdleAnimationType=n}}else"aim"===r&&this.setAnimation("aim_idle",!0)}},{key:"onSynchronizedAnimationStart",value:function(t){switch(t){case"idle_dance_backpack_kid":this.setAnimation("idle_dance_backpack_kid",!1);break;case"idle_dance_fresh":this.setAnimation("idle_dance_fresh",!1);break;case"idle_dance_orange_justice":this.setAnimation("idle_dance_orange_justice",!1);break;case"idle_dance_best_mates":this.setAnimation("idle_dance_best_mates",!1);break;case"idle_dance_hype":this.setAnimation("idle_dance_hype",!1);break;case"idle_dance_xxxtantacion":this.setAnimation("idle_dance_xxxtantacion",!1);break;case"idle_poop":this.setAnimation("idle_poop",!1)}}},{key:"maybeStrike",value:function(){"aim_idle"===this.getCurrentAnimationName()&&this.setAnimation("miss",!1)}},{key:"setBat",value:function(t){this.skeleton.setSkinByName(Yn.y[t].beatingCharacterSkinName)}}],[{key:"create",value:function(){return new e}}])}(Er.Z);function ai(t){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(t)}function si(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pi(n.key),n)}}function ui(t,e,r){return e=ci(e),function(t,e){if(e&&("object"==ai(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,li()?Reflect.construct(e,r||[],ci(t).constructor):e.apply(t,r))}function li(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(li=function(){return!!t})()}function ci(t){return ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ci(t)}function hi(t,e){return hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hi(t,e)}function fi(t,e,r){return(e=pi(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pi(t){var e=function(t,e){if("object"!=ai(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ai(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ai(e)?e:e+""}var di=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),fi(t=ui(this,e),"DELAY_BEFORE_BEAT_ANIMATION_EVENT_MS",100),fi(t,"_delayBeforeNextKickAfterMissingMs",300),fi(t,"isIdealKick",!1),fi(t,"_currentBeatSettings",{beatYOffsets:[100,150,250,550]}),fi(t,"_minBeatAngle",3),fi(t,"_maxBeatAngle",20),fi(t,"_minIdealAngle",9),fi(t,"_maxIdealAngle",14),fi(t,"_idealKickMultiplier",1.5),fi(t,"_delayBeforeKickAvailableMs",0),fi(t,"beatVelocityOverride",void 0),t.sprite=t.addChild(oi.create()),t.sprite.scale.set(.6,-.6),t.sprite.addListener((function(e){var r,n;"hammer_strike"!==(null===(r=e.animation)||void 0===r?void 0:r.name)&&"hammer_first_strike"!==(null===(n=e.animation)||void 0===n?void 0:n.name)||t.emit("shot")}),(function(e,r){switch(r.data.name){case"Strike":t.emit("beat");break;case"Hammer":t.emit("whack")}})),t.disposeBag.push((0,xt.EH)((function(){t.sprite.setBat(iw.meta.bats.selectedBat)}))),t.on("kickType",(function(t){"miss"!==t&&(iw.meta.dailyMissions.addProgress("luckyNumberPenguin"),"amazing"===t&&iw.meta.dailyMissions.addProgress("catapultator"))})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hi(t,e)}(e,t),function(t,e,r){return e&&si(t.prototype,e),r&&si(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"isIdealKickWithYPosition",value:function(t){var e=this._minIdealAngle,r=this._maxIdealAngle,n=this.beatingAngleForYPosition(t);return e<=n&&n<=r}},{key:"playBeatAnimationForYOffset",value:function(t){var e,r;t<=this._currentBeatSettings.beatYOffsets[0]?(e=ii,r=Sr(["bear/bat_whoosh","bear/bat_whoosh_2","bear/bat_whoosh_3"])):t<=this._currentBeatSettings.beatYOffsets[1]?e=ei:t<=this._currentBeatSettings.beatYOffsets[2]?e=ri:t<=this._currentBeatSettings.beatYOffsets[3]?e=ni:(e=ii,r=Sr(["bear/bat_whoosh","bear/bat_whoosh_2","bear/bat_whoosh_3"])),this.isIdealKick&&(k.Z.playSingle("Amazing",!1,.5),k.Z.playSingle("penguin/penguin_amazing_kick",!1,.5),r="bear/bat_big_punch"),this.sprite.setAnimation(e,!1),r||(r=Sr(["bear/bat_punch","bear/bat_punch_2","bear/bat_punch_3"])),k.Z.playSingle(r,!1,.5)}},{key:"whackAMole",value:function(t){var e=this;h.Z.createComponent("effects/FxPenguinStick").then((function(t){e.addChild(t),t.scale.set(1.5,-1.5),t.position.set(-210,50)})),this.sprite.setAnimation(t?"hammer_first_strike":"hammer_strike",!1)}},{key:"whackAMoleAim",value:function(){this.sprite.setAnimation("hammer_aim",!1)}},{key:"whackToIdle",value:function(){this.sprite.setAnimation("hammer_back_to_idle",!1)}},{key:"reactToCrap",value:function(){this.sprite.setAnimation("crap_reaction",!1)}},{key:"disableIdleAnimations",value:function(){this.sprite.idleAnimationsDisabled=!0}},{key:"beatStart",value:function(){this.sprite.setAnimation(ti,!1)}},{key:"beat",value:function(t){this._delayBeforeKickAvailableMs>0||(this._delayBeforeKickAvailableMs=this._delayBeforeNextKickAfterMissingMs,this.isIdealKick=this.isIdealKickWithYPosition(t),this.playBeatAnimationForYOffset(t))}},{key:"getBeatForce",value:function(){return iw.meta.upgrades.beatForce.value*iw.meta.bats.getBoosterMultiplier("BitForce")}},{key:"beatingAngleForYPosition",value:function(t){var e=this._currentBeatSettings.beatYOffsets[0],r=this._currentBeatSettings.beatYOffsets[3],n=-1;if(e<=t&&t<=r){var i=(0,Et.$O)(e,r,t);n=(0,Et.t7)(this._minBeatAngle,this._maxBeatAngle,i)}return n}},{key:"calculateBeatVelocity",value:function(t){if(this.beatVelocityOverride)return this.emit("kickType","normal"),this.beatVelocityOverride;var e=Tt().Vector.create(0,0),r=this._currentBeatSettings.beatYOffsets[0],n=this._currentBeatSettings.beatYOffsets[3];if(r<=t.y&&t.y<=n){var i=this.beatingAngleForYPosition(t.y)*Math.PI/180,o=this.getBeatForce();if(e.x=o*-Math.cos(i),e.y=o*Math.sin(i),this.isIdealKick){if(this.emit("kickType","amazing"),e.x*=this._idealKickMultiplier,e.y*=this._idealKickMultiplier,iw.meta.bats.isBoosterAvailable("BitAmazingForce")){var a=iw.meta.bats.getBoosterMultiplier("BitAmazingForce");e.x*=a,e.y*=a}}else this.emit("kickType","normal")}else e.x=0,e.y=0,this.emit("kickType","miss");return e}},{key:"tick",value:function(t){this._delayBeforeKickAvailableMs>0&&(this._delayBeforeKickAvailableMs-=t)}}])}(n.W2);function mi(t){return mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mi(t)}function yi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Si(n.key),n)}}function vi(t,e,r){return e=_i(e),function(t,e){if(e&&("object"==mi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bi()?Reflect.construct(e,r||[],_i(t).constructor):e.apply(t,r))}function bi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(bi=function(){return!!t})()}function _i(t){return _i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_i(t)}function wi(t,e){return wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wi(t,e)}function xi(t,e,r){return(e=Si(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Si(t){var e=function(t,e){if("object"!=mi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=mi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mi(e)?e:e+""}var Ti=function(t){function e(){var t;yi(this,e);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return xi(t=vi(this,e,[].concat(n)),"type","none"),xi(t,"collisionAction","none"),xi(t,"isNextCollideAvailable",!1),xi(t,"minAngleDeg",10),xi(t,"maxAngleDeg",80),xi(t,"minVelocity",0),xi(t,"maxVelocity",1e3),xi(t,"collideSoundNames",null),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wi(t,e)}(e,t),function(t,e,r){return e&&gi(t.prototype,e),r&&gi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"velocityCurve",value:function(t){return 1}},{key:"collidePreBegin",value:function(t){t.flyingCharacter,t.collider,t.point}},{key:"collidePostBegin",value:function(t){t.flyingCharacter,t.collider,t.point;this.playCollideAudio()}},{key:"playCollideAudio",value:function(){this.collideSoundNames&&k.Z.replaySingle(Sr(this.collideSoundNames),!1,.5)}},{key:"onBoardEndFalling",value:function(t){t.flyingCharacter}},{key:"recalculateFlyingVelocity",value:function(t,e){var r=t;if(r.y>=0)return Tt().Vector.clone(r);var n=Tt().Vector.magnitude(r),i=(0,Et.$O)(this.minVelocity,this.maxVelocity,n);n*=this.velocityCurve(i);var o=(0,Et.uZ)(Math.atan2(r.y,r.x)+Math.PI,this.minAngleDeg/180*Math.PI,this.maxAngleDeg/180*Math.PI);return Tt().Vector.create(-Math.cos(o)*n,Math.sin(o)*n)}}])}(n.W2);function Ei(t){return Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(t)}function Oi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ii(n.key),n)}}function Ai(t,e,r){return e=Pi(e),function(t,e){if(e&&("object"==Ei(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ki()?Reflect.construct(e,r||[],Pi(t).constructor):e.apply(t,r))}function ki(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ki=function(){return!!t})()}function Pi(t){return Pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pi(t)}function Ci(t,e){return Ci=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ci(t,e)}function Mi(t,e,r){return(e=Ii(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ii(t){var e=function(t,e){if("object"!=Ei(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ei(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ei(e)?e:e+""}var ji=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Mi(t=Ai(this,e),"type","ground"),Mi(t,"collisionAction","none"),Mi(t,"isNextCollideAvailable",!1),Mi(t,"minVelocity",0),Mi(t,"maxVelocity",5500),Mi(t,"minAngleDeg",10),Mi(t,"maxAngleDeg",30),Mi(t,"_velocityCurve",new on([{time:0,value:0,inSlope:.07856225,outSlope:.07856225,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.0880597},{time:.63936263,value:.14860302,inSlope:.8182415,outSlope:.8182415,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{time:1.0035527,value:.8038755,inSlope:2.3780355,outSlope:2.3780355,tangentMode:0,weightedMode:0,inWeight:.03432836,outWeight:.33333334}])),Mi(t,"minResultVelocity",Tt().Vector.create(0,0)),Mi(t,"maxResultVelocity",Tt().Vector.create(1e4,1300)),Mi(t,"collideSoundNames",["obstacles/snow_collision_1","obstacles/snow_collision_2","obstacles/snow_collision_3"]),t.composite=Tt().Composite.create();return t.body0=Object.assign(Tt().Bodies.rectangle(0,-1e4,1e9,2e4,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.body0),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ci(t,e)}(e,t),function(t,e,r){return e&&Oi(t.prototype,e),r&&Oi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"velocityCurve",value:function(t){return this._velocityCurve.evaluate(t)}},{key:"currentMaxVelocity",get:function(){return this.maxVelocity*iw.meta.bats.getBoosterMultiplier("Rebound")}},{key:"collidePreBegin",value:function(t){var e=this,r=(t.flyingCharacter,t.collider,t.point);h.Z.createComponent("effects/FxPenguinStick").then((function(t){e.addChild(t),t.scale.set(1.5,-1.5),t.position.set(r.x,r.y)}))}},{key:"collidePostBegin",value:function(t){t.flyingCharacter,t.collider,t.point;k.Z.replaySingle(Sr(["obstacles/snow_hit_1","obstacles/snow_hit_2"]),!1,.5)}},{key:"recalculateFlyingVelocity",value:function(t,e){var r=t,n=Tt().Vector.clone(r);if(r.y<0){var i=Tt().Vector.magnitude(r),o=(0,Et.$O)(this.minVelocity,this.currentMaxVelocity,i);i*=this.velocityCurve(o);var a=this.minAngleDeg/180*Math.PI,s=this.maxAngleDeg/180*Math.PI,u=(0,Et.uZ)(Math.atan2(r.y,r.x)+Math.PI,a,s);n.x=-Math.cos(u)*i,n.y=Math.sin(u)*i}var l=Math.sign,c=Math.abs,h=Math.min,f=Math.max,p=this.minResultVelocity;n.x=l(n.x)*f(c(p.x),c(n.x)),n.y=l(n.y)*f(c(p.y),c(n.y));var d=this.maxResultVelocity;return n.x=l(n.x)*h(c(d.x),c(n.x)),n.y=l(n.y)*h(c(d.y),c(n.y)),n}}])}(Ti);function Bi(t){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(t)}function Li(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zi(n.key),n)}}function Ri(t,e,r){return e=Vi(e),function(t,e){if(e&&("object"==Bi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,qi()?Reflect.construct(e,r||[],Vi(t).constructor):e.apply(t,r))}function qi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(qi=function(){return!!t})()}function Ni(){return Ni="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=Fi(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Ni.apply(null,arguments)}function Fi(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Vi(t)););return t}function Vi(t){return Vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vi(t)}function Di(t,e){return Di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Di(t,e)}function Gi(t,e,r){return(e=zi(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zi(t){var e=function(t,e){if("object"!=Bi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Bi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bi(e)?e:e+""}var Ui=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Gi(t=Ri(this,e),"speedIncreasingVector",Tt().Vector.create(0,0)),Gi(t,"minResultVelocity",Tt().Vector.create(0,0)),Gi(t,"maxResultVelocity",Tt().Vector.create(0,0)),Gi(t,"obstacleType","none"),Gi(t,"leftBorderOffset",0),Gi(t,"rightBorderOffset",0),Gi(t,"leftBorderOffsetBuritoMode",0),Gi(t,"leftBorderMaxOffsetBuritoMode",0),Gi(t,"composite",Tt().Composite.create()),Gi(t,"buritoBisonTutorialData",null),t.disposeBag.push((function(){t.composite.parent&&Tt().Composite.remove(t.composite.parent,t.composite)})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Di(t,e)}(e,t),function(t,e,r){return e&&Li(t.prototype,e),r&&Li(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"leftObstaclePositionX",get:function(){return this.x-this.leftBorderOffset}},{key:"getCurrentSpeedIncreasingVectorUpgraded",value:function(){var t=this.speedIncreasingVector,e=Tt().Vector.clone(t);return e.x*=iw.meta.upgrades.velocityIncreasing.xVelocityMultiplier,e}},{key:"recalculateFlyingVelocity",value:function(t,r){var n=function(t,e,r,n){var i=Ni(Vi(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}(e,"recalculateFlyingVelocity",this,3)([t,r]),i=Math.sign,o=Math.abs,a=Math.min,s=Math.max,u=this.getCurrentSpeedIncreasingVectorUpgraded();n.x=i(n.x)*(o(n.x)+o(u.x)),n.y=i(n.y)*(o(n.y)+o(u.y)+o(r.y));var l=this.minResultVelocity;n.x=i(n.x)*s(o(l.x),o(n.x)),n.y=i(n.y)*s(o(l.y),o(n.y));var c=this.maxResultVelocity;return n.x=i(n.x)*a(o(c.x),o(n.x)),n.y=i(n.y)*a(o(c.y),o(n.y)),n}}],[{key:"isOverlapping",value:function(t,e){var r=t.x-t.leftBorderOffset,n=t.x+t.rightBorderOffset,i=e.x-e.leftBorderOffset;return e.x+e.rightBorderOffset>=r&&n>=i}}])}(Ti);function Yi(t){return Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(t)}function Xi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ji(n.key),n)}}function Wi(t,e,r){return e=Zi(e),function(t,e){if(e&&("object"==Yi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Hi()?Reflect.construct(e,r||[],Zi(t).constructor):e.apply(t,r))}function Hi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Hi=function(){return!!t})()}function Zi(t){return Zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zi(t)}function Ki(t,e){return Ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ki(t,e)}function Qi(t,e,r){return(e=Ji(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ji(t){var e=function(t,e){if("object"!=Yi(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Yi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yi(e)?e:e+""}var $i=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Qi(t=Wi(this,e),"type","walrusCrazy"),Qi(t,"collisionAction","add"),Qi(t,"isNextCollideAvailable",!1),Qi(t,"minAngleDeg",10),Qi(t,"maxAngleDeg",20),Qi(t,"velocityCurve",(function(t){return t*t})),Qi(t,"minVelocity",0),Qi(t,"maxVelocity",3500),Qi(t,"speedIncreasingVector",Tt().Vector.create(1500,1e3)),Qi(t,"tailSpeedIncreasingVector",Tt().Vector.create(1200,900)),Qi(t,"minResultVelocity",Tt().Vector.create(2500,1200)),Qi(t,"maxResultVelocity",Tt().Vector.create(1e6,2e3)),Qi(t,"leftBorderOffset",450),Qi(t,"rightBorderOffset",400),Qi(t,"leftBorderOffsetBuritoMode",1200),Qi(t,"leftBorderMaxOffsetBuritoMode",4800),Qi(t,"collideSoundNames",["obstacles/walrus_1","obstacles/walrus_2"]),t.mainBody=Object.assign(Tt().Bodies.rectangle(0,0,696,174,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.mainBody),Tt().Body.setAngle(t.mainBody,-.3),Tt().Body.setPosition(t.mainBody,{x:-40,y:260}),t.mainBody.render.strokeStyle="#ffffff",t.tailBody=Object.assign(Tt().Bodies.rectangle(0,0,400,90,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.tailBody),Tt().Body.setAngle(t.tailBody,0),Tt().Body.setPosition(t.tailBody,{x:350,y:40}),t.tailBody.render.strokeStyle="#ffffff",t.visual=t.addChild(Er.Z.create("walrus")),t.visual.scale.set(1,-1),t.visual.setAnimation("idle",!0),t.buritoBisonTutorialData={body:t.mainBody,type:"walrusSeal"},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ki(t,e)}(e,t),function(t,e,r){return e&&Xi(t.prototype,e),r&&Xi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"collidePreBegin",value:function(t){t.flyingCharacter;var e=t.collider;t.point;iw.meta.dailyMissions.addProgress("bouncyPengui"),iw.meta.dailyMissions.addProgress("walrusesHunt"),e===this.tailBody?(this.speedIncreasingVector=this.tailSpeedIncreasingVector,this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"collision_tail",!1),this.visual.state.addAnimation(0,"idle",!0,0)):(this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"collision",!1),this.visual.state.addAnimation(0,"idle",!0,0)),Tt().Composite.remove(this.composite,this.tailBody),Tt().Composite.remove(this.composite,this.mainBody)}},{key:"onBoardEndFalling",value:function(t){var e=t.flyingCharacter;Tt().Composite.remove(this.composite,this.tailBody),Tt().Composite.remove(this.composite,this.mainBody),this.position.x>=e.position.x?(this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"run_right",!1)):(this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"run_left",!1))}}])}(Ui);function to(t){return to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(t)}function eo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,so(n.key),n)}}function ro(t,e,r){return e=io(e),function(t,e){if(e&&("object"==to(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,no()?Reflect.construct(e,r||[],io(t).constructor):e.apply(t,r))}function no(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(no=function(){return!!t})()}function io(t){return io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},io(t)}function oo(t,e){return oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oo(t,e)}function ao(t,e,r){return(e=so(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function so(t){var e=function(t,e){if("object"!=to(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=to(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==to(e)?e:e+""}var uo=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ao(t=ro(this,e),"type","chest"),ao(t,"collisionAction","add"),ao(t,"minAngleDeg",10),ao(t,"maxAngleDeg",20),ao(t,"minVelocity",0),ao(t,"maxVelocity",4e3),ao(t,"speedIncreasingVector",Tt().Vector.create(1500,1e3)),ao(t,"minResultVelocity",Tt().Vector.create(3500,1e3)),ao(t,"maxResultVelocity",Tt().Vector.create(1e4,1e4)),ao(t,"isNextCollideAvailable",!1),ao(t,"_velocityCurve",new on([{time:0,value:0,inSlope:.5665884,outSlope:.5665884,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{time:1.001709,value:.7650261,inSlope:2.5540264,outSlope:2.5540264,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334}])),ao(t,"leftBorderOffset",180),ao(t,"rightBorderOffset",215),ao(t,"leftBorderOffsetBuritoMode",600),ao(t,"leftBorderMaxOffsetBuritoMode",1e3),t.mainBody=Object.assign(Tt().Bodies.rectangle(0,0,198,423,{isStatic:!0}),{collidable:t}),Tt().Body.setAngle(t.mainBody,7.4),Tt().Body.setPosition(t.mainBody,{x:35.52,y:130}),Tt().Composite.add(t.composite,t.mainBody),t.mainBody.render.strokeStyle="#000000",t.visual=t.addChild(Er.Z.create("chest_ingame")),t.visual.scale.set(1.5,-1.5),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oo(t,e)}(e,t),function(t,e,r){return e&&eo(t.prototype,e),r&&eo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"velocityCurve",value:function(t){return this._velocityCurve.evaluate(t)}},{key:"collidePostBegin",value:function(t){var e=this;t.flyingCharacter,t.collider,t.point;h.Z.createComponent("effects/FxChestCollision").then((function(t){e.addChild(t),t.scale.set(2,-2)})),Tt().Composite.remove(this.composite,this.mainBody)}}])}(Ui);function lo(t){return lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(t)}function co(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bo(n.key),n)}}function ho(t,e,r){return e=yo(e),function(t,e){if(e&&("object"==lo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,fo()?Reflect.construct(e,r||[],yo(t).constructor):e.apply(t,r))}function fo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fo=function(){return!!t})()}function po(){return po="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=mo(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},po.apply(null,arguments)}function mo(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=yo(t)););return t}function yo(t){return yo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yo(t)}function go(t,e){return go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},go(t,e)}function vo(t,e,r){return(e=bo(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bo(t){var e=function(t,e){if("object"!=lo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=lo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lo(e)?e:e+""}var _o=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),vo(t=ho(this,e),"type","iceArcher"),vo(t,"collisionAction","reset"),vo(t,"isNextCollideAvailable",!1),vo(t,"obstacleType","iceArcher"),vo(t,"minAngleDeg",10),vo(t,"maxAngleDeg",60),vo(t,"velocityCurve",(function(t){return t})),vo(t,"minVelocity",0),vo(t,"maxVelocity",4e3),vo(t,"speedIncreasingVector",Tt().Vector.create(1700,500)),vo(t,"minResultVelocity",Tt().Vector.create(0,0)),vo(t,"maxResultVelocity",Tt().Vector.create(1e6,2600)),vo(t,"leftBorderOffset",600),vo(t,"rightBorderOffset",600),vo(t,"leftBorderOffsetBuritoMode",400),vo(t,"leftBorderMaxOffsetBuritoMode",1200),t.upBody=Object.assign(Tt().Bodies.rectangle(0,0,377,100,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.upBody),Tt().Body.setAngle(t.upBody,6.24),Tt().Body.setPosition(t.upBody,{x:-100,y:499.3711}),t.upBody.render.strokeStyle="#ffffff",t.obstacleBody=Object.assign(Tt().Bodies.rectangle(0,0,508,100,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.obstacleBody),Tt().Body.setAngle(t.obstacleBody,5.096),Tt().Body.setPosition(t.obstacleBody,{x:32,y:222}),t.visual=t.addChild(Er.Z.create("ice_floe")),t.visual.scale.set(1,-1),t.visual.setAnimation("idle",!0),t.archerSpine=t.addChild(Er.Z.create("archer")),t.archerSpine.scale.set(1,-1),t.archerSpine.visible=!1,t.archerSpine.setAnimation("result_archer",!0),t.archerSpine.position.x=55,t.isNegativeCollide=!1,t.buritoBisonTutorialData={body:t.upBody,type:"archer"},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&go(t,e)}(e,t),function(t,e,r){return e&&co(t.prototype,e),r&&co(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"collidePreBegin",value:function(t){var e=this,r=t.flyingCharacter,n=t.collider;t.point;(this.isFlyingCharacterFiery=r.isFiery,n===this.obstacleBody)?(this.isNegativeCollide=!0,r.isFiery?(this.visual.visible=!1,h.Z.createComponent("effects/FxIceDestroy").then((function(t){e.effect=t,e.addChild(e.effect),e.effect.position.y=150})),k.Z.replaySingle("obstacles/ice_floe_crack",!1,.5)):r.tryKill("iceArcher",this.parent.toLocal({x:0,y:0},this.archerSpine))&&"iceArcherStick"===r.deathType&&(this.visual.visible=!1,h.Z.createComponent("effects/FxIceDestroy").then((function(t){e.effect=t,e.addChild(e.effect),e.effect.position.y=150})),this.archerSpine.visible=!0,k.Z.replaySingle("obstacles/ice_floe_crack",!1,.5))):n===this.upBody&&(this.collisionAction="add",this.isNegativeCollide=!1,k.Z.replaySingle("obstacles/ice_break",!1,.5));Tt().Composite.remove(this.composite,this.obstacleBody),Tt().Composite.remove(this.composite,this.upBody)}},{key:"onBoardEndFalling",value:function(t){var e=this,r=t.flyingCharacter;this.isNegativeCollide||(Tt().Composite.remove(this.composite,this.obstacleBody),Tt().Composite.remove(this.composite,this.upBody),this.visual.visible=!1,h.Z.createComponent("effects/FxIceDestroy").then((function(t){e.effect=t,e.addChild(e.effect),e.effect.position.y=150})),this.archerSpine.visible=!0,this.position.x>=r.position.x?this.archerSpine.setAnimation("run_right",!1):this.archerSpine.setAnimation("run_left",!1))}},{key:"recalculateFlyingVelocity",value:function(t,r){return this.isFlyingCharacterFiery&&this.isNegativeCollide?t:this.isNegativeCollide?Tt().Vector.create(0,0):function(t,e,r,n){var i=po(yo(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}(e,"recalculateFlyingVelocity",this,3)([t,r])}}])}(Ui);function wo(t){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(t)}function xo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ko(n.key),n)}}function So(t,e,r){return e=Eo(e),function(t,e){if(e&&("object"==wo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,To()?Reflect.construct(e,r||[],Eo(t).constructor):e.apply(t,r))}function To(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(To=function(){return!!t})()}function Eo(t){return Eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Eo(t)}function Oo(t,e){return Oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oo(t,e)}function Ao(t,e,r){return(e=ko(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ko(t){var e=function(t,e){if("object"!=wo(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=wo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wo(e)?e:e+""}var Po=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ao(t=So(this,e),"type","iceHill"),Ao(t,"collisionAction","add"),Ao(t,"minAngleDeg",10),Ao(t,"maxAngleDeg",20),Ao(t,"velocityCurve",(function(t){return t*t})),Ao(t,"minVelocity",0),Ao(t,"maxVelocity",4e3),Ao(t,"speedIncreasingVector",Tt().Vector.create(1500,1600)),Ao(t,"minResultVelocity",Tt().Vector.create(2500,1800)),Ao(t,"maxResultVelocity",Tt().Vector.create(1e6,3e3)),Ao(t,"minStoneCollisionTransform",Tt().Vector.create(48,116)),Ao(t,"maxStoneCollisionTransform",Tt().Vector.create(-132,117.6)),Ao(t,"minRollingXVelocity",5e3),Ao(t,"minXVelocityForImmediateFalling",12e3),Ao(t,"rollingFallingFinishHeight",0),Ao(t,"rollingFallingMaxVelocity",100),Ao(t,"leftBorderOffset",4370),Ao(t,"rightBorderOffset",300),Ao(t,"leftBorderOffsetBuritoMode",5e3),Ao(t,"leftBorderMaxOffsetBuritoMode",5e3),Ao(t,"isNextCollideAvailable",!1),Ao(t,"_isExitCollision",!1),t.enterBottomBody=Object.assign(Tt().Bodies.circle(-43.5,240.5,260,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.enterBottomBody),t.enterTopBody=Object.assign(Tt().Bodies.circle(-47.5,517.4,104,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.enterTopBody),t.exitBody=Object.assign(Tt().Bodies.rectangle(0,0,280,110,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.exitBody),Tt().Body.setAngle(t.exitBody,5.41052),Tt().Body.setPosition(t.exitBody,{x:-4160,y:60}),t.forceExitBody=Object.assign(Tt().Bodies.rectangle(0,0,160,1e4,{isStatic:!0}),{collidable:t}),t.forceExitBody.render.strokeStyle="#ff0000",t.iceHillEnterVisual=t.addChild(new Dr.Z("obstacles/snowball/snowman_1")),t.iceHillEnterVisual.scale.set(1.3,-1.3),t.iceHillEnterVisual.position.y=338,t.iceHillExitVisual=t.addChild(new Dr.Z("obstacles/snowball/stone")),t.iceHillExitVisual.scale.set(.8,-.8),t.iceHillExitVisual.position.y=120,t.iceHillExitVisual.position.x=-4195,t.buritoBisonTutorialData={body:t.enterBottomBody,type:"snowMan"},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oo(t,e)}(e,t),function(t,e,r){return e&&xo(t.prototype,e),r&&xo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"recalculatePointOnStone",value:function(t){var e=this.exitBody.position,r=(0,Et.uZ)(t.x-e.x,-65,65),n=80-r;return Tt().Vector.create(e.x+r,e.y+n)}},{key:"collidePreBegin",value:function(t){var e=this,r=t.flyingCharacter,n=t.collider,i=t.point;if(r.isFiery&&n===this.exitBody&&"rolling"!==r.state)h.Z.createComponent("effects/FxStoneDestroy").then((function(t){e.addChild(t),t.scale.set(1,-1),t.position.y=100})),Tt().Composite.remove(this.composite,this.exitBody);else if(n===this.exitBody||n===this.forceExitBody){r.tryKill("iceHill",this.recalculatePointOnStone(i))?(this.collisionAction="reset","iceHillStoneStick"===r.deathType&&(h.Z.createComponent("effects/FxStoneCollision").then((function(t){e.addChild(t),t.scale.set(1,-1),t.position.y=100,t.createAnimation("start",!1,!0)})),this.iceHillExitVisual.texture=(0,c.Fg)("obstacles/snowball/stone_cracked"),k.Z.replaySingle("obstacles/stone",!1,.5))):(k.Z.replaySingle("obstacles/ice_break_1",!1,1),h.Z.createComponent("effects/FxSnowballDestroy").then((function(t){e.addChild(t),t.scale.set(1,-1),t.position.x=-4200,t.position.y=100,t.createAnimation("start",!1,!0)})),this._isExitCollision=!0),Tf.getGrandparentLevel(this).shakeCamera({durationMs:300,radius:15}),Tt().Composite.remove(this.composite,this.exitBody),Tt().Composite.remove(this.composite,this.forceExitBody)}else n!==this.enterBottomBody&&n!==this.enterTopBody||(iw.meta.dailyMissions.addProgress("snowmania"),Tt().Composite.remove(this.composite,this.enterBottomBody),Tt().Composite.remove(this.composite,this.enterTopBody))}},{key:"collidePostBegin",value:function(t){var e=this,r=t.flyingCharacter,n=t.collider,i=t.point;n!==this.enterBottomBody&&n!==this.enterTopBody||("flying"===r.state||"abilityBuritoBison"===r.state?(this.iceHillEnterVisual.visible=!1,h.Z.createComponent("effects/FxSnowmanDestroy").then((function(t){e.addChild(t),t.scale.set(1,-1),t.position.y=100,t.createAnimation("start",!1,!0)})),r.startRolling({xVelocity:Math.min(-this.minRollingXVelocity,r.flyingVelocity.x),finishVelocity:this.calculateExitVelocity(r.flyingVelocity),fallingHeight:this.rollingFallingFinishHeight,maxFallingVelocity:this.rollingFallingMaxVelocity,isFallingImmediately:Math.abs(r.flyingVelocity.x)>=this.minXVelocityForImmediateFalling}),Tt().Composite.add(this.composite,this.forceExitBody),Tt().Body.setPosition(this.forceExitBody,this.exitBody.position),Tf.getGrandparentLevel(this).shakeCamera({durationMs:200,radius:15})):"deathSliding"===r.state&&r.tryKill("iceHill",i))}},{key:"calculateExitVelocity",value:function(t){var e=Math.sign,r=Math.abs,n=Math.max,i=Tt().Vector.clone(t);i.y=r(i.y);var o=this.getCurrentSpeedIncreasingVectorUpgraded(),a=Tt().Vector.create(0,0);return a.x=e(i.x)*(r(i.x)+r(o.x)),a.y=r(i.y)+r(o.y),a.x=e(a.x)*n(r(this.minResultVelocity.x),r(a.x)),a.y=e(a.y)*n(r(this.minResultVelocity.y),r(a.y)),a}},{key:"onBoardEndFalling",value:function(t){var e=this,r=t.flyingCharacter;Tt().Composite.remove(this.composite,this.enterBottomBody),Tt().Composite.remove(this.composite,this.enterTopBody),Tt().Composite.remove(this.composite,this.exitBody),Tt().Composite.remove(this.composite,this.forceExitBody),Math.abs(this.position.x-r.position.x)<=1e3&&h.Z.createComponent("effects/FxSnowmanDestroy").then((function(t){e.addChild(t),t.scale.set(1,-1),t.position.y=100,t.createAnimation("start",!1,!0),e.iceHillEnterVisual.visible=!1,k.Z.replaySingle("obstacles/ice_break_1",!1,1)}))}},{key:"recalculateFlyingVelocity",value:function(t,e){return t}}])}(Ui);function Co(t){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Co(t)}function Mo(){Mo=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Co(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Co(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Io(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function jo(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Io(o,n,i,a,s,"next",t)}function s(t){Io(o,n,i,a,s,"throw",t)}a(void 0)}))}}function Bo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vo(n.key),n)}}function Lo(t,e,r){return e=qo(e),function(t,e){if(e&&("object"==Co(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ro()?Reflect.construct(e,r||[],qo(t).constructor):e.apply(t,r))}function Ro(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ro=function(){return!!t})()}function qo(t){return qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qo(t)}function No(t,e){return No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},No(t,e)}function Fo(t,e,r){return(e=Vo(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vo(t){var e=function(t,e){if("object"!=Co(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Co(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Co(e)?e:e+""}var Do=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Fo(t=Lo(this,e),"minSize",.5),Fo(t,"maxSize",1),Fo(t,"isRotatable",!1),Fo(t,"isTurningAvailable",!1),Fo(t,"minSwimmingDuration",2),Fo(t,"maxSwimmingDuration",3),Fo(t,"isPenguinTransformReached",!1),t.sprite=t.addChild(Er.Z.create("piranha")),t.scale.set(Math.random()*(t.maxSize-t.minSize)+t.minSize),t.tweens=[],t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&No(t,e)}(e,t),function(t,e,r){return e&&Bo(t.prototype,e),r&&Bo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"startSwimming",value:(i=jo(Mo().mark((function t(e){var r,n,i,o,s=this;return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.sprite.setAnimation(Sr(["idle","idle_omnomnom"]),!0),this.startPosition?this.position.set(this.startPosition.x,this.startPosition.y):(this.startPosition=this.position.clone(),this.direction=e),e?(i=new a.kX(this.position).to({x:this.position.x+1224},(0,Et.t7)(1e3*this.minSwimmingDuration,1e3*this.maxSwimmingDuration,Math.random())).onStart((function(){s.sprite.scale.set(-s.sprite.scale.x,s.sprite.scale.y)})),o=new a.kX(this.position).to({x:this.position.x},(0,Et.t7)(1e3*this.minSwimmingDuration,1e3*this.maxSwimmingDuration,Math.random())).onStart((function(){s.sprite.scale.set(-s.sprite.scale.x,s.sprite.scale.y)})),i.chain(o),o.chain(i),i.start(),this.tweens.push(i,o),this.disposeBag.push(i,o)):(this.sprite.scale.set(-this.sprite.scale.x,this.sprite.scale.y),r=new a.kX(this.position).to({x:this.position.x-1224},(0,Et.t7)(1e3*this.minSwimmingDuration,1e3*this.maxSwimmingDuration,Math.random())).onStart((function(){s.sprite.scale.set(-s.sprite.scale.x,s.sprite.scale.y)})),n=new a.kX(this.position).to({x:this.position.x},(0,Et.t7)(1e3*this.minSwimmingDuration,1e3*this.maxSwimmingDuration,Math.random())).onStart((function(){s.sprite.scale.set(-s.sprite.scale.x,s.sprite.scale.y)})),r.chain(n),n.chain(r),r.start(),this.tweens.push(r,n),this.disposeBag.push(r,n));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"returnToStartPosition",value:(n=jo(Mo().mark((function t(){var e,r;return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new a.kX(this.position).to({x:null===(e=this.startPosition)||void 0===e?void 0:e.x,y:null===(r=this.startPosition)||void 0===r?void 0:r.y},500).start();case 2:void 0!==this.direction&&this.startSwimming(this.direction);case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"stopTweens",value:function(){this.tweens.forEach((function(t){return t.stop()})),this.tweens=[]}},{key:"attack",value:(r=jo(Mo().mark((function t(e){var r,n=this;return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new a.kX({t:0}).to({t:1},500).start();case 2:return this.stopTweens(),this.sprite.setAnimation("eating",!0),this.sprite.scale.set(1),r=(0,Et.t7)(150,300,Math.random()),t.next=8,new a.kX({t:0}).to({t:1},2e3).onUpdate((function(t){var i=t.t,o=n.parent.toLocal({x:0,y:0},e),a=n.x-o.x,s=n.y-o.y,u=Math.sqrt(a*a+s*s),l=o.x+a/u*r,c=o.y+s/u*r;n.position.x=(0,Et.t7)(n.position.x,l,i),n.position.y=(0,Et.t7)(n.position.y,c,i)})).start();case 8:this.returnToStartPosition();case 9:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})}]);var r,n,i}(n.W2);function Go(t){return Go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(t)}function zo(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Uo(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uo(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Uo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Yo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qo(n.key),n)}}function Xo(t,e,r){return e=Ho(e),function(t,e){if(e&&("object"==Go(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Wo()?Reflect.construct(e,r||[],Ho(t).constructor):e.apply(t,r))}function Wo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Wo=function(){return!!t})()}function Ho(t){return Ho=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ho(t)}function Zo(t,e){return Zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zo(t,e)}function Ko(t,e,r){return(e=Qo(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qo(t){var e=function(t,e){if("object"!=Go(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Go(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Go(e)?e:e+""}var Jo=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ko(t=Xo(this,e),"type","iceHole"),Ko(t,"collisionAction","add"),Ko(t,"minAngleDeg",10),Ko(t,"maxAngleDeg",20),Ko(t,"velocityCurve",a.oY.Sinusoidal.InOut),Ko(t,"minVelocity",0),Ko(t,"maxVelocity",1e3),Ko(t,"speedIncreasingVector",Tt().Vector.create(1e3,1600)),Ko(t,"minResultVelocity",Tt().Vector.create(1e3,400)),Ko(t,"maxResultVelocity",Tt().Vector.create(1e6,3e3)),Ko(t,"leftBorderOffset",4e3),Ko(t,"rightBorderOffset",500),Ko(t,"leftBorderOffsetBuritoMode",5e3),Ko(t,"leftBorderMaxOffsetBuritoMode",5e3),Ko(t,"swimmingCurves",[new on([{time:0,value:1,inSlope:-12.104109,outSlope:-12.104109,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{time:.13453357,value:.023033738,inSlope:1.9421678,outSlope:1.9421678,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{time:.50036246,value:.1,inSlope:-.02771616,outSlope:-.02771616,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{time:.86620593,value:.01331079,inSlope:-1.9109452,outSlope:-1.9109452,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{time:1,value:.8,inSlope:17.14413,outSlope:17.14413,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334}]),new on([{time:0,value:1,inSlope:-12.104109,outSlope:-12.104109,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{time:.19816272,value:.004662156,inSlope:1.9421678,outSlope:1.9421678,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{time:.5227324,value:.1,inSlope:.06631017,outSlope:.06631017,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{time:.86620593,value:.01331079,inSlope:-1.9109452,outSlope:-1.9109452,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{time:1,value:.8,inSlope:17.14413,outSlope:17.14413,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334}])]),Ko(t,"minSwimmingXVelocity",-3e3),Ko(t,"borderKillingXVelocity",4e3),Ko(t,"fakeKillingTransform",Tt().Vector.create(-2419,399)),Ko(t,"killingDurationRange",.55),Ko(t,"swimmingDepth",500),Ko(t,"topRightSwimmingTransform",Tt().Vector.create(-382,291)),Ko(t,"bottomLeftSwimmingTransform",Tt().Vector.create(-2830,969)),Ko(t,"isNextCollideAvailable",!1),t.mainBody=Object.assign(Tt().Bodies.rectangle(0,0,417.0461,156.8,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.mainBody),t.mainBody.render.strokeStyle="#000000",t.pirahnas=[],h.Z.createComponent("IceHoleVisual").then((function(e){t.visual=t.addChild(e),t.visual.scale.set(1,-1),t.visual.position.set(-500,-50),(0,rt.q0)(t.visual,"hole-out").visible=!1,t.exitIceHole=(0,rt.q0)(t.visual,"exitIceHole");for(var r=0;r<7;r++){var n=new Do;n.position.x=(0,Et.t7)(t.bottomLeftSwimmingTransform.x,t.topRightSwimmingTransform.x,Math.random()),n.position.y=(0,Et.t7)(t.bottomLeftSwimmingTransform.y,t.topRightSwimmingTransform.y,Math.random()),n.startSwimming(n.position.x<-1224),(0,rt.q0)(e,"piranhas").addChild(n),t.pirahnas.push(n)}})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zo(t,e)}(e,t),function(t,e,r){return e&&Yo(t.prototype,e),r&&Yo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"recalculateFlyingVelocity",value:function(t,e){return t}},{key:"collidePostBegin",value:function(t){var e=this,r=t.flyingCharacter,i=(t.collider,t.point,this.parent.toLocal({x:0,y:0},this.exitIceHole,void 0,!0).x);this.flyingCharacter=r,r.sprite.visible=!1;var o=r.flyingVelocity,s=Math.sign(o.x)*Math.max(Math.abs(this.minSwimmingXVelocity),Math.abs(o.x)),u=Math.abs((i-r.position.x)/s);o.y=Math.abs(o.y),new a.kX({t:0}).to({t:1},1e3*u).onUpdate((function(t){var n=t.t;n>=.254&&n<.78?(r.sprite.visible=!0,r.trailsHelper.isWaterTrailActive=!0):n>=.78&&!e.isPiranhasKill&&(r.trailsHelper.isWaterTrailActive=!1,r.sprite.visible=!1)})).start();var l=Tt().Vector.create(0,0);if(l.x=Math.sign(o.x)*(Math.abs(o.x)+Math.abs(this.speedIncreasingVector.x)),l.y=Math.sign(o.y)*(Math.abs(o.y)+Math.abs(this.speedIncreasingVector.y)),l.x=Math.sign(l.x)*Math.max(Math.abs(this.minResultVelocity.x),Math.abs(l.x)),l.y=Math.sign(l.y)*Math.max(Math.abs(this.minResultVelocity.y),Math.abs(l.y)),r.startSwimming(s,l,u,Sr(this.swimmingCurves),this.swimmingDepth),this.isPiranhasKill=Math.abs(o.x)<=this.borderKillingXVelocity,this.isPiranhasKill){var c,f=zo(this.pirahnas);try{for(f.s();!(c=f.n()).done;){c.value.attack(r)}}catch(t){f.e(t)}finally{f.f()}new a.kX({t:0}).to({t:1},1e3*this.killingDurationRange).onComplete((function(){r.onFlyingCharacterReached();var t=(0,rt.q0)(e.visual,"blood").addChild(new n.W2);h.Z.createComponent("effects/FxBloodPiranhas").then((function(e){t.addChild(e),t.scale.set(2,2),new a.kX({t:0}).to({t:1},1e3).onUpdate((function(e){e.t;var n=t.parent.toLocal({x:0,y:0},r);t.position.set(n.x,n.y)})).onComplete((function(){h.Z.createComponent("effects/FxBloodLake").then((function(e){t.addChild(e)})),r.onFlyingCharacterKilled()})).start()}))})).start()}else new a.kX({t:0}).to({t:1},1e3*u).onComplete((function(){r.sprite.visible=!0,(0,rt.q0)(e.visual,"hole-out").visible=!0,h.Z.createComponent("effects/FxIceHoleOut").then((function(t){(0,rt.q0)(e.visual,"exitIceHoleEffect").addChild(t)}))})).start();h.Z.createComponent("effects/FxIceHoleIn").then((function(t){(0,rt.q0)(e.visual,"holeIn").addChild(t),t.scale.set(3,3)})),k.Z.replaySingle("obstacles/piranha",!1,.5)}}])}(Ui);function $o(t){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(t)}function ta(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ua(n.key),n)}}function ea(t,e,r){return e=oa(e),function(t,e){if(e&&("object"==$o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ra()?Reflect.construct(e,r||[],oa(t).constructor):e.apply(t,r))}function ra(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ra=function(){return!!t})()}function na(){return na="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=ia(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},na.apply(null,arguments)}function ia(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=oa(t)););return t}function oa(t){return oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oa(t)}function aa(t,e){return aa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},aa(t,e)}function sa(t,e,r){return(e=ua(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ua(t){var e=function(t,e){if("object"!=$o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=$o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$o(e)?e:e+""}var la=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),sa(t=ea(this,e),"type","firTree"),sa(t,"collisionAction","reset"),sa(t,"isNextCollideAvailable",!1),sa(t,"minAngleDeg",10),sa(t,"maxAngleDeg",80),sa(t,"velocityCurve",(function(t){return t})),sa(t,"minVelocity",0),sa(t,"maxVelocity",1e3),sa(t,"leftBorderOffset",235),sa(t,"rightBorderOffset",250),sa(t,"leftBorderOffsetBuritoMode",560),sa(t,"leftBorderMaxOffsetBuritoMode",860),sa(t,"collideSoundNames",["obstacles/tree_touch"]),t.bottomBody=Object.assign(Tt().Bodies.rectangle(0,0,250,331,{isStatic:!0}),{collidable:t}),Tt().Body.setAngle(t.bottomBody,5.34),Tt().Body.setPosition(t.bottomBody,{x:-29,y:90}),Tt().Composite.add(t.composite,t.bottomBody),t.bottomBody.render.strokeStyle="#ffffff",t.middleBody=Object.assign(Tt().Bodies.rectangle(0,0,219.5,239,{isStatic:!0}),{collidable:t}),Tt().Body.setAngle(t.middleBody,5.166),Tt().Body.setPosition(t.middleBody,{x:-29,y:300}),Tt().Composite.add(t.composite,t.middleBody),t.middleBody.render.strokeStyle="#ffffff",t.topBody=Object.assign(Tt().Bodies.rectangle(0,0,188,59,{isStatic:!0}),{collidable:t}),Tt().Body.setAngle(t.topBody,5.166),Tt().Body.setPosition(t.topBody,{x:-10,y:520}),Tt().Composite.add(t.composite,t.topBody),t.topBody.render.strokeStyle="#ffffff",t.topTouchBody=Object.assign(Tt().Bodies.rectangle(0,0,140,82.3,{isStatic:!0}),{collidable:t}),Tt().Body.setAngle(t.topTouchBody,5.166),Tt().Body.setPosition(t.topTouchBody,{x:0,y:700}),Tt().Composite.add(t.composite,t.topTouchBody),t.topTouchBody.render.strokeStyle="#ffffff",t.visual=t.addChild(Er.Z.create("fir_tree")),t.visual.scale.set(.75,-.75),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aa(t,e)}(e,t),function(t,e,r){return e&&ta(t.prototype,e),r&&ta(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"recalculateFlyingVelocity",value:function(t,e){return t}},{key:"collidePreBegin",value:function(t){t.flyingCharacter;var e=t.collider;t.point;e===this.topTouchBody&&(this.isTopTouchTriggered=!0),Tt().Composite.remove(this.composite,this.topTouchBody),Tt().Composite.remove(this.composite,this.topBody),Tt().Composite.remove(this.composite,this.middleBody),Tt().Composite.remove(this.composite,this.bottomBody)}},{key:"collidePostBegin",value:function(t){var r=this,n=t.flyingCharacter,i=t.collider,o=t.point;!function(t,e,r,n){var i=na(oa(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}(e,"collidePostBegin",this,3)([{flyingCharacter:n,collider:i,point:o}]),"flying"===n.state||"abilityBuritoBison"===n.state||"spaceLaunch"===n.state?n.isFiery?(this.visual.visible=!1,h.Z.createComponent("effects/FxFirTreeDestroy").then((function(t){var e=t;r.addChild(e),e.position.y=250,e.scale.set(1,-1)}))):i===this.bottomBody?(this.playCollisionBottomEffect(),n.startDeathFalling({startVelocity:{x:1e3,y:1e3},gravityAcceleration:-2800,deathTypeParam:"firTree"})):i===this.middleBody?(this.playCollisionMiddleEffect(),n.startDeathFalling({startVelocity:{x:1e3,y:1e3},gravityAcceleration:-2800,deathTypeParam:"firTree"})):i===this.topBody?(this.playCollisionTopEffect(),n.startDeathFalling({startVelocity:{x:1e3,y:1e3},gravityAcceleration:-2800,deathTypeParam:"firTree"})):i===this.topTouchBody&&this.playCollisionTopTouchEffect():n.tryKill(this.type,o)}},{key:"onBoardEndFalling",value:function(t){var e=this,r=t.flyingCharacter;Tt().Composite.remove(this.composite,this.topTouchBody),Tt().Composite.remove(this.composite,this.topBody),Tt().Composite.remove(this.composite,this.middleBody),Tt().Composite.remove(this.composite,this.bottomBody),Math.abs(this.position.x-r.position.x)<=1e3&&(this.visual.visible=!1,h.Z.createComponent("effects/FxFirTreeDestroy").then((function(t){var r=t;e.addChild(r),r.position.y=250,r.scale.set(1,-1)})))}},{key:"playCollisionBottomEffect",value:function(){var t=this;this.visual.setAnimation("collision_bottom",!1),h.Z.createComponent("effects/FxFirTreeBottom").then((function(e){var r=e;t.addChild(r),r.position.y=150,r.scale.set(1,-1)}))}},{key:"playCollisionMiddleEffect",value:function(){var t=this;this.visual.setAnimation("collision_middle",!1),h.Z.createComponent("effects/FxFirTreeMiddle").then((function(e){var r=e;t.addChild(r),r.position.y=150,r.scale.set(1,-1)}))}},{key:"playCollisionTopEffect",value:function(){var t=this;this.visual.setAnimation("collision_top",!1),h.Z.createComponent("effects/FxFirTreeTop").then((function(e){var r=e;t.addChild(r),r.position.y=150,r.scale.set(1,-1)}))}},{key:"playCollisionTopTouchEffect",value:function(){var t=this;this.visual.setAnimation("collision",!1),h.Z.createComponent("effects/FxFirTreeSnow").then((function(e){var r=e;t.addChild(r),r.position.y=150,r.scale.set(1,-1)}))}}])}(Ui);function ca(t){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(t)}function ha(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ga(n.key),n)}}function fa(t,e,r){return e=da(e),function(t,e){if(e&&("object"==ca(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,pa()?Reflect.construct(e,r||[],da(t).constructor):e.apply(t,r))}function pa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(pa=function(){return!!t})()}function da(t){return da=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},da(t)}function ma(t,e){return ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ma(t,e)}function ya(t,e,r){return(e=ga(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ga(t){var e=function(t,e){if("object"!=ca(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ca(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ca(e)?e:e+""}var va=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ya(t=fa(this,e),"type","killerWhale"),ya(t,"collisionAction","add"),ya(t,"isNextCollideAvailable",!1),ya(t,"minAngleDeg",10),ya(t,"maxAngleDeg",20),ya(t,"velocityCurve",(function(t){return t*t})),ya(t,"minVelocity",0),ya(t,"maxVelocity",3500),ya(t,"speedIncreasingVector",Tt().Vector.create(1200,800)),ya(t,"minResultVelocity",Tt().Vector.create(2500,1200)),ya(t,"maxResultVelocity",Tt().Vector.create(1e6,2e3)),ya(t,"leftBorderOffset",700),ya(t,"rightBorderOffset",700),ya(t,"leftBorderOffsetBuritoMode",2e3),ya(t,"leftBorderMaxOffsetBuritoMode",6500),ya(t,"isCollisionEnabled",!0),t.mainBody=Object.assign(Tt().Bodies.circle(124.4,123,230.8318,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.mainBody),t.mainBody.render.strokeStyle="#ffffff",t.visual=t.addChild(Er.Z.create("killer_whale")),t.visual.scale.set(1,-1),t.visual.setAnimation("idle",!0),t.timer=new C.Z(4e3,1/0).on("complete",(function(){t.visual.state.clearTracks(),t.visual.setAnimation("idle_bath",!1)})),t.timer.start(),t.disposeBag.push(t.timer),t.buritoBisonTutorialData={body:t.mainBody,type:"killerWhale"},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ma(t,e)}(e,t),function(t,e,r){return e&&ha(t.prototype,e),r&&ha(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"collidePreBegin",value:function(t){t.flyingCharacter,t.collider,t.point;iw.meta.dailyMissions.addProgress("bouncyPengui"),this.timer.stop(),this.visual.state.clearTracks(),this.visual.setAnimation("boom_new",!1),this.isCollisionEnabled=!1,k.Z.replaySingle("obstacles/killer_whale_boom_2",!1,.5),Tt().Composite.remove(this.composite,this.mainBody)}},{key:"onBoardEndFalling",value:function(t){t.flyingCharacter;this.isCollisionEnabled&&(this.timer.stop(),Tt().Composite.remove(this.composite,this.mainBody),this.visual.state.clearTracks(),this.visual.setAnimation("disappear",!1))}}])}(Ui);function ba(t){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(t)}function _a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pa(n.key),n)}}function wa(t,e,r){return e=Oa(e),function(t,e){if(e&&("object"==ba(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xa()?Reflect.construct(e,r||[],Oa(t).constructor):e.apply(t,r))}function xa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xa=function(){return!!t})()}function Sa(t,e,r,n){var i=Ta(Oa(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function Ta(){return Ta="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=Ea(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Ta.apply(null,arguments)}function Ea(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Oa(t)););return t}function Oa(t){return Oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Oa(t)}function Aa(t,e){return Aa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Aa(t,e)}function ka(t,e,r){return(e=Pa(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pa(t){var e=function(t,e){if("object"!=ba(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ba(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ba(e)?e:e+""}var Ca=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ka(t=wa(this,e),"type","killerWhale"),ka(t,"collisionAction","reset"),ka(t,"isNextCollideAvailable",!1),ka(t,"minAngleDeg",10),ka(t,"maxAngleDeg",80),ka(t,"velocityCurve",(function(t){return t})),ka(t,"minVelocity",0),ka(t,"maxVelocity",1e3),ka(t,"speedIncreasingVector",Tt().Vector.create(1700,700)),ka(t,"minResultVelocity",Tt().Vector.create(1200,500)),ka(t,"maxResultVelocity",Tt().Vector.create(1e6,2600)),ka(t,"fallingStartVelocity",Tt().Vector.create(1e3,1e3)),ka(t,"fallingGravityAcceleration",-3e3),ka(t,"leftBorderOffset",0),ka(t,"rightBorderOffset",1e3),ka(t,"leftBorderOffsetBuritoMode",3e3),ka(t,"leftBorderMaxOffsetBuritoMode",5e3),ka(t,"isNegativeCollide",!0),ka(t,"canLeaveOnResult",!0),t.backBody=Object.assign(Tt().Bodies.rectangle(0,0,400,55,{isStatic:!0}),{collidable:t}),Tt().Body.setPosition(t.backBody,{x:45,y:474}),Tt().Composite.add(t.composite,t.backBody),t.backBody.render.strokeStyle="#ffffff",t.assBody=Object.assign(Tt().Bodies.rectangle(0,0,100,175,{isStatic:!0}),{collidable:t}),Tt().Body.setPosition(t.assBody,{x:241,y:363}),Tt().Composite.add(t.composite,t.assBody),t.assBody.render.strokeStyle="#ffffff",t.legBody=Object.assign(Tt().Bodies.rectangle(0,0,50,275,{isStatic:!0}),{collidable:t}),Tt().Body.setPosition(t.legBody,{x:249,y:136}),Tt().Composite.add(t.composite,t.legBody),t.legBody.render.strokeStyle="#ffffff",t.visual=t.addChild(Er.Z.create("elk")),t.visual.scale.set(1,-1),t.visual.setAnimation("idle",!0),t.buritoBisonTutorialData={body:t.backBody,type:"elk"},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aa(t,e)}(e,t),function(t,e,r){return e&&_a(t.prototype,e),r&&_a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"collidePreBegin",value:function(t){var r=t.flyingCharacter,n=t.collider,i=t.point;if(this.isFlyingCharacterFiery=r.isFiery,this.isNegativeCollide=!0,n===this.backBody)this.collisionAction="add",iw.meta.dailyMissions.addProgress("bouncyPengui"),this.visual.state.clearTracks(),this.visual.setAnimation("collision",!1),this.isNegativeCollide=!1,k.Z.replaySingle("obstacles/elk",!1,.5);else if(this.isFlyingCharacterFiery)n===this.assBody?(this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"collision_butt_reaction",!1),this.visual.state.addAnimation(0,"collision_butt_reaction_idle",!0,0)):n===this.legBody&&(this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"collision_legs_reaction",!1),this.visual.state.addAnimation(0,"collision_legs_reaction_idle",!0,0)),this.canLeaveOnResult=!1;else if(n===this.legBody)"flying"===r.state||"abilityBuritoBison"===r.state||"spaceLaunch"===r.state?(this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"collision_legs",!1),this.visual.state.addAnimation(0,"idle",!0,0),r.startDeathFalling({startVelocity:this.fallingStartVelocity,gravityAcceleration:this.fallingGravityAcceleration,deathTypeParam:"mooseLegs"})):r.tryKill("mooseLegs",i),this.isLegCollision=!0,k.Z.replaySingle("obstacles/giraffe_punch_leg",!1,.5);else if(n===this.assBody){var o=Tt().Vector.create(281,324),a=Tt().Vector.create(280,444),s=Tt().Vector.create(i.x,i.y);s.y=Math.min(Math.max(s.y,o.y),a.y),r.tryKill("mooseAss",s),this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"collision_butt",!1),this.canLeaveOnResult=!1,k.Z.replaySingle("obstacles/elk_butt",!1,.5)}else this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"collision",!1),this.visual.state.addAnimation(0,"idle",!0,0);Tt().Composite.remove(this.composite,this.backBody),Tt().Composite.remove(this.composite,this.assBody),Tt().Composite.remove(this.composite,this.legBody),Sa(e,"collidePreBegin",this,3)([{flyingCharacter:r,collider:n,point:i}])}},{key:"recalculateFlyingVelocity",value:function(t,r){return this.isFlyingCharacterFiery&&this.isNegativeCollide?t:this.isNegativeCollide?Tt().Vector.create(0,0):Sa(e,"recalculateFlyingVelocity",this,3)([t,r])}}])}(Ui);function Ma(t){return Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ma(t)}function Ia(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Na(n.key),n)}}function ja(t,e,r){return e=La(e),function(t,e){if(e&&("object"==Ma(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ba()?Reflect.construct(e,r||[],La(t).constructor):e.apply(t,r))}function Ba(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ba=function(){return!!t})()}function La(t){return La=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},La(t)}function Ra(t,e){return Ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ra(t,e)}function qa(t,e,r){return(e=Na(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Na(t){var e=function(t,e){if("object"!=Ma(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ma(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ma(e)?e:e+""}var Fa=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),qa(t=ja(this,e),"type","mushrooms"),qa(t,"collisionAction","add"),qa(t,"isNextCollideAvailable",!1),qa(t,"minAngleDeg",10),qa(t,"maxAngleDeg",20),qa(t,"velocityCurve",(function(t){return t*t})),qa(t,"minVelocity",0),qa(t,"maxVelocity",3500),qa(t,"speedIncreasingVector",Tt().Vector.create(1200,900)),qa(t,"minResultVelocity",Tt().Vector.create(2500,1200)),qa(t,"maxResultVelocity",Tt().Vector.create(1e6,2600)),qa(t,"leftBorderOffset",250),qa(t,"rightBorderOffset",250),qa(t,"leftBorderOffsetBuritoMode",2500),qa(t,"leftBorderMaxOffsetBuritoMode",5800),qa(t,"collideSoundNames",["penguin/penguin_fly_7","penguin/penguin_fly_8","penguin/penguin_fly_1"]),t.mainBody=Object.assign(Tt().Bodies.circle(0,235,300,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.mainBody),t.mainBody.render.strokeStyle="#ffffff",t.visual=t.addChild(Er.Z.create("mushroom_big")),t.visual.scale.set(1.4,-1.4),t.visual.setAnimation("idle",!0),t.buritoBisonTutorialData={body:t.mainBody,type:"mushroom"},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ra(t,e)}(e,t),function(t,e,r){return e&&Ia(t.prototype,e),r&&Ia(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"collidePreBegin",value:function(t){t.flyingCharacter,t.collider,t.point;this.visual.state.clearTracks(),this.visual.setAnimation("collision",!1),Tt().Composite.remove(this.composite,this.mainBody)}}])}(Ui);function Va(t){return Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(t)}function Da(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wa(n.key),n)}}function Ga(t,e,r){return e=Ua(e),function(t,e){if(e&&("object"==Va(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,za()?Reflect.construct(e,r||[],Ua(t).constructor):e.apply(t,r))}function za(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(za=function(){return!!t})()}function Ua(t){return Ua=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ua(t)}function Ya(t,e){return Ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ya(t,e)}function Xa(t,e,r){return(e=Wa(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wa(t){var e=function(t,e){if("object"!=Va(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Va(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Va(e)?e:e+""}var Ha=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Xa(t=Ga(this,e),"type","sealMoron"),Xa(t,"collisionAction","add"),Xa(t,"isNextCollideAvailable",!1),Xa(t,"minAngleDeg",10),Xa(t,"maxAngleDeg",20),Xa(t,"velocityCurve",(function(t){return t*t})),Xa(t,"minVelocity",0),Xa(t,"maxVelocity",4e3),Xa(t,"speedIncreasingVector",Tt().Vector.create(800,500)),Xa(t,"minResultVelocity",Tt().Vector.create(2500,1e3)),Xa(t,"maxResultVelocity",Tt().Vector.create(1e6,2e3)),Xa(t,"leftBorderOffset",800),Xa(t,"rightBorderOffset",160),Xa(t,"leftBorderOffsetBuritoMode",400),Xa(t,"leftBorderMaxOffsetBuritoMode",250),Xa(t,"collideSoundNames",["obstacles/seal_1","obstacles/seal_2"]),t.mainBody=Object.assign(Tt().Bodies.rectangle(0,125,580,250,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.mainBody),Tt().Body.setAngle(t.mainBody,-.9),t.mainBody.render.strokeStyle="#ffffff",t.visual=t.addChild(Er.Z.create("seal_moron")),t.visual.setAnimation("Seal-idle",!0),t.visual.scale.set(.7,-.7),t.buritoBisonTutorialData={body:t.mainBody,type:"walrusSeal"},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ya(t,e)}(e,t),function(t,e,r){return e&&Da(t.prototype,e),r&&Da(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"collidePreBegin",value:function(t){t.flyingCharacter,t.collider,t.point;iw.meta.dailyMissions.addProgress("bouncyPengui"),iw.meta.dailyMissions.addProgress("sealHunt"),this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"Seal-collision",!1),this.visual.state.addAnimation(0,"Seal-idle-result",!0,0),Tt().Composite.remove(this.composite,this.mainBody)}}])}(Ui);function Za(t){return Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(t)}function Ka(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rs(n.key),n)}}function Qa(t,e,r){return e=$a(e),function(t,e){if(e&&("object"==Za(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ja()?Reflect.construct(e,r||[],$a(t).constructor):e.apply(t,r))}function Ja(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ja=function(){return!!t})()}function $a(t){return $a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$a(t)}function ts(t,e){return ts=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ts(t,e)}function es(t,e,r){return(e=rs(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rs(t){var e=function(t,e){if("object"!=Za(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Za(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Za(e)?e:e+""}var ns=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),es(t=Qa(this,e),"type","seal"),es(t,"collisionAction","add"),es(t,"isNextCollideAvailable",!1),es(t,"minAngleDeg",10),es(t,"maxAngleDeg",20),es(t,"velocityCurve",(function(t){return t*t})),es(t,"minVelocity",0),es(t,"maxVelocity",4e3),es(t,"speedIncreasingVector",Tt().Vector.create(1200,1e3)),es(t,"minResultVelocity",Tt().Vector.create(2500,800)),es(t,"maxResultVelocity",Tt().Vector.create(1e6,2e3)),es(t,"leftBorderOffset",350),es(t,"rightBorderOffset",350),es(t,"leftBorderOffsetBuritoMode",700),es(t,"leftBorderMaxOffsetBuritoMode",2700),es(t,"collideSoundNames",["obstacles/seal_1","obstacles/seal_2"]),t.mainBody=Object.assign(Tt().Bodies.rectangle(0,100,700,200,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.mainBody),Tt().Body.setAngle(t.mainBody,-.3),t.mainBody.render.strokeStyle="#ffffff",t.visual=t.addChild(Er.Z.create("seal")),t.visual.setAnimation("idle",!0),t.visual.scale.set(1.4,-1.4),t.buritoBisonTutorialData={body:t.mainBody,type:"walrusSeal"},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ts(t,e)}(e,t),function(t,e,r){return e&&Ka(t.prototype,e),r&&Ka(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"collidePreBegin",value:function(t){t.flyingCharacter,t.collider,t.point;iw.meta.dailyMissions.addProgress("bouncyPengui"),iw.meta.dailyMissions.addProgress("sealHunt"),this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"collision",!1),this.visual.state.addAnimation(0,"idle",!0,0),Tt().Composite.remove(this.composite,this.mainBody)}}])}(Ui);function is(t){return is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(t)}function os(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hs(n.key),n)}}function as(t,e,r){return e=us(e),function(t,e){if(e&&("object"==is(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ss()?Reflect.construct(e,r||[],us(t).constructor):e.apply(t,r))}function ss(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ss=function(){return!!t})()}function us(t){return us=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},us(t)}function ls(t,e){return ls=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ls(t,e)}function cs(t,e,r){return(e=hs(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hs(t){var e=function(t,e){if("object"!=is(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=is(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==is(e)?e:e+""}var fs=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),cs(t=as(this,e),"type","walrusCarl"),cs(t,"collisionAction","add"),cs(t,"isNextCollideAvailable",!1),cs(t,"minAngleDeg",10),cs(t,"maxAngleDeg",20),cs(t,"velocityCurve",(function(t){return t*t})),cs(t,"minVelocity",0),cs(t,"maxVelocity",600),cs(t,"speedIncreasingVector",Tt().Vector.create(1e3,500)),cs(t,"tailSpeedIncreasingVector",Tt().Vector.create(1e3,500)),cs(t,"minResultVelocity",Tt().Vector.create(2e3,600)),cs(t,"maxResultVelocity",Tt().Vector.create(1e6,2e3)),cs(t,"leftBorderOffset",380),cs(t,"rightBorderOffset",380),cs(t,"leftBorderOffsetBuritoMode",2880),cs(t,"leftBorderMaxOffsetBuritoMode",4160),cs(t,"collideSoundNames",["obstacles/walrus_1","obstacles/walrus_2"]),t.mainBody=Object.assign(Tt().Bodies.rectangle(0,0,672,287,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.mainBody),Tt().Body.setAngle(t.mainBody,.2),Tt().Body.setPosition(t.mainBody,{x:-170,y:180}),t.mainBody.render.strokeStyle="#ffffff",t.tailBody=Object.assign(Tt().Bodies.rectangle(0,0,400,90,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.tailBody),Tt().Body.setAngle(t.tailBody,0),Tt().Body.setPosition(t.tailBody,{x:350,y:40}),t.tailBody.render.strokeStyle="#ffffff",t.visual=t.addChild(Er.Z.create("warlus_carl")),t.visual.scale.set(1,-1),t.visual.setAnimation("idle",!0),t.buritoBisonTutorialData={body:t.mainBody,type:"walrusSeal"},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ls(t,e)}(e,t),function(t,e,r){return e&&os(t.prototype,e),r&&os(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"collidePreBegin",value:function(t){t.flyingCharacter;var e=t.collider;t.point;iw.meta.dailyMissions.addProgress("bouncyPengui"),iw.meta.dailyMissions.addProgress("walrusesHunt"),e===this.tailBody?(this.speedIncreasingVector=this.tailSpeedIncreasingVector,this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"collision_tail",!1),this.visual.state.addAnimation(0,"idle_after_collision",!0,0)):(this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"collision",!1),this.visual.state.addAnimation(0,"idle_after_collision",!0,0)),Tt().Composite.remove(this.composite,this.tailBody),Tt().Composite.remove(this.composite,this.mainBody)}},{key:"onBoardEndFalling",value:function(t){var e=t.flyingCharacter;Tt().Composite.remove(this.composite,this.tailBody),Tt().Composite.remove(this.composite,this.mainBody),this.position.x>=e.position.x?(this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"run_right",!1)):(this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"run_left",!1))}}])}(Ui);function ps(t){return ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(t)}function ds(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_s(n.key),n)}}function ms(t,e,r){return e=gs(e),function(t,e){if(e&&("object"==ps(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ys()?Reflect.construct(e,r||[],gs(t).constructor):e.apply(t,r))}function ys(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ys=function(){return!!t})()}function gs(t){return gs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gs(t)}function vs(t,e){return vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vs(t,e)}function bs(t,e,r){return(e=_s(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _s(t){var e=function(t,e){if("object"!=ps(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ps(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ps(e)?e:e+""}var ws=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),bs(t=ms(this,e),"type","walrusFrida"),bs(t,"collisionAction","add"),bs(t,"isNextCollideAvailable",!1),bs(t,"minAngleDeg",10),bs(t,"maxAngleDeg",20),bs(t,"velocityCurve",(function(t){return t*t})),bs(t,"minVelocity",0),bs(t,"maxVelocity",3500),bs(t,"speedIncreasingVector",Tt().Vector.create(1300,1e3)),bs(t,"tailSpeedIncreasingVector",Tt().Vector.create(1200,900)),bs(t,"minResultVelocity",Tt().Vector.create(2500,1200)),bs(t,"maxResultVelocity",Tt().Vector.create(1e6,2e3)),bs(t,"leftBorderOffset",400),bs(t,"rightBorderOffset",400),bs(t,"leftBorderOffsetBuritoMode",1500),bs(t,"leftBorderMaxOffsetBuritoMode",4e3),bs(t,"collideSoundNames",["obstacles/walrus_1","obstacles/walrus_2"]),t.mainBody=Object.assign(Tt().Bodies.rectangle(0,0,797,221,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.mainBody),Tt().Body.setAngle(t.mainBody,.12),Tt().Body.setPosition(t.mainBody,{x:-120,y:160}),t.mainBody.render.strokeStyle="#ffffff",t.tailBody=Object.assign(Tt().Bodies.rectangle(0,0,350,90,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.tailBody),Tt().Body.setAngle(t.tailBody,.04),Tt().Body.setPosition(t.tailBody,{x:350,y:30}),t.tailBody.render.strokeStyle="#ffffff",t.visual=t.addChild(Er.Z.create("walrus_frida")),t.visual.setAnimation("idle",!0),t.visual.scale.set(1,-1),t.buritoBisonTutorialData={body:t.mainBody,type:"walrusSeal"},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vs(t,e)}(e,t),function(t,e,r){return e&&ds(t.prototype,e),r&&ds(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"collidePreBegin",value:function(t){t.flyingCharacter;var e=t.collider;t.point;iw.meta.dailyMissions.addProgress("bouncyPengui"),iw.meta.dailyMissions.addProgress("walrusesHunt"),e===this.tailBody?(this.speedIncreasingVector=this.tailSpeedIncreasingVector,this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"collision_tail",!1),this.visual.state.addAnimation(0,"idle",!0,0)):(this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"collision",!1),this.visual.state.addAnimation(0,"idle",!0,0)),Tt().Composite.remove(this.composite,this.tailBody),Tt().Composite.remove(this.composite,this.mainBody)}},{key:"onBoardEndFalling",value:function(t){var e=t.flyingCharacter;Tt().Composite.remove(this.composite,this.tailBody),Tt().Composite.remove(this.composite,this.mainBody),this.position.x>=e.position.x?(this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"run_right",!1)):(this.visual.state.clearTracks(),this.visual.state.setAnimation(0,"run_left",!1))}}])}(Ui);function xs(t){return xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(t)}function Ss(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ps(n.key),n)}}function Ts(t,e,r){return e=Os(e),function(t,e){if(e&&("object"==xs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Es()?Reflect.construct(e,r||[],Os(t).constructor):e.apply(t,r))}function Es(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Es=function(){return!!t})()}function Os(t){return Os=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Os(t)}function As(t,e){return As=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},As(t,e)}function ks(t,e,r){return(e=Ps(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ps(t){var e=function(t,e){if("object"!=xs(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xs(e)?e:e+""}var Cs=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ks(t=Ts(this,e),"type","stone"),ks(t,"collisionAction","reset"),ks(t,"isNextCollideAvailable",!1),ks(t,"obstacleType","stone"),ks(t,"leftBorderOffset",180),ks(t,"rightBorderOffset",180),ks(t,"leftBorderOffsetBuritoMode",180),ks(t,"leftBorderMaxOffsetBuritoMode",500),t.stoneSprite=t.addChild(new n.jy((0,c.Fg)("obstacles/snowball/stone"))),t.stoneSprite.anchor.set(.5,1),t.stoneSprite.scale.set(.8,-.8),t.body0=Object.assign(Tt().Bodies.rectangle(0,0,280,110,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.body0),Tt().Body.setAngle(t.body0,-.85),Tt().Body.setPosition(t.body0,{x:35,y:60}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&As(t,e)}(e,t),function(t,e,r){return e&&Ss(t.prototype,e),r&&Ss(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"recalculatePointOnStone",value:function(t){var e=this.body0.position,r=(0,Et.uZ)(t.x-e.x,-65,65),n=80-r;return Tt().Vector.create(e.x+r,e.y+n)}},{key:"collidePreBegin",value:function(t){var e=this,r=t.flyingCharacter,n=(t.collider,t.point);if(Tt().Composite.remove(this.composite,this.body0),Tf.getGrandparentLevel(this).shakeCamera({durationMs:200,radius:3}),r.isFiery)return this.stoneSprite.visible=!1,void h.Z.createComponent("effects/FxStoneDestroy").then((function(t){e.addChild(t),t.scale.set(1,-1),t.position.y=100}));r.tryKill(this.obstacleType,this.recalculatePointOnStone(n))&&(h.Z.createComponent("effects/FxStoneCollision").then((function(t){e.addChild(t),t.scale.set(1,-1),t.position.y=100,t.createAnimation("start",!1,!0)})),k.Z.replaySingle("obstacles/stone",!1,.5),"stoneStick"===r.deathType&&(this.stoneSprite.texture=(0,c.Fg)("obstacles/snowball/stone_cracked")))}},{key:"recalculateFlyingVelocity",value:function(t,e){return t}}])}(Ui);const Ms=JSON.parse('{"positiveRandomObstaclesGenerationSettingsBuritoMode":[{"type":"walrusCarl","weight":20,"backgroundForAppear":["startLocation","snowArcticLocation","iceArcticLocation","tundraLocation","marioLocation","colonyLocation"]},{"type":"seal","weight":30,"backgroundForAppear":["startLocation","snowArcticLocation","iceArcticLocation","tundraLocation","marioLocation","colonyLocation"]},{"type":"walrusFrida","weight":30,"backgroundForAppear":["startLocation","snowArcticLocation","iceArcticLocation","tundraLocation","marioLocation","colonyLocation"]},{"type":"sealMoron","weight":20,"backgroundForAppear":["iceArcticLocation","tundraLocation","marioLocation","colonyLocation"]},{"type":"walrusCrazy","weight":30,"backgroundForAppear":["iceArcticLocation","tundraLocation","marioLocation","colonyLocation"]},{"type":"iceHill","weight":15,"backgroundForAppear":["iceArcticLocation","tundraLocation","colonyLocation"]},{"type":"iceHole","weight":20,"backgroundForAppear":["tundraLocation","marioLocation","colonyLocation"]},{"type":"swimmingKillerWhale","weight":50,"backgroundForAppear":["tundraLocation","colonyLocation"]},{"type":"mooseBack","weight":50,"backgroundForAppear":["colonyLocation"]},{"type":"mushrooms","weight":95,"backgroundForAppear":["marioLocation"]},{"type":"fakeEmpty1","weight":10,"backgroundForAppear":["startLocation","snowArcticLocation"]},{"type":"fakeEmpty1","weight":15,"backgroundForAppear":["iceArcticLocation"]},{"type":"fakeEmpty1","weight":25,"backgroundForAppear":["tundraLocation"]},{"type":"fakeEmpty1","weight":50,"backgroundForAppear":["marioLocation"]},{"type":"fakeEmpty1","weight":40,"backgroundForAppear":["colonyLocation"]}],"negativeRandomObstaclesGenerationSettingsBuritoMode":[{"type":"stone","weight":30,"backgroundForAppear":["iceArcticLocation","tundraLocation","marioLocation","colonyLocation"]},{"type":"iceArcher","weight":10,"backgroundForAppear":["iceArcticLocation","tundraLocation","marioLocation","colonyLocation"]},{"type":"firTree","weight":5,"backgroundForAppear":["tundraLocation","marioLocation","colonyLocation"]},{"type":"fakeEmpty1","weight":25,"backgroundForAppear":["startLocation","snowArcticLocation"]},{"type":"fakeEmpty1","weight":10,"backgroundForAppear":["iceArcticLocation"]},{"type":"fakeEmpty1","weight":20,"backgroundForAppear":["tundraLocation"]},{"type":"fakeEmpty1","weight":10,"backgroundForAppear":["marioLocation"]},{"type":"fakeEmpty1","weight":10,"backgroundForAppear":["colonyLocation"]}],"startPositiveBuritoRandomChance":0.65,"finishPositiveBuritoRandomChance":0.25,"obstaclesDistanceGenerationInfo":{"stone":{"distanceBetweenObstacles":4000},"firTree":{"distanceBetweenObstacles":6000},"iceArcher":{"distanceBetweenObstacles":8000},"mooseBack":{"distanceBetweenObstacles":5000},"iceHill":{"distanceBetweenObstacles":7000},"iceHole":{"distanceBetweenObstacles":6000}},"countGamesBetweenChests":10,"minMatchesForChest":2,"minBounceForChestCreate":3,"maxBounceForChestCreate":17,"minCoinsYPosition":800,"maxCoinsYPosition":1150,"coinsGenerationChance":0.95,"minGemsYPosition":500,"maxGemsYPosition":1000,"distanceBetweenCheatedGems":500,"trajectoryLineOffset":50,"gemsGenerationUpperTrajectoryLineChance":0.5,"gemsGenerationOnTrajectoryLineChance":0.075,"minDistanceBetweenMoney":3000,"maxDistanceBetweenMoney":5000,"backgroundsOffsetMultiplierSettings":[{"backgroundType":"snowArcticLocation","offsetMultiplier":1},{"backgroundType":"iceArcticLocation","offsetMultiplier":1.05},{"backgroundType":"tundraLocation","offsetMultiplier":1.1},{"backgroundType":"marioLocation","offsetMultiplier":1.15},{"backgroundType":"colonyLocation","offsetMultiplier":1.25}]}');var Is=r(7040);function js(t){return js="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(t)}function Bs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vs(n.key),n)}}function Ls(t,e,r){return e=qs(e),function(t,e){if(e&&("object"==js(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Rs()?Reflect.construct(e,r||[],qs(t).constructor):e.apply(t,r))}function Rs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Rs=function(){return!!t})()}function qs(t){return qs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qs(t)}function Ns(t,e){return Ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ns(t,e)}function Fs(t,e,r){return(e=Vs(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vs(t){var e=function(t,e){if("object"!=js(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=js(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==js(e)?e:e+""}var Ds=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Fs(t=Ls(this,e),"type","deadFlyingCharacter"),Fs(t,"collisionAction","add"),Fs(t,"isNextCollideAvailable",!1),Fs(t,"minAngleDeg",10),Fs(t,"maxAngleDeg",35),Fs(t,"velocityCurve",(function(t){return t*t})),Fs(t,"minVelocity",1300),Fs(t,"maxVelocity",2500),Fs(t,"speedIncreasingVector",Tt().Vector.create(1100,400)),Fs(t,"minResultVelocity",Tt().Vector.create(3500,1e3)),Fs(t,"maxResultVelocity",Tt().Vector.create(1e4,1e4)),Fs(t,"leftBorderOffset",100),Fs(t,"rightBorderOffset",100),Fs(t,"collideSoundNames",["obstacles/dead_pinguin_2"]),Fs(t,"animationSet",Sr([{idleAnimation:"result_idle",kickAnimation:"bounce_lying"},{idleAnimation:"result_idle_sit",kickAnimation:"bounce_sit"},{idleAnimation:"wiping_sit_idle",kickAnimation:"bounce_head"},{idleAnimation:"stuck_angle_idle",kickAnimation:"bounce_butt"}])),t.mainBody=Object.assign(Tt().Bodies.rectangle(0,0,100,90,{isStatic:!0}),{collidable:t}),Tt().Composite.add(t.composite,t.mainBody),Tt().Body.setAngle(t.mainBody,3),Tt().Body.setPosition(t.mainBody,{x:0,y:45}),t.mainBody.render.strokeStyle="#000000",t.visual=t.addChild(Er.Z.create("penguin")),t.visual.skeleton.setSkinByName("penguin_default"),t.visual.scale.set(1,-1),t.visual.setAnimation(t.animationSet.idleAnimation,!0),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ns(t,e)}(e,t),function(t,e,r){return e&&Bs(t.prototype,e),r&&Bs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"collidePostBegin",value:function(t){var e=this,r=t.flyingCharacter;t.collider,t.point;Tt().Composite.remove(this.composite,this.mainBody),iw.meta.dailyMissions.addProgress("bouncyPengui"),iw.meta.dailyMissions.addProgress("penguinHunt"),"rolling"!==r.state&&(this.visual.state.setAnimation(0,this.animationSet.kickAnimation,!1),this.visual.state.addAnimation(0,this.animationSet.idleAnimation,!0,0),h.Z.createComponent("effects/FxPenguinCollisionFeather").then((function(t){e._destroyed?(0,Is.oL)(t):e.addChild(t)})))}}])}(Ui);function Gs(t){return Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(t)}function zs(t){return function(t){if(Array.isArray(t))return Xs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ys(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Us(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ys(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Ys(t,e){if(t){if("string"==typeof t)return Xs(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xs(t,e):void 0}}function Xs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ws(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eu(n.key),n)}}function Hs(t,e,r){return e&&Ws(t.prototype,e),r&&Ws(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ks(t,e,r){return e=Js(e),function(t,e){if(e&&("object"==Gs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Qs()?Reflect.construct(e,r||[],Js(t).constructor):e.apply(t,r))}function Qs(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Qs=function(){return!!t})()}function Js(t){return Js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Js(t)}function $s(t,e){return $s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$s(t,e)}function tu(t,e,r){return(e=eu(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eu(t){var e=function(t,e){if("object"!=Gs(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Gs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gs(e)?e:e+""}var ru=Ms,nu=ru,iu=function(t){function e(){var t;Zs(this,e);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return tu(t=Ks(this,e,[].concat(n)),"obstacleType","fakeEmpty1"),tu(t,"leftBorderOffset",100),tu(t,"rightBorderOffset",100),tu(t,"leftBorderOffsetBuritoMode",500),tu(t,"leftBorderMaxOffsetBuritoMode",1e3),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$s(t,e)}(e,t),Hs(e)}(Ui),ou=function(){return Hs((function t(e){var r,n=e.level;Zs(this,t),tu(this,"obstaclesBufferSize",5),tu(this,"lastObstacleTypeXMap",{}),tu(this,"obstacles",[]),tu(this,"_preGeneratedObstacles",[]),tu(this,"_isChestWasCreated",!1),tu(this,"_countBounce",0),tu(this,"_countBounceForCreateChest",Math.floor((0,Et.t7)(nu.minBounceForChestCreate,nu.maxBounceForChestCreate+1,Math.random()))),tu(this,"_isChestCreationAvaliable",this.calculateIsChestCreationAvaliable()),this.level=n,this.initialDeadFlyingCharacters=null!==(r=JSON.parse(JSON.stringify(iw.meta.deadFlyingCharacters.distances.value)))&&void 0!==r?r:[],this.level.flyingCharacter.on("collide",this.onFlyingCharacterCollide,this)}),[{key:"createObstacleByType",value:function(t){switch(t){case"chest":return new uo;case"walrusFrida":return new ws;case"walrusCarl":return new fs;case"walrusCrazy":return new $i;case"seal":return new ns;case"sealMoron":return new Ha;case"iceHill":return new Po;case"iceHole":return new Jo;case"firTree":return new la;case"stone":return new Cs;case"mooseBack":return new Ca;case"mushrooms":return new Fa;case"iceArcher":return new _o;case"swimmingKillerWhale":return new va;case"deadFlyingCharacter":return new Ds;case"fakeEmpty1":case"fakePositive":return new iu;default:throw new Error("Not supported obstacle type ".concat(t))}}},{key:"leftestObstacle",get:function(){return this.obstacles.reduce((function(t,e){return!t||e.x<t.x?e:t}),void 0)}},{key:"onFlyingCharacterCollide",value:function(t){"add"===t.collisionAction&&this._countBounce++}},{key:"calculateIsChestCreationAvaliable",value:function(){var t=iw.meta.matchesCount.value;if(t<nu.minMatchesForChest)return!1;var e=iw.meta.lastMatchNumberWithGeneratedChest.value;return!(e>=0&&t-e<nu.countGamesBetweenChests)}},{key:"getPositiveObstacleChance",value:function(t){return(0,Et.t7)(nu.startPositiveBuritoRandomChance,nu.finishPositiveBuritoRandomChance,(0,Et.$O)(iw.meta.upgrades.generation.startPositiveObstaclesGenerationDistance,iw.meta.upgrades.generation.finishPositiveObstaclesGenerationDistance,t))}},{key:"removePassedObstacles",value:function(){for(var t=this.level.camera.rightBorderInWorldX+500,e=this.obstacles.length-1;e>=0;e--){var r=this.obstacles[e];r.x-r.leftBorderOffset>t&&(this.obstacles.splice(e,1),r.destroy({children:!0}))}}},{key:"getRandomLeftObstaclePositionBuritoMode",value:function(t){var e,r=this,n=nu.backgroundsOffsetMultiplierSettings.find((function(t){return t.backgroundType===r.level.backgroundType})),i=(0,Et.t7)(t.leftBorderOffsetBuritoMode,t.leftBorderMaxOffsetBuritoMode,Math.random()*(null!==(e=null==n?void 0:n.offsetMultiplier)&&void 0!==e?e:1));return Tt().Vector.create(t.position.x-i,t.position.y)}},{key:"generatePositiveObstacle",value:function(t){return this._isChestCreationAvaliable&&!this._isChestWasCreated&&this._countBounce>=this._countBounceForCreateChest?(this._isChestWasCreated=!0,"chest"):this.generateWeightedObstacle(nu.positiveRandomObstaclesGenerationSettingsBuritoMode,t)}},{key:"generateWeightedObstacle",value:function(t,e){var r=this,n=t.filter((function(t){return t.backgroundForAppear.includes(r.level.backgroundType)})).filter((function(t){var n,i=nu.obstaclesDistanceGenerationInfo[t.type];if(!i)return!0;var o=null!==(n=r.lastObstacleTypeXMap[t.type])&&void 0!==n?n:0;return Math.abs(e-o)>=i.distanceBetweenObstacles}));if(0===n.length)return"none";var i,o=n.reduce((function(t,e){return t+e.weight}),0),a=(0,Et.t7)(0,o,Math.random()),s=Us(n);try{for(s.s();!(i=s.n()).done;){var u=i.value;if(a<=u.weight)return u.type;a-=u.weight}}catch(t){s.e(t)}finally{s.f()}return(0,rt.Fi)()}},{key:"resolveFakeObstacleType",value:function(t,e){return"none"===t?[]:"fakeEmpty2"===t?["fakeEmpty1","fakeEmpty1"]:"fakeEmpty3"===t?["fakeEmpty1","fakeEmpty1","fakeEmpty1"]:"fakePositive"===t?this.resolveFakeObstacleType(this.generatePositiveObstacle(e),e):[t]}},{key:"generateNegativeObstacle",value:function(t){return this.generateWeightedObstacle(nu.negativeRandomObstaclesGenerationSettingsBuritoMode,t)}},{key:"ensureObstaclePlacemnetBounds",value:function(t){var e=t.x+t.rightBorderOffset,r=Math.min(this.level.camera.leftBorderInWorldX,t.x);e>r&&(t.x-=e-r)}},{key:"fixOverlapsByBubblingLeft",value:function(t){var e,r=Us(this.obstacles.slice().sort((function(t,e){return e.x-t.x})));try{for(r.s();!(e=r.n()).done;){var n=e.value;Ui.isOverlapping(t,n)&&(t.x=n.x-n.leftBorderOffset-t.rightBorderOffset)}}catch(t){r.e(t)}finally{r.f()}}},{key:"spawnObstacle",value:function(t){var e=t.type,r=t.x,n=t.fixOverlaps,i=void 0!==n&&n,o=this.createObstacleByType(e);o.x=r,this.ensureObstaclePlacemnetBounds(o),i&&this.fixOverlapsByBubblingLeft(o),this.level.addObstacleIntoWorld(o),this.lastObstacleTypeXMap[e]=o.x,this.obstacles.push(o)}},{key:"generateRandomObstacle",value:function(){var t,e=this.leftestObstacle,r=void 0!==e?this.getRandomLeftObstaclePositionBuritoMode(e).x:0;if(0===this._preGeneratedObstacles.length){var n,i=this.getPositiveObstacleChance(this.level.distanceWithStartMultiplier),o=Math.random()<=i?this.generatePositiveObstacle(r):this.generateNegativeObstacle(r);(n=this._preGeneratedObstacles).push.apply(n,zs(this.resolveFakeObstacleType(o,r)))}return{type:null!==(t=this._preGeneratedObstacles.shift())&&void 0!==t?t:"none",x:r}}},{key:"tick",value:function(t){for(this.removePassedObstacles(),this.tickDeadFlyingCharactersSpawning();this.obstacles.length<this.obstaclesBufferSize;)this.spawnObstacle(this.generateRandomObstacle())}},{key:"tickDeadFlyingCharactersSpawning",value:function(){for(var t=this.initialDeadFlyingCharacters.length-1;t>=0;t--){var e=-this.initialDeadFlyingCharacters[t]/this.level.scoreMultiplier;e<this.level.camera.leftBorderInWorldX-1e3||(this.spawnObstacle({type:"deadFlyingCharacter",x:e,fixOverlaps:!0}),this.initialDeadFlyingCharacters.splice(t,1))}}}])}(),au=new on([{serializedVersion:3,time:0,value:0,inSlope:2,outSlope:2,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{serializedVersion:3,time:.09793338,value:.27155125,inSlope:2.6901624,outSlope:2.6901624,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{serializedVersion:3,time:1,value:1,inSlope:0,outSlope:0,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334}]),su=new on([{serializedVersion:3,time:0,value:0,inSlope:2,outSlope:2,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{serializedVersion:3,time:.09793338,value:.27155125,inSlope:2.6901624,outSlope:2.6901624,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{serializedVersion:3,time:1,value:1,inSlope:0,outSlope:0,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334}]),uu={flyingCharacterRelativeLeftPosition:.75,flyingCharacterRelativeRightPosition:.75,flyingCharacterRelativeBottomPosition:.5,flyingCharacterRelativeTopPosition:.7,maxCameraYUpOffsetPerSecond:50,maxZoomUpPerSecond:.01,maxZoomDownPerSecond:.02,minZoomValue:.85,delayBeforeZoomDown:3e3,flyingZoomCurve:function(t){return au.evaluate(t)},flyingMinCharacterXVelocity:5e3,flyingMinCharacterVelocityZoom:.85,flyingMaxCharacterXVelocity:6e3,flyingMaxCharacterVelocityZoom:.5},lu={flyingCharacterRelativeLeftPosition:.75,flyingCharacterRelativeRightPosition:.9,flyingCharacterRelativeBottomPosition:.5,flyingCharacterRelativeTopPosition:.7,maxCameraYUpOffsetPerSecond:50,maxZoomUpPerSecond:.01,maxZoomDownPerSecond:.02,minZoomValue:.85,delayBeforeZoomDown:3e3,flyingZoomCurve:function(t){return au.evaluate(t)},flyingMinCharacterXVelocity:5e3,flyingMinCharacterVelocityZoom:.85,flyingMaxCharacterXVelocity:6e3,flyingMaxCharacterVelocityZoom:.5},cu={flyingCharacterRelativeLeftPosition:.75,flyingCharacterRelativeRightPosition:.88,flyingCharacterRelativeBottomPosition:.5,flyingCharacterRelativeTopPosition:.7,maxCameraYUpOffsetPerSecond:5e4,maxZoomUpPerSecond:.1,maxZoomDownPerSecond:.2,minZoomValue:.2,delayBeforeZoomDown:3e3,flyingZoomCurve:function(t){return su.evaluate(t)},flyingMinCharacterXVelocity:5e3,flyingMinCharacterVelocityZoom:.5,flyingMaxCharacterXVelocity:6e3,flyingMaxCharacterVelocityZoom:.5};function hu(t){return hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(t)}function fu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,du(n.key),n)}}function pu(t,e,r){return(e=du(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function du(t){var e=function(t,e){if("object"!=hu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=hu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hu(e)?e:e+""}var mu=function(){return function(t,e,r){return e&&fu(t.prototype,e),r&&fu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),pu(this,"disposeBag",new Is.$n),pu(this,"swimmingOffset",550),pu(this,"deadCharacterRelativeXPosition",.5),pu(this,"deadCharacterOffsetDuration",200),pu(this,"deadCharacterOffsetCurve",(function(t){return t*t})),pu(this,"snowFullEffectParentTransform",{x:0,y:640,z:10}),pu(this,"backgroundChangeEffectName","FxBackChange"),pu(this,"starsEffectParentTransform",{x:0,y:0,z:710}),pu(this,"starsEffectName","FxBackSpaceStars"),pu(this,"milkyWayEffectParentTransform",{x:0,y:0,z:710}),pu(this,"milkyWayEffectName","FxBackSpaceMilkyWay"),pu(this,"beginXParallaxPosition",-1e3),pu(this,"endXParallaxPosition",1e3),pu(this,"beginYParallaxPosition",-1e3),pu(this,"endYParallaxPosition",1e3),pu(this,"relativeSpeed",{x:0,y:0}),pu(this,"groundHeight",180),pu(this,"iPhoneXAdditionalGroundHeight",24),pu(this,"defaultZoomMultiplier",.6),pu(this,"defaultMainCameraZoom",1),pu(this,"defaultMinMainCameraZoom",1),pu(this,"defaultMaxMainCameraZoom",1),pu(this,"flyingCharacterLeftPosition",0),pu(this,"flyingCharacterRightPosition",0),pu(this,"flyingCharacterBottomPosition",0),pu(this,"flyingCharacterTopPosition",0),pu(this,"deadCharacterXPosition",0),pu(this,"defaultCameraPosition",new n.E9(0,1e3)),pu(this,"startAdditionalOffset",new n.E9),pu(this,"previousAdditionalOffset",new n.E9),pu(this,"currentAdditionalOffset",new n.E9),pu(this,"targetAdditionalOffsetDifference",new n.E9),pu(this,"currentAdditionalOffsetChangeDuration",0),pu(this,"totalAdditionalOffsetChangeDuration",0),pu(this,"currentMaxCameraZoomChangePerFrame",void 0),pu(this,"additionalOffsetChangeCurve",(function(t){return t})),pu(this,"isFlyingStateActivated",!1),pu(this,"snowFullEffectYPosition",0),pu(this,"settings",uu),pu(this,"isShaking",!1),pu(this,"currentShakeDuration",0),pu(this,"totalShakeDuration",0),pu(this,"currentShakeRadius",0),pu(this,"shakeOffset",{x:0,y:0}),pu(this,"shakeTransform",new n.E9),pu(this,"currentZoomDownDelay",0),pu(this,"isFlyingZoomingAvailable",!1),pu(this,"isFinishZoomingAvailable",!1),pu(this,"startFinishZooming",1),pu(this,"targetFinishZooming",1),pu(this,"currentFinishZoomingDuration",0),pu(this,"totalFinishZoomingDuration",0),pu(this,"finishZoomingCurve",(function(t){return t})),pu(this,"zoomingAdditionalOffset",new n.E9),pu(this,"minYPosition",0),pu(this,"maxYPosition",0),pu(this,"currentCameraZoom",1),pu(this,"targetCameraZoom",1),this.level=e,this.initialize(),this.currentMaxCameraZoomChangePerFrame=.001,(0,xt.U5)((function(){return r.level.state}),(function(t){r.onLevelStateChanged(t,r.level.flyingCharacter.position)})),this.disposeBag.push(A.Z.onOff("resize",this.handleResize,this))}),[{key:"dispose",value:function(){this.disposeBag.dispose()}},{key:"currentPositionX",get:function(){return-this.level.world.position.x},set:function(t){this.level.world.position.x=-t,this.level.backgroundContainer.position.x=-t}},{key:"currentPositionY",get:function(){return this.level.world.position.y},set:function(t){this.level.world.position.y=t,this.level.backgroundContainer.position.y=t}},{key:"currentGroundHeight",get:function(){return A.Z.isLandscape()?this.groundHeight:.3*A.Z.height}},{key:"zoomFactor",get:function(){return 1.4*this.level.zoomer.scale.x},set:function(t){this.level.zoomer.scale.set(t/1.4);var e=this.currentGroundHeight,r=this.currentPositionY-this.screenToWorldY(A.Z.height-e);this.zoomingAdditionalOffset=new n.E9(0,r-this.defaultCameraPosition.y)}},{key:"screenToWorldX",value:function(t){return(t-A.Z.width/2)/this.level.zoomer.scale.x-this.level.world.x}},{key:"screenToWorldY",value:function(t){return-(t-A.Z.height/2)/this.level.zoomer.scale.y+this.level.world.y}},{key:"leftBorderInWorldX",get:function(){return this.screenToWorldX(0)}},{key:"rightBorderInWorldX",get:function(){return this.screenToWorldX(A.Z.width)}},{key:"topBorderInWorldY",get:function(){return this.screenToWorldY(0)}},{key:"bottomBorderInWorldY",get:function(){return this.screenToWorldY(A.Z.height)}},{key:"screenToWorldPoint",value:function(t){return new n.E9(this.screenToWorldX(t.x),this.screenToWorldY(t.y))}},{key:"worldToScreenPoint",value:function(t){return new n.E9((this.level.world.x+t.x)*this.level.zoomer.scale.x+A.Z.width/2,(this.level.world.y-t.y)*this.level.zoomer.scale.y+A.Z.height/2)}},{key:"updateCameraController",value:function(t,e,r){this.isShaking&&(this.currentShakeDuration+=t,this.setCameraPosition(new n.E9(this.shakeTransform.x-this.shakeOffset.x,this.shakeTransform.y-this.shakeOffset.y))),this.updateAdditionalOffsetChanging(t),this.updateCameraZoom(t,e,r);var i,o,a=this.updateFlyingCharacterFollowing(e);if(this.isShaking)if(this.currentShakeDuration>=this.totalShakeDuration)this.isShaking=!1,this.shakeOffset={x:0,y:0},this.setCameraPosition({x:0,y:0});else{var s=(i=Math.random()*Math.PI*2,o=Math.sqrt(Math.random()),{x:Math.cos(i)*o,y:Math.sin(i)*o});this.shakeOffset={x:s.x*this.currentShakeRadius,y:s.y*this.currentShakeRadius},this.setCameraPosition(new n.E9(this.shakeTransform.x+this.shakeOffset.x,this.shakeTransform.y+this.shakeOffset.y))}return a}},{key:"resetCameraSettings",value:function(){var t;this.isFinishZoomingAvailable=!1,this.zoomFactor=this.defaultMainCameraZoom,this.changeAdditionalOffset(new n.E9,-1),this.currentPositionX=this.defaultCameraPosition.x,this.currentPositionY=this.defaultCameraPosition.y,this.isCameraSwimmingOffsetEnabled=!1,this.changeCameraSettingsForCharacterState(null===(t=this.level)||void 0===t||null===(t=t.flyingCharacter)||void 0===t?void 0:t.state)}},{key:"enableSwimming",value:function(t){t?this.isCameraSwimmingOffsetEnabled||(this.minYPosition-=this.swimmingOffset,this.isCameraSwimmingOffsetEnabled=!0):(this.minYPosition=this.defaultCameraPosition.y,this.isCameraSwimmingOffsetEnabled=!1)}},{key:"applyShakeWithDuration",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;this.totalShakeDuration=t,this.currentShakeRadius=e,this.currentShakeDuration=0,this.isShaking=!0}},{key:"updateAdditionalOffsetChanging",value:function(t){if(this.currentAdditionalOffsetChangeDuration<this.totalAdditionalOffsetChangeDuration){this.currentAdditionalOffsetChangeDuration+=t;var e=(0,Et.V2)(this.currentAdditionalOffsetChangeDuration/this.totalAdditionalOffsetChangeDuration);e=this.additionalOffsetChangeCurve(e),this.currentAdditionalOffset=new n.E9(this.startAdditionalOffset.x+e*this.targetAdditionalOffsetDifference.x,this.startAdditionalOffset.y+e*this.targetAdditionalOffsetDifference.y)}}},{key:"updateFlyingCharacterFollowing",value:function(t){var e=new n.E9(this.currentPositionX,this.currentPositionY);this.currentPositionX-=this.previousAdditionalOffset.x,this.currentPositionY-=this.previousAdditionalOffset.y;var r=this.worldToScreenPoint(t),i=r.clone();"finish"!==this.level.state&&(i.x=(0,Et.uZ)(r.x,this.flyingCharacterLeftPosition,this.flyingCharacterRightPosition),i.y=(0,Et.uZ)(r.y,this.flyingCharacterBottomPosition,this.flyingCharacterTopPosition));var o=this.screenToWorldPoint(i),a=new n.E9(t.x-o.x,t.y-o.y),s=new n.E9(this.currentPositionX+a.x,this.currentPositionY+a.y);return s.y>this.maxYPosition&&(a.y-=s.y-this.maxYPosition),s.y<this.minYPosition&&(a.y+=this.minYPosition-s.y),a.y=Math.min(Math.abs(a.y),this.settings.maxCameraYUpOffsetPerSecond)*Math.sign(a.y),this.currentPositionX+=a.x+this.currentAdditionalOffset.x+this.zoomingAdditionalOffset.x,this.currentPositionY+=a.y+this.currentAdditionalOffset.y+this.zoomingAdditionalOffset.y,this.previousAdditionalOffset=new n.E9(this.currentAdditionalOffset.x+this.zoomingAdditionalOffset.x,this.currentAdditionalOffset.y+this.zoomingAdditionalOffset.y),new n.E9(this.currentPositionX-e.x,this.currentPositionY-e.y)}},{key:"updateCameraZoom",value:function(t,e,r){var n,i=this;if(this.isFlyingZoomingAvailable){var o=this.worldToScreenPoint(e).y/A.Z.height,a=o>0?this.settings.flyingCharacterRelativeTopPosition/o:1,s=this.zoomFactor,u=s*a-s,l=(u<0?this.settings.maxZoomUpPerSecond:this.settings.maxZoomDownPerSecond)*t/1e3;u=(0,Et.uZ)(u,-l,l),this.targetCameraZoom=s+u,this.targetCameraZoom=(0,Et.uZ)(this.targetCameraZoom,this.settings.minZoomValue,this.defaultMainCameraZoom),this.currentCameraZoom=(0,Et.t7)(this.defaultMinMainCameraZoom,this.defaultMaxMainCameraZoom,(0,Et.$O)(this.settings.flyingMinCharacterXVelocity,this.settings.flyingMaxCharacterXVelocity,Math.abs(r.x)));var c=Math.min(this.currentCameraZoom,this.targetCameraZoom),h=c-this.zoomFactor;h<0||this.currentZoomDownDelay<=0?(h<0&&(this.currentZoomDownDelay=this.settings.delayBeforeZoomDown),this.zoomFactor!==c&&(this.zoomFactor+=(0,Et.uZ)(h,-this.currentMaxCameraZoomChangePerFrame,this.currentMaxCameraZoomChangePerFrame))):this.currentZoomDownDelay-=t}else if(this.isFinishZoomingAvailable)if(this.currentFinishZoomingDuration<=this.totalFinishZoomingDuration){this.currentFinishZoomingDuration+=t;var f=(0,Et.V2)(this.currentFinishZoomingDuration/this.totalFinishZoomingDuration);this.zoomFactor=this.startFinishZooming+(this.targetFinishZooming-this.startFinishZooming)*((n=f)>.5?i.finishZoomingCurve(n):0)}else this.isFinishZoomingAvailable=!1}},{key:"changeAdditionalOffset",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t};e>0?(this.startAdditionalOffset=this.currentAdditionalOffset.clone(),this.targetAdditionalOffsetDifference=new n.E9(t.x-this.startAdditionalOffset.x,t.y-this.startAdditionalOffset.y),this.currentAdditionalOffsetChangeDuration=0,this.totalAdditionalOffsetChangeDuration=e,this.additionalOffsetChangeCurve=r):(this.currentPositionX-=this.previousAdditionalOffset.x,this.currentPositionY-=this.previousAdditionalOffset.y,this.previousAdditionalOffset=new n.E9,this.currentAdditionalOffset=t.clone(),this.currentAdditionalOffsetChangeDuration=0,this.totalAdditionalOffsetChangeDuration=0)}},{key:"setCameraPosition",value:function(t){this.shakeTransform=(new n.E9).copyFrom(t)}},{key:"initialize",value:function(){this.isFlyingZoomingAvailable=!0,this.defaultMainCameraZoom=this.defaultZoomMultiplier,this.defaultMinMainCameraZoom=this.settings.flyingMinCharacterVelocityZoom,this.defaultMaxMainCameraZoom=this.settings.flyingMaxCharacterVelocityZoom,this.handleResize(),this.shakeTransform=new n.E9}},{key:"handleResize",value:function(){var t;this.minYPosition=this.defaultCameraPosition.y,this.changeCameraSettingsForCharacterState(null===(t=this.level)||void 0===t||null===(t=t.flyingCharacter)||void 0===t?void 0:t.state),this.zoomFactor=this.zoomFactor,this.flyingCharacterLeftPosition=A.Z.width*this.settings.flyingCharacterRelativeLeftPosition,this.flyingCharacterRightPosition=A.Z.width*this.settings.flyingCharacterRelativeRightPosition,this.flyingCharacterBottomPosition=A.Z.height*this.settings.flyingCharacterRelativeBottomPosition,this.flyingCharacterTopPosition=A.Z.height*this.settings.flyingCharacterRelativeTopPosition,this.deadCharacterXPosition=A.Z.width*this.deadCharacterRelativeXPosition}},{key:"changeCameraSettingsForCharacterState",value:function(t){"flying"===t?(this.maxYPosition=this.defaultCameraPosition.y,this.settings=lu):"spaceLaunch"===t?(this.maxYPosition=1/0,this.settings=cu):t||(this.maxYPosition=this.defaultCameraPosition.y,this.settings=uu)}},{key:"onLevelStateChanged",value:function(t,e){if(this.isFlyingZoomingAvailable="flying"===t,"flying"===t)this.isFlyingStateActivated=!0;else if("finish"===t&&this.isFlyingStateActivated){this.startFinishZooming=this.zoomFactor,this.targetFinishZooming=this.defaultMainCameraZoom,this.currentFinishZoomingDuration=0,this.totalFinishZoomingDuration=this.deadCharacterOffsetDuration,this.finishZoomingCurve=this.deadCharacterOffsetCurve,this.isFinishZoomingAvailable=!0;var r=new n.E9(e.x-this.screenToWorldX(this.deadCharacterXPosition),0);this.changeAdditionalOffset(r,this.deadCharacterOffsetDuration,this.deadCharacterOffsetCurve)}}}])}(),yu=r(8667);const gu=JSON.parse('{"bl":[{"m_Name":"SnowArcticBackground","m_LocalPosition":{"x":0,"y":0,"z":0},"backgroundType":"snowArcticLocation","mainCameraBackgroundColor":{"r":0.09803922,"g":0.67058825,"b":1,"a":1},"layersPrefabs":[{"0":{"GameObject":{"m_Name":"BottomGround"},"data":{"type":"GameObject","name":"BottomGround","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":100}}},{"MonoBehaviour":{"layerWidth":6400,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.5,"y":0},"backgroundLayerType":"ground","maxTilesCount":100}},{"MonoBehaviour":{"type":1,"collisionAction":1,"minAngle":10,"maxAngle":30,"velocityCurve":{"m_Curve":[{"time":0,"value":0,"inSlope":0.09296352,"outSlope":0.09296352,"tangentMode":0,"weightedMode":0,"inWeight":0.33333334,"outWeight":0.22200474},{"time":0.89606196,"value":0.046331406,"inSlope":0.11455085,"outSlope":0.11455085,"tangentMode":0,"weightedMode":0,"inWeight":0.075983614,"outWeight":0.078169025},{"time":1.0013428,"value":0.85,"inSlope":0.019226814,"outSlope":0.019226814,"tangentMode":0,"weightedMode":0,"inWeight":0.07877218,"outWeight":0.33333334}],"m_PreInfinity":2,"m_PostInfinity":2,"m_RotationOrder":0},"minVelocity":0,"maxVelocity":100000,"yVelocityChangeDuration":0.02,"canScaleCharacterAfterCollision":1,"scalingType":3,"collideSoundName":"penguin_collision","collideShakeDuration":0.1,"collideShakeRadius":8,"collideVibration":106,"velocityChangingDuration":0.5,"velocityChangingMultiplier":0.9,"initialTilesList":[{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_1"},{"tileType":2,"tileName":"trail_blood_begin_1"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_2"},{"tileType":2,"tileName":"trail_blood_begin_2"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_3"},{"tileType":2,"tileName":"trail_blood_begin_3"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_4"},{"tileType":2,"tileName":"trail_blood_begin_4"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_5"},{"tileType":2,"tileName":"trail_blood_begin_5"}]}],"middleTilesList":[{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_middle"},{"tileType":2,"tileName":"trail_blood_middle"}]}],"finalTilesList":[{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_end"},{"tileType":2,"tileName":"trail_blood_end"}]}]}},{}],"children":[{"GameObject":{"m_Name":"BottomGroundTile"},"data":{"type":"GameObject","name":"BottomGroundTile","components":[{"Transform":{"m_LocalPosition":{"x":2222,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"GroundPhysics"},"data":{"type":"GameObject","name":"GroundPhysics","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}},{}],"children":[]}},{"GameObject":{"m_Name":"BottomGround"},"data":{"type":"GameObject","name":"BottomGround","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":-1443.596,"z":0},"m_LocalScale":{"x":2400,"y":405,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/tile_white"}}}],"children":[]}}]}},{"GameObject":{"m_Name":"WhackEffectParent"},"data":{"type":"GameObject","name":"WhackEffectParent","components":[{"Transform":{"m_LocalPosition":{"x":-1120,"y":0,"z":0}}}],"children":[]}}]}}},{"0":{"GameObject":{"m_Name":"BottomTrees"},"data":{"type":"GameObject","name":"BottomTrees","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":50}}},{"MonoBehaviour":{"layerWidth":14180,"widthBetweenTiles":2500,"relativeSpeed":{"x":0.5,"y":0},"backgroundLayerType":"tree","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"BottomTreesTile"},"data":{"type":"GameObject","name":"BottomTreesTile","components":[{"Transform":{"m_LocalPosition":{"x":1800,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"ChristmasTree1"},"data":{"type":"GameObject","name":"ChristmasTree1","components":[{"Transform":{"m_LocalPosition":{"x":-2000,"y":100,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/christmas_tree_1"}}}],"children":[]}},{"GameObject":{"m_Name":"ChristmasTree2"},"data":{"type":"GameObject","name":"ChristmasTree2","components":[{"Transform":{"m_LocalPosition":{"x":-5700,"y":100,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/christmas_tree_2"}}}],"children":[]}},{"GameObject":{"m_Name":"ChristmasTree3"},"data":{"type":"GameObject","name":"ChristmasTree3","components":[{"Transform":{"m_LocalPosition":{"x":-10000,"y":100,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/christmas_tree_3"}}}],"children":[]}},{"GameObject":{"m_Name":"ChristmasTree4"},"data":{"type":"GameObject","name":"ChristmasTree4","components":[{"Transform":{"m_LocalPosition":{"x":-16000,"y":100,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/christmas_tree_4"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"Clouds"},"data":{"type":"GameObject","name":"Clouds","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":375}}},{"MonoBehaviour":{"layerWidth":2723,"widthBetweenTiles":300,"relativeSpeed":{"x":0.97,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"CloudsTile"},"data":{"type":"GameObject","name":"CloudsTile","components":[{"Transform":{"m_LocalPosition":{"x":1800,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"Cloud1"},"data":{"type":"GameObject","name":"Cloud1","components":[{"Transform":{"m_LocalPosition":{"x":15.82822,"y":656.7293,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/clouds_1"}}}],"children":[]}},{"GameObject":{"m_Name":"Cloud2"},"data":{"type":"GameObject","name":"Cloud2","components":[{"Transform":{"m_LocalPosition":{"x":-1684.1718,"y":696.7293,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/clouds_2"}}}],"children":[]}},{"GameObject":{"m_Name":"Cloud3"},"data":{"type":"GameObject","name":"Cloud3","components":[{"Transform":{"m_LocalPosition":{"x":-1184.1718,"y":916.7293,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/clouds_3"}}}],"children":[]}},{"GameObject":{"m_Name":"Cloud4"},"data":{"type":"GameObject","name":"Cloud4","components":[{"Transform":{"m_LocalPosition":{"x":-584.17175,"y":706.7293,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/clouds_4"}}}],"children":[]}},{"GameObject":{"m_Name":"Cloud5"},"data":{"type":"GameObject","name":"Cloud5","components":[{"Transform":{"m_LocalPosition":{"x":365.82822,"y":956.7293,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/clouds_5"}}}],"children":[]}},{"GameObject":{"m_Name":"Cloud6"},"data":{"type":"GameObject","name":"Cloud6","components":[{"Transform":{"m_LocalPosition":{"x":715.82825,"y":756.7293,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/clouds_6"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"GroundDecals"},"data":{"type":"GameObject","name":"GroundDecals","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":75}}},{"MonoBehaviour":{"layerWidth":2238,"widthBetweenTiles":0,"relativeSpeed":{"x":0.5,"y":0},"backgroundLayerType":"decals","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"GroundDecalsTile"},"data":{"type":"GameObject","name":"GroundDecalsTile","components":[{"Transform":{"m_LocalPosition":{"x":2800,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"DecalsGround1"},"data":{"type":"GameObject","name":"DecalsGround1","components":[{"Transform":{"m_LocalPosition":{"x":-1200,"y":18.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/decals_ground_front_1"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround2"},"data":{"type":"GameObject","name":"DecalsGround2","components":[{"Transform":{"m_LocalPosition":{"x":440,"y":-77.30867,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/decals_ground_front_2"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround3"},"data":{"type":"GameObject","name":"DecalsGround3","components":[{"Transform":{"m_LocalPosition":{"x":-600,"y":108.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/decals_ground_front_3"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround4"},"data":{"type":"GameObject","name":"DecalsGround4","components":[{"Transform":{"m_LocalPosition":{"x":-200,"y":78.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/decals_ground_front_4"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround5"},"data":{"type":"GameObject","name":"DecalsGround5","components":[{"Transform":{"m_LocalPosition":{"x":200,"y":-61.30867,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/decals_ground_front_5"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround6"},"data":{"type":"GameObject","name":"DecalsGround6","components":[{"Transform":{"m_LocalPosition":{"x":500,"y":78.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/decals_ground_front_6"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround7"},"data":{"type":"GameObject","name":"DecalsGround7","components":[{"Transform":{"m_LocalPosition":{"x":800,"y":-41.30867,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/decals_ground_front_7"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"Horizont"},"data":{"type":"GameObject","name":"Horizont","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":400}}},{"MonoBehaviour":{"layerWidth":1200,"widthBetweenTiles":-10,"relativeSpeed":{"x":1,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"HorizontTile"},"data":{"type":"GameObject","name":"HorizontTile","components":[{"Transform":{"m_LocalPosition":{"x":2400,"y":400,"z":0},"m_LocalScale":{"x":300,"y":400,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/tile_white"},"m_Color":{"r":0.09803922,"g":0.67058825,"b":1,"a":1}}}],"children":[]}}]}}},{"0":{"GameObject":{"m_Name":"Igloo"},"data":{"type":"GameObject","name":"Igloo","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":340}}},{"MonoBehaviour":{"layerWidth":1593.8,"widthBetweenTiles":1500,"relativeSpeed":{"x":0.9,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"IglooTile"},"data":{"type":"GameObject","name":"IglooTile","components":[{"Transform":{"m_LocalPosition":{"x":2350,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"Igloo1"},"data":{"type":"GameObject","name":"Igloo1","components":[{"Transform":{"m_LocalPosition":{"x":-611,"y":464,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/igloo_1"}}}],"children":[]}},{"GameObject":{"m_Name":"Igloo2"},"data":{"type":"GameObject","name":"Igloo2","components":[{"Transform":{"m_LocalPosition":{"x":-371,"y":464,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/igloo_2"}}}],"children":[]}},{"GameObject":{"m_Name":"Igloo3"},"data":{"type":"GameObject","name":"Igloo3","components":[{"Transform":{"m_LocalPosition":{"x":-1200,"y":464,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/igloo_2"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"MiddleDecals"},"data":{"type":"GameObject","name":"MiddleDecals","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":275}}},{"MonoBehaviour":{"layerWidth":1284,"widthBetweenTiles":300,"relativeSpeed":{"x":0.8,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"MiddleDecalsTile"},"data":{"type":"GameObject","name":"MiddleDecalsTile","components":[{"Transform":{"m_LocalPosition":{"x":1800,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"MiddleDecals1"},"data":{"type":"GameObject","name":"MiddleDecals1","components":[{"Transform":{"m_LocalPosition":{"x":-600,"y":220,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/decals_ground_middle_1"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleDecals2"},"data":{"type":"GameObject","name":"MiddleDecals2","components":[{"Transform":{"m_LocalPosition":{"x":-500,"y":300,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/decals_ground_middle_2"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleDecals3"},"data":{"type":"GameObject","name":"MiddleDecals3","components":[{"Transform":{"m_LocalPosition":{"x":400,"y":272,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/decals_ground_middle_3"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleDecals4"},"data":{"type":"GameObject","name":"MiddleDecals4","components":[{"Transform":{"m_LocalPosition":{"x":600,"y":224,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/decals_ground_middle_4"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleDecals5"},"data":{"type":"GameObject","name":"MiddleDecals5","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":228,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/decals_ground_middle_5"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"MiddleGround"},"data":{"type":"GameObject","name":"MiddleGround","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":300}}},{"MonoBehaviour":{"layerWidth":1200,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.8,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"MiddleGroundTile"},"data":{"type":"GameObject","name":"MiddleGroundTile","components":[{"Transform":{"m_LocalPosition":{"x":1800,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"MiddleGround"},"data":{"type":"GameObject","name":"MiddleGround","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":176,"z":0},"m_LocalScale":{"x":300,"y":45,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/tile_white"},"m_Color":{"r":0.73333335,"g":0.9607843,"b":1,"a":1}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"MiddleTopGround"},"data":{"type":"GameObject","name":"MiddleTopGround","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":300}}},{"MonoBehaviour":{"layerWidth":1968,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.8,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"MiddleTopGroundTile"},"data":{"type":"GameObject","name":"MiddleTopGroundTile","components":[{"Transform":{"m_LocalPosition":{"x":1800,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"MiddleTop"},"data":{"type":"GameObject","name":"MiddleTop","components":[{"Transform":{"m_LocalPosition":{"x":600,"y":350,"z":0},"m_LocalScale":{"x":1,"y":0.7,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/ground_medium"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"MiddleTrees"},"data":{"type":"GameObject","name":"MiddleTrees","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":250}}},{"MonoBehaviour":{"layerWidth":5673.5996,"widthBetweenTiles":700,"relativeSpeed":{"x":0.8,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"MiddleTreesTile"},"data":{"type":"GameObject","name":"MiddleTreesTile","components":[{"Transform":{"m_LocalPosition":{"x":2400,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"MiddleTree1"},"data":{"type":"GameObject","name":"MiddleTree1","components":[{"Transform":{"m_LocalPosition":{"x":-1672,"y":280,"z":0},"m_LocalScale":{"x":0.9,"y":0.9,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/tree_1"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleTree2"},"data":{"type":"GameObject","name":"MiddleTree2","components":[{"Transform":{"m_LocalPosition":{"x":-512,"y":280,"z":0},"m_LocalScale":{"x":0.9,"y":0.9,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/tree_2"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleTree3"},"data":{"type":"GameObject","name":"MiddleTree3","components":[{"Transform":{"m_LocalPosition":{"x":-1517,"y":280,"z":0},"m_LocalScale":{"x":0.9,"y":0.9,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/tree_3"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleTree4"},"data":{"type":"GameObject","name":"MiddleTree4","components":[{"Transform":{"m_LocalPosition":{"x":953,"y":280,"z":0},"m_LocalScale":{"x":0.9,"y":0.9,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/tree_4"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleTree5"},"data":{"type":"GameObject","name":"MiddleTree5","components":[{"Transform":{"m_LocalPosition":{"x":1144,"y":280,"z":0},"m_LocalScale":{"x":0.9,"y":0.9,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/tree_5"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleTree6"},"data":{"type":"GameObject","name":"MiddleTree6","components":[{"Transform":{"m_LocalPosition":{"x":-2987,"y":280,"z":0},"m_LocalScale":{"x":0.9,"y":0.9,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/tree_6"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleTree7"},"data":{"type":"GameObject","name":"MiddleTree7","components":[{"Transform":{"m_LocalPosition":{"x":-4400,"y":280,"z":0},"m_LocalScale":{"x":0.9,"y":0.9,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/tree_7"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"Sky"},"data":{"type":"GameObject","name":"Sky","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":390}}},{"MonoBehaviour":{"layerWidth":2916,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.98,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"Sky"},"data":{"type":"GameObject","name":"Sky","components":[{"Transform":{"m_LocalPosition":{"x":2400,"y":600,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/sky"}}}],"children":[]}}]}}},{"0":{"GameObject":{"m_Name":"SnowBlueDrifts"},"data":{"type":"GameObject","name":"SnowBlueDrifts","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":325}}},{"MonoBehaviour":{"layerWidth":2294.7,"widthBetweenTiles":500,"relativeSpeed":{"x":0.8,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"SnowBlueDriftTile"},"data":{"type":"GameObject","name":"SnowBlueDriftTile","components":[{"Transform":{"m_LocalPosition":{"x":1800,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"SnowBlueDrift1"},"data":{"type":"GameObject","name":"SnowBlueDrift1","components":[{"Transform":{"m_LocalPosition":{"x":1352,"y":370,"z":0},"m_LocalScale":{"x":0.85,"y":0.85,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/snowdrift_blue_1"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowBlueDrift2"},"data":{"type":"GameObject","name":"SnowBlueDrift2","components":[{"Transform":{"m_LocalPosition":{"x":640,"y":372,"z":0},"m_LocalScale":{"x":0.85,"y":0.85,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/snowdrift_blue_2"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowBlueDrift3"},"data":{"type":"GameObject","name":"SnowBlueDrift3","components":[{"Transform":{"m_LocalPosition":{"x":308,"y":376,"z":0},"m_LocalScale":{"x":0.85,"y":0.85,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/snowdrift_blue_3"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowBlueDrift4"},"data":{"type":"GameObject","name":"SnowBlueDrift4","components":[{"Transform":{"m_LocalPosition":{"x":-540,"y":361,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/snowdrift_blue_4"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"SnowDrifts"},"data":{"type":"GameObject","name":"SnowDrifts","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":125}}},{"MonoBehaviour":{"layerWidth":2002,"widthBetweenTiles":1000,"relativeSpeed":{"x":0.55,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"SnowDriftTile"},"data":{"type":"GameObject","name":"SnowDriftTile","components":[{"Transform":{"m_LocalPosition":{"x":1800,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"SnowDrift1"},"data":{"type":"GameObject","name":"SnowDrift1","components":[{"Transform":{"m_LocalPosition":{"x":-300,"y":166,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/snowdrift_white_1"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowDrift2"},"data":{"type":"GameObject","name":"SnowDrift2","components":[{"Transform":{"m_LocalPosition":{"x":474,"y":164,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/snowdrift_white_2"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowDrift3"},"data":{"type":"GameObject","name":"SnowDrift3","components":[{"Transform":{"m_LocalPosition":{"x":1200,"y":160,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/snowdrift_white_3"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"TopGround"},"data":{"type":"GameObject","name":"TopGround","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":350}}},{"MonoBehaviour":{"layerWidth":1396,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.88,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"TopGroundTile"},"data":{"type":"GameObject","name":"TopGroundTile","components":[{"Transform":{"m_LocalPosition":{"x":2180,"y":312,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/ground_back"}}}],"children":[]}}]}}}]},{"m_Name":"StartArcticBackground","m_LocalPosition":{"x":0,"y":0,"z":0},"backgroundType":"startLocation","mainCameraBackgroundColor":{"r":0,"g":0,"b":0,"a":1},"layersPrefabs":[{"0":{"GameObject":{"m_Name":"Iceberg"},"data":{"type":"GameObject","name":"Iceberg","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":50}}},{"MonoBehaviour":{"layerWidth":1520,"widthBetweenTiles":0,"relativeSpeed":{"x":0.5,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"IcebergTile"},"data":{"type":"GameObject","name":"IcebergTile","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"Iceberg"},"data":{"type":"GameObject","name":"Iceberg","components":[{"Transform":{"m_LocalPosition":{"x":-150,"y":22,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundSnowArctic/iceberg"}}}],"children":[{"GameObject":{"m_Name":"FlyingCharacterTransform"},"data":{"type":"GameObject","name":"FlyingCharacterTransform","components":[{"Transform":{"m_LocalPosition":{"x":-220,"y":814,"z":0}}},{"MonoBehaviour":{}}],"children":[]}},{"GameObject":{"m_Name":"ProposalTransform"},"data":{"type":"GameObject","name":"ProposalTransform","components":[{"Transform":{"m_LocalPosition":{"x":578,"y":30,"z":0}}},{"MonoBehaviour":{}}],"children":[]}}]}}]}}]}}}]},{"m_Name":"IceArcticBackground","m_LocalPosition":{"x":0,"y":0,"z":0},"backgroundType":"iceArcticLocation","mainCameraBackgroundColor":{"r":0.25882354,"g":0.25490198,"b":0.64705884,"a":1},"layersPrefabs":[{"0":{"GameObject":{"m_Name":"BottomGround"},"data":{"type":"GameObject","name":"BottomGround","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":100}}},{"MonoBehaviour":{"layerWidth":3200,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.5,"y":0},"backgroundLayerType":"ground","maxTilesCount":100}},{"MonoBehaviour":{"type":1,"collisionAction":1,"minAngle":10,"maxAngle":30,"velocityCurve":{"m_Curve":[{"time":0,"value":0,"inSlope":1.3703647,"outSlope":1.3703647,"tangentMode":0,"weightedMode":0,"inWeight":0.33333334,"outWeight":0.07630952},{"time":1.0013428,"value":0.7,"inSlope":1.4131886,"outSlope":1.4131886,"tangentMode":0,"weightedMode":0,"inWeight":0.04179105,"outWeight":0.33333334}],"m_PreInfinity":2,"m_PostInfinity":2,"m_RotationOrder":0},"minVelocity":0,"maxVelocity":20000,"yVelocityChangeDuration":0.02,"canScaleCharacterAfterCollision":1,"scalingType":3,"collideSoundName":"penguin_collision","collideShakeDuration":0.1,"collideShakeRadius":8,"collideVibration":106,"velocityChangingDuration":0.5,"velocityChangingMultiplier":0.9,"initialTilesList":[{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_1"},{"tileType":2,"tileName":"trail_blood_begin_1"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_2"},{"tileType":2,"tileName":"trail_blood_begin_2"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_3"},{"tileType":2,"tileName":"trail_blood_begin_3"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_4"},{"tileType":2,"tileName":"trail_blood_begin_4"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_5"},{"tileType":2,"tileName":"trail_blood_begin_5"}]}],"middleTilesList":[{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_middle"},{"tileType":2,"tileName":"trail_blood_middle"}]}],"finalTilesList":[{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_end"},{"tileType":2,"tileName":"trail_blood_end"}]}]}},{}],"children":[{"GameObject":{"m_Name":"BottomGroundTile"},"data":{"type":"GameObject","name":"BottomGroundTile","components":[{"Transform":{"m_LocalPosition":{"x":2400,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"GroundPhysics"},"data":{"type":"GameObject","name":"GroundPhysics","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}},{}],"children":[]}},{"GameObject":{"m_Name":"BottomGround"},"data":{"type":"GameObject","name":"BottomGround","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":-1326.0437,"z":0},"m_LocalScale":{"x":2400,"y":376.511,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/tile_white"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"GroundDecals"},"data":{"type":"GameObject","name":"GroundDecals","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":75}}},{"MonoBehaviour":{"layerWidth":2239,"widthBetweenTiles":0,"relativeSpeed":{"x":0.5,"y":0},"backgroundLayerType":"decals","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"GroundDecalsTile"},"data":{"type":"GameObject","name":"GroundDecalsTile","components":[{"Transform":{"m_LocalPosition":{"x":2800,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"DecalsGround1"},"data":{"type":"GameObject","name":"DecalsGround1","components":[{"Transform":{"m_LocalPosition":{"x":-1200,"y":18.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/decals_ground_front_1"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround2"},"data":{"type":"GameObject","name":"DecalsGround2","components":[{"Transform":{"m_LocalPosition":{"x":440,"y":-77.30867,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/decals_ground_front_2"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround3"},"data":{"type":"GameObject","name":"DecalsGround3","components":[{"Transform":{"m_LocalPosition":{"x":-600,"y":108.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/decals_ground_front_3"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround4"},"data":{"type":"GameObject","name":"DecalsGround4","components":[{"Transform":{"m_LocalPosition":{"x":-200,"y":78.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/decals_ground_front_4"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround5"},"data":{"type":"GameObject","name":"DecalsGround5","components":[{"Transform":{"m_LocalPosition":{"x":200,"y":-61.30867,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/decals_ground_front_5"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround6"},"data":{"type":"GameObject","name":"DecalsGround6","components":[{"Transform":{"m_LocalPosition":{"x":500,"y":78.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/decals_ground_front_6"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround7"},"data":{"type":"GameObject","name":"DecalsGround7","components":[{"Transform":{"m_LocalPosition":{"x":800,"y":-41.30867,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/decals_ground_front_7"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"MiddleWater"},"data":{"type":"GameObject","name":"MiddleWater","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":300}}},{"MonoBehaviour":{"layerWidth":1200,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.95,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"MiddleWaterTile"},"data":{"type":"GameObject","name":"MiddleWaterTile","components":[{"Transform":{"m_LocalPosition":{"x":2180,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"MiddleWater"},"data":{"type":"GameObject","name":"MiddleWater","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":166,"z":0},"m_LocalScale":{"x":300,"y":50,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/tile_white"},"m_Color":{"r":0.07058824,"g":0.73333335,"b":0.98039216,"a":1}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleWaterEffect"},"data":{"type":"GameObject","name":"MiddleWaterEffect","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":242,"z":-5}}},{"MonoBehaviour":{"effectName":"FxBackIceSeaMiddle","targetLocalScale":{"x":1,"y":1,"z":1}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"IceDrifts"},"data":{"type":"GameObject","name":"IceDrifts","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":125}}},{"MonoBehaviour":{"layerWidth":4873,"widthBetweenTiles":1000,"relativeSpeed":{"x":0.55,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"IceDriftTile"},"data":{"type":"GameObject","name":"IceDriftTile","components":[{"Transform":{"m_LocalPosition":{"x":700,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"IceDrift1"},"data":{"type":"GameObject","name":"IceDrift1","components":[{"Transform":{"m_LocalPosition":{"x":-2300,"y":175,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/ice_drift_2"}}}],"children":[]}},{"GameObject":{"m_Name":"IceDrift2"},"data":{"type":"GameObject","name":"IceDrift2","components":[{"Transform":{"m_LocalPosition":{"x":-825,"y":175,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/ice_drift_3"}}}],"children":[]}},{"GameObject":{"m_Name":"IceDrift3"},"data":{"type":"GameObject","name":"IceDrift3","components":[{"Transform":{"m_LocalPosition":{"x":91,"y":175,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/ice_drift_1"}}}],"children":[]}},{"GameObject":{"m_Name":"IceDrift4"},"data":{"type":"GameObject","name":"IceDrift4","components":[{"Transform":{"m_LocalPosition":{"x":2121,"y":175,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/ice_drift_2"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"TopWater"},"data":{"type":"GameObject","name":"TopWater","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":350}}},{"MonoBehaviour":{"layerWidth":1200,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.98,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"TopWaterTile"},"data":{"type":"GameObject","name":"TopWaterTile","components":[{"Transform":{"m_LocalPosition":{"x":2180,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"TopWater"},"data":{"type":"GameObject","name":"TopWater","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":335,"z":0},"m_LocalScale":{"x":300,"y":45,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/tile_white"},"m_Color":{"r":0.05490196,"g":0.6509804,"b":0.96862745,"a":1}}}],"children":[]}},{"GameObject":{"m_Name":"TopWaterEffect"},"data":{"type":"GameObject","name":"TopWaterEffect","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":400,"z":-5}}},{"MonoBehaviour":{"effectName":"FxBackIceSeaBack","targetLocalScale":{"x":1,"y":1,"z":1}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"PolarLights"},"data":{"type":"GameObject","name":"PolarLights","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":400}}},{"MonoBehaviour":{"layerWidth":7200,"widthBetweenTiles":0,"relativeSpeed":{"x":1,"y":0},"backgroundLayerType":"none","maxTilesCount":1}}],"children":[{"GameObject":{"m_Name":"PolarLightsTile"},"data":{"type":"GameObject","name":"PolarLightsTile","components":[{"Transform":{"m_LocalPosition":{"x":950,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"PolarLights1"},"data":{"type":"GameObject","name":"PolarLights1","components":[{"Transform":{"m_LocalPosition":{"x":583,"y":1234,"z":0}}},{"MonoBehaviour":{"effectName":"FxBackIcePolarLights","targetLocalScale":{"x":1,"y":1,"z":1}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"Icebergs"},"data":{"type":"GameObject","name":"Icebergs","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":180}}},{"MonoBehaviour":{"layerWidth":3588,"widthBetweenTiles":2000,"relativeSpeed":{"x":0.95,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"IcebergsTile"},"data":{"type":"GameObject","name":"IcebergsTile","components":[{"Transform":{"m_LocalPosition":{"x":2200,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"SmallIceberg"},"data":{"type":"GameObject","name":"SmallIceberg","components":[{"Transform":{"m_LocalPosition":{"x":-1070,"y":272,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/ice_drift_small"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleIceberg"},"data":{"type":"GameObject","name":"MiddleIceberg","components":[{"Transform":{"m_LocalPosition":{"x":950,"y":270,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/ice_drift_middle"}}}],"children":[]}},{"GameObject":{"m_Name":"LargeIceberg"},"data":{"type":"GameObject","name":"LargeIceberg","components":[{"Transform":{"m_LocalPosition":{"x":1890,"y":260,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/ice_drift_large"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"TopIceberg"},"data":{"type":"GameObject","name":"TopIceberg","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":380}}},{"MonoBehaviour":{"layerWidth":3349.1997,"widthBetweenTiles":5000,"relativeSpeed":{"x":0.99,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"TopIcebergTile"},"data":{"type":"GameObject","name":"TopIcebergTile","components":[{"Transform":{"m_LocalPosition":{"x":950,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"TopIceberg"},"data":{"type":"GameObject","name":"TopIceberg","components":[{"Transform":{"m_LocalPosition":{"x":583,"y":935,"z":0}}},{"MeshFilter":{}},{}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"Titonic"},"data":{"type":"GameObject","name":"Titonic","components":[{"Transform":{"m_LocalPosition":{"x":1551,"y":0,"z":340}}},{"MonoBehaviour":{"layerWidth":944,"widthBetweenTiles":6000,"relativeSpeed":{"x":0.98,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"TitonicTile"},"data":{"type":"GameObject","name":"TitonicTile","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":630,"z":0}}}],"children":[{"GameObject":{"m_Name":"Titonic"},"data":{"type":"GameObject","name":"Titonic","components":[{"Transform":{"m_LocalPosition":{"x":3109.7646,"y":0,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundIceArctic/titonic"}}}],"children":[]}}]}}]}}}]},{"m_Name":"TundraBackground","m_LocalPosition":{"x":0,"y":0,"z":0},"backgroundType":"tundraLocation","mainCameraBackgroundColor":{"r":0.73333335,"g":0.40784314,"b":0.9490196,"a":1},"layersPrefabs":[{"0":{"GameObject":{"m_Name":"GroundDecals"},"data":{"type":"GameObject","name":"GroundDecals","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":75}}},{"MonoBehaviour":{"layerWidth":2239,"widthBetweenTiles":0,"relativeSpeed":{"x":0.5,"y":0},"backgroundLayerType":"decals","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"GroundDecalsTile"},"data":{"type":"GameObject","name":"GroundDecalsTile","components":[{"Transform":{"m_LocalPosition":{"x":2800,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"DecalsGround1"},"data":{"type":"GameObject","name":"DecalsGround1","components":[{"Transform":{"m_LocalPosition":{"x":-1200,"y":18.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/decals_ground_front_1"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround2"},"data":{"type":"GameObject","name":"DecalsGround2","components":[{"Transform":{"m_LocalPosition":{"x":440,"y":-77.30867,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/decals_ground_front_2"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround3"},"data":{"type":"GameObject","name":"DecalsGround3","components":[{"Transform":{"m_LocalPosition":{"x":-600,"y":108.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/decals_ground_front_3"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround4"},"data":{"type":"GameObject","name":"DecalsGround4","components":[{"Transform":{"m_LocalPosition":{"x":-200,"y":78.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/decals_ground_front_4"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround5"},"data":{"type":"GameObject","name":"DecalsGround5","components":[{"Transform":{"m_LocalPosition":{"x":200,"y":-61.30867,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/decals_ground_front_5"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround6"},"data":{"type":"GameObject","name":"DecalsGround6","components":[{"Transform":{"m_LocalPosition":{"x":500,"y":78.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/decals_ground_front_6"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround7"},"data":{"type":"GameObject","name":"DecalsGround7","components":[{"Transform":{"m_LocalPosition":{"x":800,"y":-41.30867,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/decals_ground_front_7"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"BottomGround"},"data":{"type":"GameObject","name":"BottomGround","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":100}}},{"MonoBehaviour":{"layerWidth":3200,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.5,"y":0},"backgroundLayerType":"ground","maxTilesCount":100}},{"MonoBehaviour":{"type":1,"collisionAction":1,"minAngle":10,"maxAngle":30,"velocityCurve":{"m_Curve":[{"time":0,"value":0,"inSlope":1.3703647,"outSlope":1.3703647,"tangentMode":0,"weightedMode":0,"inWeight":0.33333334,"outWeight":0.07630952},{"time":1.0013428,"value":0.7,"inSlope":1.4131886,"outSlope":1.4131886,"tangentMode":0,"weightedMode":0,"inWeight":0.04179105,"outWeight":0.33333334}],"m_PreInfinity":2,"m_PostInfinity":2,"m_RotationOrder":0},"minVelocity":0,"maxVelocity":20000,"yVelocityChangeDuration":0.02,"canScaleCharacterAfterCollision":1,"scalingType":3,"collideSoundName":"penguin_collision","collideShakeDuration":0.1,"collideShakeRadius":8,"collideVibration":106,"velocityChangingDuration":0.5,"velocityChangingMultiplier":0.9,"initialTilesList":[{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_1"},{"tileType":2,"tileName":"trail_blood_begin_1"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_2"},{"tileType":2,"tileName":"trail_blood_begin_2"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_3"},{"tileType":2,"tileName":"trail_blood_begin_3"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_4"},{"tileType":2,"tileName":"trail_blood_begin_4"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_5"},{"tileType":2,"tileName":"trail_blood_begin_5"}]}],"middleTilesList":[{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_middle"},{"tileType":2,"tileName":"trail_blood_middle"}]}],"finalTilesList":[{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_end"},{"tileType":2,"tileName":"trail_blood_end"}]}]}},{}],"children":[{"GameObject":{"m_Name":"BottomGroundTile"},"data":{"type":"GameObject","name":"BottomGroundTile","components":[{"Transform":{"m_LocalPosition":{"x":2400,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"GroundPhysics"},"data":{"type":"GameObject","name":"GroundPhysics","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}},{}],"children":[]}},{"GameObject":{"m_Name":"BottomGround"},"data":{"type":"GameObject","name":"BottomGround","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":-1221.0049,"z":0},"m_LocalScale":{"x":2400,"y":350.2512,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/tile_white"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"SnowDrifts"},"data":{"type":"GameObject","name":"SnowDrifts","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":125}}},{"MonoBehaviour":{"layerWidth":3006,"widthBetweenTiles":1000,"relativeSpeed":{"x":0.55,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"SnowDriftTile"},"data":{"type":"GameObject","name":"SnowDriftTile","components":[{"Transform":{"m_LocalPosition":{"x":1800,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"SnowDrift1"},"data":{"type":"GameObject","name":"SnowDrift1","components":[{"Transform":{"m_LocalPosition":{"x":-714,"y":172,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/snowdrift_white_1"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowDrift2"},"data":{"type":"GameObject","name":"SnowDrift2","components":[{"Transform":{"m_LocalPosition":{"x":334,"y":175,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/snowdrift_white_3"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowDrift3"},"data":{"type":"GameObject","name":"SnowDrift3","components":[{"Transform":{"m_LocalPosition":{"x":2436,"y":175,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/snowdrift_white_2"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowDrift4"},"data":{"type":"GameObject","name":"SnowDrift4","components":[{"Transform":{"m_LocalPosition":{"x":1713,"y":175,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/snowdrift_white_1"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"FrontTrees"},"data":{"type":"GameObject","name":"FrontTrees","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":200}}},{"MonoBehaviour":{"layerWidth":3402,"widthBetweenTiles":2000,"relativeSpeed":{"x":0.75,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"FrontTreesTile"},"data":{"type":"GameObject","name":"FrontTreesTile","components":[{"Transform":{"m_LocalPosition":{"x":2453,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"FrontTree1"},"data":{"type":"GameObject","name":"FrontTree1","components":[{"Transform":{"m_LocalPosition":{"x":-1545,"y":280,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/tree_3"}}}],"children":[]}},{"GameObject":{"m_Name":"FrontTree2"},"data":{"type":"GameObject","name":"FrontTree2","components":[{"Transform":{"m_LocalPosition":{"x":-1247,"y":285,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/tree_2"}}}],"children":[]}},{"GameObject":{"m_Name":"FrontTree3"},"data":{"type":"GameObject","name":"FrontTree3","components":[{"Transform":{"m_LocalPosition":{"x":948,"y":270,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/tree_4"}}}],"children":[]}},{"GameObject":{"m_Name":"FrontTree4"},"data":{"type":"GameObject","name":"FrontTree4","components":[{"Transform":{"m_LocalPosition":{"x":1134,"y":271,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/tree_1"}}}],"children":[]}},{"GameObject":{"m_Name":"FrontTree5"},"data":{"type":"GameObject","name":"FrontTree5","components":[{"Transform":{"m_LocalPosition":{"x":1393,"y":277,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/tree_2"}}}],"children":[]}},{"GameObject":{"m_Name":"FrontTree6"},"data":{"type":"GameObject","name":"FrontTree6","components":[{"Transform":{"m_LocalPosition":{"x":1745,"y":288,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/tree_3"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"MiddleGroundDecals"},"data":{"type":"GameObject","name":"MiddleGroundDecals","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":275}}},{"MonoBehaviour":{"layerWidth":1625,"widthBetweenTiles":0,"relativeSpeed":{"x":0.75,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"GroundDecalsTile"},"data":{"type":"GameObject","name":"GroundDecalsTile","components":[{"Transform":{"m_LocalPosition":{"x":2800,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"DecalsGround1"},"data":{"type":"GameObject","name":"DecalsGround1","components":[{"Transform":{"m_LocalPosition":{"x":-1173,"y":289,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/decals_ground_middle_5"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround2"},"data":{"type":"GameObject","name":"DecalsGround2","components":[{"Transform":{"m_LocalPosition":{"x":-724,"y":337,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/decals_ground_middle_2"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround3"},"data":{"type":"GameObject","name":"DecalsGround3","components":[{"Transform":{"m_LocalPosition":{"x":-401.08447,"y":306.50815,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/decals_ground_middle_3"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround4"},"data":{"type":"GameObject","name":"DecalsGround4","components":[{"Transform":{"m_LocalPosition":{"x":-21,"y":259,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/decals_ground_middle_4"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround5"},"data":{"type":"GameObject","name":"DecalsGround5","components":[{"Transform":{"m_LocalPosition":{"x":338,"y":280,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/decals_ground_middle_1"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"MiddleHills"},"data":{"type":"GameObject","name":"MiddleHills","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":300}}},{"MonoBehaviour":{"layerWidth":1980,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.75,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"MiddleHillsTile"},"data":{"type":"GameObject","name":"MiddleHillsTile","components":[{"Transform":{"m_LocalPosition":{"x":830,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"MiddleHillsBack"},"data":{"type":"GameObject","name":"MiddleHillsBack","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":76,"z":0},"m_LocalScale":{"x":494,"y":45,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/tile_white"},"m_Color":{"r":0.9764706,"g":0.84705883,"b":1,"a":1}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleHillsTop"},"data":{"type":"GameObject","name":"MiddleHillsTop","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":250,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/ground_medium"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"TopHills"},"data":{"type":"GameObject","name":"TopHills","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":350}}},{"MonoBehaviour":{"layerWidth":1436,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.8,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"TopHillsTile"},"data":{"type":"GameObject","name":"TopHillsTile","components":[{"Transform":{"m_LocalPosition":{"x":970,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"TopHillsTop"},"data":{"type":"GameObject","name":"TopHillsTop","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":443,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/ground_back"}}}],"children":[]}},{"GameObject":{"m_Name":"TopHillsBack"},"data":{"type":"GameObject","name":"TopHillsBack","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":269,"z":0},"m_LocalScale":{"x":358,"y":45,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/tile_white"},"m_Color":{"r":0.9372549,"g":0.7294118,"b":0.99215686,"a":1}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"BackTrees"},"data":{"type":"GameObject","name":"BackTrees","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":400}}},{"MonoBehaviour":{"layerWidth":4762,"widthBetweenTiles":500,"relativeSpeed":{"x":0.9,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"BackTreesTile"},"data":{"type":"GameObject","name":"BackTreesTile","components":[{"Transform":{"m_LocalPosition":{"x":2453,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"BackTree1"},"data":{"type":"GameObject","name":"BackTree1","components":[{"Transform":{"m_LocalPosition":{"x":-1956,"y":480,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/back_tree_1"}}}],"children":[]}},{"GameObject":{"m_Name":"BackTree2"},"data":{"type":"GameObject","name":"BackTree2","components":[{"Transform":{"m_LocalPosition":{"x":-895.1582,"y":454.6894,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/back_tree_3"}}}],"children":[]}},{"GameObject":{"m_Name":"BackTree3"},"data":{"type":"GameObject","name":"BackTree3","components":[{"Transform":{"m_LocalPosition":{"x":83.913086,"y":464.99628,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/back_tree_4"}}}],"children":[]}},{"GameObject":{"m_Name":"BackTree4"},"data":{"type":"GameObject","name":"BackTree4","components":[{"Transform":{"m_LocalPosition":{"x":1206,"y":357,"z":5}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/back_tree_2"}}}],"children":[]}},{"GameObject":{"m_Name":"BackTree5"},"data":{"type":"GameObject","name":"BackTree5","components":[{"Transform":{"m_LocalPosition":{"x":1848,"y":460,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundTundra/back_tree_3"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"Clouds"},"data":{"type":"GameObject","name":"Clouds","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":425}}},{"MonoBehaviour":{"layerWidth":2258.2104,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.99,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"CloudsTile"},"data":{"type":"GameObject","name":"CloudsTile","components":[{"Transform":{"m_LocalPosition":{"x":2500,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"Clouds"},"data":{"type":"GameObject","name":"Clouds","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":749,"z":0}}},{"MeshFilter":{}},{}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"Stars"},"data":{"type":"GameObject","name":"Stars","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":460}}},{"MonoBehaviour":{"layerWidth":10000,"widthBetweenTiles":0,"relativeSpeed":{"x":1,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"StarsTile"},"data":{"type":"GameObject","name":"StarsTile","components":[{"Transform":{"m_LocalPosition":{"x":2500,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"Stars"},"data":{"type":"GameObject","name":"Stars","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":1200,"z":0}}},{"MonoBehaviour":{"effectName":"FxBackTundraStars","targetLocalScale":{"x":1,"y":1,"z":1}}}],"children":[]}}]}}]}}}]},{"m_Name":"MarioBackground","m_LocalPosition":{"x":0,"y":0,"z":0},"backgroundType":"marioLocation","mainCameraBackgroundColor":{"r":0.047058824,"g":0.84705883,"b":1,"a":1},"layersPrefabs":[{"0":{"GameObject":{"m_Name":"GroundDecals"},"data":{"type":"GameObject","name":"GroundDecals","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":75}}},{"MonoBehaviour":{"layerWidth":2239,"widthBetweenTiles":0,"relativeSpeed":{"x":0.5,"y":0},"backgroundLayerType":"decals","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"GroundDecalsTile"},"data":{"type":"GameObject","name":"GroundDecalsTile","components":[{"Transform":{"m_LocalPosition":{"x":2800,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"DecalsGround1"},"data":{"type":"GameObject","name":"DecalsGround1","components":[{"Transform":{"m_LocalPosition":{"x":-1200,"y":18.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/decals_ground_front_1"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround2"},"data":{"type":"GameObject","name":"DecalsGround2","components":[{"Transform":{"m_LocalPosition":{"x":440,"y":-77.30867,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/decals_ground_front_2"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround3"},"data":{"type":"GameObject","name":"DecalsGround3","components":[{"Transform":{"m_LocalPosition":{"x":-600,"y":108.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/decals_ground_front_3"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround4"},"data":{"type":"GameObject","name":"DecalsGround4","components":[{"Transform":{"m_LocalPosition":{"x":-200,"y":78.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/decals_ground_front_4"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround5"},"data":{"type":"GameObject","name":"DecalsGround5","components":[{"Transform":{"m_LocalPosition":{"x":200,"y":-61.30867,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/decals_ground_front_5"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround6"},"data":{"type":"GameObject","name":"DecalsGround6","components":[{"Transform":{"m_LocalPosition":{"x":500,"y":78.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/decals_ground_front_6"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround7"},"data":{"type":"GameObject","name":"DecalsGround7","components":[{"Transform":{"m_LocalPosition":{"x":800,"y":-41.30867,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/decals_ground_front_7"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"BottomGround"},"data":{"type":"GameObject","name":"BottomGround","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":100}}},{"MonoBehaviour":{"layerWidth":3200,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.5,"y":0},"backgroundLayerType":"ground","maxTilesCount":100}},{"MonoBehaviour":{"type":1,"collisionAction":1,"minAngle":10,"maxAngle":30,"velocityCurve":{"m_Curve":[{"time":0,"value":0,"inSlope":1.3703647,"outSlope":1.3703647,"tangentMode":0,"weightedMode":0,"inWeight":0.33333334,"outWeight":0.07630952},{"time":1.0013428,"value":0.7,"inSlope":1.4131886,"outSlope":1.4131886,"tangentMode":0,"weightedMode":0,"inWeight":0.04179105,"outWeight":0.33333334}],"m_PreInfinity":2,"m_PostInfinity":2,"m_RotationOrder":0},"minVelocity":0,"maxVelocity":20000,"yVelocityChangeDuration":0.02,"canScaleCharacterAfterCollision":1,"scalingType":3,"collideSoundName":"penguin_collision","collideShakeDuration":0.1,"collideShakeRadius":8,"collideVibration":106,"velocityChangingDuration":0.5,"velocityChangingMultiplier":0.9,"initialTilesList":[{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_1"},{"tileType":2,"tileName":"trail_blood_begin_1"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_2"},{"tileType":2,"tileName":"trail_blood_begin_2"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_3"},{"tileType":2,"tileName":"trail_blood_begin_3"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_4"},{"tileType":2,"tileName":"trail_blood_begin_4"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_5"},{"tileType":2,"tileName":"trail_blood_begin_5"}]}],"middleTilesList":[{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_middle"},{"tileType":2,"tileName":"trail_blood_middle"}]}],"finalTilesList":[{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_end"},{"tileType":2,"tileName":"trail_blood_end"}]}]}},{}],"children":[{"GameObject":{"m_Name":"BottomGroundTile"},"data":{"type":"GameObject","name":"BottomGroundTile","components":[{"Transform":{"m_LocalPosition":{"x":2400,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"GroundPhysics"},"data":{"type":"GameObject","name":"GroundPhysics","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}},{}],"children":[]}},{"GameObject":{"m_Name":"BottomGround"},"data":{"type":"GameObject","name":"BottomGround","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":-1262.7463,"z":0},"m_LocalScale":{"x":2400,"y":360.6866,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/tile_white"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"SnowDrifts"},"data":{"type":"GameObject","name":"SnowDrifts","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":125}}},{"MonoBehaviour":{"layerWidth":3274,"widthBetweenTiles":1000,"relativeSpeed":{"x":0.55,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"SnowDriftTile"},"data":{"type":"GameObject","name":"SnowDriftTile","components":[{"Transform":{"m_LocalPosition":{"x":1800,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"SnowDrift1"},"data":{"type":"GameObject","name":"SnowDrift1","components":[{"Transform":{"m_LocalPosition":{"x":-714,"y":172,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/snowdrift_white_1"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowDrift2"},"data":{"type":"GameObject","name":"SnowDrift2","components":[{"Transform":{"m_LocalPosition":{"x":250,"y":175,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/snowdrift_white_2"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowDrift3"},"data":{"type":"GameObject","name":"SnowDrift3","components":[{"Transform":{"m_LocalPosition":{"x":1131,"y":175,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/snowdrift_white_3"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowDrift4"},"data":{"type":"GameObject","name":"SnowDrift4","components":[{"Transform":{"m_LocalPosition":{"x":1460,"y":175,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/snowdrift_white_4"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowDrift5"},"data":{"type":"GameObject","name":"SnowDrift5","components":[{"Transform":{"m_LocalPosition":{"x":2074,"y":175,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/snowdrift_white_5"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"FrontTrees"},"data":{"type":"GameObject","name":"FrontTrees","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":200}}},{"MonoBehaviour":{"layerWidth":1550,"widthBetweenTiles":1300,"relativeSpeed":{"x":0.75,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"FrontTreesTile"},"data":{"type":"GameObject","name":"FrontTreesTile","components":[{"Transform":{"m_LocalPosition":{"x":2103,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"FrontTree1"},"data":{"type":"GameObject","name":"FrontTree1","components":[{"Transform":{"m_LocalPosition":{"x":-907,"y":473.7,"z":70},"m_LocalScale":{"x":1.4,"y":1.4,"z":1.4}}},{"MeshFilter":{}},{}],"children":[]}},{"GameObject":{"m_Name":"FrontTree2"},"data":{"type":"GameObject","name":"FrontTree2","components":[{"Transform":{"m_LocalPosition":{"x":-361,"y":583,"z":70},"m_LocalScale":{"x":1.4,"y":1.4,"z":1.4}}},{"MeshFilter":{}},{}],"children":[]}},{"GameObject":{"m_Name":"FrontTree3"},"data":{"type":"GameObject","name":"FrontTree3","components":[{"Transform":{"m_LocalPosition":{"x":907,"y":518.8,"z":70},"m_LocalScale":{"x":1.4,"y":1.4,"z":1.4}}},{"MeshFilter":{}},{}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"MiddleGroundDecals"},"data":{"type":"GameObject","name":"MiddleGroundDecals","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":275}}},{"MonoBehaviour":{"layerWidth":1215,"widthBetweenTiles":300,"relativeSpeed":{"x":0.75,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"MiddleGroundDecalsTile"},"data":{"type":"GameObject","name":"MiddleGroundDecalsTile","components":[{"Transform":{"m_LocalPosition":{"x":1220,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"DecalsGround1"},"data":{"type":"GameObject","name":"DecalsGround1","components":[{"Transform":{"m_LocalPosition":{"x":-548,"y":279,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/decals_ground_middle_3"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround2"},"data":{"type":"GameObject","name":"DecalsGround2","components":[{"Transform":{"m_LocalPosition":{"x":-284,"y":316,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/decals_ground_middle_1"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround3"},"data":{"type":"GameObject","name":"DecalsGround3","components":[{"Transform":{"m_LocalPosition":{"x":-175,"y":239,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/decals_ground_middle_1"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround4"},"data":{"type":"GameObject","name":"DecalsGround4","components":[{"Transform":{"m_LocalPosition":{"x":-55,"y":288,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/decals_ground_middle_4"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround5"},"data":{"type":"GameObject","name":"DecalsGround5","components":[{"Transform":{"m_LocalPosition":{"x":155,"y":212,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/decals_ground_middle_1"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround6"},"data":{"type":"GameObject","name":"DecalsGround6","components":[{"Transform":{"m_LocalPosition":{"x":357,"y":287,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/decals_ground_middle_5"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround7"},"data":{"type":"GameObject","name":"DecalsGround7","components":[{"Transform":{"m_LocalPosition":{"x":543,"y":205,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/decals_ground_middle_2"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"MiddleHills"},"data":{"type":"GameObject","name":"MiddleHills","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":300}}},{"MonoBehaviour":{"layerWidth":3369,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.75,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"MiddleHillsTile"},"data":{"type":"GameObject","name":"MiddleHillsTile","components":[{"Transform":{"m_LocalPosition":{"x":2400,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"MiddleHillsBack"},"data":{"type":"GameObject","name":"MiddleHillsBack","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":130,"z":-5},"m_LocalScale":{"x":900,"y":60,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/tile_white"},"m_Color":{"r":0.6862745,"g":1,"b":0,"a":1}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleHillsTop"},"data":{"type":"GameObject","name":"MiddleHillsTop","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":365,"z":0}}}],"children":[{"GameObject":{"m_Name":"MiddleHillsTop1"},"data":{"type":"GameObject","name":"MiddleHillsTop1","components":[{"Transform":{"m_LocalPosition":{"x":-1007,"y":-14,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/bushes_medium_light_1"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleHillsTop2"},"data":{"type":"GameObject","name":"MiddleHillsTop2","components":[{"Transform":{"m_LocalPosition":{"x":233,"y":-14,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/bushes_medium_light_2"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleHillsTop3"},"data":{"type":"GameObject","name":"MiddleHillsTop3","components":[{"Transform":{"m_LocalPosition":{"x":1078,"y":-14,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/bushes_medium_light_3"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleHillsTop4"},"data":{"type":"GameObject","name":"MiddleHillsTop4","components":[{"Transform":{"m_LocalPosition":{"x":1558,"y":-14,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/bushes_medium_light_4"}}}],"children":[]}}]}}]}}]}}},{"0":{"GameObject":{"m_Name":"MiddleHillsBack"},"data":{"type":"GameObject","name":"MiddleHillsBack","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":325}}},{"MonoBehaviour":{"layerWidth":3094.2,"widthBetweenTiles":500,"relativeSpeed":{"x":0.9,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"MiddleHillsBackTile"},"data":{"type":"GameObject","name":"MiddleHillsBackTile","components":[{"Transform":{"m_LocalPosition":{"x":2400,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"MiddleHillsTop1"},"data":{"type":"GameObject","name":"MiddleHillsTop1","components":[{"Transform":{"m_LocalPosition":{"x":-1479.2,"y":348,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/bushes_medium_dark_1"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleHillsTop2"},"data":{"type":"GameObject","name":"MiddleHillsTop2","components":[{"Transform":{"m_LocalPosition":{"x":-424,"y":348,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/bushes_medium_dark_2"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleHillsTop3"},"data":{"type":"GameObject","name":"MiddleHillsTop3","components":[{"Transform":{"m_LocalPosition":{"x":444,"y":348,"z":0},"m_LocalScale":{"x":-1,"y":1,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/bushes_medium_dark_1"}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleHillsTop4"},"data":{"type":"GameObject","name":"MiddleHillsTop4","components":[{"Transform":{"m_LocalPosition":{"x":1107,"y":348,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/bushes_medium_dark_4"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"TopHillsTrees"},"data":{"type":"GameObject","name":"TopHillsTrees","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":340}}},{"MonoBehaviour":{"layerWidth":2246,"widthBetweenTiles":1000,"relativeSpeed":{"x":0.95,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"TopHillsTreesTile"},"data":{"type":"GameObject","name":"TopHillsTreesTile","components":[{"Transform":{"m_LocalPosition":{"x":1853,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"mushroom_sing"},"data":{"type":"GameObject","name":"mushroom_sing","components":[{"Transform":{"m_LocalRotation":{"x":0,"y":1,"z":0,"w":-4.371139e-8},"m_LocalPosition":{"x":-1090,"y":452,"z":0},"m_LocalScale":{"x":1.6,"y":1.6,"z":1.6}}},{"Animator":{"m_Avatar":{"type":3},"m_Controller":{"type":2},"m_CullingMode":1,"m_UpdateMode":0,"m_ApplyRootMotion":0,"m_LinearVelocityBlending":0,"m_StabilizeFeet":0,"m_WarningMessage":"","m_HasTransformHierarchy":1,"m_AllowConstantClipSamplingOptimization":1,"m_KeepAnimatorStateOnDisable":0,"m_WriteDefaultValuesOnDisable":0}}],"children":[{"GameObject":{"m_Name":"eye_l"},"data":{"type":"GameObject","name":"eye_l","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}},{}],"children":[]}},{"GameObject":{"m_Name":"eye_r"},"data":{"type":"GameObject","name":"eye_r","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}},{}],"children":[]}},{"GameObject":{"m_Name":"mouth_sing"},"data":{"type":"GameObject","name":"mouth_sing","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}},{}],"children":[]}},{"GameObject":{"m_Name":"mushroom_sing"},"data":{"type":"GameObject","name":"mushroom_sing","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}},{"MeshFilter":{}},{}],"children":[]}},{"GameObject":{"m_Name":"root"},"data":{"type":"GameObject","name":"root","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"effect"},"data":{"type":"GameObject","name":"effect","components":[{"Transform":{"m_LocalPosition":{"x":0.9,"y":479.69998,"z":21.507992}}}],"children":[{"GameObject":{"m_Name":"EffectCreator"},"data":{"type":"GameObject","name":"EffectCreator","components":[{"Transform":{"m_LocalRotation":{"x":0,"y":1,"z":0,"w":-4.371139e-8},"m_LocalPosition":{"x":0,"y":0,"z":0}}},{"MonoBehaviour":{"effectName":"FxBackMarioMelody","targetLocalScale":{"x":1,"y":1,"z":1}}}],"children":[]}}]}},{"GameObject":{"m_Name":"eye_l 1"},"data":{"type":"GameObject","name":"eye_l 1","components":[{"Transform":{"m_LocalPosition":{"x":-63.811386,"y":485.45734,"z":8.828375}}}],"children":[]}},{"GameObject":{"m_Name":"eye_r 1"},"data":{"type":"GameObject","name":"eye_r 1","components":[{"Transform":{"m_LocalPosition":{"x":64.74191,"y":485.45734,"z":8.828375}}}],"children":[]}},{"GameObject":{"m_Name":"mouth"},"data":{"type":"GameObject","name":"mouth","components":[{"Transform":{"m_LocalPosition":{"x":0.89823055,"y":479.71555,"z":8.828375}}}],"children":[]}},{"GameObject":{"m_Name":"root_child"},"data":{"type":"GameObject","name":"root_child","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}}],"children":[]}}]}}]}},{"GameObject":{"m_Name":"TopHillsTree2"},"data":{"type":"GameObject","name":"TopHillsTree2","components":[{"Transform":{"m_LocalPosition":{"x":-750,"y":722,"z":0},"m_LocalScale":{"x":1.6,"y":1.6,"z":1.6}}},{"MeshFilter":{}},{}],"children":[]}},{"GameObject":{"m_Name":"mushroom_foolish"},"data":{"type":"GameObject","name":"mushroom_foolish","components":[{"Transform":{"m_LocalRotation":{"x":0,"y":1,"z":0,"w":-4.371139e-8},"m_LocalPosition":{"x":399,"y":453,"z":0},"m_LocalScale":{"x":1.6,"y":1.6,"z":1.6}}},{"Animator":{"m_Avatar":{"type":3},"m_Controller":{"type":2},"m_CullingMode":1,"m_UpdateMode":0,"m_ApplyRootMotion":0,"m_LinearVelocityBlending":0,"m_StabilizeFeet":0,"m_WarningMessage":"","m_HasTransformHierarchy":1,"m_AllowConstantClipSamplingOptimization":1,"m_KeepAnimatorStateOnDisable":0,"m_WriteDefaultValuesOnDisable":0}}],"children":[{"GameObject":{"m_Name":"eye_l"},"data":{"type":"GameObject","name":"eye_l","components":[{"Transform":{"m_LocalPosition":{"x":1494.1232,"y":-950.90674,"z":9.230251}}},{}],"children":[]}},{"GameObject":{"m_Name":"eye_r"},"data":{"type":"GameObject","name":"eye_r","components":[{"Transform":{"m_LocalPosition":{"x":1695.6903,"y":-950.93744,"z":9.2}}},{}],"children":[]}},{"GameObject":{"m_Name":"mouth"},"data":{"type":"GameObject","name":"mouth","components":[{"Transform":{"m_LocalPosition":{"x":1494.8656,"y":-952.3434,"z":12.5299635}}},{}],"children":[]}},{"GameObject":{"m_Name":"mushroom_foolish"},"data":{"type":"GameObject","name":"mushroom_foolish","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}},{}],"children":[]}},{"GameObject":{"m_Name":"root"},"data":{"type":"GameObject","name":"root","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"eye_l 1"},"data":{"type":"GameObject","name":"eye_l 1","components":[{"Transform":{"m_LocalPosition":{"x":-105.22202,"y":377.62738,"z":9.230251}}}],"children":[]}},{"GameObject":{"m_Name":"eye_r 1"},"data":{"type":"GameObject","name":"eye_r 1","components":[{"Transform":{"m_LocalPosition":{"x":96.345184,"y":377.59674,"z":9.2}}}],"children":[]}},{"GameObject":{"m_Name":"mouth 1"},"data":{"type":"GameObject","name":"mouth 1","components":[{"Transform":{"m_LocalPosition":{"x":-0.5849447,"y":371.64597,"z":12.5299635}}}],"children":[]}},{"GameObject":{"m_Name":"root_child"},"data":{"type":"GameObject","name":"root_child","components":[{"Transform":{"m_LocalRotation":{"x":-0.70587754,"y":0.7083339,"z":-8.6595474e-17,"w":-1.5040902e-19},"m_LocalPosition":{"x":0,"y":0,"z":0}}}],"children":[]}}]}}]}},{"GameObject":{"m_Name":"TopHillsTree4"},"data":{"type":"GameObject","name":"TopHillsTree4","components":[{"Transform":{"m_LocalPosition":{"x":1084,"y":775,"z":0},"m_LocalScale":{"x":1.6,"y":1.6,"z":1.6}}},{"MeshFilter":{}},{}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"TopHills"},"data":{"type":"GameObject","name":"TopHills","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":350}}},{"MonoBehaviour":{"layerWidth":4439.6504,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.95,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"TopHillsTile"},"data":{"type":"GameObject","name":"TopHillsTile","components":[{"Transform":{"m_LocalPosition":{"x":2773,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"TopHills"},"data":{"type":"GameObject","name":"TopHills","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":294,"z":0}}},{"MeshFilter":{}},{}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"Castle"},"data":{"type":"GameObject","name":"Castle","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":400}}},{"MonoBehaviour":{"layerWidth":10000,"widthBetweenTiles":0,"relativeSpeed":{"x":0.99,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"CastleTile"},"data":{"type":"GameObject","name":"CastleTile","components":[{"Transform":{"m_LocalPosition":{"x":3581.92,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"Castle"},"data":{"type":"GameObject","name":"Castle","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":450,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/castle"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"FrontClouds"},"data":{"type":"GameObject","name":"FrontClouds","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":425}}},{"MonoBehaviour":{"layerWidth":3676,"widthBetweenTiles":250,"relativeSpeed":{"x":0.995,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"FrontCloudsTile"},"data":{"type":"GameObject","name":"FrontCloudsTile","components":[{"Transform":{"m_LocalPosition":{"x":2500,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"FrontCloud1"},"data":{"type":"GameObject","name":"FrontCloud1","components":[{"Transform":{"m_LocalPosition":{"x":-1924,"y":928,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/cloud_white_3"}}}],"children":[]}},{"GameObject":{"m_Name":"FrontCloud2"},"data":{"type":"GameObject","name":"FrontCloud2","components":[{"Transform":{"m_LocalPosition":{"x":-1563,"y":789,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/cloud_white_1"}}}],"children":[]}},{"GameObject":{"m_Name":"FrontCloud3"},"data":{"type":"GameObject","name":"FrontCloud3","components":[{"Transform":{"m_LocalPosition":{"x":-1185,"y":890,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/cloud_blue_3"}}}],"children":[]}},{"GameObject":{"m_Name":"FrontCloud4"},"data":{"type":"GameObject","name":"FrontCloud4","components":[{"Transform":{"m_LocalPosition":{"x":-922,"y":1081,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/cloud_white_1"}}}],"children":[]}},{"GameObject":{"m_Name":"FrontCloud5"},"data":{"type":"GameObject","name":"FrontCloud5","components":[{"Transform":{"m_LocalPosition":{"x":-650,"y":928,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/cloud_blue_2"}}}],"children":[]}},{"GameObject":{"m_Name":"FrontCloud6"},"data":{"type":"GameObject","name":"FrontCloud6","components":[{"Transform":{"m_LocalPosition":{"x":-70,"y":860,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/cloud_white_4"}}}],"children":[]}},{"GameObject":{"m_Name":"FrontCloud7"},"data":{"type":"GameObject","name":"FrontCloud7","components":[{"Transform":{"m_LocalPosition":{"x":283,"y":1007,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/cloud_blue_1"}}}],"children":[]}},{"GameObject":{"m_Name":"FrontCloud8"},"data":{"type":"GameObject","name":"FrontCloud8","components":[{"Transform":{"m_LocalPosition":{"x":478,"y":915,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/cloud_white_1"}}}],"children":[]}},{"GameObject":{"m_Name":"FrontCloud9"},"data":{"type":"GameObject","name":"FrontCloud9","components":[{"Transform":{"m_LocalPosition":{"x":808,"y":915,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/cloud_white_3"}}}],"children":[]}},{"GameObject":{"m_Name":"FrontCloud10"},"data":{"type":"GameObject","name":"FrontCloud10","components":[{"Transform":{"m_LocalPosition":{"x":1197,"y":810,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/cloud_white_2"}}}],"children":[]}},{"GameObject":{"m_Name":"FrontCloud11"},"data":{"type":"GameObject","name":"FrontCloud11","components":[{"Transform":{"m_LocalPosition":{"x":1587,"y":906,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/cloud_blue_4"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"BackClouds"},"data":{"type":"GameObject","name":"BackClouds","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":450}}},{"MonoBehaviour":{"layerWidth":2068.4932,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.999,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"BackCloudsTile"},"data":{"type":"GameObject","name":"BackCloudsTile","components":[{"Transform":{"m_LocalPosition":{"x":1554,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"BackClouds"},"data":{"type":"GameObject","name":"BackClouds","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":1530,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundMario/sky"}}}],"children":[]}}]}}]}}}]},{"m_Name":"ColonyBackground","m_LocalPosition":{"x":0,"y":0,"z":0},"backgroundType":"colonyLocation","mainCameraBackgroundColor":{"r":0.99607843,"g":0.5764706,"b":0.16078432,"a":1},"layersPrefabs":[{"0":{"GameObject":{"m_Name":"GroundDecals"},"data":{"type":"GameObject","name":"GroundDecals","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":75}}},{"MonoBehaviour":{"layerWidth":2239,"widthBetweenTiles":0,"relativeSpeed":{"x":0.5,"y":0},"backgroundLayerType":"decals","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"GroundDecalsTile"},"data":{"type":"GameObject","name":"GroundDecalsTile","components":[{"Transform":{"m_LocalPosition":{"x":2800,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"DecalsGround1"},"data":{"type":"GameObject","name":"DecalsGround1","components":[{"Transform":{"m_LocalPosition":{"x":-1200,"y":18.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/decals_ground_front_1"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround2"},"data":{"type":"GameObject","name":"DecalsGround2","components":[{"Transform":{"m_LocalPosition":{"x":440,"y":-77.30867,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/decals_ground_front_2"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround3"},"data":{"type":"GameObject","name":"DecalsGround3","components":[{"Transform":{"m_LocalPosition":{"x":-600,"y":108.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/decals_ground_front_3"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround4"},"data":{"type":"GameObject","name":"DecalsGround4","components":[{"Transform":{"m_LocalPosition":{"x":-200,"y":78.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/decals_ground_front_4"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround5"},"data":{"type":"GameObject","name":"DecalsGround5","components":[{"Transform":{"m_LocalPosition":{"x":200,"y":-61.30867,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/decals_ground_front_5"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround6"},"data":{"type":"GameObject","name":"DecalsGround6","components":[{"Transform":{"m_LocalPosition":{"x":500,"y":78.69133,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/decals_ground_front_6"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround7"},"data":{"type":"GameObject","name":"DecalsGround7","components":[{"Transform":{"m_LocalPosition":{"x":800,"y":-41.30867,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/decals_ground_front_7"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"BottomGround"},"data":{"type":"GameObject","name":"BottomGround","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":100}}},{"MonoBehaviour":{"layerWidth":3200,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.5,"y":0},"backgroundLayerType":"ground","maxTilesCount":100}},{"MonoBehaviour":{"type":1,"collisionAction":1,"minAngle":10,"maxAngle":30,"velocityCurve":{"m_Curve":[{"time":0,"value":0,"inSlope":1.3703647,"outSlope":1.3703647,"tangentMode":0,"weightedMode":0,"inWeight":0.33333334,"outWeight":0.07630952},{"time":1.0013428,"value":0.7,"inSlope":1.4131886,"outSlope":1.4131886,"tangentMode":0,"weightedMode":0,"inWeight":0.04179105,"outWeight":0.33333334}],"m_PreInfinity":2,"m_PostInfinity":2,"m_RotationOrder":0},"minVelocity":0,"maxVelocity":20000,"yVelocityChangeDuration":0.02,"canScaleCharacterAfterCollision":1,"scalingType":3,"collideSoundName":"penguin_collision","collideShakeDuration":0.1,"collideShakeRadius":8,"collideVibration":106,"velocityChangingDuration":0.5,"velocityChangingMultiplier":0.9,"initialTilesList":[{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_1"},{"tileType":2,"tileName":"trail_blood_begin_1"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_2"},{"tileType":2,"tileName":"trail_blood_begin_2"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_3"},{"tileType":2,"tileName":"trail_blood_begin_3"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_4"},{"tileType":2,"tileName":"trail_blood_begin_4"}]},{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_begin_5"},{"tileType":2,"tileName":"trail_blood_begin_5"}]}],"middleTilesList":[{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_middle"},{"tileType":2,"tileName":"trail_blood_middle"}]}],"finalTilesList":[{"prefab":{"type":3},"tileTypesInfos":[{"tileType":1,"tileName":"trail_end"},{"tileType":2,"tileName":"trail_blood_end"}]}]}},{}],"children":[{"GameObject":{"m_Name":"BottomGroundTile"},"data":{"type":"GameObject","name":"BottomGroundTile","components":[{"Transform":{"m_LocalPosition":{"x":2400,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"GroundPhysics"},"data":{"type":"GameObject","name":"GroundPhysics","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}},{}],"children":[]}},{"GameObject":{"m_Name":"BottomGround"},"data":{"type":"GameObject","name":"BottomGround","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":-1235.2856,"z":0},"m_LocalScale":{"x":2400,"y":353.8215,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/tile_white"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"SnowDrifts"},"data":{"type":"GameObject","name":"SnowDrifts","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":125}}},{"MonoBehaviour":{"layerWidth":4532,"widthBetweenTiles":1000,"relativeSpeed":{"x":0.55,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"SnowDriftTile"},"data":{"type":"GameObject","name":"SnowDriftTile","components":[{"Transform":{"m_LocalPosition":{"x":2200,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"SnowDrift1"},"data":{"type":"GameObject","name":"SnowDrift1","components":[{"Transform":{"m_LocalPosition":{"x":-1924,"y":172,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/snowdrift_white_2"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowDrift2"},"data":{"type":"GameObject","name":"SnowDrift2","components":[{"Transform":{"m_LocalPosition":{"x":-1019,"y":175,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/snowdrift_white_3"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowDrift3"},"data":{"type":"GameObject","name":"SnowDrift3","components":[{"Transform":{"m_LocalPosition":{"x":-39,"y":175,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/snowdrift_white_2"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowDrift4"},"data":{"type":"GameObject","name":"SnowDrift4","components":[{"Transform":{"m_LocalPosition":{"x":1398,"y":175,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/snowdrift_white_3"}}}],"children":[]}},{"GameObject":{"m_Name":"SnowDrift5"},"data":{"type":"GameObject","name":"SnowDrift5","components":[{"Transform":{"m_LocalPosition":{"x":2192,"y":175,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/snowdrift_white_1"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"Trees"},"data":{"type":"GameObject","name":"Trees","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":250}}},{"MonoBehaviour":{"layerWidth":5876.1196,"widthBetweenTiles":1300,"relativeSpeed":{"x":0.75,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"TreesTile"},"data":{"type":"GameObject","name":"TreesTile","components":[{"Transform":{"m_LocalPosition":{"x":3103,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"Tree1"},"data":{"type":"GameObject","name":"Tree1","components":[{"Transform":{"m_LocalPosition":{"x":-2594,"y":1200,"z":0}}},{"MeshFilter":{}},{}],"children":[]}},{"GameObject":{"m_Name":"Tree2"},"data":{"type":"GameObject","name":"Tree2","components":[{"Transform":{"m_LocalPosition":{"x":-1542,"y":1048,"z":0}}},{"MeshFilter":{}},{},{"MonoBehaviour":{"effectName":"FxBackColonyLeavesOrange","targetLocalScale":{"x":1,"y":1,"z":1}}}],"children":[]}},{"GameObject":{"m_Name":"Tree3"},"data":{"type":"GameObject","name":"Tree3","components":[{"Transform":{"m_LocalPosition":{"x":-712,"y":1048,"z":-1}}},{"MeshFilter":{}},{},{"MonoBehaviour":{"effectName":"FxBackColonyLeavesRed","targetLocalScale":{"x":1,"y":1,"z":1}}}],"children":[]}},{"GameObject":{"m_Name":"Tree4"},"data":{"type":"GameObject","name":"Tree4","components":[{"Transform":{"m_LocalPosition":{"x":392,"y":1048,"z":0}}},{"MeshFilter":{}},{}],"children":[]}},{"GameObject":{"m_Name":"Tree5"},"data":{"type":"GameObject","name":"Tree5","components":[{"Transform":{"m_LocalPosition":{"x":1105,"y":1200,"z":0}}},{"MeshFilter":{}},{}],"children":[]}},{"GameObject":{"m_Name":"Tree6"},"data":{"type":"GameObject","name":"Tree6","components":[{"Transform":{"m_LocalPosition":{"x":2532,"y":1048,"z":0}}},{"MeshFilter":{}},{}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"MiddleGroundDecals"},"data":{"type":"GameObject","name":"MiddleGroundDecals","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":275}}},{"MonoBehaviour":{"layerWidth":1183,"widthBetweenTiles":300,"relativeSpeed":{"x":0.75,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"MiddleGroundDecalsTile"},"data":{"type":"GameObject","name":"MiddleGroundDecalsTile","components":[{"Transform":{"m_LocalPosition":{"x":1220,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"DecalsGround1"},"data":{"type":"GameObject","name":"DecalsGround1","components":[{"Transform":{"m_LocalPosition":{"x":-548,"y":279,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/decals_ground_middle_1"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround2"},"data":{"type":"GameObject","name":"DecalsGround2","components":[{"Transform":{"m_LocalPosition":{"x":-284,"y":316,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/decals_ground_middle_2"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround3"},"data":{"type":"GameObject","name":"DecalsGround3","components":[{"Transform":{"m_LocalPosition":{"x":-175,"y":239,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/decals_ground_middle_2"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround4"},"data":{"type":"GameObject","name":"DecalsGround4","components":[{"Transform":{"m_LocalPosition":{"x":-55,"y":288,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/decals_ground_middle_4"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround5"},"data":{"type":"GameObject","name":"DecalsGround5","components":[{"Transform":{"m_LocalPosition":{"x":155,"y":212,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/decals_ground_middle_3"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround6"},"data":{"type":"GameObject","name":"DecalsGround6","components":[{"Transform":{"m_LocalPosition":{"x":357,"y":287,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/decals_ground_middle_3"}}}],"children":[]}},{"GameObject":{"m_Name":"DecalsGround7"},"data":{"type":"GameObject","name":"DecalsGround7","components":[{"Transform":{"m_LocalPosition":{"x":543,"y":205,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/decals_ground_middle_2"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"MiddleHills"},"data":{"type":"GameObject","name":"MiddleHills","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":300}}},{"MonoBehaviour":{"layerWidth":2172,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.75,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"MiddleHillsTile"},"data":{"type":"GameObject","name":"MiddleHillsTile","components":[{"Transform":{"m_LocalPosition":{"x":2557,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"MiddleHillsBack"},"data":{"type":"GameObject","name":"MiddleHillsBack","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":66,"z":-5},"m_LocalScale":{"x":542,"y":50,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/tile_white"},"m_Color":{"r":1,"g":0.9372549,"b":0.827451,"a":1}}}],"children":[]}},{"GameObject":{"m_Name":"MiddleHillsTop"},"data":{"type":"GameObject","name":"MiddleHillsTop","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":260,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/ground_middle"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"Houses"},"data":{"type":"GameObject","name":"Houses","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":340}}},{"MonoBehaviour":{"layerWidth":3169,"widthBetweenTiles":2000,"relativeSpeed":{"x":0.95,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"HousesTile"},"data":{"type":"GameObject","name":"HousesTile","components":[{"Transform":{"m_LocalPosition":{"x":1653,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"House1"},"data":{"type":"GameObject","name":"House1","components":[{"Transform":{"m_LocalPosition":{"x":-1464,"y":445,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/farm"}}}],"children":[]}},{"GameObject":{"m_Name":"House2"},"data":{"type":"GameObject","name":"House2","components":[{"Transform":{"m_LocalPosition":{"x":-1207,"y":445,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/house"}}}],"children":[]}},{"GameObject":{"m_Name":"House3"},"data":{"type":"GameObject","name":"House3","components":[{"Transform":{"m_LocalPosition":{"x":1047,"y":445,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/house"}}}],"children":[]}},{"GameObject":{"m_Name":"House4"},"data":{"type":"GameObject","name":"House4","components":[{"Transform":{"m_LocalPosition":{"x":1239,"y":445,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/house"}}}],"children":[]}},{"GameObject":{"m_Name":"House5"},"data":{"type":"GameObject","name":"House5","components":[{"Transform":{"m_LocalPosition":{"x":1465,"y":445,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/farm"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"TopHills"},"data":{"type":"GameObject","name":"TopHills","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":350}}},{"MonoBehaviour":{"layerWidth":1474,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.95,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"TopHillsTile"},"data":{"type":"GameObject","name":"TopHillsTile","components":[{"Transform":{"m_LocalPosition":{"x":1045,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"TopHillsBack"},"data":{"type":"GameObject","name":"TopHillsBack","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":228,"z":-5},"m_LocalScale":{"x":367.8,"y":40,"z":1}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/tile_white"},"m_Color":{"r":0.98039216,"g":0.87058824,"b":0.6666667,"a":1}}}],"children":[]}},{"GameObject":{"m_Name":"TopHillsTop"},"data":{"type":"GameObject","name":"TopHillsTop","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":385,"z":0}}},{"SpriteRenderer":{"m_Sprite":{"spriteName":"BackgroundColony/ground_back"}}}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"Mountains"},"data":{"type":"GameObject","name":"Mountains","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":400}}},{"MonoBehaviour":{"layerWidth":2643.3955,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.99,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"MountainsTile"},"data":{"type":"GameObject","name":"MountainsTile","components":[{"Transform":{"m_LocalPosition":{"x":1978,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"Mountains"},"data":{"type":"GameObject","name":"Mountains","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":726,"z":0}}},{"MeshFilter":{}},{}],"children":[]}}]}}]}}},{"0":{"GameObject":{"m_Name":"Clouds"},"data":{"type":"GameObject","name":"Clouds","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":425}}},{"MonoBehaviour":{"layerWidth":6455.883,"widthBetweenTiles":-10,"relativeSpeed":{"x":0.995,"y":0},"backgroundLayerType":"none","maxTilesCount":100}}],"children":[{"GameObject":{"m_Name":"CloudsTile"},"data":{"type":"GameObject","name":"CloudsTile","components":[{"Transform":{"m_LocalPosition":{"x":2978,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"Clouds"},"data":{"type":"GameObject","name":"Clouds","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":1242,"z":0}}},{"MeshFilter":{}},{}],"children":[]}}]}}]}}}]}],"Vq":{"m_Name":"SpaceBackground","m_LocalPosition":{"x":0,"y":0,"z":0},"backgroundType":"cosmos","mainCameraBackgroundColor":{"r":0.18431373,"g":0.11764706,"b":0.60784316,"a":1},"layersPrefabs":[{"0":{"GameObject":{"m_Name":"SpaceBackgroundHelper"},"data":{"type":"GameObject","name":"SpaceBackgroundHelper","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}},{"MonoBehaviour":{}}],"children":[{"GameObject":{"m_Name":"Camera"},"data":{"type":"GameObject","name":"Camera","components":[{"Transform":{"m_LocalPosition":{"x":-5284,"y":4906,"z":0}}},{},{"MonoBehaviour":{}}],"children":[]}},{"GameObject":{"m_Name":"DartStar"},"data":{"type":"GameObject","name":"DartStar","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":162}}},{"MonoBehaviour":{"layerWidth":2311.9219,"widthBetweenTiles":0,"relativeSpeed":{"x":0.98,"y":0.91},"backgroundLayerType":"space","maxTilesCount":1,"minLayerHeight":3000,"maxLayerHeight":120000}}],"children":[{"GameObject":{"m_Name":"DartStart"},"data":{"type":"GameObject","name":"DartStart","components":[{"Transform":{"m_LocalRotation":{"x":0,"y":0,"z":0.03489945,"w":-0.99939084},"m_LocalPosition":{"x":-7757,"y":7764,"z":0},"m_LocalScale":{"x":1.8,"y":1.8,"z":1.8}}},{"MeshFilter":{}},{},{"MonoBehaviour":{}}],"children":[]}}]}},{"GameObject":{"m_Name":"NotSaturn"},"data":{"type":"GameObject","name":"NotSaturn","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":160}}},{"MonoBehaviour":{"layerWidth":2325.8867,"widthBetweenTiles":0,"relativeSpeed":{"x":0.97,"y":0.89},"backgroundLayerType":"space","maxTilesCount":1,"minLayerHeight":2000,"maxLayerHeight":65000}}],"children":[{"GameObject":{"m_Name":"NotSaturn"},"data":{"type":"GameObject","name":"NotSaturn","components":[{"Transform":{"m_LocalRotation":{"x":0,"y":0,"z":0.061048687,"w":0.9981348},"m_LocalPosition":{"x":-3757,"y":2764,"z":0},"m_LocalScale":{"x":1.4,"y":1.4,"z":1.4}}},{"MeshFilter":{}},{}],"children":[]}}]}},{"GameObject":{"m_Name":"Stars"},"data":{"type":"GameObject","name":"Stars","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":62}}},{"MonoBehaviour":{"layerWidth":728.3037,"widthBetweenTiles":0,"relativeSpeed":{"x":0.98,"y":0.82},"backgroundLayerType":"space","maxTilesCount":1,"minLayerHeight":3000,"maxLayerHeight":95000}}],"children":[{"GameObject":{"m_Name":"Stars"},"data":{"type":"GameObject","name":"Stars","components":[{"Transform":{"m_LocalPosition":{"x":-12757,"y":1764,"z":0},"m_LocalScale":{"x":0.8,"y":0.8,"z":0.8}}},{"MeshFilter":{}},{},{"MonoBehaviour":{}}],"children":[{"GameObject":{"m_Name":"EffectParentTransfrom"},"data":{"type":"GameObject","name":"EffectParentTransfrom","components":[{"Transform":{"m_LocalPosition":{"x":120,"y":-12,"z":10}}},{"MonoBehaviour":{"effectName":"FxBackSpaceDoubleStarsShine","targetLocalScale":{"x":1.25,"y":1.25,"z":1.25}}}],"children":[]}}]}}]}},{"GameObject":{"m_Name":"PlanetAnimation"},"data":{"type":"GameObject","name":"PlanetAnimation","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":60}}},{"MonoBehaviour":{"layerWidth":1445.0703,"widthBetweenTiles":0,"relativeSpeed":{"x":0.95,"y":0.8},"backgroundLayerType":"space","maxTilesCount":1,"minLayerHeight":2000,"maxLayerHeight":50000}}],"children":[{"GameObject":{"m_Name":"SkeletonAnimation"},"data":{"type":"GameObject","name":"SkeletonAnimation","components":[{"Transform":{"m_LocalPosition":{"x":-14757,"y":4364,"z":0},"m_LocalScale":{"x":0.8,"y":0.8,"z":0.8}}},{"MeshFilter":{}},{},{"MonoBehaviour":{}},{"MonoBehaviour":{}}],"children":[{"GameObject":{"m_Name":"SkeletonUtility-Root"},"data":{"type":"GameObject","name":"SkeletonUtility-Root","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}}],"children":[{"GameObject":{"m_Name":"root"},"data":{"type":"GameObject","name":"root","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}},{"MonoBehaviour":{}}],"children":[{"GameObject":{"m_Name":"root_child"},"data":{"type":"GameObject","name":"root_child","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}},{"MonoBehaviour":{}}],"children":[{"GameObject":{"m_Name":"moon_deimos"},"data":{"type":"GameObject","name":"moon_deimos","components":[{"Transform":{"m_LocalPosition":{"x":807.32837,"y":-380.52817,"z":0}}},{"MonoBehaviour":{}}],"children":[{"GameObject":{"m_Name":"MoonDeimos"},"data":{"type":"GameObject","name":"MoonDeimos","components":[{"Transform":{"m_LocalRotation":{"x":0,"y":0,"z":0.791947,"w":0.61058986},"m_LocalPosition":{"x":0,"y":0,"z":0}}},{"MeshFilter":{}},{},{"MonoBehaviour":{}}],"children":[]}}]}},{"GameObject":{"m_Name":"moon_phobos"},"data":{"type":"GameObject","name":"moon_phobos","components":[{"Transform":{"m_LocalPosition":{"x":-766.065,"y":566.79297,"z":0}}},{"MonoBehaviour":{}}],"children":[{"GameObject":{"m_Name":"MoonPhobos"},"data":{"type":"GameObject","name":"MoonPhobos","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":0}}},{"MeshFilter":{}},{},{"MonoBehaviour":{}}],"children":[]}}]}},{"GameObject":{"m_Name":"path_deimos"},"data":{"type":"GameObject","name":"path_deimos","components":[{"Transform":{"m_LocalRotation":{"x":0,"y":0,"z":-0.43943554,"w":0.8982741},"m_LocalPosition":{"x":-144.20221,"y":-143.86978,"z":0}}},{"MonoBehaviour":{}}],"children":[]}},{"GameObject":{"m_Name":"path_phobos"},"data":{"type":"GameObject","name":"path_phobos","components":[{"Transform":{"m_LocalPosition":{"x":263.2715,"y":106.88805,"z":0}}},{"MonoBehaviour":{}}],"children":[]}},{"GameObject":{"m_Name":"PlanetPinky"},"data":{"type":"GameObject","name":"PlanetPinky","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":30},"m_LocalScale":{"x":0.8,"y":0.8,"z":0.8}}},{"MeshFilter":{}},{},{"MonoBehaviour":{}}],"children":[]}}]}}]}}]}}]}}]}},{"GameObject":{"m_Name":"VioletSaturn"},"data":{"type":"GameObject","name":"VioletSaturn","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":30}}},{"MonoBehaviour":{"layerWidth":2922.2578,"widthBetweenTiles":0,"relativeSpeed":{"x":0.985,"y":0.86},"backgroundLayerType":"space","maxTilesCount":1,"minLayerHeight":4000,"maxLayerHeight":95000}}],"children":[{"GameObject":{"m_Name":"VioletSaturn"},"data":{"type":"GameObject","name":"VioletSaturn","components":[{"Transform":{"m_LocalRotation":{"x":0,"y":0,"z":0.061048582,"w":-0.9981348},"m_LocalPosition":{"x":-16906,"y":1764,"z":0},"m_LocalScale":{"x":1.2,"y":1.2,"z":1.2}}},{"MeshFilter":{}},{},{"MonoBehaviour":{}}],"children":[]}}]}},{"GameObject":{"m_Name":"Ship"},"data":{"type":"GameObject","name":"Ship","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":36}}},{"MonoBehaviour":{"layerWidth":954.03906,"widthBetweenTiles":20000,"relativeSpeed":{"x":0.91,"y":0.8},"backgroundLayerType":"space","maxTilesCount":1,"minLayerHeight":2000,"maxLayerHeight":20000}}],"children":[{"GameObject":{"m_Name":"Ship"},"data":{"type":"GameObject","name":"Ship","components":[{"Transform":{"m_LocalRotation":{"x":0,"y":0,"z":0.043619767,"w":-0.99904823},"m_LocalPosition":{"x":-6257,"y":1764,"z":0},"m_LocalScale":{"x":0.8,"y":0.8,"z":0.8}}},{"MeshFilter":{}},{},{"MonoBehaviour":{}}],"children":[]}}]}},{"GameObject":{"m_Name":"PoliceBox"},"data":{"type":"GameObject","name":"PoliceBox","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":32}}},{"MonoBehaviour":{"layerWidth":412.15332,"widthBetweenTiles":0,"relativeSpeed":{"x":0.965,"y":0.75},"backgroundLayerType":"space","maxTilesCount":1,"minLayerHeight":2000,"maxLayerHeight":40000}}],"children":[{"GameObject":{"m_Name":"PoliceBox"},"data":{"type":"GameObject","name":"PoliceBox","components":[{"Transform":{"m_LocalRotation":{"x":0,"y":0,"z":0.08715612,"w":-0.99619466},"m_LocalPosition":{"x":-9679,"y":-1572,"z":0},"m_LocalScale":{"x":0.8,"y":0.8,"z":1}}},{"MeshFilter":{}},{},{"MonoBehaviour":{}}],"children":[]}}]}},{"GameObject":{"m_Name":"Ufo"},"data":{"type":"GameObject","name":"Ufo","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":40}}},{"MonoBehaviour":{"layerWidth":635.75,"widthBetweenTiles":6000,"relativeSpeed":{"x":0.955,"y":0.75},"backgroundLayerType":"space","maxTilesCount":1,"minLayerHeight":2000,"maxLayerHeight":20000}}],"children":[{"GameObject":{"m_Name":"Ufo"},"data":{"type":"GameObject","name":"Ufo","components":[{"Transform":{"m_LocalRotation":{"x":0,"y":0,"z":0.06975647,"w":0.9975641},"m_LocalPosition":{"x":-15557,"y":-5736,"z":0},"m_LocalScale":{"x":0.8,"y":0.8,"z":0.8}}},{"MeshFilter":{}},{},{"MonoBehaviour":{}}],"children":[]}}]}},{"GameObject":{"m_Name":"Satellite"},"data":{"type":"GameObject","name":"Satellite","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":34}}},{"MonoBehaviour":{"layerWidth":570.14844,"widthBetweenTiles":10000,"relativeSpeed":{"x":0.96,"y":0.78},"backgroundLayerType":"space","maxTilesCount":1,"minLayerHeight":1000,"maxLayerHeight":20000}}],"children":[{"GameObject":{"m_Name":"Satellite"},"data":{"type":"GameObject","name":"Satellite","components":[{"Transform":{"m_LocalRotation":{"x":0,"y":0,"z":-0.1305262,"w":0.9914449},"m_LocalPosition":{"x":-608,"y":-4093,"z":0}}},{"MeshFilter":{}},{},{"MonoBehaviour":{}}],"children":[]}}]}},{"GameObject":{"m_Name":"Moon"},"data":{"type":"GameObject","name":"Moon","components":[{"Transform":{"m_LocalPosition":{"x":0,"y":0,"z":60}}},{"MonoBehaviour":{"layerWidth":1853.0859,"widthBetweenTiles":0,"relativeSpeed":{"x":0.96,"y":0.73},"backgroundLayerType":"space","maxTilesCount":1,"minLayerHeight":3000,"maxLayerHeight":30000}}],"children":[{"GameObject":{"m_Name":"Moon"},"data":{"type":"GameObject","name":"Moon","components":[{"Transform":{"m_LocalPosition":{"x":-3500,"y":-830,"z":0}}},{"MeshFilter":{}},{},{"MonoBehaviour":{}}],"children":[]}}]}}]}}}]}}');function vu(t){return vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(t)}function bu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_u(n.key),n)}}function _u(t){var e=function(t,e){if("object"!=vu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=vu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vu(e)?e:e+""}function wu(t,e,r){return e=Su(e),function(t,e){if(e&&("object"==vu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xu()?Reflect.construct(e,r||[],Su(t).constructor):e.apply(t,r))}function xu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xu=function(){return!!t})()}function Su(t){return Su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Su(t)}function Tu(t,e){return Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tu(t,e)}var Eu=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=wu(this,e)).sprite=new n.jy((0,c.Fg)("BackgroundSimulation/mushroom_sing")),t.addChild(t.sprite),t.sprite.anchor.set(.5,1),t.singEffectContainer=t.addChild(new n.W2),t.singEffectPromise=h.Z.createComponent("effects/FxBackMusic").then((function(e){t._destroyed?(0,Is.oL)(e):(e.position.set(30,-400),t.singEffect=e,t.singEffectContainer.addChild(e))})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tu(t,e)}(e,t),function(t,e,r){return e&&bu(t.prototype,e),r&&bu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e)}(n.W2);function Ou(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Au(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Au(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Au(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ku(t,e){var r=Pu(t,"Transform");e.position.set(r.m_LocalPosition.x,-r.m_LocalPosition.y);var n=r.m_LocalScale;n&&e.scale.set(n.x,n.y)}function Pu(t,e){var r;return null===(r=t[0].data.components.find((function(t){return t[e]})))||void 0===r?void 0:r[e]}function Cu(t){return t[0].data.children}function Mu(t){var e=t.prefabNode,r=t.backgroundType,i=t.backgroundLayerType,o=new n.W2;if(ku([e],o),Pu([e],"SpriteRenderer")){var a=Pu([e],"SpriteRenderer"),s=a.m_Sprite.spriteName,u=new n.jy((0,c.Fg)(s));if(s.startsWith("BackgroundSimulation/")&&u.scale.set(5),o.addChild(u),u.anchor.set(.5,1),"BackgroundIceArctic/titonic"!==s&&"BackgroundSnowArctic/ground_medium"!==s&&"BackgroundMario/sky"!==s||u.anchor.set(.5,.5),"BackgroundColony/ground_middle"===s&&u.scale.set(2,2),"BackgroundSnowArctic/sky"===s){u.scale.set(2,2);var l=new n.jy((0,c.Fg)("BackgroundSnowArctic/sky"));o.addChild(l),l.anchor.set(.5,0),l.scale.set(1.995,-2),l.position.set(500,-1700),l.alpha=.5}if("BackgroundMario/sky"===s){u.scale.set(2,2);var h=new n.jy((0,c.Fg)("BackgroundMario/sky"));o.addChild(h),h.anchor.set(.5,0),h.scale.set(1.99,-2),h.position.set(500,-700),h.alpha=.5}if("ground"===i){var f=u.width;u.scale.set(4),u.position.y+=3*f}a.m_Color&&(u.tint=(0,rt.vq)(a.m_Color))}var p=Pu([e],"MonoBehaviour");if(null!=p&&p.effectName){var d="BackgroundSimulation/".concat(p.effectName);try{var m=new n.jy((0,c.Fg)(d));switch(o.addChild(m),m.anchor.set(.5),p.effectName){case"FxBackIcePolarLights":m.scale.set(6);break;case"FxBackIceSeaBack":m.scale.set(1.5);break;case"FxBackIceSeaMiddle":m.scale.set(2)}}catch(t){console.warn("Asset ".concat(p.effectName," not found"))}}if(Pu([e],"MeshFilter"))switch(e.GameObject.m_Name){case"TopIceberg":var y=new n.jy((0,c.Fg)("BackgroundSimulation/TopIceberg"));o.addChild(y),y.scale.set(2),y.anchor.set(.5,.5);break;case"TopHills":var g=new n.jy((0,c.Fg)("BackgroundSimulation/TopHills"));o.addChild(g),g.scale.set(3),g.anchor.set(.5,.5);break;case"FrontTree1":case"FrontTree2":case"FrontTree3":var v=new n.jy((0,c.Fg)("BackgroundSimulation/".concat(e.GameObject.m_Name)));o.addChild(v),v.scale.set(.5),v.anchor.set(.5,.5);break;case"mushroom_sing":var b=new Eu;o.addChild(b),b.scale.set(1.2);break;case"TopHillsTree2":case"TopHillsTree4":case"mushroom_foolish":var _=new n.jy((0,c.Fg)("BackgroundSimulation/".concat(e.GameObject.m_Name)));o.addChild(_),_.scale.set(1.2),_.anchor.set(.5,.5);break;case"Mountains":var w=new n.jy((0,c.Fg)("BackgroundSimulation/".concat(e.GameObject.m_Name)));o.addChild(w),w.scale.set(1.7),w.anchor.set(.5,.5);break;case"Tree1":case"Tree2":case"Tree3":case"Tree4":case"Tree5":case"Tree6":var x=new n.jy((0,c.Fg)("BackgroundSimulation/".concat(e.GameObject.m_Name)));o.addChild(x),x.scale.set(3),x.anchor.set(.5,.5);break;case"Clouds":switch(r){case"tundraLocation":var S=new n.jy((0,c.Fg)("BackgroundSimulation/tundraLocationClouds"));o.addChild(S),S.scale.set(1.87),S.anchor.set(.5,.5);var T=new n.jy((0,c.Fg)("BackgroundSimulation/tundraLocationClouds2"));o.addChild(T),T.scale.set(1.87,-1.87),T.anchor.set(.5,.5),T.position.set(1e3,-1e3),T.alpha=.5;var E=new n.jy((0,c.Fg)("BackgroundSimulation/tundraLocationClouds2"));o.addChild(E),E.scale.set(1.87,1.87),E.anchor.set(.5,.5),E.position.set(-500,-2e3),E.alpha=.25;break;case"colonyLocation":var O=new n.jy((0,c.Fg)("BackgroundSimulation/colonyLocationClouds"));o.addChild(O),O.scale.set(4.31),O.anchor.set(.5,.5);var A=new n.jy((0,c.Fg)("BackgroundSimulation/colonyLocationClouds"));o.addChild(A),A.scale.set(4.31,-4.31),A.anchor.set(.5,.5),A.position.set(1e3,-900),A.alpha=.5;var k=new n.jy((0,c.Fg)("BackgroundSimulation/colonyLocationClouds"));o.addChild(k),k.scale.set(4.31,4.31),k.anchor.set(.5,.5),k.position.set(500,-1800),k.alpha=.25;break;default:console.warn("Unhandled MeshFilter found in prefab node: ".concat(e.GameObject.m_Name))}break;case"DartStart":case"NotSaturn":case"Moon":case"Ship":case"Satellite":case"VioletSaturn":case"Stars":case"PoliceBox":case"Ufo":var P=new n.jy((0,c.Fg)("BackgroundSimulation/".concat(e.GameObject.m_Name)));o.addChild(P),P.scale.set(1.1),P.anchor.set(.5,.5);break;default:console.warn("Unhandled MeshFilter found in prefab node: ".concat(e.GameObject.m_Name))}var C,M=Ou(Cu([e]));try{for(M.s();!(C=M.n()).done;){var I=C.value;o.addChild(Mu({prefabNode:I,backgroundType:r,backgroundLayerType:i}))}}catch(t){M.e(t)}finally{M.f()}return o}function Iu(t){return Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(t)}function ju(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Bu(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bu(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Bu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Lu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ru(n.key),n)}}function Ru(t){var e=function(t,e){if("object"!=Iu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Iu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Iu(e)?e:e+""}function qu(t,e,r){return e=Fu(e),function(t,e){if(e&&("object"==Iu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Nu()?Reflect.construct(e,r||[],Fu(t).constructor):e.apply(t,r))}function Nu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Nu=function(){return!!t})()}function Fu(t){return Fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fu(t)}function Vu(t,e){return Vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vu(t,e)}var Du=function(t){function e(t,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=qu(this,e)).name="BackgroundLayer",n.prefab=t,n.prefabTransform=Pu(n.prefab,"Transform"),n.prefabMonoBehaviour=Pu(n.prefab,"MonoBehaviour"),n.layerWidth=n.prefabMonoBehaviour.layerWidth||1,n.widthBetweenTiles=n.prefabMonoBehaviour.widthBetweenTiles||0,n.relativeSpeed=n.prefabMonoBehaviour.relativeSpeed||{x:1,y:1},.5===n.relativeSpeed.x&&(n.relativeSpeed.x=0),n.maxTilesCount=n.prefabMonoBehaviour.maxTilesCount||1,n.backgroundType=r,n.backgroundLayerType=n.prefabMonoBehaviour.backgroundLayerType,n.tiles=[],n.tilesPool=[],n.disposeBag.push(n.tilesPool),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vu(t,e)}(e,t),function(t,e,r){return e&&Lu(t.prototype,e),r&&Lu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"layerLeftBorder",get:function(){var t=this.position.x,e=this.tiles.length;return e>0&&(t=this.tiles[e-1].position.x-.5*this.layerTileWidth),t}},{key:"firstTileLeftBorder",get:function(){var t=this.position.x;return this.tiles.length>0&&(t=this.tiles[0].position.x-this.layerTileWidth),t}},{key:"layerTileWidth",get:function(){return this.layerWidth+this.widthBetweenTiles}},{key:"init",value:function(t){t?this.increaseLayer(1e4):this.addTile()}},{key:"tick",value:function(t){var e={x:t.x,y:t.y};e.x*=this.relativeSpeed.x,e.y*=this.relativeSpeed.y;var r,n=ju(this.tiles);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.position.x+=e.x,i.position.y-=e.y/4}}catch(t){n.e(t)}finally{n.f()}}},{key:"increaseLayer",value:function(t){var e=Math.ceil(t/this.layerTileWidth/this.scale.x);this.addTiles(e)}},{key:"deleteFirstTile",value:function(){if(this.tiles.length>0){var t=this.tiles.shift();this.removeChild(t),this.tilesPool.push(t)}}},{key:"setTilePosition",value:function(t){var e=this.prefabTransform.m_LocalPosition,r=this.prefabTransform.m_LocalScale;r&&t.scale.set(r.x,r.y);var n=e.x-.5*this.layerTileWidth;this.tiles.length>0&&(n=this.tiles[this.tiles.length-1].position.x-this.layerTileWidth),t.position.set(n,e.y)}},{key:"addTiles",value:function(t){for(var e=0;e<t&&this.tiles.length<this.maxTilesCount;e++)this.addTile()}},{key:"addTile",value:function(){var t,e=null!==(t=this.tilesPool.pop())&&void 0!==t?t:function(t){var e=t.prefab,r=t.backgroundType,i=new n.W2;ku(e,i);var o,a=Pu(e,"MonoBehaviour").backgroundLayerType,s=Ou(Cu(e));try{for(s.s();!(o=s.n()).done;){var u=o.value;i.addChild(Mu({prefabNode:u,backgroundType:r,backgroundLayerType:a}))}}catch(t){s.e(t)}finally{s.f()}return i}({prefab:this.prefab,backgroundType:this.backgroundType});e.name="BackgroundTile",this.addChild(e),this.setTilePosition(e),this.tiles.push(e)}},{key:"testGetScale",value:function(){return this.prefabTransform.m_LocalScale}}])}(n.W2);function Gu(t){return Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(t)}function zu(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Hu(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Uu(){Uu=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Gu(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Gu(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Yu(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Xu(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Yu(o,n,i,a,s,"next",t)}function s(t){Yu(o,n,i,a,s,"throw",t)}a(void 0)}))}}function Wu(t){return function(t){if(Array.isArray(t))return Zu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Hu(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hu(t,e){if(t){if("string"==typeof t)return Zu(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zu(t,e):void 0}}function Zu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ku(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qu(n.key),n)}}function Qu(t){var e=function(t,e){if("object"!=Gu(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Gu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gu(e)?e:e+""}function Ju(t,e,r){return e=tl(e),function(t,e){if(e&&("object"==Gu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$u()?Reflect.construct(e,r||[],tl(t).constructor):e.apply(t,r))}function $u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($u=function(){return!!t})()}function tl(t){return tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tl(t)}function el(t,e){return el=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},el(t,e)}var rl=function(t){function e(t,r){var i,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=Ju(this,e)).level=r,o.backgrounds=[],o.backgroundType=t.backgroundType,o.isTilingBackground="startLocation"!==o.backgroundType&&"cosmos"!==o.backgroundType,o.mainCameraBackgroundColor=(0,rt.vq)(t.mainCameraBackgroundColor),o.layersPrefabs=t.layersPrefabs;var a="cosmos"===o.backgroundType?t.layersPrefabs[0][0].data.children.map((function(t){return[t]})):t.layersPrefabs;"cosmos"===o.backgroundType&&(o.milkyWayEffectContainer=o.addChild(new n.W2),o.milkyWayEffectPromise=o.createMilkyWayEffect().then((function(t){o._destroyed?(0,Is.oL)(t):((0,rt.hu)(o.milkyWayEffectContainer),o.milkyWayEffect=t,o.milkyWayEffectContainer.addChild(t))}))),o.layers=a.sort((function(t,e){return Pu(e,"Transform").m_LocalPosition.z-Pu(t,"Transform").m_LocalPosition.z})).map((function(t){return new Du(t,o.backgroundType)})),(i=o).addChild.apply(i,Wu(o.layers));var s=o.layers.find((function(t){return"ground"===t.backgroundLayerType}));if(s){var u=o.getChildIndex(s);o.shadow=(new n.TC).beginFill(0,.5).drawRect(-.5,-.5,1,1).endFill(),o.shadow.width=o.shadow.height=1e4,o.shadow.alpha=0,o.addChildAt(o.shadow,u-1)}return o.foregroundContainer=o.level.foregroundInWorldContainer.addChild(new n.W2),o.foregroundContainer.isDestructionGuest=!0,o.disposeBag.push(o.foregroundContainer),"snowArcticLocation"!==o.backgroundType&&"marioLocation"!==o.backgroundType&&"colonyLocation"!==o.backgroundType||o.createSnowEffect().then((function(t){o._destroyed?(0,Is.oL)(t):o.snowEffect=o.foregroundContainer.addChild(t)})),"tundraLocation"===o.backgroundType&&(o.horizonStarsEffectPromise=o.createHorizonStarsEffect().then((function(t){o._destroyed?(0,Is.oL)(t):(o.horizonStarsEffect=t,o.level.horizonStarsEffectContainer.addChild(t),t.isDestructionGuest=!0,o.disposeBag.push(t))}))),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&el(t,e)}(e,t),function(t,e,r){return e&&Ku(t.prototype,e),r&&Ku(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"showShadow",value:function(t){console.log("Background.showShadow",this.shadow),this.shadow&&(this.shadow.position.set(t.x,t.y),new a.kX(this.shadow).to({alpha:1},500).start())}},{key:"createSnowEffect",value:(o=Xu(Uu().mark((function t(){var e,r,n,i;return Uu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.Z.createComponent("effects/FxForegroundSnow");case 2:return e=t.sent,r=e.children[0],n=r.emitter.behaviours.find((function(t){return"CrossZone"===t.name})),e.scale.set(1,-1),i=Object.assign(e,{tick:function(){var t=Tf.getGrandparentLevel(r),e=t.camera.rightBorderInWorldX;r.toLocal({x:e,y:2e3},t.world,r.emitter.p),r.toLocal({x:e,y:-500},t.world,n.zone),n.zone.width=1e4,n.zone.height=1e4,n.zone.x-=1e4,n.zone.y-=1e4},stop:function(){r.emitter.stop()}}),t.abrupt("return",i);case 8:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"createMilkyWayEffect",value:(i=Xu(Uu().mark((function t(){var e,r=this;return Uu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.Z.createComponent("effects/FxBackSpaceMilkyWay");case 2:if(e=t.sent,!this._destroyed){t.next=6;break}return(0,Is.oL)(e),t.abrupt("return");case 6:return t.abrupt("return",Object.assign(e,{tick:function(){var t=Tf.getGrandparentLevel(e).camera,n=t.currentPositionX,i=t.currentPositionY;e.position.set(.9999*n,.99*(-i-r.position.y)),e.scale.set((0,Et.t7)(5,15,(0,Et.$O)(0,1e5,i))),e.bindings.layer1.position.set(5e-5*-n,5e-4*-i),e.bindings.layer1.scale.set((0,Et.t7)(1,1.1,(0,Et.$O)(0,1e5,i))),e.bindings.layer2.position.set(2e-5*-n,2e-4*-i),e.bindings.layer2.scale.set((0,Et.t7)(1,1.03,(0,Et.$O)(0,1e5,t.currentPositionY)))}}));case 7:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"createHorizonStarsEffect",value:(r=Xu(Uu().mark((function t(){var e;return Uu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.Z.createComponent("effects/FxBackHorizonStars");case 2:return e=t.sent,t.abrupt("return",Object.assign(e,{tick:function(){var t=Tf.getGrandparentLevel(e).camera;e.scale.set(4,-4),e.x=t.currentPositionX,e.y=850}}));case 4:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"hideForegroundEffect",value:function(){var t;null===(t=this.snowEffect)||void 0===t||t.stop(),this.disposeBag.pushPipe(new a.kX(this.foregroundContainer).to({alpha:0},500).start())}},{key:"playFlashEffect",value:function(){this.flashEffect=this.addChild((new n.TC).beginFill(16777215).drawRect(-1,-1,2,2)),this.flashEffect.scale.set(1e4),new a.kX(this.flashEffect).to({alpha:0},500).start()}},{key:"leftBackgroundBorder",get:function(){var t=1/0;return this.layers.forEach((function(e){if("ground"===e.backgroundLayerType){var r=e.layerLeftBorder;r<t&&(t=r)}})),t}},{key:"initBackground",value:function(t){var e,r=zu(this.layers);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.init(this.isTilingBackground),"startLocation"!==this.backgroundType&&"cosmos"!==this.backgroundType?n.position.set(t,0):n.position.set(1130,0);var i=n.testGetScale();i&&n.scale.set(i.x,i.y)}}catch(t){r.e(t)}finally{r.f()}}},{key:"tick",value:function(t,e){var r,n,i,o,a=zu(this.layers);try{for(a.s();!(o=a.n()).done;){o.value.tick(e)}}catch(t){a.e(t)}finally{a.f()}this.flashEffect&&(this.flashEffect.position.x=this.level.camera.currentPositionX,this.flashEffect.position.y=-this.level.camera.currentPositionY),null===(r=this.horizonStarsEffect)||void 0===r||r.tick(),null===(n=this.milkyWayEffect)||void 0===n||n.tick(),this.tickTiling(),null===(i=this.snowEffect)||void 0===i||i.tick()}},{key:"tickTiling",value:function(){var t,e=this.level.camera.leftBorderInWorldX-1e3-4e3,r=this.level.camera.rightBorderInWorldX,n=zu(this.layers);try{for(n.s();!(t=n.n()).done;){for(var i=t.value;i.tiles.length>1;){var o=i.tiles[0];if(!(this.level.world.toLocal({x:-i.layerTileWidth,y:0},o).x>=r))break;i.deleteFirstTile()}var a=i.toGlobal({x:i.layerLeftBorder,y:0}),s=this.level.world.toLocal(a).x;this.isTilingBackground&&s>=e&&i.increaseLayer(2*A.Z.width)}}catch(t){n.e(t)}finally{n.f()}}}]);var r,i,o}(n.W2);function nl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return il(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?il(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function il(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ol(t){return ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(t)}function al(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ul(n.key),n)}}function sl(t,e,r){return(e=ul(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ul(t){var e=function(t,e){if("object"!=ol(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ol(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ol(e)?e:e+""}var ll=function(){function t(e){var r=this,n=e.level;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),sl(this,"initialBackgroundType","snowArcticLocation"),sl(this,"spaceBackgroundHeight",2500),sl(this,"backgroundHeight",1800),sl(this,"spaceGradientOffset",4e3),sl(this,"_totalYBackgroundOffset",0),this.level=n;var i=new rl(gu.Vq,this.level);this._spaceBackground=i,this.level.backgroundContainer.addChild(i),i.tick(0,{x:0,y:this._totalYBackgroundOffset}),this.spaceBackgroundColor=i.mainCameraBackgroundColor,this.background=this.createBackground("snowArcticLocation"),this.level.backgroundContainer.addChild(this.background),this.background.initBackground(0);var o=this.createBackground("startLocation");this.level.backgroundContainer.addChild(o),o.initBackground(0),this._startLocationBackground=o,(0,xt.U5)((function(){return r.level.flyingCharacter.state}),(function(t){if("spaceLaunch"===t)(0,rt.hu)(r._spaceBackground),r._spaceBackground.position.x=r.level.camera.currentPositionX,r._spaceBackground.position.y=-12600,r._spaceBackground.initBackground(r.level.camera.rightBorderInWorldX),r._spaceBackground.tick(0,{x:0,y:r._totalYBackgroundOffset});else if("flying"===t){var e;null===(e=r._spaceBackground)||void 0===e||e.destroy({children:!0}),r._spaceBackground=void 0}}))}return function(t,e,r){return e&&al(t.prototype,e),r&&al(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"createBackground",value:function(t){var e=gu.bl.find((function(e){return e.backgroundType===t}));return(0,rt.hu)(e,"Background prefab with type "+t+" is missing!"),new rl(e,this.level)}},{key:"tick",value:function(e,r){var n,i;this._totalYBackgroundOffset+=r.y,this.background.tick(e,r),null===(n=this._startLocationBackground)||void 0===n||n.tick(e,r),null===(i=this._spaceBackground)||void 0===i||i.tick(e,r);var o=t.getBackgroundTypeAtDistance(this.level.distance);this.background.backgroundType!==o&&this.applyNewBackground(o),this.tickBackgroundColor()}},{key:"applyNewBackground",value:function(t){var e=this.createBackground(t);e.initBackground(this.level.camera.rightBorderInWorldX),e.tick(0,{x:0,y:this._totalYBackgroundOffset}),this.background.destroy({children:!0}),this.background=e,this.level.backgroundContainer.addChild(e),this.level.camera.bottomBorderInWorldY<this.backgroundHeight&&e.playFlashEffect()}},{key:"hideForegroundEffect",value:function(){this.background.hideForegroundEffect()}},{key:"tickBackgroundColor",value:function(){this.level.flyingCharacter.position;var t,e,r=this.level.camera.bottomBorderInWorldY,n=this.backgroundHeight;e=r>n?(0,Et.V2)((r-n)/this.spaceGradientOffset):0,this.level.levelBackgroundFill.tint=(0,Et.j1)(this.background.mainCameraBackgroundColor,this.spaceBackgroundColor,e),null!==(t=this._spaceBackground)&&void 0!==t&&t.milkyWayEffect&&(this._spaceBackground.milkyWayEffect.alpha=e)}}],[{key:"getBackgroundTypeAtDistance",value:function(t){var e,r=this._backgroundChangeInfosSorted;return(null!==(e=r.find((function(e){return t<e.distance})))&&void 0!==e?e:r[r.length-1]).type}}])}();function cl(t){return cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(t)}function hl(){hl=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==cl(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(cl(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function fl(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function pl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_l(n.key),n)}}function ml(t,e,r){return e=gl(e),function(t,e){if(e&&("object"==cl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,yl()?Reflect.construct(e,r||[],gl(t).constructor):e.apply(t,r))}function yl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yl=function(){return!!t})()}function gl(t){return gl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gl(t)}function vl(t,e){return vl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vl(t,e)}function bl(t,e,r){return(e=_l(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _l(t){var e=function(t,e){if("object"!=cl(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=cl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cl(e)?e:e+""}sl(ll,"_backgroundChangeInfosSorted",Object.entries(yu).map((function(t){var e=nl(t,2);return{type:e[0],distance:e[1]}})).sort((function(t,e){return t.distance-e.distance})));var wl=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.isCheated,o=void 0!==i&&i;pl(this,e),bl(t=ml(this,e),"type","gem"),bl(t,"collisionAction","nothing"),bl(t,"isNextCollideAvailable",!0),bl(t,"obstacleType","gem"),t.body0=Object.assign(Tt().Bodies.circle(0,0,140,{isStatic:!0}),{collidable:t}),t.body0.render.strokeStyle=o?"#00ff00":"#ff00ff",Tt().Body.setPosition(t.body0,{x:0,y:-35}),Tt().Composite.add(t.composite,t.body0);var a=t.addChild(new n.W2);h.Z.createComponent("effects/GemEffect").then((function(e){t.effect=e,t.effect.scale.set(1),a.addChild(t.effect)}));var s=new n.W2;return h.Z.createComponent("effects/FxGemIdle").then((function(t){s.addChild(t),t.scale.set(5,-5)})),t.visual=Er.Z.create("gem"),t.visual.setAnimation("animation"),t.visual.scale.set(.5,-.5),t.addChild(t.visual),t.visual.attachChildToBone("root_child",s,{x:0,y:0},0),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vl(t,e)}(e,t),function(t,e,r){return e&&dl(t.prototype,e),r&&dl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"playCollisionEffect",value:(r=hl().mark((function t(){var e,r;return hl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.effect){t.next=2;break}return t.abrupt("return");case 2:return e=this.effect.createAnimation("playCollision",!1,!0),r=this.disposeBag.pushGetRemover(e),t.next=6,e;case 6:r();case 7:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,i){var o=r.apply(t,e);function a(t){fl(o,n,i,a,s,"next",t)}function s(t){fl(o,n,i,a,s,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"collidePostBegin",value:function(){var t=this;Tt().Composite.remove(this.composite,this.body0),iw.meta.gems.value+=1,this.visual.visible=!1,this.playCollisionEffect().then((function(){t.destroy({children:!0})}))}},{key:"recalculateFlyingVelocity",value:function(t,e){return t}}]);var r,i}(Ui);function xl(t){return xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(t)}function Sl(){Sl=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==xl(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(xl(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Tl(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function El(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ml(n.key),n)}}function Ol(t,e,r){return e=kl(e),function(t,e){if(e&&("object"==xl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Al()?Reflect.construct(e,r||[],kl(t).constructor):e.apply(t,r))}function Al(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Al=function(){return!!t})()}function kl(t){return kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kl(t)}function Pl(t,e){return Pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pl(t,e)}function Cl(t,e,r){return(e=Ml(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ml(t){var e=function(t,e){if("object"!=xl(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=xl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xl(e)?e:e+""}var Il=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Cl(t=Ol(this,e),"type","coin"),Cl(t,"collisionAction","nothing"),Cl(t,"isNextCollideAvailable",!0),Cl(t,"obstacleType","coin"),t.body0=Object.assign(Tt().Bodies.circle(0,0,110,{isStatic:!0}),{collidable:t}),Tt().Body.setPosition(t.body0,{x:0,y:-35}),t.body0.render.strokeStyle="#ffff00",Tt().Composite.add(t.composite,t.body0),t.visual=t.addChild(Er.Z.create("coin")),t.visual.state.timeScale=.5,t.visual.scale.set(1.5,-1.5);var r=new C.Z(1e4,1/0,1200).on("period",(function(){t.visual.state.setAnimation(0,"idle",!1)}));return r.start(),t.disposeBag.push(r),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pl(t,e)}(e,t),function(t,e,r){return e&&El(t.prototype,e),r&&El(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"createAndPlayCollisionEffect",value:(r=Sl().mark((function t(){var e,r,n,i,o;return Sl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Is.$n,r=this.disposeBag.pushGetRemover(e),k.Z.replaySingle("obstacles/ClaimCoins",!1,.5),(n=this.addChild(new Dr.Z("effects/FX_coil_1"))).alpha=0,n.scale.set(.8,.8),n.tint=16769792,e.push(n),(i=this.addChild(new Dr.Z("effects/FX_particle_0"))).alpha=0,i.tint=16769792,i.scale.set(.8,.8),o=[new a.kX(n).to({alpha:1},100).start(),new a.kX(i).to({alpha:1},100).start(),new a.kX(i.scale).to({x:2,y:2},100).start(),new a.kX(n.scale).to({x:1.8,y:1.8},100).start()],e.pushGetRemover(o),t.next=16,Promise.all(o);case 16:r();case 17:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,e=arguments;return new Promise((function(n,i){var o=r.apply(t,e);function a(t){Tl(o,n,i,a,s,"next",t)}function s(t){Tl(o,n,i,a,s,"throw",t)}a(void 0)}))},function(){return n.apply(this,arguments)})},{key:"collidePostBegin",value:function(){var t=this;Tt().Composite.remove(this.composite,this.body0),iw.meta.coins.value+=1,this.visual.visible=!1,this.createAndPlayCollisionEffect().then((function(){t.destroy({children:!0})}))}},{key:"recalculateFlyingVelocity",value:function(t,e){return t}}]);var r,n}(Ui);function jl(t){return jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(t)}function Bl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vl(n.key),n)}}function Ll(t,e,r){return e=ql(e),function(t,e){if(e&&("object"==jl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Rl()?Reflect.construct(e,r||[],ql(t).constructor):e.apply(t,r))}function Rl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Rl=function(){return!!t})()}function ql(t){return ql=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ql(t)}function Nl(t,e){return Nl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Nl(t,e)}function Fl(t,e,r){return(e=Vl(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vl(t){var e=function(t,e){if("object"!=jl(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=jl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jl(e)?e:e+""}var Dl=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Fl(t=Ll(this,e),"leftBorderOffset",400),Fl(t,"rightBorderOffset",400),Fl(t,"composite",Tt().Composite.create()),t.disposeBag.push((function(){t.composite.parent&&Tt().Composite.remove(t.composite.parent,t.composite)}));for(var r=0,n=[{x:-280,y:-135},{x:-280,y:0},{x:-280,y:135},{x:-140,y:-135},{x:-140,y:0},{x:-140,y:135},{x:0,y:-135},{x:0,y:0},{x:0,y:135},{x:140,y:-135},{x:140,y:0},{x:140,y:135},{x:280,y:-135},{x:280,y:0},{x:280,y:135}];r<n.length;r++){var i=n[r],o=new Il;o.position.set(i.x,i.y),t.addChild(o),Tt().Composite.add(t.composite,o.composite),Tt().Composite.translate(o.composite,o.position,!0)}return t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nl(t,e)}(e,t),function(t,e,r){return e&&Bl(t.prototype,e),r&&Bl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"leftObstaclePositionX",get:function(){return this.x-this.leftBorderOffset}}])}(n.W2);function Gl(t){return Gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(t)}function zl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zl(n.key),n)}}function Ul(t,e,r){return e=Xl(e),function(t,e){if(e&&("object"==Gl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Yl()?Reflect.construct(e,r||[],Xl(t).constructor):e.apply(t,r))}function Yl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Yl=function(){return!!t})()}function Xl(t){return Xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xl(t)}function Wl(t,e){return Wl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wl(t,e)}function Hl(t,e,r){return(e=Zl(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zl(t){var e=function(t,e){if("object"!=Gl(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Gl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gl(e)?e:e+""}var Kl=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Hl(t=Ul(this,e),"leftBorderOffset",370),Hl(t,"rightBorderOffset",370),Hl(t,"composite",Tt().Composite.create()),t.disposeBag.push((function(){t.composite.parent&&Tt().Composite.remove(t.composite.parent,t.composite)}));for(var r=0,n=[{x:-82,y:130},{x:-142,y:0},{x:-82,y:-130},{x:-222,y:-130},{x:-282,y:0},{x:-222,y:130},{x:152,y:-130},{x:92,y:0},{x:152,y:130},{x:292,y:-130},{x:232,y:0},{x:292,y:130}];r<n.length;r++){var i=n[r],o=new Il;o.position.set(i.x,i.y),t.addChild(o),Tt().Composite.add(t.composite,o.composite),Tt().Composite.translate(o.composite,o.position,!0)}return t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wl(t,e)}(e,t),function(t,e,r){return e&&zl(t.prototype,e),r&&zl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"leftObstaclePositionX",get:function(){return this.x-this.leftBorderOffset}}])}(n.W2);function Ql(t){return Ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(t)}function Jl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ic(n.key),n)}}function $l(t,e,r){return e=ec(e),function(t,e){if(e&&("object"==Ql(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,tc()?Reflect.construct(e,r||[],ec(t).constructor):e.apply(t,r))}function tc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(tc=function(){return!!t})()}function ec(t){return ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ec(t)}function rc(t,e){return rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rc(t,e)}function nc(t,e,r){return(e=ic(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ic(t){var e=function(t,e){if("object"!=Ql(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ql(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ql(e)?e:e+""}var oc=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),nc(t=$l(this,e),"leftBorderOffset",480),nc(t,"rightBorderOffset",480),nc(t,"composite",Tt().Composite.create()),t.disposeBag.push((function(){t.composite.parent&&Tt().Composite.remove(t.composite.parent,t.composite)}));for(var r=0,n=[{x:-260,y:300},{x:-130,y:300},{x:130,y:300},{x:260,y:300},{x:-390,y:150},{x:-260,y:150},{x:-130,y:150},{x:0,y:150},{x:130,y:150},{x:260,y:150},{x:390,y:150},{x:-260,y:0},{x:-130,y:0},{x:0,y:0},{x:130,y:0},{x:260,y:0},{x:-130,y:-150},{x:0,y:-150},{x:130,y:-150},{x:0,y:-300}];r<n.length;r++){var i=n[r],o=new Il;o.position.set(i.x,i.y),t.addChild(o),Tt().Composite.add(t.composite,o.composite),Tt().Composite.translate(o.composite,o.position,!0)}return t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rc(t,e)}(e,t),function(t,e,r){return e&&Jl(t.prototype,e),r&&Jl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"leftObstaclePositionX",get:function(){return this.x-this.leftBorderOffset}}])}(n.W2);function ac(t){return ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(t)}function sc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lc(n.key),n)}}function uc(t,e,r){return(e=lc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lc(t){var e=function(t,e){if("object"!=ac(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ac(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ac(e)?e:e+""}var cc=function(){return function(t,e,r){return e&&sc(t.prototype,e),r&&sc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r=e.level;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),uc(this,"maxMoneyCount",5),uc(this,"money",[]),uc(this,"_lastCheatedGemXPosition",0),uc(this,"_currentDistanceBetweenMoney",0),this.level=r}),[{key:"removePassedMoney",value:function(){for(var t=this.level.camera.rightBorderInWorldX+500,e=this.money.length-1;e>=0;e--){var r=this.money[e];r.x>t&&(this.money.splice(e,1),r.destroy({children:!0}))}}},{key:"trySpawnCheatedGem",value:function(){if("spaceLaunch"!==this.level.flyingCharacter.state&&!(this._lastCheatedGemXPosition<this.level.flyingCharacter.x)){var t=this._lastCheatedGemXPosition-ru.distanceBetweenCheatedGems/this.level.scoreMultiplier,e=this.level.flyingCharacter.predictedPositions,r=this.level.camera.leftBorderInWorldX,n=e.find((function(e){return e.x<t&&e.x<r&&e.y>=ru.minGemsYPosition}));if(n){var i=new wl({isCheated:!0});i.x=n.x,i.y=n.y;for(var o=this.money.length-1;o>=0;o--){var a=this.money[o];Ui.isOverlapping(i,a)&&(this.money.splice(o,1),a.destroy({children:!0}))}this._lastCheatedGemXPosition=i.x,i.disposeBag.push((0,rt.v_)(this.money,i)),this.level.addMoneyIntoWorld(i)}}}},{key:"spawnCoin",value:function(t,e){var r,n,i=new(Sr([Dl,Kl,oc]));i.x=t;var o=this.level.camera.leftBorderInWorldX,a=this.level.flyingCharacter.predictedPositions,s=null!==(r=null!==(n=a.find((function(e){return e.x<t&&e.x<o})))&&void 0!==n?n:a.at(-1))&&void 0!==r?r:{x:t,y:0},u=ru.minCoinsYPosition,l=ru.maxCoinsYPosition;i.y=u<=s.y&&s.y<=l?s.y:(0,Et.t7)(u,l,Math.random());var c=e-i.rightBorderOffset;i.x=Math.min(i.x,c),i.disposeBag.push((0,rt.v_)(this.money,i)),this.level.addMoneyIntoWorld(i)}},{key:"spawnGem",value:function(t,e){var r,n,i=this.level.camera.leftBorderInWorldX,o=this.level.flyingCharacter.predictedPositions,a=null!==(r=null!==(n=o.find((function(e){return e.x<t&&e.x<i})))&&void 0!==n?n:o.at(-1))&&void 0!==r?r:{x:t,y:0},s=new wl;s.x=t;var u=ru.minGemsYPosition,l=ru.maxGemsYPosition;s.y=u<=a.y&&a.y<=l?a.y:(0,Et.t7)(u,l,Math.random()),Math.random()<ru.gemsGenerationOnTrajectoryLineChance||(Math.random()<ru.gemsGenerationUpperTrajectoryLineChance?s.y+=ru.trajectoryLineOffset:s.y-=ru.trajectoryLineOffset);var c=e-s.rightBorderOffset;s.x=Math.min(s.x,c),s.disposeBag.push((0,rt.v_)(this.money,s)),this.level.addMoneyIntoWorld(s)}},{key:"getLastMoney",value:function(){return this.money.reduce((function(t,e){return!t||e.x<t.x?e:t}),void 0)}},{key:"tick",value:function(t){if(this.removePassedMoney(),this.trySpawnCheatedGem(),this.money.length<this.maxMoneyCount){var e,r,n=this.getLastMoney(),i=null!==(e=null==n?void 0:n.leftObstaclePositionX)&&void 0!==e?e:0,o=Math.min(i-(null!==(r=null==n?void 0:n.leftBorderOffset)&&void 0!==r?r:0),this.level.camera.leftBorderInWorldX),a=i-this._currentDistanceBetweenMoney;Math.random()<ru.coinsGenerationChance?this.spawnCoin(a,o):this.spawnGem(a,o),this._currentDistanceBetweenMoney=(0,Et.t7)(ru.minDistanceBetweenMoney,ru.maxDistanceBetweenMoney,Math.random())}}}])}(),hc=r(159);function fc(t){return fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(t)}function pc(){pc=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==fc(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(fc(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function dc(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function mc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gc(n.key),n)}}function yc(t,e,r){return(e=gc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gc(t){var e=function(t,e){if("object"!=fc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=fc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fc(e)?e:e+""}var vc,bc,_c=function(){return function(t,e,r){return e&&mc(t.prototype,e),r&&mc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r=e.level;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),yc(this,"_destroyed",!1),yc(this,"disposeBag",new Is.$n),yc(this,"nextLeagueDistance",void 0),yc(this,"leaguePointEffect",void 0),this.level=r}),[{key:"dispose",value:function(){this.disposeBag.dispose(),this._destroyed=!0}},{key:"tick",value:function(){var t,e,r,n=this;void 0!==this.nextLeagueDistance&&this.nextLeagueDistance<=this.level.distance&&(this.level.emit("leagueReached"),this.playLeagueTriggerEfffect(null!==(t=null===(e=this.leaguePointEffect)||void 0===e?void 0:e.position.x)&&void 0!==t?t:this.level.flyingCharacter.x),null===(r=this.leaguePointEffect)||void 0===r||r.destroy({children:!0}),this.leaguePointEffect=void 0,this.nextLeagueDistance=void 0);if(void 0===this.nextLeagueDistance||this.nextLeagueDistance<=this.level.distance){var i,o=null===(i=hc.ge.find((function(t){return t.distanceForReach>=n.level.distance&&t.distanceForReach>=n.level.initialMaxDistance})))||void 0===i?void 0:i.distanceForReach;void 0!==o&&(this.nextLeagueDistance=o,h.Z.createComponent("effects/FxBoundIdle").then((function(t){n._destroyed||(n.leaguePointEffect=n.level.leagueEffectContainer.addChild(t),t.position.set(-o/n.level.scoreMultiplier-1e3,0),t.scale.set(2,-2))})))}}},{key:"playLeagueTriggerEfffect",value:(t=pc().mark((function t(e){var r,i,o=this;return pc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.level.flashEffectContainer.position.x=e,(r=this.level.flashEffectContainer.addChild((new n.TC).beginFill(16777215).drawCircle(0,0,100).endFill())).alpha=0,r.scale.set(300),new a.kX(r).to({alpha:1},100).repeat(1).yoyo(!0).onComplete((function(){r.destroy({children:!0})})).start(),h.Z.createComponent("effects/FxBoundDestroy").then((function(t){o._destroyed||(o.level.leagueEffectContainer.addChild(t),t.position.set(e,0),t.scale.set(2,-2))})),i="LeagueManager-"+Math.random(),iw.timeScalers[i]=1,t.next=10,new a.kX(iw.timeScalers,iw.unscaledTweenGroup).to(yc({},i,.2),200).start();case 10:return t.next=12,new a.kX(iw.timeScalers,iw.unscaledTweenGroup).delay(400).to(yc({},i,1),500).start();case 12:delete iw.timeScalers[i];case 13:case"end":return t.stop()}}),t,this)})),e=function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){dc(o,n,i,a,s,"next",t)}function s(t){dc(o,n,i,a,s,"throw",t)}a(void 0)}))},function(t){return e.apply(this,arguments)})}]);var t,e}();function wc(t){return wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wc(t)}function xc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Sc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ac(n.key),n)}}function Tc(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function Ec(t,e,r){return(e=Ac(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oc(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function Ac(t){var e=function(t,e){if("object"!=wc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=wc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wc(e)?e:e+""}function kc(t,e,r){"symbol"==wc(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function Pc(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?wc(t):"null"));return t}var Cc,Mc,Ic=new WeakMap,jc=function(){return function(t,e,r){return e&&Sc(t.prototype,e),r&&Sc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r=this,n=e.flyingCharacter;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ec(this,"_destroyed",!1),Ec(this,"disposeBag",new Is.$n),Tc(this,Ic,vc(this,0)),Ec(this,"maxCombo",(bc(this),0)),n.on("collide",(function(t){switch(t.collisionAction){case"add":r.addCombo();break;case"none":case"reset":r.resetCombo()}}))}),[{key:"dispose",value:function(){this.disposeBag.dispose(),this._destroyed=!0}},{key:"comboCollidesCount",get:function(){return e=this,(t=Ic).get(Oc(t,e));var t,e},set:function(t){!function(t,e,r){t.set(Oc(t,e),r)}(Ic,this,t)}},{key:"resetCombo",value:function(){this.maxCombo<this.comboCollidesCount&&(this.maxCombo=this.comboCollidesCount),this.comboCollidesCount=0}},{key:"addCombo",value:function(){this.comboCollidesCount++,iw.meta.dailyMissions.maxProgress("comboGod",this.comboCollidesCount),2===this.comboCollidesCount&&iw.meta.dailyMissions.addProgress("combinator",this.comboCollidesCount);var t=Math.max(this.comboCollidesCount,1);iw.meta.coins.value+=t}}])}(),Bc=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:kc((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||kc(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==wc(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:Ac(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return Pc(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(jc,[],[[xt.LO,1,"comboCollidesCount"]]).e,Lc=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return xc(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xc(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Bc,2);function Rc(t){return Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(t)}function qc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Nc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dc(n.key),n)}}function Fc(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function Vc(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function Dc(t){var e=function(t,e){if("object"!=Rc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Rc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rc(e)?e:e+""}function Gc(t,e,r){"symbol"==Rc(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function zc(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?Rc(t):"null"));return t}vc=Lc[0],bc=Lc[1];var Uc=new WeakMap,Yc=function(){function t(e){var r=e.level;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Fc(this,Uc,Cc(this,0)),Mc(this),this.level=r}return function(t,e,r){return e&&Nc(t.prototype,e),r&&Nc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"skyDiverValueSec",get:function(){return e=this,(t=Uc).get(Vc(t,e));var t,e},set:function(t){!function(t,e,r){t.set(Vc(t,e),r)}(Uc,this,t)}},{key:"tick",value:function(e){var r=Math.min(t.MAX_SKY_LINE,this.level.camera.topBorderInWorldY);"flying"===this.level.state&&this.level.camera.maxYPosition<1/0&&this.level.flyingCharacter.position.y>r?this.skyDiverValueSec+=e/1e3:this.skyDiverValueSec=0}}])}(),Xc=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return qc(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qc(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:Gc((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||Gc(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==Rc(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:Dc(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return zc(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(Yc,[],[[xt.LO,1,"skyDiverValueSec"]]).e,2);function Wc(t){return Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(t)}function Hc(){Hc=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Wc(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Wc(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Zc(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Kc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jc(n.key),n)}}function Qc(t,e,r){return(e=Jc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jc(t){var e=function(t,e){if("object"!=Wc(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Wc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wc(e)?e:e+""}Cc=Xc[0],Mc=Xc[1],function(t,e,r){(e=Dc(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(Yc,"MAX_SKY_LINE",2200);var $c=function(){return function(t,e,r){return e&&Kc(t.prototype,e),r&&Kc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r=e.level;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Qc(this,"_destroyed",!1),Qc(this,"disposeBag",new Is.$n),Qc(this,"_bestScoreDistance",void 0),Qc(this,"bestScorePointEffect",void 0),this.level=r}),[{key:"dispose",value:function(){this.disposeBag.dispose(),this._destroyed=!0}},{key:"bestScoreDistance",get:function(){return this._bestScoreDistance},set:function(t){var e,r=this;void 0!==t&&t<0&&(t=void 0),this._bestScoreDistance=t,null===(e=this.bestScorePointEffect)||void 0===e||e.destroy({children:!0}),this.bestScorePointEffect=void 0,void 0!==t&&h.Z.createComponent("effects/FxBoundIdle").then((function(e){var n;r._destroyed||(null===(n=r.bestScorePointEffect)||void 0===n||n.destroy({children:!0}),r.bestScorePointEffect=r.level.bestScoreLineContainer.addChild(e),e.position.set(-t/r.level.scoreMultiplier-1e3,0),e.scale.set(2,-2))}))}},{key:"tick",value:function(){var t,e;void 0!==this.bestScoreDistance&&this.bestScoreDistance<=this.level.distance&&(this.level.emit("bestScoreReached"),this.playTriggerEfffect(null!==(t=null===(e=this.bestScorePointEffect)||void 0===e?void 0:e.position.x)&&void 0!==t?t:this.level.flyingCharacter.x),this.bestScoreDistance=void 0)}},{key:"playTriggerEfffect",value:(t=Hc().mark((function t(e){var r,i,o=this;return Hc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.level.flashEffectContainer.position.x=e,(r=this.level.flashEffectContainer.addChild((new n.TC).beginFill(16777215).drawCircle(0,0,100).endFill())).alpha=0,r.scale.set(300),new a.kX(r).to({alpha:1},100).repeat(1).yoyo(!0).onComplete((function(){r.destroy({children:!0})})).start(),h.Z.createComponent("effects/FxBoundDestroy").then((function(t){o._destroyed||(o.level.leagueEffectContainer.addChild(t),t.position.set(e,0),t.scale.set(2,-2))})),i="BestScoreLineManager-"+Math.random(),iw.timeScalers[i]=1,t.next=10,new a.kX(iw.timeScalers,iw.unscaledTweenGroup).to(Qc({},i,.2),200).start();case 10:return t.next=12,new a.kX(iw.timeScalers,iw.unscaledTweenGroup).delay(400).to(Qc({},i,1),500).start();case 12:delete iw.timeScalers[i];case 13:case"end":return t.stop()}}),t,this)})),e=function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Zc(o,n,i,a,s,"next",t)}function s(t){Zc(o,n,i,a,s,"throw",t)}a(void 0)}))},function(t){return e.apply(this,arguments)})}]);var t,e}();function th(t){return th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(t)}function eh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ah(n.key),n)}}function rh(t,e,r){return e=ih(e),function(t,e){if(e&&("object"==th(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,nh()?Reflect.construct(e,r||[],ih(t).constructor):e.apply(t,r))}function nh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nh=function(){return!!t})()}function ih(t){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ih(t)}function oh(t,e){return oh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oh(t,e)}function ah(t){var e=function(t,e){if("object"!=th(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=th(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==th(e)?e:e+""}var sh=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,r){(e=ah(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(t=rh(this,e),"initialShiftPosition",{x:500,y:0}),t.body=t.addChild(Er.Z.create("fatality/penguin_elongated")),t.body.scale.set(.8,-.8),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oh(t,e)}(e,t),function(t,e,r){return e&&eh(t.prototype,e),r&&eh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"startTwerkAnimation",value:function(){this.body.state.setAnimation(0,"appear",!1),this.body.state.addAnimation(0,"dance",!0,.3)}}])}(n.W2);function uh(t){return uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(t)}function lh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dh(n.key),n)}}function ch(t,e,r){return e=fh(e),function(t,e){if(e&&("object"==uh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,hh()?Reflect.construct(e,r||[],fh(t).constructor):e.apply(t,r))}function hh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(hh=function(){return!!t})()}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fh(t)}function ph(t,e){return ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ph(t,e)}function dh(t){var e=function(t,e){if("object"!=uh(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=uh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==uh(e)?e:e+""}var mh=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,r){(e=dh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(t=ch(this,e),"initialShiftPosition",{x:-350,y:0}),t.body=t.addChild(Er.Z.create("fatality/penguin_fat")),t.body.scale.set(.8,-.8),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ph(t,e)}(e,t),function(t,e,r){return e&&lh(t.prototype,e),r&&lh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"startTwerkAnimation",value:function(){this.body.state.setAnimation(0,"appear",!1),this.body.state.addAnimation(0,"dance",!0,.3)}}])}(n.W2);function yh(t){return yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(t)}function gh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xh(n.key),n)}}function vh(t,e,r){return e=_h(e),function(t,e){if(e&&("object"==yh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bh()?Reflect.construct(e,r||[],_h(t).constructor):e.apply(t,r))}function bh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(bh=function(){return!!t})()}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_h(t)}function wh(t,e){return wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wh(t,e)}function xh(t){var e=function(t,e){if("object"!=yh(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yh(e)?e:e+""}var Sh=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,r){(e=xh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(t=vh(this,e),"initialShiftPosition",{x:-600,y:0}),t.body=t.addChild(Er.Z.create("fatality/penguin_front")),t.body.scale.set(.8,-.8),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wh(t,e)}(e,t),function(t,e,r){return e&&gh(t.prototype,e),r&&gh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"startTwerkAnimation",value:function(){this.body.state.setAnimation(0,"appear",!1),this.body.state.addAnimation(0,"dance",!0,.3)}}])}(n.W2);function Th(t){return Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(t)}function Eh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ch(n.key),n)}}function Oh(t,e,r){return e=kh(e),function(t,e){if(e&&("object"==Th(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ah()?Reflect.construct(e,r||[],kh(t).constructor):e.apply(t,r))}function Ah(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ah=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kh(t)}function Ph(t,e){return Ph=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ph(t,e)}function Ch(t){var e=function(t,e){if("object"!=Th(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Th(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Th(e)?e:e+""}var Mh=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,r){(e=Ch(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(t=Oh(this,e),"initialShiftPosition",{x:-700,y:0}),t.body=t.addChild(Er.Z.create("fatality/penguin_ninja_elongated")),t.body.scale.set(.8,-.8),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ph(t,e)}(e,t),function(t,e,r){return e&&Eh(t.prototype,e),r&&Eh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"startNinjaAnimation",value:function(){this.body.state.setAnimation(0,"appear",!1),this.body.state.addAnimation(0,"dance",!0,.3)}}])}(n.W2);function Ih(t){return Ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ih(t)}function jh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nh(n.key),n)}}function Bh(t,e,r){return e=Rh(e),function(t,e){if(e&&("object"==Ih(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Lh()?Reflect.construct(e,r||[],Rh(t).constructor):e.apply(t,r))}function Lh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Lh=function(){return!!t})()}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rh(t)}function qh(t,e){return qh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qh(t,e)}function Nh(t){var e=function(t,e){if("object"!=Ih(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ih(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ih(e)?e:e+""}var Fh=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,r){(e=Nh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(t=Bh(this,e),"initialShiftPosition",{x:-350,y:0}),t.body=t.addChild(Er.Z.create("fatality/penguin_ninja_fat")),t.body.scale.set(.8,-.8),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qh(t,e)}(e,t),function(t,e,r){return e&&jh(t.prototype,e),r&&jh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"startNinjaAnimation",value:function(){this.body.state.setAnimation(0,"appear",!1),this.body.state.addAnimation(0,"dance",!0,.3)}}])}(n.W2);function Vh(t){return Vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(t)}function Dh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xh(n.key),n)}}function Gh(t,e,r){return e=Uh(e),function(t,e){if(e&&("object"==Vh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,zh()?Reflect.construct(e,r||[],Uh(t).constructor):e.apply(t,r))}function zh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zh=function(){return!!t})()}function Uh(t){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uh(t)}function Yh(t,e){return Yh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yh(t,e)}function Xh(t){var e=function(t,e){if("object"!=Vh(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Vh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vh(e)?e:e+""}var Wh=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e,r){(e=Xh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(t=Gh(this,e),"initialShiftPosition",{x:500,y:0}),t.body=t.addChild(Er.Z.create("fatality/penguin_ninja_front")),t.body.scale.set(.8,-.8),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yh(t,e)}(e,t),function(t,e,r){return e&&Dh(t.prototype,e),r&&Dh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"startNinjaAnimation",value:function(){this.body.state.setAnimation(0,"appear",!1),this.body.state.addAnimation(0,"dance",!0,.3)}}])}(n.W2);function Hh(t){return Hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(t)}function Zh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kh(n.key),n)}}function Kh(t){var e=function(t,e){if("object"!=Hh(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Hh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hh(e)?e:e+""}var Qh,Jh,$h,tf,ef=function(){return function(t,e,r){return e&&Zh(t.prototype,e),r&&Zh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r=e.level;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,r){(e=Kh(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"fatalityChance",.5),this.level=r,this.fatalities=["twerk","ninja"]}),[{key:"startFatality",value:function(){if(!(this.level.distance<=0||Math.random()>this.fatalityChance||"skeleton"===this.level.flyingCharacter.sprite.getCurrentAnimationName()||"wiping_sit_idle"===this.level.flyingCharacter.sprite.getCurrentAnimationName())){var t=Sr(this.fatalities);"twerk"===t?this.startTwerkFatality():"ninja"===t&&this.startNinjaFatality()}}},{key:"startNinjaFatality",value:function(){this.fatalitySound=k.Z.playSingle("penguin/rez_ninja",!0);var t=new n.W2;this.level.fatalityContainer.addChild(t),t.position.set(this.level.flyingCharacter.position.x,0);var e=new Mh;t.addChild(e),e.position.set(e.initialShiftPosition.x,e.initialShiftPosition.y),e.startNinjaAnimation();var r=new Fh;t.addChild(r),r.position.set(r.initialShiftPosition.x,r.initialShiftPosition.y),r.startNinjaAnimation();var i=new Wh;t.addChild(i),i.position.set(i.initialShiftPosition.x,i.initialShiftPosition.y),i.startNinjaAnimation()}},{key:"startTwerkFatality",value:function(){this.fatalitySound=k.Z.playSingle("penguin/rez_twerk",!0);var t=new n.W2;this.level.fatalityContainer.addChild(t),t.position.set(this.level.flyingCharacter.position.x,0);var e=new sh;t.addChild(e),e.position.set(e.initialShiftPosition.x,e.initialShiftPosition.y),e.startTwerkAnimation();var r=new mh;t.addChild(r),r.position.set(r.initialShiftPosition.x,r.initialShiftPosition.y),r.startTwerkAnimation();var i=new Sh;t.addChild(i),i.position.set(i.initialShiftPosition.x,i.initialShiftPosition.y),i.startTwerkAnimation()}},{key:"stopFatality",value:function(){this.fatalitySound&&(this.fatalitySound.fade(1,0,500),this.fatalitySound=null),this.level.fatalityContainer.destroy({children:!0})}}])}();function rf(t){return rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(t)}function nf(){nf=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==rf(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(rf(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function of(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||sf(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function af(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function sf(t,e){if(t){if("string"==typeof t)return uf(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uf(t,e):void 0}}function uf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function lf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bf(n.key),n)}}function cf(t,e,r){return e=ff(e),function(t,e){if(e&&("object"==rf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,hf()?Reflect.construct(e,r||[],ff(t).constructor):e.apply(t,r))}function hf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(hf=function(){return!!t})()}function ff(t){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ff(t)}function pf(t,e){return pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pf(t,e)}function df(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function mf(t,e,r){return(e=bf(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yf(t,e,r){return t.set(vf(t,e),r),r}function gf(t,e){return t.get(vf(t,e))}function vf(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function bf(t){var e=function(t,e){if("object"!=rf(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=rf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rf(e)?e:e+""}function _f(t,e,r){"symbol"==rf(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function wf(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?rf(t):"null"));return t}!function(){var t=document.createElement("canvas");t.width=t.height=2;var e=t.getContext("2d");(0,rt.hu)(e),e.fillStyle="#ff0000",e.fillRect(0,0,1,1),e.fillRect(1,1,1,1),n.xE.from(t,{scaleMode:0})}();var xf=new WeakMap,Sf=new WeakMap,Tf=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),mf(t=cf(this,e),"isLevel",!0),df(t,xf,Qh(t,!1)),mf(t,"distance",(Jh(t),0)),mf(t,"isOneWhackEnabled",!1),mf(t,"currentWhacksCount",0),mf(t,"oneWhackChance",.8),mf(t,"currentDelayBeforeAutomatickWhack",0),mf(t,"isWhackEnabled",!1),mf(t,"whacksCount",3),mf(t,"delayBeforeAutomaticWhack",3e3),mf(t,"isAbilityDisabledByTutorial",!1),mf(t,"previousFlyingCharacterPosition",{x:0,y:0}),mf(t,"kickType","none"),df(t,Sf,$h(t,"none")),mf(t,"_accumulatedForMarathon",(tf(t),0)),mf(t,"_lastMarathonFlushTime",-1/0),mf(t,"_lastFlyingCharacterX",void 0),t.initialMaxDistance=iw.meta.maxDistance.value,t.matterWorld=St.World.create({}),t.root=t.addChild(new n.W2),t.levelBackgroundFill=t.root.addChild((new n.TC).beginFill(16777215).drawRect(-.5,-.5,1,1)),t.levelBackgroundFill.width=t.levelBackgroundFill.height=1e4,t.zoomer=t.root.addChild(new n.W2),t.backgroundContainer=t.zoomer.addChild(new n.W2),t.world=t.zoomer.addChild(new n.W2),t.world.scale.set(1,-1),t.world.sortableChildren=!0,t.camera=new mu(t),t.disposeBag.push(t.camera),t.camera.resetCameraSettings(),t.ground=t.world.addChild(new ji),St.Composite.add(t.matterWorld,t.ground.composite),t.horizonStarsEffectContainer=t.world.addChild(new n.W2),t.leagueEffectContainer=t.world.addChild(new n.W2),t.bestScoreLineContainer=t.world.addChild(new n.W2),t.moneyContainer=t.world.addChild(new n.W2),t.bigBoardContainer=t.world.addChild(new n.W2),t.backgroundShadowContainer=t.bigBoardContainer.addChild(new n.W2),t.traceContainer=t.world.addChild(new n.W2),t.obstaclesContainer=t.world.addChild(new n.W2),t.fatalityContainer=t.world.addChild(new n.W2),t.beatingCharacter=t.world.addChild(new di),t.beatingCharacter.position.set(196,0),t.beatingCharacter.on("beat",t.handleBeatingCharacterBeat,t).on("shot",t.handleBeatingCharacterShot,t).on("whack",t.handleBeatingCharacterWhack,t).on("kickType",(function(e){t.kickType=e,t.flyingCharacter.onKick(e),t.emit("kickType",e)})),t.flashEffectContainer=t.world.addChild(new n.W2),t.flyingCharacter=new On,t.traceContainer.addChild(t.flyingCharacter.traceEffect),t.world.addChild(t.flyingCharacter.trailsHelper),t.world.addChild(t.flyingCharacter),t.flyingCharacter.position.set(0,836),t.flyingCharacter.on("collide",(function(e){"chest"===e.type&&(iw.meta.lastMatchNumberWithGeneratedChest.value=iw.meta.matchesCount.value,t.isChestPicked=!0,t.emit("chestPicked"))}),t),t.flyingCharacter.on("whackFinished",(function(){t.state="waitingJump",t.flyingCharacter.position.set(0,836),t.flyingCharacter.returnToJumpState()})),t.flyingCharacter.sprite.on("crapStarted",(function(){t.beatingCharacter.reactToCrap()})).on("synchronizedAnimationStart",(function(e){t.beatingCharacter.sprite.onSynchronizedAnimationStart(e)})),(0,xt.U5)((function(){return t.flyingCharacter.state}),(function(e){t.camera.changeCameraSettingsForCharacterState(e),t.camera.enableSwimming("swimming"===e||"deathSwimming"===e||"deathSwimmingSliding"===e)})),(0,xt.U5)((function(){return t.flyingCharacter.state}),(function(e){if("finish"===e){t.state="finish",t.emit("finish",{distance:t.distance}),t.fatalityManager.startFatality(),"eaten"!==t.flyingCharacter.deathType&&iw.meta.deadFlyingCharacters.register(t.distance);var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=sf(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(t.obstacleManager.obstacles);try{for(n.s();!(r=n.n()).done;){r.value.onBoardEndFalling({flyingCharacter:t.flyingCharacter})}}catch(t){n.e(t)}finally{n.f()}t._flushMarathonProgress()}})),t.foregroundInWorldContainer=t.world.addChild(new n.W2),t.backgroundManager=new ll({level:t}),t.obstacleManager=new ou({level:t}),t.moneyManager=new cc({level:t}),t.comboManager=new jc({flyingCharacter:t.flyingCharacter}),t.skyDiverManager=new Yc({level:t}),t.fatalityManager=new ef({level:t}),t.leagueManager=new _c({level:t}),t.disposeBag.push(t.leagueManager),t.bestScoreLineManager=new $c({level:t}),t.disposeBag.push(t.bestScoreLineManager),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pf(t,e)}(e,t),function(t,e,r){return e&&lf(t.prototype,e),r&&lf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"isChestPicked",get:function(){return gf(xf,this)},set:function(t){yf(xf,this,t)}},{key:"scoreMultiplier",get:function(){return iw.meta.upgrades.velocityIncreasing.distanceMultiplier}},{key:"shakeCamera",value:function(t){var e=t.durationMs,r=t.radius;this.camera.applyShakeWithDuration(e,r)}},{key:"state",get:function(){return this._state},set:function(t){if(this._state!==t){switch(t){case"mainMenu":case"waitingJump":break;case"waitingKick":this.flyingCharacter.applyUpgrades();break;case"flying":this.bestScoreLineManager.bestScoreDistance=this.initialMaxDistance,this.shakeCamera({durationMs:220,radius:15}),this.beatingCharacter.disableIdleAnimations();break;case"finish":this.kickType="miss",this.beatingCharacter.sprite.maybeStrike();break;case"whackAMole":this.isOneWhackEnabled=Math.random()<=this.oneWhackChance,this.currentWhacksCount=0,this.beatingCharacter.whackAMoleAim(),this.currentDelayBeforeAutomatickWhack=0,this.isWhackEnabled=!0}this._state=t}}},{key:"_state",get:function(){return gf(Sf,this)},set:function(t){yf(Sf,this,t)}},{key:"distanceWithStartMultiplier",get:function(){return this.distance*iw.meta.upgrades.velocityIncreasing.distanceNormalizeMultiplier}},{key:"backgroundType",get:function(){return ll.getBackgroundTypeAtDistance(this.distance)}},{key:"createAndShowBigBoard",value:(r=nf().mark((function t(){var e,r,n;return nf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([h.Z.createComponent("BigBoard"),new a.kX({t:0}).to({t:1},200).start()]);case 2:if(e=t.sent,r=of(e,1),n=r[0],!this._destroyed){t.next=7;break}return t.abrupt("return");case 7:return this.backgroundManager.background.showShadow({x:this.flyingCharacter.x,y:0}),this.bigBoard=n,this.bigBoard.scale.set(1,-1),this.bigBoardContainer.addChild(this.bigBoard),this.bigBoard.position.set(this.flyingCharacter.x,150),this.backgroundManager.hideForegroundEffect(),t.next=15,this.bigBoard.show({currentDistance:this.distance,maxDistance:this.initialMaxDistance});case 15:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,i){var o=r.apply(t,e);function a(t){af(o,n,i,a,s,"next",t)}function s(t){af(o,n,i,a,s,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"handleBeatingCharacterBeat",value:function(){iw.musicThemeManager.setMusicTheme("main");var t=this.beatingCharacter.calculateBeatVelocity(this.flyingCharacter.position);t.x>0||t.y>0?(this.state="flying",this.flyingCharacter.kick(t)):this.kickType="miss"}},{key:"handleBeatingCharacterShot",value:function(){this.isOneWhackEnabled||this.currentWhacksCount===this.whacksCount?this.beatingCharacter.whackToIdle():(this.isWhackEnabled=!0,this.currentDelayBeforeAutomatickWhack=0)}},{key:"handleBeatingCharacterWhack",value:function(){this.isOneWhackEnabled?this.flyingCharacter.whackAMole(!0):(this.currentWhacksCount++,this.flyingCharacter.whackAMole(!1,this.currentWhacksCount))}},{key:"whackAMole",value:function(){this.isWhackEnabled&&(this.beatingCharacter.whackAMole(0===this.currentWhacksCount),this.isWhackEnabled=!1)}},{key:"start",value:function(){this.state="waitingJump"}},{key:"handleTap",value:function(){return this.emit("beforeHandleTap"),"waitingJump"===this.state?(this.beatingCharacter.beatStart(),this.flyingCharacter.jump(),void(this.state="waitingKick")):"waitingKick"===this.state?(this.beatingCharacter.beat(this.flyingCharacter.calculateYPositionInMomentOfFallingDown(this.beatingCharacter.DELAY_BEFORE_BEAT_ANIMATION_EVENT_MS)),void this.emit("kicked")):"flying"===this.state?this.flyingCharacter.isFartAvailable?void this.flyingCharacter.fart():this.isAbilityDisabledByTutorial?void 0:void this.flyingCharacter.startAbility():void("whackAMole"===this.state&&this.whackAMole())}},{key:"_flushMarathonProgress",value:function(){iw.meta.dailyMissions.addProgress("marathon",this._accumulatedForMarathon),this._accumulatedForMarathon=0}},{key:"_addMarathonProgress",value:function(t){this._accumulatedForMarathon+=t;var e=iw.unscaledLiveTime;e-this._lastMarathonFlushTime>=1e3&&(this._flushMarathonProgress(),this._lastMarathonFlushTime=e)}},{key:"tickDistance",value:function(){if(void 0!==this._lastFlyingCharacterX){var t=-(this.flyingCharacter.x-this._lastFlyingCharacterX)*this.scoreMultiplier;this.distance+=t,this._addMarathonProgress(t)}this._lastFlyingCharacterX=this.flyingCharacter.x}},{key:"tick",value:function(t){if(!(t<=0)){this.flyingCharacter.tick(t),this.beatingCharacter.tick(t),this.tickDistance(),"flying"===this.state&&(this.obstacleManager.tick(t),this.moneyManager.tick(t));var e=this.camera.updateCameraController(t,this.flyingCharacter.position,this.flyingCharacter.flyingVelocity);this.backgroundManager.tick(t,e),"whackAMole"===this.state&&(this.currentDelayBeforeAutomatickWhack+=t,this.currentDelayBeforeAutomatickWhack>=this.delayBeforeAutomaticWhack&&(this.currentDelayBeforeAutomatickWhack=0,this.isWhackEnabled&&this.whackAMole())),this.__matterRenderer&&Un.world(this.__matterRenderer),"flying"===this.state&&this.leagueManager.tick(),this.bestScoreLineManager.tick(),this.skyDiverManager.tick(t)}}},{key:"addObstacleIntoWorld",value:function(t){this.obstaclesContainer.addChild(t),St.Composite.add(this.matterWorld,t.composite),St.Composite.translate(t.composite,t.position,!0)}},{key:"addMoneyIntoWorld",value:function(t){this.moneyContainer.addChild(t),St.Composite.add(this.matterWorld,t.composite),St.Composite.translate(t.composite,t.position,!0)}}],[{key:"isLevel",value:function(t){return null==t?void 0:t.isLevel}},{key:"getGrandparentLevel",value:function(t){for(var r=t.parent;r;){if(e.isLevel(r))return r;r=r.parent}throw new Error("Level not found in the parent chain")}}]);var r,i}(n.W2),Ef=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:_f((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||_f(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==rf(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:bf(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return wf(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(Tf,[],[[xt.LO,1,"isChestPicked"],[xt.LO,1,"_state"]],0,void 0,n.W2).e,Of=of(Ef,4);Qh=Of[0],Jh=Of[1],$h=Of[2],tf=Of[3];var Af=r(4488);function kf(t){return kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(t)}function Pf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cf(n.key),n)}}function Cf(t){var e=function(t,e){if("object"!=kf(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=kf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kf(e)?e:e+""}function Mf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function If(t,e,r){return e=Bf(e),function(t,e){if(e&&("object"==kf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,jf()?Reflect.construct(e,r||[],Bf(t).constructor):e.apply(t,r))}function jf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jf=function(){return!!t})()}function Bf(t){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bf(t)}function Lf(t,e){return Lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lf(t,e)}var Rf=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.color,i=void 0===n?"#000000":n,o=r.bakedAlpha,a=void 0===o?.75:o;return Mf(this,e),(t=If(this,e)).beginFill((0,Af.Z)(i).rgbNumber(),a).drawRect(-.5,-.5,1,1).endFill(),t.interactive=!0,t.on("pointermove",(function(t){return t.stopPropagation()})),t.width=1e4,t.height=1e4,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lf(t,e)}(e,t),function(t,e,r){return e&&Pf(t.prototype,e),r&&Pf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e)}(n.TC);function qf(t){return qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(t)}function Nf(){Nf=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==qf(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(qf(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Ff(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Vf(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Ff(o,n,i,a,s,"next",t)}function s(t){Ff(o,n,i,a,s,"throw",t)}a(void 0)}))}}function Df(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gf(n.key),n)}}function Gf(t){var e=function(t,e){if("object"!=qf(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=qf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qf(e)?e:e+""}function zf(t,e,r){return e=Yf(e),function(t,e){if(e&&("object"==qf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Uf()?Reflect.construct(e,r||[],Yf(t).constructor):e.apply(t,r))}function Uf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Uf=function(){return!!t})()}function Yf(t){return Yf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yf(t)}function Xf(t,e){return Xf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xf(t,e)}var Wf=function(t){function e(t){var r,i=t.coins;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=zf(this,e)).root=r.addChild(new n.W2),r.overlay=r.root.addChild(new Rf),r.scenePromise=h.Z.createScene("money-flying-popup"),r.scenePromise.then((function(t){if(!r._destroyed){r.scene=t,r.root.addChild(t);var e=(0,rt.q0)(t,"btn-claim");(0,rt.q0)(e,"Text").text=i.toString(),e.on("button:click",(function(){r.emit("modal","claim")})),e.interactive=!0,r.handleResize()}})),r.disposeBag.push(iw.observer.onOff("tick",r.tick,r)),r.disposeBag.push(A.Z.onOff("resize",r.handleResize,r)),r.handleResize(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xf(t,e)}(e,t),function(t,e,r){return e&&Df(t.prototype,e),r&&Df(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"handleShow",value:(i=Vf(Nf().mark((function t(){var e=this;return Nf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([Vf(Nf().mark((function t(){return Nf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.overlay.alpha=0,t.next=3,new a.kX(e.overlay).to({alpha:1},50).start();case 3:case"end":return t.stop()}}),t)})))(),Vf(Nf().mark((function t(){var r,n;return Nf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.scenePromise;case 2:return(r=t.sent).alpha=0,t.next=6,new a.kX(r).to({alpha:1},100).start();case 6:return n=r.createAnimation("show",!1,!1),t.next=9,n.start();case 9:case"end":return t.stop()}}),t)})))()]);case 2:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"handleRemove",value:(r=Vf(Nf().mark((function t(){var e;return Nf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.scene.createAnimation("hide",!1,!1),t.next=3,e.start();case 3:return t.next=5,new a.kX(this).to({alpha:0},500).start();case 5:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"handleResize",value:function(){this.scene&&h.Z.resize(this.scene)}},{key:"waitModalResult",value:function(){var t=this;return new Promise((function(e){t.once("modal",e)}))}},{key:"tick",value:function(t){}}]);var r,i}(n.W2);function Hf(t){return Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(t)}function Zf(){Zf=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Hf(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Hf(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Kf(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Qf(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Kf(o,n,i,a,s,"next",t)}function s(t){Kf(o,n,i,a,s,"throw",t)}a(void 0)}))}}function Jf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$f(n.key),n)}}function $f(t){var e=function(t,e){if("object"!=Hf(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Hf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hf(e)?e:e+""}function tp(t,e,r){return e=rp(e),function(t,e){if(e&&("object"==Hf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ep()?Reflect.construct(e,r||[],rp(t).constructor):e.apply(t,r))}function ep(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ep=function(){return!!t})()}function rp(t){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rp(t)}function np(t,e){return np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},np(t,e)}var ip=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=tp(this,e)).root=t.addChild(new n.W2),t.overlay=t.root.addChild(new Rf({bakedAlpha:.8,color:"#03001E"})),t.scenePromise=h.Z.createScene("bats-purchase"),t.scenePromise.then((function(e){t._destroyed||(t.scene=e,t.root.addChild(e),t.popup=(0,rt.q0)(e,"batsPurchasePopup"),t.disposeBag.push(t.popup.onOff("close",(function(){t.emit("modal","close")}))),t.handleResize())})),t.disposeBag.push(A.Z.onOff("resize",t.handleResize,t)),t.handleResize(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&np(t,e)}(e,t),function(t,e,r){return e&&Jf(t.prototype,e),r&&Jf(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"handleShow",value:(i=Qf(Zf().mark((function t(){var e=this;return Zf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([Qf(Zf().mark((function t(){return Zf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.overlay.alpha=0,t.next=3,new a.kX(e.overlay).to({alpha:1},200).start();case 3:case"end":return t.stop()}}),t)})))(),Qf(Zf().mark((function t(){var r;return Zf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.scenePromise;case 2:return(r=t.sent).alpha=0,e.popup.scale.set(0),t.next=7,Promise.all([new a.kX(e.popup.scale).to({x:1,y:1},500).easing(a.oY.Back.Out).start(),new a.kX(r).to({alpha:1},200).start()]);case 7:case"end":return t.stop()}}),t)})))()]);case 2:iw.meta.bats.markAllBuyablesShown();case 3:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"handleRemove",value:(r=Qf(Zf().mark((function t(){var e;return Zf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.scenePromise;case 2:if(e=t.sent,!this._destroyed){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,Promise.all([new a.kX(this.popup.scale).to({x:0,y:0},500).easing(a.oY.Back.In).start(),new a.kX(e).delay(300).to({alpha:0},200).start()]);case 7:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"handleResize",value:function(){this.scene&&h.Z.resize(this.scene)}},{key:"waitModalResult",value:function(){var t=this;return new Promise((function(e){t.once("modal",e)}))}}]);var r,i}(n.W2);function op(t){return op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(t)}function ap(){ap=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==op(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(op(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function sp(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function up(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){sp(o,n,i,a,s,"next",t)}function s(t){sp(o,n,i,a,s,"throw",t)}a(void 0)}))}}function lp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cp(n.key),n)}}function cp(t){var e=function(t,e){if("object"!=op(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=op(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==op(e)?e:e+""}function hp(t,e,r){return e=pp(e),function(t,e){if(e&&("object"==op(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,fp()?Reflect.construct(e,r||[],pp(t).constructor):e.apply(t,r))}function fp(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fp=function(){return!!t})()}function pp(t){return pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pp(t)}function dp(t,e){return dp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dp(t,e)}var mp=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=hp(this,e)).root=t.addChild(new n.W2),t.visible=!1,t.sprite=t.root.addChild(new n.jy),t.sprite.anchor.set(.5,0),t.sprite.scale.set(.65),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dp(t,e)}(e,t),function(t,e,r){return e&&lp(t.prototype,e),r&&lp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"showAnnouncer",value:function(t){var e,r=this;switch(t){case"miss":default:break;case"normal":e=Sr(["cool","ouch","not_bad"]);break;case"amazing":e="amazing_kick"}e&&(this.sprite.texture=(0,c.Fg)("announcer/announcer_".concat(e))),this.handleShow(),new C.Z(600).then((function(){r.handleHide()}))}},{key:"handleShow",value:(i=up(ap().mark((function t(){var e=this;return ap().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([up(ap().mark((function t(){return ap().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.visible=!0,e.root.scale.set(0),t.next=4,new a.kX(e.root.scale).to({x:1,y:1},300).easing(a.oY.Back.Out).start();case 4:case"end":return t.stop()}}),t)})))()]);case 2:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"handleHide",value:(r=up(ap().mark((function t(){return ap().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new a.kX(this.root.scale).to({x:0,y:0},200).easing(a.oY.Back.In).start();case 2:this.visible=!1;case 3:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]);var r,i}(n.W2);function yp(t){return yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(t)}function gp(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return vp(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vp(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function vp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function bp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_p(n.key),n)}}function _p(t){var e=function(t,e){if("object"!=yp(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yp(e)?e:e+""}function wp(t,e,r){return e=Sp(e),function(t,e){if(e&&("object"==yp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xp()?Reflect.construct(e,r||[],Sp(t).constructor):e.apply(t,r))}function xp(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xp=function(){return!!t})()}function Sp(t){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sp(t)}function Tp(t,e){return Tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tp(t,e)}var Ep=function(t){function e(t){var r,n=t.tutorialKey;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=wp(this,e,[{elk:"tutorial_elk",snowMan:"tutorial_snowman",mushroom:"tutorial_mushroom",killerWhale:"tutorial_killer_whale",archer:"tutorial_archer",walrusSeal:"tutorial_walrus"}[n]])).tutorialKey=n,r.state.setAnimation(0,"bounce",!1),r.state.timeScale=0,r.animationsToPlay=["elk","archer"].includes(r.tutorialKey)?["bounce","game_over"]:["bounce"],r.addListener((function(t){var e=r.animationsToPlay[r.animationsToPlay.length-1];t.animation.name===e&&(r.emit("iterated"),r.play())}),(function(){})),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tp(t,e)}(e,t),function(t,e,r){return e&&bp(t.prototype,e),r&&bp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"play",value:function(){this.state.timeScale=1,this.state.clearTrack(0),this.skeleton.setToSetupPose();var t,e=gp(this.animationsToPlay);try{for(e.s();!(t=e.n()).done;){var r=t.value;this.state.addAnimation(0,r,!1,0)}}catch(t){e.e(t)}finally{e.f()}this.state.apply(this.skeleton)}}],[{key:"createBuritoBisonHintSpine",value:function(t){return new e({tutorialKey:t.tutorialKey})}}])}(Er.Z);function Op(t){return Op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(t)}function Ap(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kp(n.key),n)}}function kp(t){var e=function(t,e){if("object"!=Op(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Op(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Op(e)?e:e+""}function Pp(t,e,r){return e=Mp(e),function(t,e){if(e&&("object"==Op(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Cp()?Reflect.construct(e,r||[],Mp(t).constructor):e.apply(t,r))}function Cp(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Cp=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mp(t)}function Ip(t,e){return Ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ip(t,e)}var jp=function(t){function e(t,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Pp(this,e,[t,null!=r?r:iw.unscaledTweenGroup])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ip(t,e)}(e,t),function(t,e,r){return e&&Ap(t.prototype,e),r&&Ap(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e)}(a.kX);function Bp(t){return Bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(t)}function Lp(){Lp=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Bp(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Bp(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Rp(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function qp(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Rp(o,n,i,a,s,"next",t)}function s(t){Rp(o,n,i,a,s,"throw",t)}a(void 0)}))}}function Np(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Fp(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fp(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Fp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Vp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dp(n.key),n)}}function Dp(t){var e=function(t,e){if("object"!=Bp(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Bp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bp(e)?e:e+""}function Gp(t,e,r){return e=Up(e),function(t,e){if(e&&("object"==Bp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,zp()?Reflect.construct(e,r||[],Up(t).constructor):e.apply(t,r))}function zp(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zp=function(){return!!t})()}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Up(t)}function Yp(t,e){return Yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yp(t,e)}var Xp=function(t){function e(t){var r,i=t.tutorialKey;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Gp(this,e)).root=r.addChild(new n.W2),r.overlay=r.root.addChild(new Rf),r.spine=Ep.createBuritoBisonHintSpine({tutorialKey:i}),r.spine.useUnscaledTime=!0,r.scenePromise=h.Z.createScene("burito-bison-hint-popup").then((function(t){if(!r._destroyed){var e,n=Np((0,rt.q)(t,"__bounding-box"));try{for(n.s();!(e=n.n()).done;){e.value.alpha=0}}catch(t){n.e(t)}finally{n.f()}var i=(0,rt.q0)(t,"ok-button"),o=(0,rt.q0)(t,"main-container");return o.mask=(0,rt.q0)(o,"mask"),i.on("button:click",(function(){r.emit("modal","close")})),i.visible=!1,o.addChild(r.spine),o.visible=!1,r.root.addChild(t),r.scene=t,r.handleResize(),t}})),r.disposeBag.push(iw.observer.onOff("tick",r.tick,r)),r.disposeBag.push(A.Z.onOff("resize",r.handleResize,r)),r.handleResize(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yp(t,e)}(e,t),function(t,e,r){return e&&Vp(t.prototype,e),r&&Vp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"handleShow",value:(o=qp(Lp().mark((function t(){var e=this;return Lp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([qp(Lp().mark((function t(){return Lp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.overlay.alpha=0,t.next=3,new jp(e.overlay).to({alpha:1},50).start();case 3:case"end":return t.stop()}}),t)})))()]);case 2:this.play();case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"play",value:(i=qp(Lp().mark((function t(){var e,r,n,i=this;return Lp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.scenePromise;case 2:return e=t.sent,(r=(0,rt.q0)(e,"main-container")).visible=!0,r.scale.set(0),t.next=8,new jp(r.scale).to({x:1,y:1},300).easing(a.oY.Back.Out).start();case 8:n=function(){var t=qp(Lp().mark((function t(){var r;return Lp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.spine.off("iterated",n),(r=(0,rt.q0)(e,"ok-button")).visible=!0,r.scale.set(0,0),t.next=6,new jp(r.scale).to({x:1,y:1},300).easing(a.oY.Back.Out).start();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),this.spine.on("iterated",n),this.spine.play();case 11:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"handleRemove",value:(r=qp(Lp().mark((function t(){var e,r,n;return Lp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.scenePromise;case 2:return e=t.sent,r=(0,rt.q0)(e,"main-container"),n=(0,rt.q0)(e,"ok-button"),t.next=7,Promise.all([new jp(r.scale).to({x:0,y:0},300).easing(a.oY.Back.Out).start(),new jp(n.scale).to({x:0,y:0},300).easing(a.oY.Back.Out).start(),new jp(this).delay(200).to({alpha:0},50).start()]);case 7:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"handleResize",value:function(){if(this.scene){var t,e=Np((0,rt.q)(this.scene,"no-resize"));try{for(e.s();!(t=e.n()).done;){t.value.visible=!1}}catch(t){e.e(t)}finally{e.f()}h.Z.resize(this.scene);var r,n=Np((0,rt.q)(this.scene,"no-resize"));try{for(n.s();!(r=n.n()).done;){r.value.visible=!0}}catch(t){n.e(t)}finally{n.f()}}}},{key:"waitModalResult",value:function(){var t=this;return new Promise((function(e){t.once("modal",e)}))}},{key:"tick",value:function(t){}}]);var r,i,o}(n.W2);function Wp(t){return Wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(t)}function Hp(){Hp=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Wp(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Wp(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Zp(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Kp(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Zp(o,n,i,a,s,"next",t)}function s(t){Zp(o,n,i,a,s,"throw",t)}a(void 0)}))}}function Qp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jp(n.key),n)}}function Jp(t){var e=function(t,e){if("object"!=Wp(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Wp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wp(e)?e:e+""}function $p(t,e,r){return e=ed(e),function(t,e){if(e&&("object"==Wp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,td()?Reflect.construct(e,r||[],ed(t).constructor):e.apply(t,r))}function td(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(td=function(){return!!t})()}function ed(t){return ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ed(t)}function rd(t,e){return rd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rd(t,e)}var nd=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=$p(this,e)).root=t.addChild(new n.W2),t.showContainer=t.root.addChild(new n.W2),t.pulsateContainer=t.showContainer.addChild(new n.W2),t.text=t.pulsateContainer.addChild(new n.xv("??",{fontFamily:"PTSans-Bold",fontSize:48,fill:"#ffffff",stroke:"#4F0D78",strokeThickness:12,lineJoin:"round"})),t.text.anchor.set(.5,.5),t.disposeBag.push(new jp(t.pulsateContainer.scale).to({x:1.1,y:1.1},1e3).repeat(1/0).yoyo(!0).easing(a.oY.Sinusoidal.InOut).start()),t.showContainer.scale.set(0,0),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rd(t,e)}(e,t),function(t,e,r){return e&&Qp(t.prototype,e),r&&Qp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"playShow",value:(i=Kp(Hp().mark((function t(){return Hp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.disposeBag.pushPipe(new jp(this.showContainer.scale).to({x:1,y:1},200).easing(a.oY.Back.Out).start());case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"playHide",value:(r=Kp(Hp().mark((function t(){return Hp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.disposeBag.pushPipe(new jp(this.showContainer.scale).to({x:0,y:0},200).easing(a.oY.Back.In).start());case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]);var r,i}(n.W2);function id(t){return id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(t)}function od(){od=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==id(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(id(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function ad(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function sd(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){ad(o,n,i,a,s,"next",t)}function s(t){ad(o,n,i,a,s,"throw",t)}a(void 0)}))}}function ud(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ld(n.key),n)}}function ld(t){var e=function(t,e){if("object"!=id(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=id(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==id(e)?e:e+""}function cd(t,e,r){return e=fd(e),function(t,e){if(e&&("object"==id(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,hd()?Reflect.construct(e,r||[],fd(t).constructor):e.apply(t,r))}function hd(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(hd=function(){return!!t})()}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fd(t)}function pd(t,e){return pd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pd(t,e)}var dd=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=cd(this,e)).root=t.addChild(new n.W2),t.showContainer=t.root.addChild(new n.W2),t.hand=t.showContainer.addChild(Er.Z.create("tutorial_swipe")),t.hand.useUnscaledTime=!0,t.hand.state.setAnimation(0,"tap",!0),t.showContainer.scale.set(0,0),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pd(t,e)}(e,t),function(t,e,r){return e&&ud(t.prototype,e),r&&ud(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"playShow",value:(i=sd(od().mark((function t(){return od().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.disposeBag.pushPipe(new jp(this.showContainer.scale).to({x:1,y:1},200).easing(a.oY.Back.Out).start());case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"playHide",value:(r=sd(od().mark((function t(){return od().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.disposeBag.pushPipe(new jp(this.showContainer.scale).to({x:0,y:0},200).easing(a.oY.Back.In).start());case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]);var r,i}(n.W2);function md(t){return md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(t)}function yd(){yd=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==md(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(md(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function gd(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=md(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=md(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==md(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vd(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}var bd=function(t){var e,r=t.window,n=t.tutorialKey,i=new Is.$n,o=function(){return i.dispose()};return Object.assign((e=yd().mark((function t(){var e,a,s,u,l,c;return yd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=r.root.addChild(new Rf)).alpha=0,i.push(e),a="runBuritoBisonObstacleHint-"+Math.random(),iw.timeScalers[a]=1,i.push((function(){delete iw.timeScalers[a]})),s=new jp(iw.timeScalers,iw.unscaledTweenGroup).to(gd({},a,0),50).start(),i.push(s),t.next=10,s;case 10:return t.next=12,wt(new Xp({tutorialKey:n}));case 12:return(u=i.pushPipe(r.root.addChild(new nd))).text.text="TAP TO BUMP",(l=i.pushPipe(r.root.addChild(new dd))).hand.state.setAnimation(0,"tap",!0),i.push(iw.observer.onOff("tick",(function(){var t=r.toLocal({x:0,y:0},r.level.flyingCharacter);u.position.set(t.x,t.y+100),l.position.set(u.x,u.y+100)}))),Promise.all([u.playShow(),l.playShow()]),r.level.isAbilityDisabledByTutorial=!1,e.parent.removeChild(e),t.next=22,new Promise((function(t){i.push(r.level.onceOff("beforeHandleTap",t))}));case 22:return c=i.pushPipe(new jp(iw.timeScalers,iw.unscaledTweenGroup).to(gd({},a,1),200).start()),t.next=25,Promise.all([u.playHide(),l.playHide(),c]);case 25:o();case 26:case"end":return t.stop()}}),t)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(t){vd(o,n,i,a,s,"next",t)}function s(t){vd(o,n,i,a,s,"throw",t)}a(void 0)}))})(),{disposeBag:i,dispose:o})},_d=function(t){var e=t.window,r=new Is.$n,n=!1,i=function(t){var r=e.level.flyingCharacter,n=t.buritoBisonTutorialData;if(!n)return!1;if(iw.meta.tutorial.burityBisonObstacles[n.type].isFinished.value)return!1;var i=n.body;return!(r.x<i.position.x)&&(!(r.y<i.position.y+500)&&(!(r.y>i.position.y+1800)&&r.canHitBodyWithBuritoBison(i)))};return r.push(iw.observer.onOff("tick",(function(){if(!n){var t=e.level.flyingCharacter;if(t.isAbilityAvailable&&("flying"===t.state||"spaceLaunch"===t.state&&!iw.meta.tutorial.isBuritoBisonAbilityTutorialFinished.value)){var o=e.level.obstacleManager.obstacles.find(i);if(o){var a=o.buritoBisonTutorialData;(0,rt.hu)(a),n=!0;var s=bd({window:e,tutorialKey:a.type});s.disposeBag.push((0,rt.v_)(r,s)),s.then((function(){n=!1,iw.meta.tutorial.burityBisonObstacles[a.type].isFinished.value=!0,iw.meta.tutorial.isBuritoBisonAbilityTutorialFinished.value=!0}))}}}}))),{disposeBag:r,dispose:function(){return r.dispose()}}};function wd(t){return wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(t)}function xd(){xd=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==wd(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(wd(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Sd(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}var Td=function(t){var e,r=t.window,n=new Is.$n,i=function(){return n.dispose()},o=(e=xd().mark((function t(){var e,i,o;return xd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Promise((function(t){n.push((0,xt.U5)((function(){return r.level.state}),(function(e){"waitingKick"===e&&t(void 0)})))})),(i=n.pushPipe(r.root.addChild(new nd))).text.text="TAP TO START",i.visible=!1,(o=n.pushPipe(r.root.addChild(new dd))).hand.state.setAnimation(0,"tap",!0),o.visible=!1,n.push(iw.observer.onOff("tick",(function(){if("waitingJump"===r.level.state){i.visible=!0,o.visible=!0;var t=r.toLocal({x:0,y:0},r.level.flyingCharacter);i.position.set(Math.min(t.x,A.Z.right-250),t.y+100),o.position.set(i.x,i.y+100)}}))),Promise.all([i.playShow(),o.playShow()]),t.next=11,e;case 11:return t.next=13,Promise.all([i.playHide(),o.playHide()]);case 13:case"end":return t.stop()}}),t)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(t){Sd(o,n,i,a,s,"next",t)}function s(t){Sd(o,n,i,a,s,"throw",t)}a(void 0)}))})();return o.then((function(){i()})),Object.assign(o,{disposeBag:n,dispose:i})};function Ed(t){return Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(t)}function Od(){Od=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Ed(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Ed(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Ad(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=Ed(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ed(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ed(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kd(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}var Pd=function(t){var e,r=t.window,n=t.timeToBatMs,i=new Is.$n,o=function(){return i.dispose()},a=(e=Od().mark((function t(){var e,o,a,s,u,l,c;return Od().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="runTapToBatHint-"+Math.random(),iw.timeScalers[e]=1,i.push((function(){delete iw.timeScalers[e]})),o=new Promise((function(t){i.push((0,xt.U5)((function(){return r.level.state}),(function(e){"waitingKick"===e&&t(void 0)})))})),t.next=6,o;case 6:return(a=r.root.addChild(new Rf)).alpha=0,i.push(a),s=new jp(iw.timeScalers,iw.unscaledTweenGroup).delay(n).to(Ad({},e,0),400).start(),i.push(s),t.next=13,s;case 13:return(u=i.pushPipe(r.root.addChild(new nd))).text.text="TAP TO BAT",(l=i.pushPipe(r.root.addChild(new dd))).hand.state.setAnimation(0,"tap",!0),i.push(iw.observer.onOff("tick",(function(){var t=r.toLocal({x:0,y:0},r.level.beatingCharacter);u.position.set(Math.min(t.x-50,A.Z.right-250),t.y-30),l.position.set(u.x,u.y+70)}))),Promise.all([u.playShow(),l.playShow()]),a.parent.removeChild(a),t.next=22,new Promise((function(t){i.push(r.level.onceOff("beforeHandleTap",t))}));case 22:return c=i.pushPipe(new jp(iw.timeScalers,iw.unscaledTweenGroup).to(Ad({},e,1),200).start()),t.next=25,Promise.all([u.playHide(),l.playHide(),c]);case 25:case"end":return t.stop()}}),t)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(t){kd(o,n,i,a,s,"next",t)}function s(t){kd(o,n,i,a,s,"throw",t)}a(void 0)}))})();return a.then((function(){o()})),Object.assign(a,{disposeBag:i,dispose:o})};function Cd(t){return Cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(t)}function Md(){Md=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Cd(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Cd(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Id(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}var jd=function(t){var e,r=t.window,n=new Is.$n,i=function(){return n.dispose()},o=(e=Md().mark((function t(){var e,i,o,a,s,u,l;return Md().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.scenePromise;case 2:return e=t.sent,i=(0,rt.q0)(e,"upgrades-menu"),o=(0,rt.q0)(i,"tab4"),a=(0,rt.q0)(o,"upgradeButton"),s=iw.meta.upgrades.beatForce.price,iw.meta.coins.value<s&&(iw.meta.coins.value=s+18),u=new Rf,n.push(u),o.parent.addChildAt(u,o.parent.getChildIndex(o)),(l=n.pushPipe(r.root.addChild(new dd))).hand.state.setAnimation(0,"tap",!0),n.push(iw.observer.onOff("tick",(function(){var t=r.toLocal({x:100,y:-10},a);l.position.set(t.x,t.y),l.rotation=-1}))),l.playShow(),t.next=17,new Promise((function(t){n.push(a.onceOff("button:click",t))}));case 17:return t.next=19,l.playHide();case 19:case"end":return t.stop()}}),t)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(t){Id(o,n,i,a,s,"next",t)}function s(t){Id(o,n,i,a,s,"throw",t)}a(void 0)}))})();return o.then((function(){i()})),Object.assign(o,{disposeBag:n,dispose:i})};function Bd(t){return Bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(t)}function Ld(){Ld=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Bd(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Bd(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Rd(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function qd(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Rd(o,n,i,a,s,"next",t)}function s(t){Rd(o,n,i,a,s,"throw",t)}a(void 0)}))}}function Nd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fd(n.key),n)}}function Fd(t){var e=function(t,e){if("object"!=Bd(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Bd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bd(e)?e:e+""}function Vd(t,e,r){return e=Gd(e),function(t,e){if(e&&("object"==Bd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Dd()?Reflect.construct(e,r||[],Gd(t).constructor):e.apply(t,r))}function Dd(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Dd=function(){return!!t})()}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gd(t)}function zd(t,e){return zd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zd(t,e)}var Ud=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Vd(this,e)).root=t.addChild(new n.W2);var r=(0,c.Fg)("paw");return t.paw=t.root.addChild(new n.jy(r)),t.paw.tint=32989,t.paw.anchor.set(.5),t.paw.scale.set(4),t.outerOverlay=t.root.addChild((new n.TC).beginFill(32989,1).drawRect(-50,-50,49.5,100).drawRect(.5,-50,49.5,100).drawRect(-.5,-50,1,49.5).drawRect(-.5,.5,1,49.5)),t.outerOverlay.scale.set(.99*t.paw.width,.99*t.paw.height),t.pawOverlay=t.root.addChild((new n.TC).beginFill(32989,1).drawRect(-.5,-.5,1,1)),t.pawOverlay.alpha=0,t.pawOverlay.scale.set(1.01*t.paw.width,1.01*t.paw.height),t.root.alpha=0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zd(t,e)}(e,t),function(t,e,r){return e&&Nd(t.prototype,e),r&&Nd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"playShow",value:(i=qd(Ld().mark((function t(){var e;return Ld().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new Is.$n).push((0,rt.v_)(this.disposeBag,e)),t.next=4,Promise.all([e.pushPipe(new a.kX(this.root.scale).to({x:.01,y:.01},250).start()),e.pushPipe(new a.kX(this.root).to({alpha:1},50).start()),e.pushPipe(new a.kX(this.pawOverlay).delay(200).to({alpha:1},50).start())]);case 4:e.dispose();case 5:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"playHide",value:(r=qd(Ld().mark((function t(){var e;return Ld().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new Is.$n).push((0,rt.v_)(this.disposeBag,e)),t.next=4,Promise.all([e.pushPipe(new a.kX(this.root.scale).to({x:1,y:1},250).start()),e.pushPipe(new a.kX(this.root).delay(200).to({alpha:0},50).start()),e.pushPipe(new a.kX(this.pawOverlay).to({alpha:0},50).start())]);case 4:e.dispose();case 5:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]);var r,i}(n.W2),Yd=r(4762);var Xd=JSON.parse('{"commonRewards":[{"type":"coinsSmall","startWeight":15,"finishWeight":15,"startRewardMultiplier":1.5,"finishRewardMultiplier":1,"fixedReward":0,"sprite":"small_coins"},{"type":"coinsMedium","startWeight":45,"finishWeight":45,"startRewardMultiplier":2,"finishRewardMultiplier":1.5,"fixedReward":0,"sprite":"medium_coins"},{"type":"coinsLarge","startWeight":32,"finishWeight":32,"startRewardMultiplier":3,"finishRewardMultiplier":2,"fixedReward":0,"sprite":"big_coins"},{"type":"upgrade","startWeight":25,"finishWeight":25,"startRewardMultiplier":0,"finishRewardMultiplier":0,"fixedReward":0,"sprite":"big_coins"},{"type":"coinsJackpot","startWeight":3,"finishWeight":2,"startRewardMultiplier":15,"finishRewardMultiplier":7,"fixedReward":0,"sprite":"super_big_coins"},{"type":"gemsMedium","startWeight":20,"finishWeight":2,"startRewardMultiplier":20,"finishRewardMultiplier":7,"fixedReward":10,"sprite":"medium_gems"},{"type":"gemsJackpot","startWeight":10,"finishWeight":2,"startRewardMultiplier":25,"finishRewardMultiplier":100000,"fixedReward":20,"sprite":"super_big_gems"}],"fakeRewards":[{"type":"emoji","startWeight":50,"finishWeight":50,"startRewardMultiplier":0,"finishRewardMultiplier":0,"fixedReward":0,"sprite":"emoji"},{"type":"penguin","startWeight":50,"finishWeight":50,"startRewardMultiplier":0,"finishRewardMultiplier":0,"fixedReward":0,"sprite":"penguin"}]}');function Wd(t){return Wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(t)}function Hd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zd(n.key),n)}}function Zd(t){var e=function(t,e){if("object"!=Wd(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Wd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wd(e)?e:e+""}var Kd=function(){return function(t,e,r){return e&&Hd(t.prototype,e),r&&Hd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),[{key:"calculateRewardMultiplier",value:function(t){for(var e=0;e<Xd.commonRewards.length;e++)if(Xd.commonRewards[e].type==t)return this.getRewardMultiplier(Xd.commonRewards[e]);(0,rt.hu)(!1,"RouletteModel: No reward multiplier found for type ".concat(t))}},{key:"calculateReward",value:function(t){return 100*Math.ceil(this.calculateRewardMultiplier(t)*iw.meta.upgrades.averageUpgradesPrice/100)}},{key:"getRewardMultiplier",value:function(t){var e=t.startRewardMultiplier,r=t.finishRewardMultiplier,n=iw.meta.upgrades.summedUpgradesLevelProgress01;return(0,Et.t7)(e,r,n)}},{key:"generateCommonReward",value:function(){var t=iw.meta.upgrades.summedUpgradesLevelProgress01,e=iw.meta.upgrades.isAllUpgradesCompleted;return Tr(Xd.commonRewards.filter((function(t){return"upgrade"!==t.type||!e})),(function(e){return(0,Et.t7)(e.startWeight,e.finishWeight,t)}))}},{key:"generateTemplateReward",value:function(){var t=iw.meta.upgrades.isAllUpgradesCompleted;return Sr(Xd.commonRewards.filter((function(e){return"upgrade"!==e.type||!t})))}},{key:"generateFakeReward",value:function(){var t=iw.meta.upgrades.summedUpgradesLevelProgress01;return Tr(Xd.fakeRewards,(function(e){return(0,Et.t7)(e.startWeight,e.finishWeight,t)}))}},{key:"claimReward",value:function(t){"coinsSmall"===t.rewardType||"coinsMedium"===t.rewardType||"coinsLarge"===t.rewardType||"coinsJackpot"===t.rewardType?((0,rt.hu)(void 0!==t.coinsReward),iw.meta.coins.value+=t.coinsReward):"gemsMedium"===t.rewardType||"gemsJackpot"===t.rewardType?((0,rt.hu)(void 0!==t.gemsReward),iw.meta.gems.value+=t.gemsReward):"upgrade"===t.rewardType&&((0,rt.hu)(t.upgrade),t.upgrade.freeUpgradeCount.value+=1)}},{key:"createSlots",value:function(){for(var t=[],e=Sr([1,2,3,4,5]),r=Sr([-2,-1]),n=-40;n<40;n++){var i=void 0;i=0===n?this.generateCommonReward():n===e||n===r?this.generateFakeReward():this.generateTemplateReward(),t.push({index:n,config:i})}return t}}])}(),Qd=r(4477);function Jd(t){return Jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(t)}function $d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tm(n.key),n)}}function tm(t){var e=function(t,e){if("object"!=Jd(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Jd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jd(e)?e:e+""}function em(t,e,r){return e=nm(e),function(t,e){if(e&&("object"==Jd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,rm()?Reflect.construct(e,r||[],nm(t).constructor):e.apply(t,r))}function rm(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(rm=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nm(t)}function im(t,e){return im=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},im(t,e)}var om=function(t){function e(t){var r,i=t.rewardConfig,o=t.isWinnerSlot,a=t.rouletteModel;switch(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=em(this,e)).rewardConfig=i,r.rewardType=i.type,r.isWinnerSlot=o,r.root=r.addChild(new n.W2),r.rewardText=r.root.addChild(new Qd.Z("??",{fontFamily:"Montserrat-Bold",fontSize:48,fill:"#ffffff",case:"upper"})),r.rewardText.anchor.set(.5),r.rewardText.position.y=175,r.rewardType){case"coinsSmall":case"coinsMedium":case"coinsLarge":case"coinsJackpot":r.coinsReward=a.calculateReward(r.rewardType),r.rewardText.text="X".concat(r.coinsReward),r.view=r.root.addChild(Dr.Z.create("roulette/"+r.rewardConfig.sprite)),r.view.position.y=-50,r.view.scale.set(.8),r.rewardType;break;case"gemsMedium":case"gemsJackpot":r.gemsReward=i.fixedReward,r.view=r.root.addChild(Dr.Z.create("roulette/"+r.rewardConfig.sprite)),r.rewardText.text="X".concat(r.gemsReward),r.view.position.y=-50,r.view.scale.set(.8);break;case"upgrade":var s=iw.meta.upgrades.getRandomUpgradeReward();r.upgrade=s,(0,rt.hu)(s,"RouletteSlot: No upgrade found for roulette slot");var u={"Max Speed":"roulette/icon_max_speed_rulette",Rebound:"roulette/icon_rebound_rulette","Beat Force":"roulette/icon_strength_rulette",Power:"roulette/icon_ability_rulette"}[s.title];r.view=r.root.addChild(Dr.Z.create(u)),r.rewardText.text="".concat(s.title).toUpperCase(),r.view.position.y=-50,r.view.scale.set(.8);break;case"emoji":r.rewardText.text="Fail",r.view=r.root.addChild(Er.Z.create("poop")),r.view.position.y=75,r.view.setAnimation("idle",!0),r.view.scale.set(.8);break;case"penguin":r.rewardText.text="New Penguin",r.view=r.root.addChild(Er.Z.create("penguin_perks")),r.view.setAnimation("idle_roulette",!0),r.view.position.y=100,r.view.scale.set(.8);break;default:(0,rt.hu)(!1,"RouletteSlot: Unknown reward type ".concat(r.rewardType))}return r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&im(t,e)}(e,t),function(t,e,r){return e&&$d(t.prototype,e),r&&$d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"playPrepareSlotForFinish",value:function(){this.isWinnerSlot?new a.kX(this.scale).to({x:1.5,y:1.5},200).easing(a.oY.Back.Out).delay(500).start():new a.kX(this.scale).to({x:0,y:0},200).easing(a.oY.Back.In).start()}}])}(n.W2);function am(t){return am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(t)}function sm(){sm=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==am(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(am(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function um(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return lm(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lm(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function lm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function cm(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function hm(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){cm(o,n,i,a,s,"next",t)}function s(t){cm(o,n,i,a,s,"throw",t)}a(void 0)}))}}function fm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pm(n.key),n)}}function pm(t){var e=function(t,e){if("object"!=am(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=am(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==am(e)?e:e+""}function dm(t,e,r){return e=ym(e),function(t,e){if(e&&("object"==am(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,mm()?Reflect.construct(e,r||[],ym(t).constructor):e.apply(t,r))}function mm(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(mm=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ym(t)}function gm(t,e){return gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gm(t,e)}var vm,bm,_m=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=dm(this,e)).model=new Kd,t.root=t.addChild(new n.W2),t.overlay=t.root.addChild(new Rf),t.scenePromise=h.Z.createScene("roulette"),t.scenePromise.then((function(e){if(!t._destroyed){t.scene=e,t.root.addChild(e),t.labelText=(0,rt.q0)(e,"reward-label"),t.itemsContainer=(0,rt.q0)(e,"items");t.slots=t.model.createSlots().map((function(e){var r=e.config,n=e.index,i=new om({rewardConfig:r,isWinnerSlot:0===n,rouletteModel:t.model});return i.position.x=600*n,t.itemsContainer.addChild(i),i})),t.winnerSlot=t.slots.find((function(t){return t.isWinnerSlot}));var r=e.createAnimation("startRoll",!1,!0);k.Z.playSingle("roulette/rolls_appear",!1,.5),new C.Z(3e3,!1,150,!0).on("period",(function(){k.Z.replaySingle("roulette/roll_spin",!1,.5)})),r.on("finish",t.handleFinishRoll,t),t.handleResize()}})),t.disposeBag.push(A.Z.onOff("resize",t.handleResize,t)),t.handleResize(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gm(t,e)}(e,t),function(t,e,r){return e&&fm(t.prototype,e),r&&fm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"handleFinishRoll",value:(o=hm(sm().mark((function t(){var e,r,n,i=this;return sm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.scene.createAnimation("finishRoll",!1,!0),r=um(this.itemsContainer.children);try{for(r.s();!(n=r.n()).done;)n.value.playPrepareSlotForFinish()}catch(t){r.e(t)}finally{r.f()}t.t0=null===(e=this.winnerSlot)||void 0===e?void 0:e.rewardType,t.next="coinsSmall"===t.t0?7:"coinsMedium"===t.t0?11:"coinsLarge"===t.t0?15:"upgrade"===t.t0?19:"coinsJackpot"===t.t0?23:"gemsMedium"===t.t0?27:"gemsJackpot"===t.t0?31:35;break;case 7:return this.labelText.text="".concat(this.winnerSlot.coinsReward," coins received!"),k.Z.playSingle("roulette/ko_coins_1",!1,.5),h.Z.createComponent("effects/FxRouletteCoinsSmall").then((function(t){i._destroyed||i.scene.addChild(t)})),t.abrupt("break",35);case 11:return this.labelText.text="".concat(this.winnerSlot.coinsReward," coins received!"),k.Z.playSingle("roulette/ko_coins_2",!1,.5),h.Z.createComponent("effects/FxRouletteCoinsSmall").then((function(t){i._destroyed||i.scene.addChild(t)})),t.abrupt("break",35);case 15:return this.labelText.text="".concat(this.winnerSlot.coinsReward," coins received!"),k.Z.playSingle("roulette/ko_coins_3",!1,.5),h.Z.createComponent("effects/FxRouletteCoinsSmall").then((function(t){i._destroyed||i.scene.addChild(t)})),t.abrupt("break",35);case 19:return this.labelText.text="".concat(this.winnerSlot.rewardText.text," upgrade received!"),k.Z.playSingle("roulette/ko_coins_3",!1,.5),h.Z.createComponent("effects/FxRouletteUpgrade").then((function(t){i._destroyed||i.scene.addChild(t)})),t.abrupt("break",35);case 23:return this.labelText.text="".concat(this.winnerSlot.coinsReward," coins received!"),k.Z.playSingle("roulette/ko_coins_3",!1,.5),h.Z.createComponent("effects/FxRouletteCoinsSmall").then((function(t){i._destroyed||i.scene.addChild(t)})),t.abrupt("break",35);case 27:case 31:return this.labelText.text="".concat(this.winnerSlot.gemsReward," gems received!"),k.Z.playSingle("roulette/ko_coins_1",!1,.5),h.Z.createComponent("effects/FxRouletteGems").then((function(t){i._destroyed||i.scene.addChild(t)})),t.abrupt("break",35);case 35:return(0,rt.hu)(this.winnerSlot),this.model.claimReward(this.winnerSlot),t.next=39,new a.kX({t:0}).to({t:1},2500).start();case 39:this.emit("modal","close");case 40:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"handleShow",value:(i=hm(sm().mark((function t(){var e,r;return sm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new Is.$n).push((0,rt.v_)(this.disposeBag,e)),(r=e.pushPipe(this.addChild(new Ud))).position.y=-90,r.scale.set(2),this.visible=!1,t.next=8,r.playShow();case 8:return this.visible=!0,t.next=11,Promise.all([this.scenePromise,e.pushPipe(new a.kX({t:0}).to({t:1},100).start())]);case 11:return t.next=13,r.playHide();case 13:e.dispose();case 14:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"handleRemove",value:(r=hm(sm().mark((function t(){var e,r;return sm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new Is.$n).push((0,rt.v_)(this.disposeBag,e)),(r=e.pushPipe(this.addChild(new Ud))).position.y=-90,r.scale.set(2),t.next=7,r.playShow();case 7:return this.root.visible=!1,t.next=10,Promise.all([e.pushPipe(new a.kX({t:0}).to({t:1},100).start())]);case 10:return t.next=12,r.playHide();case 12:e.dispose();case 13:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"handleResize",value:function(){this.scene&&h.Z.resize(this.scene)}},{key:"waitModalResult",value:function(){var t=this;return new Promise((function(e){t.once("modal",e)}))}}]);var r,i,o}(n.W2);function wm(t){return wm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(t)}function xm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Sm(){Sm=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==wm(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(wm(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Tm(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Em(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Tm(o,n,i,a,s,"next",t)}function s(t){Tm(o,n,i,a,s,"throw",t)}a(void 0)}))}}function Om(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bm(n.key),n)}}function Am(t,e,r){return e=Cm(e),function(t,e){if(e&&("object"==wm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return km(t)}(t,Pm()?Reflect.construct(e,r||[],Cm(t).constructor):e.apply(t,r))}function km(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pm(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Pm=function(){return!!t})()}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cm(t)}function Mm(t,e){return Mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mm(t,e)}function Im(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function jm(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function Bm(t){var e=function(t,e){if("object"!=wm(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=wm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wm(e)?e:e+""}function Lm(t,e,r){"symbol"==wm(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function Rm(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?wm(t):"null"));return t}var qm=new WeakMap,Nm=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Im(km(t=Am(this,e)),qm,vm(km(t),!1)),km(t),bm(km(t)),t.overlay=t.addChild(new Rf),t.overlay.alpha=0,t.root=t.addChild(new n.W2),t.scenePromise=h.Z.createScene("daily-gift"),t.scenePromise.then((function(e){if(!t._destroyed){t.scene=e,t.root.addChild(e),t.handleResize();var r=(0,rt.q0)(e,"back-button");t.disposeBag.push((0,xt.EH)((function(){r.visible=!iw.meta.dailyGift.canClaim&&!t.playingClaim}))),r.on("button:click",(function(){t.emit("modal","close")}));var n=(0,rt.q0)(e,"claim-button");t.disposeBag.push((0,xt.EH)((function(){n.visible=iw.meta.dailyGift.canClaim}))),n.on("button:click",Em(Sm().mark((function e(){return Sm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.playingClaim){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.playClaim();case 4:t.emit("modal","close");case 5:case"end":return e.stop()}}),e)})))),t.disposeBag.push((0,xt.EH)((function(){(0,rt.q0)(e,"claimed-text").visible=!iw.meta.dailyGift.canClaim}))),t.disposeBag.push((0,xt.EH)((function(){var t=iw.meta.dailyGift.canClaim,r=iw.meta.dailyGift.currentSequence,n=r.sequence[r.index];(0,rt.q0)(e,"today-title").text="Day ".concat(r.index+1);var i=(0,rt.q0)(e,"today-icon");i.texture=(0,c.Fg)(Yd.F.VISUALS_CONFIG.icons[n][t?"current":"next"]),i.height=i.width=240;var o=Yd.F.VISUALS_CONFIG.colors[t?"current":"next"];(0,rt.q0)(e,"today-amount-container").visible="chest"!==n,(0,rt.q0)(e,"today-amount-text").text=iw.meta.dailyGift.getAmountForRewardType(n).toString();var a=(0,rt.q0)(e,"today-amount-back");a.config.color=o.secondary,a.redraw()})))}})),t.disposeBag.push(A.Z.onOff("resize",t.handleResize,t)),t.handleResize(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mm(t,e)}(e,t),function(t,e,r){return e&&Om(t.prototype,e),r&&Om(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"playingClaim",get:function(){return e=this,(t=qm).get(jm(t,e));var t,e},set:function(t){!function(t,e,r){t.set(jm(t,e),r)}(qm,this,t)}},{key:"playClaim",value:(s=Em(Sm().mark((function t(){var e,r,n;return Sm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,rt.hu)(this.scene),(0,rt.hu)(!this.playingClaim),this.playingClaim=!0,e=iw.meta.dailyGift.getRewardForIndex(iw.meta.dailyGift.indexToClaim),t.t0=e,t.next="coinsSmall"===t.t0||"coinsMedium"===t.t0||"coinsLarge"===t.t0?7:"gemsSmall"===t.t0||"gemsMedium"===t.t0||"gemsLarge"===t.t0?17:"chest"===t.t0?27:31;break;case 7:return t.next=9,h.Z.createComponent("effects/FxCoinsDailyGiftClaimed");case 9:return r=t.sent,(0,rt.q0)(this.scene,"today-effect-container").addChild(r),t.next=13,new a.kX({t:0}).to({t:1},100).start();case 13:return iw.meta.dailyGift.claim(),t.next=16,new a.kX({t:0}).to({t:1},2e3).start();case 16:return t.abrupt("break",31);case 17:return t.next=19,h.Z.createComponent("effects/FxGemsDailyGiftClaimed");case 19:return n=t.sent,(0,rt.q0)(this.scene,"today-effect-container").addChild(n),t.next=23,new a.kX({t:0}).to({t:1},100).start();case 23:return iw.meta.dailyGift.claim(),t.next=26,new a.kX({t:0}).to({t:1},2e3).start();case 26:return t.abrupt("break",31);case 27:return iw.meta.dailyGift.claim(),t.next=30,new a.kX({t:0}).to({t:1},300).start();case 30:return t.abrupt("break",31);case 31:this.playingClaim=!1;case 32:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"handleShow",value:(o=Em(Sm().mark((function t(){var e,r;return Sm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new Is.$n).push((0,rt.v_)(this.disposeBag,e)),(r=e.pushPipe(this.addChild(new Ud))).position.y=-90,r.scale.set(2),this.root.visible=!1,t.next=8,r.playShow();case 8:return this.root.visible=!0,t.next=11,Promise.all([this.scenePromise,e.pushPipe(new a.kX({t:0}).to({t:1},100).start())]);case 11:return t.next=13,r.playHide();case 13:e.dispose();case 14:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"handleRemove",value:(i=Em(Sm().mark((function t(){var e,r;return Sm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new Is.$n).push((0,rt.v_)(this.disposeBag,e)),(r=e.pushPipe(this.addChild(new Ud))).position.y=-90,r.scale.set(2),t.next=7,r.playShow();case 7:return this.root.visible=!1,t.next=10,Promise.all([e.pushPipe(new a.kX({t:0}).to({t:1},100).start())]);case 10:return t.next=12,r.playHide();case 12:e.dispose();case 13:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"handleResize",value:function(){this.scene&&h.Z.resize(this.scene)}},{key:"waitModalResult",value:function(){var t=this;return new Promise((function(e){t.once("modal",e)}))}}],[{key:"showModalWithChest",value:(r=Em(Sm().mark((function t(){var r,n,i,o;return Sm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new e,n=Promise.withResolvers(),i=n.promise,o=n.resolve,r.once("modal",Em(Sm().mark((function t(){return Sm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!iw.meta.dailyGift.isChestPending){t.next=4;break}return iw.meta.dailyGift.isChestPending=!1,t.next=4,wt(new _m);case 4:o(void 0);case 5:case"end":return t.stop()}}),t)})))),t.next=5,wt(r);case 5:return t.next=7,i;case 7:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})}]);var r,i,o,s}(n.W2),Fm=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:Lm((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||Lm(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==wm(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:Bm(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return Rm(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(Nm,[],[[xt.LO,1,"playingClaim"]],0,void 0,n.W2).e,Vm=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return xm(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xm(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Fm,2);function Dm(t){return Dm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(t)}function Gm(){Gm=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Dm(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Dm(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function zm(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}vm=Vm[0],bm=Vm[1];var Um=function(t){var e,r=t.window,n=new Is.$n,i=(e=Gm().mark((function t(){var e,i,o,a,s,u,l,c;return Gm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(iw.meta.tutorial.isUpgradeTutorialFinished.value||!iw.meta.isUpgradingUnlocked){t.next=6;break}return(e=jd({window:r})).disposeBag.push((0,rt.v_)(n,e)),t.next=5,e;case 5:iw.meta.tutorial.isUpgradeTutorialFinished.value=!0;case 6:iw.meta.tutorial.isHitTutorialFinished.value||((i=r.level).isAbilityDisabledByTutorial=!0,i.beatingCharacter.beatVelocityOverride=Tt().Vector.create(-8e3,2e3),i.obstacleManager.spawnObstacle({type:"walrusCarl",x:-11800}),i.obstacleManager.spawnObstacle({type:"walrusCarl",x:-22800}),i.obstacleManager.spawnObstacle({type:"fakeEmpty1",x:-1e6}),(o=Pd({window:r,timeToBatMs:650})).disposeBag.push((0,rt.v_)(n,o)),o.then((function(){iw.meta.tutorial.isHitTutorialFinished.value=!0}))),iw.meta.tutorial.isHitTutorialFinished.value&&(a=_d({window:r})).disposeBag.push((0,rt.v_)(n,a)),iw.meta.tutorial.isHitTutorialFinished.value&&!iw.meta.tutorial.isBuritoBisonAbilityTutorialFinished.value&&((s=r.level).isAbilityDisabledByTutorial=!0,s.beatingCharacter.beatVelocityOverride=Tt().Vector.create(-1e4,2e3),s.obstacleManager.spawnObstacle({type:"walrusCarl",x:-8e3}),(u=Pd({window:r,timeToBatMs:650})).disposeBag.push((0,rt.v_)(n,u))),iw.meta.tutorial.isHitTutorialFinished.value&&iw.meta.tutorial.isBuritoBisonAbilityTutorialFinished.value&&!iw.meta.tutorial.isAmazingHitTutorialFinished.value&&((l=Pd({window:r,timeToBatMs:600})).disposeBag.push((0,rt.v_)(n,l)),l.then((function(){iw.meta.tutorial.isAmazingHitTutorialFinished.value=!0}))),(c=Td({window:r})).disposeBag.push((0,rt.v_)(n,c));case 12:case"end":return t.stop()}}),t)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(t){zm(o,n,i,a,s,"next",t)}function s(t){zm(o,n,i,a,s,"throw",t)}a(void 0)}))})();return Object.assign(i,{disposeBag:n,dispose:function(){return n.dispose()}})};function Ym(t){return Ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(t)}function Xm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wm(n.key),n)}}function Wm(t){var e=function(t,e){if("object"!=Ym(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ym(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ym(e)?e:e+""}function Hm(t,e,r){return e=Km(e),function(t,e){if(e&&("object"==Ym(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Zm()?Reflect.construct(e,r||[],Km(t).constructor):e.apply(t,r))}function Zm(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Zm=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Km(t)}function Qm(t,e){return Qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Qm(t,e)}var Jm=function(t){function e(t){var r,i=t.target;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=Hm(this,e)).target=i,r.arrow=r.addChild(new n.W2),r.arrowSprite0=r.arrow.addChild(new n.jy((0,c.Fg)("arrow"))),r.arrowSprite0.tint=16765088,r.arrowSprite0.anchor.set(.89,.5),r.arrowSprite0.scale.set(2),r.arrowSprite1=r.arrow.addChild(new n.jy((0,c.Fg)("arrow"))),r.arrowSprite1.tint=16744448,r.arrowSprite1.anchor.set(1,.5),r.arrowSprite1.scale.set(1.6),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qm(t,e)}(e,t),function(t,e,r){return e&&Xm(t.prototype,e),r&&Xm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"tick",value:function(t){if(this.target){this.arrow.visible=!0;var e=A.Z,r=this.arrow.position;this.toLocal({x:0,y:0},this.target,r),this.arrow.rotation=Math.atan2(r.y,r.x);var n=(0,Et.Ny)(0,e.top+100,r.y),i=(0,Et.Ny)(0,e.bottom-100,r.y),o=(0,Et.Ny)(0,e.left+100,r.x),a=(0,Et.Ny)(0,e.right-100,r.x),s=Math.max(n,i,o,a),u=Math.max(1,s);r.x/=u,r.y/=u,this.arrow.alpha=(0,Et.Ny)(.8,1.1,s)}else this.arrow.visible=!1}}])}(n.W2);function $m(t){return $m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(t)}function ty(){ty=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==$m(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError($m(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function ey(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function ry(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){ey(o,n,i,a,s,"next",t)}function s(t){ey(o,n,i,a,s,"throw",t)}a(void 0)}))}}function ny(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iy(n.key),n)}}function iy(t){var e=function(t,e){if("object"!=$m(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=$m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$m(e)?e:e+""}function oy(t,e,r){return e=sy(e),function(t,e){if(e&&("object"==$m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ay()?Reflect.construct(e,r||[],sy(t).constructor):e.apply(t,r))}function ay(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ay=function(){return!!t})()}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sy(t)}function uy(t,e){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},uy(t,e)}var ly=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=oy(this,e)).overlay=t.addChild(new Rf),t.overlay.alpha=0,t.root=t.addChild(new n.W2),t.scenePromise=h.Z.createScene("daily-missions"),t.scenePromise.then((function(e){t._destroyed||(t.scene=e,t.root.addChild(e),t.bindScene(),t.handleResize())})),t.disposeBag.push(A.Z.onOff("resize",t.handleResize,t)),t.handleResize(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uy(t,e)}(e,t),function(t,e,r){return e&&ny(t.prototype,e),r&&ny(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"sceneBindings",get:function(){return(0,rt.hu)(this.scene,"Scene is not initialized (yet)"),this.scene.bindings}},{key:"popupBindings",get:function(){return this.sceneBindings.popup.bindings}},{key:"bindScene",value:function(){var t=this;this.popupBindings.closeButton.on("button:click",(function(){t.emit("modal","close")})),this.bindMainRewardPanel()}},{key:"bindMainRewardPanel",value:function(){var t=this,e=this.popupBindings.mainRewardPanel;e.bindings.claimButton.on("button:click",(function(){iw.meta.dailyMissions.canClaimMainReward&&iw.meta.dailyMissions.claimMainReward()})),this.disposeBag.push((0,xt.EH)((function(){t.setMainRewardAmountStr(iw.meta.dailyMissions.mainRewardAmount.value.toString())}))),this.disposeBag.push((0,xt.EH)((function(){var t=iw.meta.dailyMissions.isMainRewardClaimed.value,r=e.bindings.progress;r.bindings.progressText.visible=!t,r.bindings.timerText.visible=t,e.bindings.progress.bindings.progressFill.visible=!t}))),this.disposeBag.push((0,xt.EH)((function(){t.playSetClaimButtonVisible(iw.meta.dailyMissions.canClaimMainReward)}))),this.disposeBag.push((0,xt.EH)((function(){var r=iw.meta.dailyMissions.mainRewardAccumulated,n=iw.meta.dailyMissions.mainRewardNeeded;r=Math.min(n,r),r=Math.floor(r),e.bindings.progress.bindings.progressText.text="".concat(r,"/").concat(n),t.playSetProgress01((0,Et.V2)(r/n))}))),this.disposeBag.push(iw.observer.onOff("unscaledTick",(function(){var t=e.bindings.progress.bindings.timerText,r=iw.meta.dailyMissions.estimateTimeToNextResetMs()/1e3,n=Math.floor(r/3600).toFixed(0),i=Math.floor(r%3600/60).toFixed(0).padStart(2,"0"),o=Math.ceil(r%60).toFixed(0).padStart(2,"0");t.text="".concat(n,":").concat(i,":").concat(o)})));var r=h.Z.createAnimation(e.bindings.rewardVisual.bindings.rays1,"idle",!1,!0,1/0);(0,rt.hu)(r),this.disposeBag.push(r)}},{key:"setMainRewardAmountStr",value:function(t){var e=this.popupBindings.mainRewardPanel.bindings.amount,r=e.bindings.text,n=e.bindings.coin;r.text=t;var i=-(n.width+3+r.width)/2;n.anchor.set(0,.5),n.x=i,i+=n.width+3,r.anchor.set(0,.5),r.x=i}},{key:"handleShow",value:(u=ry(ty().mark((function t(){var e=this;return ty().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([ry(ty().mark((function t(){var r;return ty().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.scenePromise;case 2:return(r=t.sent).alpha=0,e.sceneBindings.popup.scale.set(0),t.next=7,Promise.all([new a.kX(e.sceneBindings.popup.scale).to({x:1,y:1},500).easing(a.oY.Back.Out).start(),new a.kX(r).to({alpha:1},200).start()]);case 7:case"end":return t.stop()}}),t)})))()]);case 2:iw.meta.dailyMissions.wasEverOpenedAfterReset.value=!0;case 3:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"handleRemove",value:(s=ry(ty().mark((function t(){var e;return ty().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.scenePromise;case 2:if(e=t.sent,!this._destroyed){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,Promise.all([new a.kX(this.sceneBindings.popup.scale).to({x:0,y:0},500).easing(a.oY.Back.In).start(),new a.kX(e).delay(300).to({alpha:0},200).start()]);case 7:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"handleResize",value:function(){this.scene&&h.Z.resize(this.scene)}},{key:"waitModalResult",value:function(){var t=this;return new Promise((function(e){t.once("modal",e)}))}},{key:"setProgressFill",value:function(t){var e=this.popupBindings.mainRewardPanel.bindings.progress.bindings,r=e.progressFill,n=e.progressFillMask;r.mask=n,n.width=r.width,n.x=n.width*(t-1)}},{key:"playSetProgressFillWithFlash",value:(o=ry(ty().mark((function t(e,r){var n,i,o,s=this;return ty().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(n=this._playSetProgressFillWithFlash_bag)||void 0===n||n.dispose(),(i=this._playSetProgressFillWithFlash_bag=new Is.$n).push((0,rt.v_)(this.disposeBag,i)),(o=this.popupBindings.mainRewardPanel.bindings.progress.bindings.progressFillFlash).alpha=1,t.next=7,Promise.all([i.pushPipe(new a.kX(o).delay(150).to({alpha:0},150).start()),i.pushPipe(new a.kX({t:0}).to({t:1},200).onUpdate((function(t){var n=t.t;s.setProgressFill((0,Et.t7)(e,r,n))})).start())]);case 7:i.dispose();case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:"playSetProgress01",value:(i=ry(ty().mark((function t(e){var r;return ty().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this._playSetProgress01_lastProgress01,this._playSetProgress01_lastProgress01=e,!(void 0===r||r>=e)){t.next=6;break}this.setProgressFill(e),t.next=8;break;case 6:return t.next=8,this.playSetProgressFillWithFlash(r,e);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"playSetClaimButtonVisible",value:(r=ry(ty().mark((function t(e){var r,n,i,o,s;return ty().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.popupBindings.mainRewardPanel.bindings.claimButton).visible!==e){t.next=3;break}return t.abrupt("return");case 3:if(null===(r=this._playClaimFlash_bag)||void 0===r||r.dispose(),(i=this._playClaimFlash_bag=new Is.$n).push((0,rt.v_)(this.disposeBag,i)),o=e||!this._claimButtonVisibleInitialized,this._claimButtonVisibleInitialized=!0,!o){t.next=12;break}n.visible=e,t.next=18;break;case 12:return s=this.popupBindings.mainRewardPanel.bindings.claimFlash,t.next=15,i.pushPipe(new a.kX(s).to({alpha:1},100).start());case 15:return n.visible=e,t.next=18,i.pushPipe(new a.kX(s).delay(150).to({alpha:0},150).start());case 18:i.dispose();case 19:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})}]);var r,i,o,s,u}(n.W2);function cy(t){return cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(t)}function hy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,py(n.key),n)}}function fy(t,e,r){return(e=py(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function py(t){var e=function(t,e){if("object"!=cy(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=cy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cy(e)?e:e+""}var dy=function(){return function(t,e,r){return e&&hy(t.prototype,e),r&&hy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r=this,n=e.level,i=e.scene;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),fy(this,"_destroyed",!1),fy(this,"MIN_COMBO_COLLIDES_COUNT",2),fy(this,"_letterSprites",{x:(0,c.Fg)("announcer/digits_x"),X:(0,c.Fg)("announcer/digits_x"),0:(0,c.Fg)("announcer/digits_0"),1:(0,c.Fg)("announcer/digits_1"),2:(0,c.Fg)("announcer/digits_2"),3:(0,c.Fg)("announcer/digits_3"),4:(0,c.Fg)("announcer/digits_4"),5:(0,c.Fg)("announcer/digits_5"),6:(0,c.Fg)("announcer/digits_6"),7:(0,c.Fg)("announcer/digits_7"),8:(0,c.Fg)("announcer/digits_8"),9:(0,c.Fg)("announcer/digits_9"),".":(0,c.Fg)("announcer/point")}),this.skyDiverTime=0,this.level=n,this.scene=i,this.comboVisual=(0,rt.q0)(this.scene,"combo"),this.skyDiverVisual=(0,rt.q0)(this.scene,"skyDiver"),this.skyDiverValueVisual=(0,rt.q0)(this.skyDiverVisual,"value"),this.leagueText=(0,rt.q0)(this.scene,"league-text"),this.bestScoreText=(0,rt.q0)(this.scene,"best-score-text"),this.level.on("finish",(function(){r.hideCombo(),r.hideSkyDiver(),r.hideLeagueReachedText(),r.hideBestScoreText()})),(0,xt.U5)((function(){return r.level.skyDiverManager.skyDiverValueSec}),(function(t){t>0&&r.skyDiverTime<=0?r.showSkyDiver(t):r.hideSkyDiver()})),(0,xt.U5)((function(){return r.level.comboManager.comboCollidesCount}),(function(t){t>=r.MIN_COMBO_COLLIDES_COUNT?r.showCombo(t):0===t&&r.hideCombo()})),this.level.on("leagueReached",(function(){r.leagueAnimation=r.scene.createAnimation("showLeagueReached",!1,!0),r.hideCombo(),r.hideBestScoreText(),r.skyDiverTime=1e3})),this.level.on("bestScoreReached",(function(){r.bestScoreAnimation=r.scene.createAnimation("showBestScoreReached",!1,!0),r.hideCombo(),r.hideLeagueReachedText(),r.skyDiverTime=1e3}))}),[{key:"dispose",value:function(){this._destroyed=!0}},{key:"hideLeagueReachedText",value:function(){this.leagueAnimation&&this.leagueAnimation.stop(),this.leagueText.scale.set(0)}},{key:"hideBestScoreText",value:function(){this.bestScoreAnimation&&this.bestScoreAnimation.stop(),this.bestScoreText.scale.set(0)}},{key:"showCombo",value:function(t){this.hideBestScoreText(),this.hideLeagueReachedText(),this.showRewardCombo(t),this.drawLetterSprites((0,rt.q0)(this.comboVisual,"value"),"x"+t.toString()),this.isShownCombo?this.comboAnimation=this.comboVisual.createAnimation("scaleUp",!1,!0):(this.isShownCombo=!0,this.comboAnimation=this.comboVisual.createAnimation("showCombo",!1,!0))}},{key:"showRewardCombo",value:function(t){var e=(0,rt.q0)(this.scene,"combo-reward");(0,rt.q0)(e,"reward").text="+".concat(t);var r=this.scene.parent.toLocal({x:250,y:0},this.level.flyingCharacter);e.position.set(r.x,r.y),this.scene.createAnimation("showComboReward",!1,!0)}},{key:"showSkyDiver",value:function(t){this.isShownSkyDiver||(this.isShownSkyDiver=!0,this.scene.createAnimation("showSkyDiver",!1,!0)),this.hideCombo(),this.drawLetterSprites(this.skyDiverValueVisual,t.toFixed(2))}},{key:"drawLetterSprites",value:function(t,e){for(var r=t.children.length;r<e.length;r++){var n=new Dr.Z;n.anchor.set(0,1),t.addChild(n)}for(var i=0,o=0;o<e.length;o++){var a=t.children[o];a.visible=!0;var s=e[o];(0,rt.hu)(s in this._letterSprites);var u=s;a.texture=this._letterSprites[u],a.position.x=i,i+=a.texture.width-.1*a.texture.height}for(var l=e.length;l<t.children.length;l++){t.children[l].visible=!1}}},{key:"hideSkyDiver",value:function(){this.isShownSkyDiver&&(this.isShownSkyDiver=!1,this.scene.createAnimation("hideSkyDiver",!1,!0),this.skyDiverValueVisual.removeChildren())}},{key:"hideCombo",value:function(){this.isShownCombo&&(this.comboAnimation&&this.comboAnimation.stop(),this.isShownCombo=!1,this.comboVisual.createAnimation("hideCombo",!1,!0))}},{key:"tick",value:function(t){this.skyDiverTime<=0||(this.skyDiverTime-=t)}}])}();function my(t){return my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},my(t)}function yy(){yy=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==my(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(my(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function gy(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function vy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,by(n.key),n)}}function by(t){var e=function(t,e){if("object"!=my(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=my(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==my(e)?e:e+""}function _y(t,e,r){return e=xy(e),function(t,e){if(e&&("object"==my(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wy()?Reflect.construct(e,r||[],xy(t).constructor):e.apply(t,r))}function wy(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wy=function(){return!!t})()}function xy(t){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xy(t)}function Sy(t,e){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sy(t,e)}var Ty=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=_y(this,e)).disposeBag.push(iw.meta.dailyMissions.missions.map((function(e){return(0,xt.U5)((function(){return e.isReached}),function(){var r,n=(r=yy().mark((function r(n){var i;return yy().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(iw.meta.isDailyMissionsUnlocked.value){r.next=2;break}return r.abrupt("return");case 2:if(n){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,h.Z.createComponent("DailyMissionCompletedNotification");case 6:if(i=r.sent,!t._destroyed){r.next=9;break}return r.abrupt("return");case 9:i.bindings.title.text=e.description,t.addChild(i),h.Z.createAnimation(i,"show-hide",!1);case 12:case"end":return r.stop()}}),r)})),function(){var t=this,e=arguments;return new Promise((function(n,i){var o=r.apply(t,e);function a(t){gy(o,n,i,a,s,"next",t)}function s(t){gy(o,n,i,a,s,"throw",t)}a(void 0)}))});return function(t){return n.apply(this,arguments)}}(),{fireImmediately:!1})}))),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sy(t,e)}(e,t),function(t,e,r){return e&&vy(t.prototype,e),r&&vy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e)}(n.W2);function Ey(t){return Ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ey(t)}function Oy(){Oy=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Ey(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Ey(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Ay(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function ky(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Ay(o,n,i,a,s,"next",t)}function s(t){Ay(o,n,i,a,s,"throw",t)}a(void 0)}))}}function Py(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cy(n.key),n)}}function Cy(t){var e=function(t,e){if("object"!=Ey(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ey(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ey(e)?e:e+""}function My(t,e,r){return e=jy(e),function(t,e){if(e&&("object"==Ey(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Iy()?Reflect.construct(e,r||[],jy(t).constructor):e.apply(t,r))}function Iy(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Iy=function(){return!!t})()}function jy(t){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jy(t)}function By(t,e){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},By(t,e)}var Ly=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=My(this,e),console.log("StoryWindow created"),t.root=t.addChild(new n.W2),t.overlay=t.root.addChild(new n.W2),t.scenePromise=h.Z.createScene("outro-movie-scene"),t.scenePromise.then((function(e){t._destroyed||(t.scene=e,t.root.addChild(e),t.penguinBoy=(0,rt.q0)(e,"penguinBoy"),t.penguinBoy.state.clearTracks(),t.penguinGirl=(0,rt.q0)(e,"penguinGirl"),t.penguinGirl.state.clearTracks(),t.background=(0,rt.q0)(e,"background"),t.background.interactive=!0,t.background.state.clearTracks(),t.disposeBag.push(A.Z.onOff("resize",t.handleResize,t)),t.handleResize())})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&By(t,e)}(e,t),function(t,e,r){return e&&Py(t.prototype,e),r&&Py(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"playSounds",value:(s=ky(Oy().mark((function t(){return Oy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k.Z.playSingle("history/bush"),t.next=3,new a.kX({t:0}).to({t:1},1500).start();case 3:return k.Z.playSingle("history/laugh"),t.next=6,new a.kX({t:0}).to({t:1},1500).start();case 6:k.Z.playSingle("history/kiss"),k.Z.playSingle("history/happy_v2");case 8:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)})},{key:"playOutroMovie",value:(o=ky(Oy().mark((function t(){return Oy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._destroyed){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.scenePromise;case 4:return this.playSounds(),this.penguinGirl.setAnimation("ending",!1),this.penguinBoy.setAnimation("ending",!1),this.background.setAnimation("ending",!1),t.next=10,new a.kX({t:0}).to({t:1},4e3).start();case 10:return this.scene.createAnimation("fadeIn",!1,!0),t.next=13,new a.kX({t:0}).to({t:1},600).start();case 13:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"handleShow",value:(i=ky(Oy().mark((function t(){var e=this;return Oy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([ky(Oy().mark((function t(){var r;return Oy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.scenePromise;case 2:return(r=t.sent).alpha=0,t.next=6,new a.kX(r).to({alpha:1},100).start();case 6:case"end":return t.stop()}}),t)})))()]);case 2:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"handleRemove",value:(r=ky(Oy().mark((function t(){return Oy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new a.kX(this).to({alpha:0},50).start();case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"handleResize",value:function(){this.scene&&h.Z.resize(this.scene)}}]);var r,i,o,s}(n.W2);function Ry(t){return Ry="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(t)}function qy(){qy=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Ry(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Ry(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Ny(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Fy(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Ny(o,n,i,a,s,"next",t)}function s(t){Ny(o,n,i,a,s,"throw",t)}a(void 0)}))}}function Vy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dy(n.key),n)}}function Dy(t){var e=function(t,e){if("object"!=Ry(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ry(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ry(e)?e:e+""}function Gy(t,e,r){return e=Uy(e),function(t,e){if(e&&("object"==Ry(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,zy()?Reflect.construct(e,r||[],Uy(t).constructor):e.apply(t,r))}function zy(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zy=function(){return!!t})()}function Uy(t){return Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Uy(t)}function Yy(t,e){return Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yy(t,e)}var Xy=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Gy(this,e)).root=t.addChild(new n.W2),t.overlay=t.root.addChild(new Rf),t.scenePromise=h.Z.createScene("end-game-popup"),t.scenePromise.then((function(e){if(!t._destroyed){t.scene=e,t.root.addChild(e);var r=(0,rt.q0)(e,"btn");r.on("button:click",(function(){t.emit("modal","claim")})),r.interactive=!0,t.handleResize()}})),t.disposeBag.push(iw.observer.onOff("tick",t.tick,t)),t.disposeBag.push(A.Z.onOff("resize",t.handleResize,t)),t.handleResize(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yy(t,e)}(e,t),function(t,e,r){return e&&Vy(t.prototype,e),r&&Vy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"handleShow",value:(i=Fy(qy().mark((function t(){var e=this;return qy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([Fy(qy().mark((function t(){return qy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.overlay.alpha=0,t.next=3,new a.kX(e.overlay).to({alpha:1},50).start();case 3:case"end":return t.stop()}}),t)})))(),Fy(qy().mark((function t(){var r;return qy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.scenePromise;case 2:return(r=t.sent).alpha=0,t.next=6,new a.kX(r).to({alpha:1},100).start();case 6:case"end":return t.stop()}}),t)})))()]);case 2:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"handleRemove",value:(r=Fy(qy().mark((function t(){return qy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new a.kX(this).to({alpha:0},100).start();case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"handleResize",value:function(){this.scene&&h.Z.resize(this.scene)}},{key:"waitModalResult",value:function(){var t=this;return new Promise((function(e){t.once("modal",e)}))}},{key:"tick",value:function(t){}}]);var r,i}(n.W2);function Wy(t){return Wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wy(t)}function Hy(){Hy=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Wy(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Wy(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Zy(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function Ky(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Zy(o,n,i,a,s,"next",t)}function s(t){Zy(o,n,i,a,s,"throw",t)}a(void 0)}))}}function Qy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jy(n.key),n)}}function Jy(t){var e=function(t,e){if("object"!=Wy(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Wy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wy(e)?e:e+""}function $y(t,e,r){return e=eg(e),function(t,e){if(e&&("object"==Wy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,tg()?Reflect.construct(e,r||[],eg(t).constructor):e.apply(t,r))}function tg(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(tg=function(){return!!t})()}function eg(t){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eg(t)}function rg(t,e){return rg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rg(t,e)}var ng=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=$y(this,e)).menuShowTimerDelay=0,t.root=t.addChild(new n.W2),t.levelContainer=t.root.addChild(new n.W2),t.levelOverlay=t.root.addChild((new n.TC).beginFill(0).drawRect(-.5,-.5,1,1)),t.levelOverlay.width=t.levelOverlay.height=1e4,t.levelOverlay.alpha=0,t.levelOverlay.interactive=!0,t.levelOverlay.buttonMode=!0;return t.kickAnnouncerView=t.addChild(new mp),t.sceneContainer=t.root.addChild(new n.W2),t.scenePromise=h.Z.createScene("main"),t.scenePromise.then((function(e){if(!t._destroyed){t.sceneContainer.addChild(e),t.scene=e;var r=(0,rt.q0)(t.scene,"shop-button");r.on("button:click",Ky(Hy().mark((function t(){return Hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wt(new ip);case 2:case"end":return t.stop()}}),t)}))));var n=(0,rt.q0)(r,"badge");t.disposeBag.push(n.createAnimation("animIdle",!1,!0,1/0)),t.disposeBag.push((0,xt.EH)((function(){n.visible=iw.meta.bats.isNotificationPending}))),(0,rt.q0)(t.scene,"daily-gift-button").on("button:click",Ky(Hy().mark((function t(){return Hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nm.showModalWithChest();case 2:case"end":return t.stop()}}),t)}))));var i=(0,rt.q0)(t.scene,"daily-missions-button");i.on("button:click",Ky(Hy().mark((function t(){return Hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wt(new ly);case 2:case"end":return t.stop()}}),t)}))));var o=(0,rt.q0)(i,"badge");t.disposeBag.push(o.createAnimation("animIdle",!1,!0,1/0)),t.disposeBag.push((0,xt.EH)((function(){o.visible=iw.meta.dailyMissions.isNotificationPending})));var a=new AbortController;t.disposeBag.push((function(){return a.abort()})),addEventListener("keydown",(function(e){"Space"===e.code&&t.level.handleTap()}),{signal:a.signal}),t.outroLevelTextAnimation=t.scene.createAnimation("pulseOutroText",!1,!1,1/0),t.disposeBag.push(t.outroLevelTextAnimation),(0,rt.q0)(t.scene,"outro-text").scale.set(0),t.levelOverlay.on("pointerdown",(function(){t.level.handleTap()})),(0,rt.q0)(t.scene,"upgrades-menu").visible=iw.meta.isUpgradingUnlocked,(0,rt.q0)(t.scene,"shop-button-container").visible=iw.meta.isUpgradingUnlocked,(0,rt.q0)(t.scene,"daily-gift-button-container").visible=iw.meta.isUpgradingUnlocked,(0,rt.q0)(t.scene,"daily-missions-button-container").visible=iw.meta.isDailyMissionsUnlocked.value,t.announcersView=new dy({level:t.level,scene:t.scene}),t.disposeBag.push(t.announcersView),(0,rt.q0)(e,"daily-mission-completed-container").addChild(new Ty),(0,xt.U5)((function(){return t.level.isChestPicked}),(function(e){var r=(0,rt.q0)(t.scene,"chest");r.visible=e,e&&h.Z.createComponent("effects/FxChestShow").then((function(e){t._destroyed||(r.addChild(e),t.disposeBag.push(t.scene.createAnimation("chestIdle",!1,!0,1/0)))}))}),{fireImmediately:!0}),iw.musicThemeManager.setMusicTheme("main-menu"),t.handleResize(),t.level.start()}})),t.disposeBag.push(iw.observer.onOff("tick",t.tick,t)),t.disposeBag.push(A.Z.onOff("resize",t.handleResize,t)),t.handleResize(),t.level=t.levelContainer.addChild(new Tf),t.level.on("finish",t.handleFinish,t),t.level.on("kickType",(function(e){t.kickAnnouncerView.showAnnouncer(e)})),(0,xt.U5)((function(){return t.level.state}),(function(e){var r;("waitingJump"===e&&(t.restartTutorial(),t.showMenu()),"waitingKick"===e&&t.hideMenu(),"flying"===e)&&((0,rt.q0)(t.scene,"bar").alpha=1,null===(r=t.scene)||void 0===r||r.createAnimation("showBar",!1,!0))}),{fireImmediately:!0}),t.outOfScreenArrowView=t.root.addChild(new Jm({target:t.level.flyingCharacter})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rg(t,e)}(e,t),function(t,e,r){return e&&Qy(t.prototype,e),r&&Qy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"progressBarView",get:function(){var t,e;if(this.scene)return null!==(e=(t=this.scene)._progressBarView)&&void 0!==e?e:t._progressBarView=this.scene._progressBarView=(0,rt.q0)(this.scene,"bar")}},{key:"showMenu",value:function(){var t=this;this.showedMenu||(this.menuShowTimer=new a.kX({t:0}).to({t:1},this.menuShowTimerDelay).onComplete((function(){t.showedMenu=!0,t.scene.createAnimation("showMenu",!1,!0)})).start())}},{key:"hideMenu",value:function(){this.menuShowTimer&&(this.menuShowTimer.stop(),this.menuShowTimer=void 0),this.showedMenu&&(this.showedMenu=!1,this.menuShowTimerDelay=3e3,this.scene.createAnimation("hideMenu",!1,!0))}},{key:"restartTutorial",value:function(){var t;null===(t=this._stopTutorial)||void 0===t||t.call(this);var e=Um({window:this});e.disposeBag.push((0,rt.v_)(this.disposeBag,e)),this._stopTutorial=function(){e.dispose()}}},{key:"handleFinish",value:(s=Ky(Hy().mark((function t(r){var n,i,o,s,u=this;return Hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=r.distance)>iw.meta.maxDistance.value&&(iw.meta.maxDistance.value=i),iw.musicThemeManager.fade({factor:.5}),null===(n=this.progressBarView)||void 0===n||n.stoppedAnimation(),(0,rt.q0)(this.scene,"bar").alpha=0,!(i>0)){t.next=24;break}return iw.meta.matchesCount.value++,iw.meta.tutorial.isUpgradeTutorialFinished.value&&(iw.meta.isDailyMissionsUnlocked.value=!0),o=Math.ceil(i/3),iw.meta.coins.value+=o,t.next=12,this.level.createAndShowBigBoard();case 12:return t.next=14,new a.kX({t:0}).to({t:1},200).start();case 14:return this.scene.createAnimation("showOutroText",!1,!0).once("finish",(function(){u.outroLevelTextAnimation.start()})),t.next=18,new a.kX({t:0}).to({t:1},500).start();case 18:(s=(0,rt.q0)(this.scene,"outro-event-tracker")).interactive=!0,s.buttonMode=!0,s.once("pointerup",Ky(Hy().mark((function t(){return Hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u.outroLevelTextAnimation.stop(),(0,rt.q0)(u.scene,"outro-text").scale.set(0),s.interactive=!1,t.next=5,u.scene.createAnimation("hideCounters",!1,!0);case 5:if((0,rt.q0)(u.scene,"chest").visible=!1,u.level.fatalityManager.stopFatality(),!hc.ge.every((function(t){return t.distanceForReach<=i}))||iw.meta.isStoryOutroPlayed.value){t.next=14;break}return t.next=11,u.showOutroMovie();case 11:return iw.meta.isStoryOutroPlayed.value=!0,t.next=14,wt(new Xy);case 14:return t.next=16,wt(new Wf({coins:o}));case 16:return t.next=18,new a.kX({t:0}).to({t:1},500).start();case 18:if(iw.showWindow(new e),!u.level.isChestPicked){t.next=22;break}return t.next=22,wt(new _m);case 22:case"end":return t.stop()}}),t)})))),t.next=27;break;case 24:return t.next=26,new a.kX({t:0}).to({t:1},1e3).start();case 26:this.level.state="whackAMole";case 27:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"showOutroMovie",value:(o=Ky(Hy().mark((function t(){var e;return Hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return iw.musicThemeManager.fade({factor:0}),e=new Ly,this.addChild(e),t.next=5,e.playOutroMovie();case 5:e.destroy({children:!0});case 6:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"handleShow",value:(i=Ky(Hy().mark((function t(){var e,r;return Hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return iw.meta.isUpgradingUnlocked&&iw.meta.dailyGift.canClaim&&Nm.showModalWithChest(),(e=new Is.$n).push((0,rt.v_)(this.disposeBag,e)),(r=e.pushPipe(this.addChild(new Ud))).position.y=-90,r.scale.set(2),this.root.visible=!1,t.next=9,r.playShow();case 9:return this.root.visible=!0,t.next=12,Promise.all([this.scenePromise,e.pushPipe(new a.kX({t:0}).to({t:1},100).start())]);case 12:return t.next=14,r.playHide();case 14:e.dispose(),this.emit("shown");case 16:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"handleRemove",value:(r=Ky(Hy().mark((function t(){return Hy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new a.kX(this).to({alpha:0},500).start();case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"handleResize",value:function(){A.Z.height,A.Z.width;var t=A.Z.top,e=A.Z.left,r=A.Z.bottom;A.Z.right;this.scene&&h.Z.resize(this.scene),this.kickAnnouncerView.position.set(0,t+300),this.__addCoins1kButton&&(this.__addCoins1kButton.setAnchor(0,1),this.__addCoins1kButton.position.set(e+30,r-30)),this.__addGems10Button&&(this.__addGems10Button.setAnchor(0,1),this.__addGems10Button.position.set(e+30,r-160)),this.__subDay1Button&&(this.__subDay1Button.setAnchor(0,1),this.__subDay1Button.position.set(e+30,r-290))}},{key:"tick",value:function(t){var e,r;this.level.tick(t),null===(e=this.progressBarView)||void 0===e||e.setCurrentPosition(this.level.distance),this.outOfScreenArrowView.tick(t),null===(r=this.announcersView)||void 0===r||r.tick(t)}}]);var r,i,o,s}(n.W2);function ig(t){return ig="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(t)}function og(){og=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==ig(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(ig(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function ag(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function sg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ug(n.key),n)}}function ug(t){var e=function(t,e){if("object"!=ig(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ig(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ig(e)?e:e+""}function lg(t,e,r){return e=hg(e),function(t,e){if(e&&("object"==ig(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,cg()?Reflect.construct(e,r||[],hg(t).constructor):e.apply(t,r))}function cg(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(cg=function(){return!!t})()}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hg(t)}function fg(t,e){return fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fg(t,e)}var pg,dg,mg=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=lg(this,e)).root=t.addChild(new n.W2),t.back=t.root.addChild(new Dr.Z("loading-screen-back")),t.back.interactive=!0,t.back.on("tap",(function(){return t.emit("invariantClick")})),t.back.on("click",(function(){return t.emit("invariantClick")})),t.disposeBag.push(A.Z.onOff("resize",t.handleResize,t)),t.handleResize(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fg(t,e)}(e,t),function(t,e,r){return e&&sg(t.prototype,e),r&&sg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"handleResize",value:function(){this.back.scale.set(Math.max(A.Z.width/this.back.texture.width,A.Z.height/this.back.texture.height));var t=A.Z.isLandscape()&&A.Z.aspectRatio>1.7?140:0;this.back.position.set(0,t),this.tapToContinue&&this.tapToContinue.position.set(0,A.Z.bottom-100)}},{key:"handleRemove",value:(r=og().mark((function t(){return og().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new a.kX(this).to({alpha:0},500).start();case 2:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,i){var o=r.apply(t,e);function a(t){ag(o,n,i,a,s,"next",t)}function s(t){ag(o,n,i,a,s,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"requestInteraction",value:function(){var t=this;this.tapToContinue=this.root.addChild(new Qd.Z("Tap to continue",{fontSize:48,fill:"#ffffff",fontFamily:"PTSans-Bold",stroke:"#4F0D78",strokeThickness:12,lineJoin:"round"})),this.tapToContinue.anchor.set(.5),this.tapToContinue.position.set(0,A.Z.bottom-100);var e=new a.kX(this.tapToContinue.scale).to({x:.95,y:.95},400).repeat(1/0).yoyo(!0).start();return this.disposeBag.push(e),new Promise((function(e){t.once("invariantClick",(function(){e(void 0)}))}))}}]);var r,i}(n.W2);function yg(t){return yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(t)}function gg(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function vg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wg(n.key),n)}}function bg(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function _g(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function wg(t){var e=function(t,e){if("object"!=yg(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=yg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yg(e)?e:e+""}function xg(t,e,r){"symbol"==yg(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function Sg(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?yg(t):"null"));return t}var Tg,Eg=new WeakMap,Og=function(){return function(t,e,r){return e&&vg(t.prototype,e),r&&vg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r,n,i=this,o=e.storage,a=void 0===o?iw.platformApi.storage:o,s=e.key,u=e.saveInitial,l=void 0!==u&&u,c=e.defaultValue;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),bg(this,Eg,pg(this)),dg(this),this._storage=a,this._key=s,this.value=null!==(r=this._storage.getItem(this._key))&&void 0!==r?r:"function"==typeof(n=c)?n():n,(0,xt.U5)((function(){return i.value}),(function(t){i._storage.setItem(i._key,t)}),{fireImmediately:l})}),[{key:"value",get:function(){return e=this,(t=Eg).get(_g(t,e));var t,e},set:function(t){!function(t,e,r){t.set(_g(t,e),r)}(Eg,this,t)}}])}(),Ag=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:xg((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||xg(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==yg(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:wg(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return Sg(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(Og,[],[[xt.LO,1,"value"]]).e,kg=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return gg(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gg(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ag,2);function Pg(t){return Pg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pg(t)}function Cg(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Mg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ig(n.key),n)}}function Ig(t){var e=function(t,e){if("object"!=Pg(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Pg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pg(e)?e:e+""}function jg(t,e,r){"symbol"==Pg(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function Bg(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?Pg(t):"null"));return t}pg=kg[0],dg=kg[1];var Lg,Rg=function(){return function(t,e,r){return e&&Mg(t.prototype,e),r&&Mg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Tg(this),this.type=e,this.config=nt.batsPrices.find((function(t){return t.type===r.type})),(0,rt.hu)(this.config,"No config found for bat type: ".concat(this.type)),this._boosterInfos=Yn.y[e].boosterInfos,this.purchased=new Og({key:"bats.".concat(e,".purchased"),defaultValue:!1}),this.shownWhenBuyable=new Og({key:"bats.".concat(e,".shownWhenBuyable"),defaultValue:!1}),"Bit"===e&&(this.purchased.value=!0)}),[{key:"price",get:function(){return this.config.price}},{key:"canBuy",get:function(){return!this.purchased.value&&iw.meta.gems.value>=this.price}},{key:"isPurchased",get:function(){return this.purchased.value}},{key:"isBoosterAvailable",value:function(t){return this._boosterInfos.some((function(e){return e.type===t}))}},{key:"getBoosterMultiplier",value:function(t){var e=1,r=this._boosterInfos.find((function(e){return e.type===t}));return r&&(e+=r.boosterPercent/100),e}},{key:"buy",value:function(){(0,rt.hu)(this.canBuy&&!this.isPurchased),iw.meta.gems.value-=this.price,this.purchased.value=!0}}])}(),qg=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:jg((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||jg(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==Pg(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:Ig(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return Bg(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(Rg,[],[[xt.aD,2,"buy"]]).e,Ng=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Cg(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cg(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(qg,1);function Fg(t){return Fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(t)}function Vg(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Dg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gg(n.key),n)}}function Gg(t){var e=function(t,e){if("object"!=Fg(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Fg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fg(e)?e:e+""}function zg(t,e,r){"symbol"==Fg(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function Ug(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?Fg(t):"null"));return t}Tg=Ng[0];var Yg=function(){return function(t,e,r){return e&&Dg(t.prototype,e),r&&Dg(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Lg(this),this.selected=new Og({key:"bats.selected",defaultValue:"Bit"}),this.batsMap=Object.fromEntries(Object.keys(Yn.y).map((function(t){return[t,new Rg(t)]})))}),[{key:"selectedBat",get:function(){return this.selected.value}},{key:"isBoosterAvailable",value:function(t){return this.batsMap[this.selectedBat].isBoosterAvailable(t)}},{key:"getBoosterMultiplier",value:function(t){return this.batsMap[this.selectedBat].getBoosterMultiplier(t)}},{key:"selectBat",value:function(t){(0,rt.hu)(this.batsMap[t].isPurchased),this.selected.value=t}},{key:"isAnyBuyableNotShown",get:function(){return Object.values(this.batsMap).some((function(t){return t.canBuy&&!t.shownWhenBuyable.value}))}},{key:"markAllBuyablesShown",value:function(){for(var t=0,e=Object.values(this.batsMap);t<e.length;t++){var r=e[t];r.canBuy&&(r.shownWhenBuyable.value=!0)}}},{key:"isNotificationPending",get:function(){return!!this.isAnyBuyableNotShown}}])}(),Xg=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:zg((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||zg(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==Fg(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:Gg(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return Ug(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(Yg,[],[[xt.aD,2,"selectBat"],[xt.Fl,3,"isAnyBuyableNotShown"],[xt.aD,2,"markAllBuyablesShown"]]).e,Wg=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Vg(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vg(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Xg,1);Lg=Wg[0];function Hg(t){return Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(t)}var Zg,Kg,Qg;function Jg(t,e){if(t){if("string"==typeof t)return $g(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$g(t,e):void 0}}function $g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function tv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nv(n.key),n)}}function ev(t,e,r){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,r)}function rv(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function nv(t){var e=function(t,e){if("object"!=Hg(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Hg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hg(e)?e:e+""}function iv(t,e,r){"symbol"==Hg(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function ov(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?Hg(t):"null"));return t}var av=JSON.parse('{"giftsSequences":[["coinsSmall","gemsSmall","chest","coinsMedium","chest","gemsMedium","coinsMedium","chest","gemsLarge","coinsLarge","chest","coinsLarge","gemsLarge","coinsLarge","chest"],["coinsSmall","gemsSmall","coinsMedium","coinsMedium","chest","gemsSmall","coinsSmall","gemsMedium","coinsMedium","chest","coinsSmall","coinsSmall","coinsMedium","gemsLarge","coinsLarge"]],"coinsSmallRewardMultiplier":3,"coinsMediumRewardMultiplier":4,"coinsLargeRewardMultiplier":8,"gemsSmallReward":10,"gemsMediumReward":15,"gemsLargeReward":30}'),sv=new WeakMap,uv=function(){return function(t,e,r){return e&&tv(t.prototype,e),r&&tv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,r){(e=nv(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"lastClaim",(Zg(this),new Og({key:"dailyGift.lastRewardClaim",defaultValue:void 0}))),ev(this,sv,Kg(this,!1)),Qg(this)}),[{key:"canClaim",get:function(){var t=this.lastClaim.value;if(!t)return!0;var e=new Date(t.datetime),r=new Date;return!(+r<+e)&&(e.getFullYear()<r.getFullYear()||e.getMonth()<r.getMonth()||e.getDate()<r.getDate())}},{key:"totalRewardDays",get:function(){return av.giftsSequences.reduce((function(t,e){return t+e.length}),0)}},{key:"getSequenceForIndex",value:function(t){t%=this.totalRewardDays;var e,r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Jg(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(av.giftsSequences);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(t<n.length)return{sequence:n,index:t};t-=n.length}}catch(t){r.e(t)}finally{r.f()}return(0,rt.Fi)()}},{key:"getRewardForIndex",value:function(t){var e=this.getSequenceForIndex(t);return e.sequence[e.index]}},{key:"lastClaimIndex",get:function(){var t,e;return null!==(t=null===(e=this.lastClaim.value)||void 0===e?void 0:e.index)&&void 0!==t?t:-1}},{key:"indexToClaim",get:function(){return(this.lastClaimIndex+1)%this.totalRewardDays}},{key:"claim",value:function(){var t=this.getRewardForIndex(this.indexToClaim);switch(t){case"coinsSmall":case"coinsMedium":case"coinsLarge":iw.meta.coins.value+=this.getAmountForRewardType(t);break;case"gemsSmall":case"gemsMedium":case"gemsLarge":iw.meta.gems.value+=this.getAmountForRewardType(t);break;case"chest":this.isChestPending=!0;break;default:(0,rt.Fi)()}this.lastClaim.value={index:this.indexToClaim,datetime:(new Date).toISOString()}}},{key:"isChestPending",get:function(){return e=this,(t=sv).get(rv(t,e));var t,e},set:function(t){!function(t,e,r){t.set(rv(t,e),r)}(sv,this,t)}},{key:"currentSequence",get:function(){return this.getSequenceForIndex(this.canClaim?this.indexToClaim:this.lastClaimIndex)}},{key:"_getCoinRewardAmount",value:function(t){var e=iw.meta.upgrades.averageUpgradesPrice*t;return 100*Math.ceil(e/100)}},{key:"getAmountForRewardType",value:function(t){var e=av;switch(t){case"coinsSmall":return this._getCoinRewardAmount(e.coinsSmallRewardMultiplier);case"coinsMedium":return this._getCoinRewardAmount(e.coinsMediumRewardMultiplier);case"coinsLarge":return this._getCoinRewardAmount(e.coinsLargeRewardMultiplier);case"gemsSmall":return e.gemsSmallReward;case"gemsMedium":return e.gemsMediumReward;case"gemsLarge":return e.gemsLargeReward;case"chest":return 1;default:return(0,rt.Fi)()}}},{key:"__subtractDay",value:function(){var t,e,r,n=null===(t=this.lastClaim.value)||void 0===t?void 0:t.datetime,i=n?new Date(n):new Date;i.setDate(i.getDate()-1),this.lastClaim.value={index:null!==(e=null===(r=this.lastClaim.value)||void 0===r?void 0:r.index)&&void 0!==e?e:-1,datetime:i.toISOString()}}}])}(),lv=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:iv((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||iv(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==Hg(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:nv(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return ov(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(uv,[],[[xt.aD,2,"claim"],[xt.LO,1,"isChestPending"]]).e,cv=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||Jg(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(lv,3);Kg=cv[0],Qg=cv[1],Zg=cv[2];var hv,fv=JSON.parse('{"missionsBonusRewardMultiplier":10,"difficultySettings":{"easy":{"multiplierReward":1,"weight":5,"maxMissions":4},"normal":{"multiplierReward":2,"weight":5,"maxMissions":3},"hard":{"multiplierReward":3,"weight":2,"maxMissions":2}},"missions":{"bouncyPengui":{"description":"Hit %tag_number% animals","name":"Bouncy Pengui","difficulty":"easy","neededFixedValue":-1},"catapultator":{"description":"Make %tag_number% amazing kicks","name":"Catapultator","difficulty":"hard","neededFixedValue":8},"combinator":{"description":"Make %tag_number% combos","name":"Combinator","difficulty":"easy","neededFixedValue":20},"comboGod":{"description":"Make x%tag_number% combo","name":"Combo God","difficulty":"easy","neededFixedValue":10},"luckyNumberPenguin":{"description":"Launch penguin %tag_number% times","name":"Lucky Number Penguin","difficulty":"normal","neededFixedValue":12},"marathon":{"description":"Fly %tag_number% feet","name":"Marathon","difficulty":"easy","neededFixedValue":-1},"penguinHunt":{"description":"Hit %tag_number% penguins","name":"Penguin hunt","difficulty":"hard","neededFixedValue":6},"sealHunt":{"description":"Hit %tag_number% seals","name":"Seal hunt","difficulty":"easy","neededFixedValue":-1},"snowmania":{"description":"Hit %tag_number% snowmen","name":"Snowmania","difficulty":"normal","neededFixedValue":3},"subzero":{"description":"Get out of %tag_number% ice holes","name":"Sub-Zero","difficulty":"normal","neededFixedValue":4},"walrusesHunt":{"description":"Hit %tag_number% walruses","name":"Walrus hunt","difficulty":"easy","neededFixedValue":-1}}}');function pv(t){return pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(t)}function dv(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function mv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yv(n.key),n)}}function yv(t){var e=function(t,e){if("object"!=pv(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=pv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pv(e)?e:e+""}function gv(t,e,r){"symbol"==pv(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function vv(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?pv(t):"null"));return t}var bv,_v=function(){return function(t,e,r){return e&&mv(t.prototype,e),r&&mv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r=e.index;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),hv(this),this.index=r,this.type=new Og({key:"dailyMissions.".concat(r,".mission"),defaultValue:"bouncyPengui"}),this.rewardAmount=new Og({key:"dailyMissions.".concat(r,".rewardAmount"),defaultValue:0}),this.accumulated=new Og({key:"dailyMissions.".concat(r,".accumulated"),defaultValue:0}),this.needed=new Og({key:"dailyMissions.".concat(r,".needed"),defaultValue:0}),this.isClaimed=new Og({key:"dailyMissions.".concat(r,".isClaimed"),defaultValue:!1})}),[{key:"config",get:function(){return fv.missions[this.type.value]}},{key:"reset",value:function(t){var e=t.type,r=fv.missions[e];this.type.value=e,this.rewardAmount.value=100*Math.ceil(iw.meta.upgrades.averageUpgradesPrice*fv.difficultySettings[r.difficulty].multiplierReward/100),this.accumulated.value=0,this.needed.value=this.calculateNeededValue({type:e}),this.isClaimed.value=!1}},{key:"calculateNeededValue",value:function(t){var e=t.type,r=Math.max,n=Math.ceil,i=Math.floor,o=iw.meta.upgrades.averageUpgradesLevel;switch(e){case"marathon":return r(1e4,1e3*n(5*iw.meta.maxDistance.value/1e3));case"sealHunt":case"walrusesHunt":return r(15,i(.5*o));case"bouncyPengui":return r(50,i(o));case"combinator":return r(10,i(.5*o));default:return this.config.neededFixedValue}}},{key:"canClaim",get:function(){return this.isReached&&!this.isClaimed.value}},{key:"claim",value:function(){this.isClaimed.value=!0,iw.meta.coins.value+=this.rewardAmount.value}},{key:"isReached",get:function(){return this.accumulated.value>=this.needed.value}},{key:"isActive",get:function(){return!this.isReached}},{key:"addProgress",value:function(t){this.accumulated.value+=t}},{key:"maxProgress",value:function(t){this.accumulated.value=Math.max(t,this.accumulated.value)}},{key:"description",get:function(){return this.config.description.replaceAll("%tag_number%",this.needed.value.toString())}}])}(),wv=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:gv((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||gv(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==pv(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:yv(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return vv(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(_v,[],[[xt.aD,2,"reset"],[xt.aD,2,"claim"]]).e,xv=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return dv(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dv(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(wv,1);function Sv(t){return Sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(t)}function Tv(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ev(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Ev(t,e){if(t){if("string"==typeof t)return Ov(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ov(t,e):void 0}}function Ov(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Av(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pv(n.key),n)}}function kv(t,e,r){return(e=Pv(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pv(t){var e=function(t,e){if("object"!=Sv(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Sv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sv(e)?e:e+""}function Cv(t,e,r){"symbol"==Sv(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function Mv(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?Sv(t):"null"));return t}hv=xv[0];var Iv=function(){return function(t,e,r){return e&&Av(t.prototype,e),r&&Av(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),kv(this,"MISSION_COUNT",(bv(this),5)),kv(this,"generationDatetime",new Og({key:"dailyMissions.generationDatetime",defaultValue:void 0})),kv(this,"missions",Array.from({length:this.MISSION_COUNT},(function(t,e){return new _v({index:e})}))),kv(this,"wasEverOpenedAfterReset",new Og({key:"dailyMissions.wasEverOpenedAfterReset",defaultValue:!1})),kv(this,"mainRewardAmount",new Og({key:"dailyMissions.mainRewardAmount",defaultValue:0})),kv(this,"isMainRewardClaimed",new Og({key:"dailyMissions.isMainRewardClaimed",defaultValue:!1})),iw.observer.onOff("unscaledTick",(function(){e.resetIfExpired()}))}),[{key:"mainRewardAccumulated",get:function(){return this.missions.filter((function(t){return t.isClaimed.value})).length}},{key:"mainRewardNeeded",get:function(){return this.MISSION_COUNT}},{key:"isMainRewardReached",get:function(){return this.mainRewardAccumulated>=this.mainRewardNeeded}},{key:"canClaimMainReward",get:function(){return this.isMainRewardReached&&!this.isMainRewardClaimed.value}},{key:"claimMainReward",value:function(){this.isMainRewardClaimed.value=!0,iw.meta.coins.value+=this.mainRewardAmount.value}},{key:"_isExpired",get:function(){var t=this.generationDatetime.value;if(void 0===t)return!0;var e=new Date(t),r=new Date;return!(+r<+e)&&(e.getFullYear()<r.getFullYear()||e.getMonth()<r.getMonth()||e.getDate()<r.getDate())}},{key:"isExpired",get:function(){return(!this._isExpired_lastCheck||iw.unscaledLiveTime>=this._isExpired_lastCheck.time+1e3)&&(this._isExpired_lastCheck={time:iw.unscaledLiveTime,value:this._isExpired}),this._isExpired_lastCheck.value}},{key:"_generateRandomMissions",value:function(t){for(var e=fv,r=Object.keys(fv.missions),n=function(t){return e.difficultySettings[e.missions[t].difficulty].weight},i=[],o=function(){var t=function(){var t,e=r.reduce((function(t,e){return t+n(e)}),0),i=Math.random()*e,o=Tv(r);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=n(a);if(i<s)return a;i-=s}}catch(t){o.e(t)}finally{o.f()}return r[r.length-1]}();i.push(t),r=r.filter((function(e){return e!==t}));var o=e.missions[t],a=e.difficultySettings[o.difficulty].maxMissions;i.filter((function(t){return e.missions[t].difficulty===o.difficulty})).length>=a&&(r=r.filter((function(t){return e.missions[t].difficulty!==o.difficulty})))};i.length<t;)o();return i}},{key:"resetIfExpired",value:function(){if(this.isExpired){var t,e=Tv(this.missions);try{for(e.s();!(t=e.n()).done;){var r=t.value;r.canClaim&&r.claim()}}catch(t){e.e(t)}finally{e.f()}this.canClaimMainReward&&this.claimMainReward();for(var n=this._generateRandomMissions(this.MISSION_COUNT),i=0;i<this.missions.length;i++){var o=this.missions[i],a=n[i];o.reset({type:a})}this.generationDatetime.value=(new Date).toISOString(),this.isMainRewardClaimed.value=!1,this.mainRewardAmount.value=100*Math.ceil(iw.meta.upgrades.averageUpgradesPrice*fv.missionsBonusRewardMultiplier/100),this.wasEverOpenedAfterReset.value=!1,this._isExpired_lastCheck=void 0}}},{key:"addProgress",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Tv(this.missions);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.type.value===t&&i.addProgress(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"maxProgress",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Tv(this.missions);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.type.value===t&&i.maxProgress(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"__subtractDay",value:function(){var t=this.generationDatetime.value,e=t?new Date(t):new Date;e.setDate(e.getDate()-1),this.generationDatetime.value=e.toISOString()}},{key:"estimateTimeToNextResetMs",value:function(){var t=new Date;return+new Date(t.getFullYear(),t.getMonth(),t.getDate()+1,0,0,0,0)-+t}},{key:"canClaimAnything",get:function(){return this.missions.some((function(t){return t.canClaim}))||this.canClaimMainReward}},{key:"isNotificationPending",get:function(){return!!this.canClaimAnything||!this.wasEverOpenedAfterReset.value}}])}(),jv=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:Cv((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||Cv(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==Sv(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:Pv(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return Mv(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(Iv,[],[[xt.aD,2,"claimMainReward"],[xt.aD,2,"resetIfExpired"],[xt.Fl,3,"isNotificationPending"]]).e,Bv=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||Ev(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(jv,1);function Lv(t){return Lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(t)}function Rv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nv(n.key),n)}}function qv(t,e,r){return e&&Rv(t.prototype,e),r&&Rv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nv(t){var e=function(t,e){if("object"!=Lv(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Lv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lv(e)?e:e+""}bv=Bv[0];var Fv=qv((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));function Vv(t){return Vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(t)}function Dv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zv(n.key),n)}}function Gv(t,e,r){return(e=zv(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zv(t){var e=function(t,e){if("object"!=Vv(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Vv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vv(e)?e:e+""}var Uv,Yv=["elk","snowMan","mushroom","killerWhale","archer","walrusSeal"],Xv=function(){return function(t,e,r){return e&&Dv(t.prototype,e),r&&Dv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Gv(this,"isHitTutorialFinished",new Og({key:"tutorial.isHitTutorialFinished",defaultValue:!1})),Gv(this,"isAmazingHitTutorialFinished",new Og({key:"tutorial.isAmazingHitTutorialFinished",defaultValue:!1})),Gv(this,"isBuritoBisonAbilityTutorialFinished",new Og({key:"tutorial.isBuritoBisonAbilityTutorialFinished",defaultValue:!1})),Gv(this,"isUpgradeTutorialFinished",new Og({key:"tutorial.isUpgradeTutorialFinished",defaultValue:!1})),Gv(this,"burityBisonObstacles",Object.fromEntries(Yv.map((function(t){return[t,{isFinished:new Og({key:"tutorial.buritoBisonObstacle.".concat(t,".isFinished"),defaultValue:!1})}]}))))}),[{key:"__finishAllTutorials",value:function(){this.isHitTutorialFinished.value=!0,this.isAmazingHitTutorialFinished.value=!0,this.isBuritoBisonAbilityTutorialFinished.value=!0,this.isUpgradeTutorialFinished.value=!0;for(var t=0,e=Yv;t<e.length;t++){var r=e[t];this.burityBisonObstacles[r].isFinished.value=!0}}}])}();function Wv(t){return Wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wv(t)}function Hv(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Zv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qv(n.key),n)}}function Kv(t,e,r){return(e=Qv(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qv(t){var e=function(t,e){if("object"!=Wv(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Wv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wv(e)?e:e+""}function Jv(t,e,r){"symbol"==Wv(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function $v(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?Wv(t):"null"));return t}var tb,eb=function(){return function(t,e,r){return e&&Zv(t.prototype,e),r&&Zv(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Kv(this,"maxLevel",(Uv(this),100)),Kv(this,"title","Power"),Kv(this,"priceData",{min:300,max:25300,at:function(t){return Math.floor((0,Et.t7)(this.min,this.max,t))}}),Kv(this,"level",new Og({key:"upgrades.ability.level",defaultValue:1})),Kv(this,"freeUpgradeCount",new Og({key:"upgrades.ability.freeUpgrade",defaultValue:0}))}),[{key:"levelProgress01",get:function(){return(0,Et.V2)(this.level.value/this.maxLevel)}},{key:"price",get:function(){return this.priceData.at(this.levelProgress01)}},{key:"isCompleted",get:function(){return this.level.value>=this.maxLevel}},{key:"canBuy",get:function(){return!this.isCompleted&&iw.meta.coins.value>=this.price}},{key:"buyOnLevel",value:function(){this.freeUpgradeCount.value>0?this.freeUpgradeCount.value-=1:((0,rt.hu)(this.canBuy),iw.meta.coins.value-=this.price),this.level.value+=1}}])}(),rb=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:Jv((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||Jv(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==Wv(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:Qv(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return $v(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(eb,[],[[xt.aD,2,"buyOnLevel"]]).e,nb=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Hv(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hv(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(rb,1);function ib(t){return ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ib(t)}function ob(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ab(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ub(n.key),n)}}function sb(t,e,r){return(e=ub(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ub(t){var e=function(t,e){if("object"!=ib(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=ib(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ib(e)?e:e+""}function lb(t,e,r){"symbol"==ib(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function cb(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?ib(t):"null"));return t}Uv=nb[0];var hb=function(){return function(t,e,r){return e&&ab(t.prototype,e),r&&ab(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),sb(this,"maxLevel",(tb(this),100)),sb(this,"title","Beat Force"),sb(this,"priceData",{min:450,max:35450,at:function(t){return Math.floor((0,Et.t7)(this.min,this.max,t))}}),sb(this,"valueData",{min:1e4,max:63e3,curve:new on([{time:0,value:0,inSlope:2,outSlope:2},{time:.10400339,value:.36890617,inSlope:.973948,outSlope:.973948},{time:.6,value:.78326464,inSlope:.738377,outSlope:.738377},{time:1,value:1,inSlope:0,outSlope:0}]),at:function(t){return Math.floor((0,Et.t7)(this.min,this.max,this.curve.evaluate(t)))}}),sb(this,"level",new Og({key:"upgrades.beatForce.level",defaultValue:1})),sb(this,"freeUpgradeCount",new Og({key:"upgrades.beatForce.freeUpgrade",defaultValue:0}))}),[{key:"levelProgress01",get:function(){return(0,Et.V2)(this.level.value/this.maxLevel)}},{key:"price",get:function(){return this.priceData.at(this.levelProgress01)}},{key:"isCompleted",get:function(){return this.level.value>=this.maxLevel}},{key:"canBuy",get:function(){return!this.isCompleted&&iw.meta.coins.value>=this.price}},{key:"buyOnLevel",value:function(){this.freeUpgradeCount.value>0?this.freeUpgradeCount.value-=1:((0,rt.hu)(this.canBuy),iw.meta.coins.value-=this.price),this.level.value+=1}},{key:"value",get:function(){return this.valueData.at(this.levelProgress01)}}])}(),fb=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:lb((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||lb(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==ib(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:ub(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return cb(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(hb,[],[[xt.aD,2,"buyOnLevel"]]).e,pb=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ob(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ob(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(fb,1);function db(t){return db="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},db(t)}function mb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gb(n.key),n)}}function yb(t,e,r){return(e=gb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gb(t){var e=function(t,e){if("object"!=db(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=db(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==db(e)?e:e+""}tb=pb[0];var vb,bb=function(){return function(t,e,r){return e&&mb(t.prototype,e),r&&mb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),yb(this,"maxLevel",100),yb(this,"startPositiveObstaclesGenerationDistanceData",{min:1e3,max:3e4,at:function(t){return(0,Et.t7)(this.min,this.max,t)}}),yb(this,"finishPositiveObstaclesGenerationDistanceData",{min:3e3,max:6e4,at:function(t){return(0,Et.t7)(this.min,this.max,t)}})}),[{key:"level",get:function(){var t=iw.meta.upgrades;return t.ability.level.value+t.beatForce.level.value+t.groundCollision.level.value+t.maxVelocity.level.value}},{key:"levelProgress01",get:function(){return(0,Et.V2)(this.level/this.maxLevel)}},{key:"startPositiveObstaclesGenerationDistance",get:function(){return this.startPositiveObstaclesGenerationDistanceData.at(this.levelProgress01)}},{key:"finishPositiveObstaclesGenerationDistance",get:function(){return this.finishPositiveObstaclesGenerationDistanceData.at(this.levelProgress01)}}])}();function _b(t){return _b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_b(t)}function wb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function xb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tb(n.key),n)}}function Sb(t,e,r){return(e=Tb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tb(t){var e=function(t,e){if("object"!=_b(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_b(e)?e:e+""}function Eb(t,e,r){"symbol"==_b(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function Ob(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?_b(t):"null"));return t}var Ab=function(){return function(t,e,r){return e&&xb(t.prototype,e),r&&xb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Sb(this,"maxLevel",(vb(this),100)),Sb(this,"title","Rebound"),Sb(this,"priceData",{min:450,max:30450,at:function(t){return Math.floor((0,Et.t7)(this.min,this.max,t))}}),Sb(this,"level",new Og({key:"upgrades.groundCollision.level",defaultValue:1})),Sb(this,"freeUpgradeCount",new Og({key:"upgrades.groundCollision.freeUpgrade",defaultValue:0}))}),[{key:"levelProgress01",get:function(){return(0,Et.V2)(this.level.value/this.maxLevel)}},{key:"price",get:function(){return this.priceData.at(this.levelProgress01)}},{key:"isCompleted",get:function(){return this.level.value>=this.maxLevel}},{key:"canBuy",get:function(){return!this.isCompleted&&iw.meta.coins.value>=this.price}},{key:"buyOnLevel",value:function(){this.freeUpgradeCount.value>0?this.freeUpgradeCount.value-=1:((0,rt.hu)(this.canBuy),iw.meta.coins.value-=this.price),this.level.value+=1}}])}(),kb=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:Eb((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||Eb(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==_b(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:Tb(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return Ob(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(Ab,[],[[xt.aD,2,"buyOnLevel"]]).e,Pb=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return wb(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(kb,1);function Cb(t){return Cb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cb(t)}function Mb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jb(n.key),n)}}function Ib(t,e,r){return(e=jb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jb(t){var e=function(t,e){if("object"!=Cb(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Cb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cb(e)?e:e+""}vb=Pb[0];var Bb,Lb=function(){return function(t,e,r){return e&&Mb(t.prototype,e),r&&Mb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ib(this,"maxLevel",100),Ib(this,"valueData",{min:2,max:10,curve:new on([{time:0,value:0,inSlope:1,outSlope:1,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.33333334},{time:.20260516,value:.3062144,inSlope:.79936296,outSlope:.79936296,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.06598827},{time:1,value:1,inSlope:.72826165,outSlope:.72826165,tangentMode:0,weightedMode:0,inWeight:.08626308,outWeight:.33333334}]),at:function(t){return(0,Et.t7)(this.min,this.max,this.curve.evaluate(t))}})}),[{key:"level",get:function(){return iw.meta.upgrades.beatForce.level.value}},{key:"levelProgress01",get:function(){return(0,Et.V2)(this.level/this.maxLevel)}},{key:"value",get:function(){return this.valueData.at(this.levelProgress01)}}])}();function Rb(t){return Rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rb(t)}function qb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Nb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vb(n.key),n)}}function Fb(t,e,r){return(e=Vb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vb(t){var e=function(t,e){if("object"!=Rb(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Rb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rb(e)?e:e+""}function Db(t,e,r){"symbol"==Rb(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function Gb(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?Rb(t):"null"));return t}var zb=function(){return function(t,e,r){return e&&Nb(t.prototype,e),r&&Nb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Fb(this,"maxLevel",(Bb(this),100)),Fb(this,"title","Max Speed"),Fb(this,"priceData",{min:800,max:40800,at:function(t){return Math.floor((0,Et.t7)(this.min,this.max,t))}}),Fb(this,"valueData",{min:4500,max:11e3,curve:new on([{time:0,value:0,inSlope:2,outSlope:2},{time:.017077269,value:.14345564,inSlope:.9789981,outSlope:.9789981},{time:.6,value:.6635766,inSlope:.8893071,outSlope:.8893071},{time:1,value:1,inSlope:.8891861,outSlope:.8891861}]),at:function(t){return Math.floor((0,Et.t7)(this.min,this.max,this.curve.evaluate(t)))}}),Fb(this,"level",new Og({key:"upgrades.maxVelocity.level",defaultValue:1})),Fb(this,"freeUpgradeCount",new Og({key:"upgrades.maxVelocity.freeUpgrade",defaultValue:0}))}),[{key:"levelProgress01",get:function(){return(0,Et.V2)(this.level.value/this.maxLevel)}},{key:"price",get:function(){return this.priceData.at(this.levelProgress01)}},{key:"isCompleted",get:function(){return this.level.value>=this.maxLevel}},{key:"canBuy",get:function(){return!this.isCompleted&&iw.meta.coins.value>=this.price}},{key:"buyOnLevel",value:function(){this.freeUpgradeCount.value>0?this.freeUpgradeCount.value-=1:((0,rt.hu)(this.canBuy),iw.meta.coins.value-=this.price),this.level.value+=1}},{key:"value",get:function(){return this.valueData.at(this.levelProgress01)}}])}(),Ub=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:Db((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||Db(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==Rb(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:Vb(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return Gb(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(zb,[],[[xt.aD,2,"buyOnLevel"]]).e,Yb=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return qb(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ub,1);function Xb(t){return Xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xb(t)}function Wb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zb(n.key),n)}}function Hb(t,e,r){return(e=Zb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zb(t){var e=function(t,e){if("object"!=Xb(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Xb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xb(e)?e:e+""}Bb=Yb[0];var Kb=function(){return function(t,e,r){return e&&Wb(t.prototype,e),r&&Wb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Hb(this,"maxLevel",100),Hb(this,"distanceMultiplierData",{min:.015,max:.025,at:function(t){return(0,Et.t7)(this.min,this.max,t)}}),Hb(this,"xVelocityMultiplierData",{min:.8,max:1.3,curve:new on([{time:0,value:0,inSlope:.2887931,outSlope:.2887931,tangentMode:0,weightedMode:0,inWeight:.33333334,outWeight:.07164179},{time:1,value:1,inSlope:1.8152744,outSlope:1.8152744,tangentMode:0,weightedMode:0,inWeight:.04179102,outWeight:.33333334}]),at:function(t){return(0,Et.t7)(this.min,this.max,this.curve.evaluate(t))}})}),[{key:"level",get:function(){var t=iw.meta.upgrades;return t.ability.level.value+t.beatForce.level.value+t.groundCollision.level.value+t.maxVelocity.level.value}},{key:"levelProgress01",get:function(){return(0,Et.V2)(this.level/this.maxLevel)}},{key:"distanceMultiplier",get:function(){return this.distanceMultiplierData.at(this.levelProgress01)}},{key:"xVelocityMultiplier",get:function(){return this.xVelocityMultiplierData.at(this.levelProgress01)}},{key:"distanceNormalizeMultiplier",get:function(){return this.distanceMultiplierData.min/this.distanceMultiplier}}])}();function Qb(t){return Qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qb(t)}function Jb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t_(n.key),n)}}function $b(t,e,r){return(e=t_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t_(t){var e=function(t,e){if("object"!=Qb(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Qb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qb(e)?e:e+""}var e_,r_=function(){return function(t,e,r){return e&&Jb(t.prototype,e),r&&Jb(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),$b(this,"ability",new eb),$b(this,"beatForce",new hb),$b(this,"groundCollision",new Ab),$b(this,"maxVelocity",new zb),$b(this,"generation",new bb),$b(this,"velocityIncreasing",new Kb),$b(this,"maxVelocityDecreaseTime",new Lb),$b(this,"manualUpgrades",[this.ability,this.beatForce,this.groundCollision,this.maxVelocity])}),[{key:"averageUpgradesPrice",get:function(){return this.manualUpgrades.reduce((function(t,e){return t+e.price}),0)/this.manualUpgrades.length}},{key:"averageUpgradesLevel",get:function(){return this.manualUpgrades.reduce((function(t,e){return t+e.level.value}),0)/this.manualUpgrades.length}},{key:"getRandomUpgradeReward",value:function(){var t=this.manualUpgrades.filter((function(t){return!t.isCompleted}));if(0!==t.length)return function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random,r=t.length-1;r>0;r--){var n=Math.floor(e()*(r+1)),i=[t[n],t[r]];t[r]=i[0],t[n]=i[1]}}(t),t[0]}},{key:"summedUpgradesLevelProgress01",get:function(){var t=this.manualUpgrades.reduce((function(t,e){return t+e.level.value}),0),e=this.manualUpgrades.reduce((function(t,e){return t+e.maxLevel}),0);return 0===e?0:(0,Et.V2)(t/e)}},{key:"isAllUpgradesCompleted",get:function(){return this.manualUpgrades.every((function(t){return t.isCompleted}))}}])}();function n_(t){return n_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n_(t)}function i_(t){return function(t){if(Array.isArray(t))return a_(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o_(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o_(t,e){if(t){if("string"==typeof t)return a_(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a_(t,e):void 0}}function a_(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function s_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l_(n.key),n)}}function u_(t,e,r){return(e=l_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l_(t){var e=function(t,e){if("object"!=n_(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=n_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n_(e)?e:e+""}function c_(t,e,r){"symbol"==n_(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function h_(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?n_(t):"null"));return t}var f_,p_=function(){return function(t,e,r){return e&&s_(t.prototype,e),r&&s_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u_(this,"minDistance",(e_(this),150)),u_(this,"maxCount",7),u_(this,"distances",new Og({key:"deadFlyingCharacters.distances",defaultValue:[]}))}),[{key:"register",value:function(t){t<this.minDistance||(this.distances.value=[].concat(i_(this.distances.value),[t]).slice(-this.maxCount))}}])}(),d_=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:c_((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||c_(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==n_(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:l_(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return h_(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(p_,[],[[xt.aD,2,"register"]]).e,m_=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||o_(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(d_,1);function y_(t){return y_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y_(t)}function g_(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function v_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,__(n.key),n)}}function b_(t,e,r){return(e=__(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function __(t){var e=function(t,e){if("object"!=y_(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=y_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==y_(e)?e:e+""}function w_(t,e,r){"symbol"==y_(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function x_(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?y_(t):"null"));return t}e_=m_[0];var S_=function(){return function(t,e,r){return e&&v_(t.prototype,e),r&&v_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),b_(this,"coins",(f_(this),new Og({key:"coins",defaultValue:0}))),b_(this,"gems",new Og({key:"gems",defaultValue:0})),b_(this,"maxDistance",new Og({key:"maxDistance",defaultValue:-1})),b_(this,"matchesCount",new Og({key:"matchesCount",defaultValue:0})),b_(this,"bats",new Yg),b_(this,"soundsMuted",new Og({key:"soundsMuted",defaultValue:!1})),b_(this,"musicMuted",new Og({key:"musicMuted",defaultValue:!1})),b_(this,"upgrades",new r_),b_(this,"statistics",new Fv),b_(this,"tutorial",new Xv),b_(this,"isStoryIntroPlayed",new Og({key:"isStoryIntroPlayed",defaultValue:!1})),b_(this,"isStoryOutroPlayed",new Og({key:"isStoryOutroPlayed",defaultValue:!1})),b_(this,"isMapIntroShown",new Og({key:"isMapIntroShown",defaultValue:!1})),b_(this,"isDailyMissionsUnlocked",new Og({key:"isDailyMissionsUnlocked",defaultValue:!1})),b_(this,"dailyGift",new uv),b_(this,"dailyMissions",new Iv),b_(this,"deadFlyingCharacters",new p_),b_(this,"lastMatchNumberWithGeneratedChest",new Og({key:"lastMatchNumberWithGeneratedChest",defaultValue:-1}))}),[{key:"isUpgradingUnlocked",get:function(){return this.tutorial.isHitTutorialFinished.value&&this.tutorial.isBuritoBisonAbilityTutorialFinished.value&&this.tutorial.isAmazingHitTutorialFinished.value}},{key:"registerFinish",value:function(t){this.maxDistance.value=Math.max(this.maxDistance.value,t),this.matchesCount.value+=1,this.deadFlyingCharacters.register(t)}}])}(),T_=function(t,e,r,n,i,o){var a,s,u,l,c,h,f,p=Symbol.metadata||Symbol.for("Symbol.metadata"),d=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function v(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function b(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function _(t,e,r,n,i,o,u,l,c,h,f){function p(t){if(!f(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],_=!u,w=1===i,x=3===i,S=4===i,T=2===i;function E(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),O[e].call(i,o)}}if(!_){var O={},A=[],k=x?"get":S||w?"set":"value";if(c?(h||w?O={get:w_((function(){return g(this)}),n,"get"),set:function(t){e[4](this,t)}}:O[k]=g,h||w_(O[k],n,T?"":k)):h||(O=Object.getOwnPropertyDescriptor(t,n)),!h&&!c){if((s=y[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+O[k].name+") is not supported yet");y[+l][n]=i<3?1:i}}for(var P=t,C=m.length-1;C>=0;C-=r?2:1){var M=b(m[C],"A decorator","be",!0),I=r?m[C-1]:void 0,j={},B={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");b(e,"An initializer","be",!0),o.push(e)}.bind(null,j)};if(_)s=M.call(I,P,B),j.v=1,b(s,"class decorators","return")&&(P=s);else if(B.static=l,B.private=c,s=B.access={has:c?f.bind():function(t){return n in t}},S||(s.get=c?T?function(t){return p(t),O.value}:E("get",0,p):function(t){return t[n]}),T||x||(s.set=c?E("set",0,p):function(t,e){t[n]=e}),P=M.call(I,w?{get:O.get,set:O.set}:O[k],B),j.v=1,w){if("object"==y_(P)&&P)(s=b(P.get,"accessor.get"))&&(O.get=s),(s=b(P.set,"accessor.set"))&&(O.set=s),(s=b(P.init,"accessor.init"))&&A.unshift(s);else if(void 0!==P)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else b(P,(h?"field":"method")+" decorators","return")&&(h?A.unshift(P):O[k]=P)}return i<2&&u.push(v(A,l,1),v(o,l,0)),h||_||(c?w?u.splice(-1,0,E("get",l),E("set",l)):u.push(T?O[k]:b.call.bind(O[k])):d(t,n,O)),P}function w(t){return d(t,p,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[p]),a=m(null==a?null:a),c=[],h=function(t){t&&c.push(v(t))},f=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],h=7&s;if((8&s)==e&&!h==n){var f=a[2],p=!!a[3],d=16&s;_(e?t:t.prototype,a,d,p?"#"+f:__(f),h,h<2?[]:e?l=l||[]:u=u||[],c,!!e,p,n,e&&p?function(e){return x_(e)===t}:i)}}},f(8,0),f(0,0),f(8,1),f(0,1),h(u),h(l),s=c,g||w(t),{e:s,get c(){var r=[];return g&&[w(t=_(t,[e],n,t.name,5,r)),v(r,1)]}}}(S_,[],[[xt.aD,2,"registerFinish"]]).e,E_=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return g_(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g_(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(T_,1);f_=E_[0];var O_=r(8629);function A_(t){return A_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A_(t)}function k_(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return P_(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P_(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function P_(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function C_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I_(n.key),n)}}function M_(t,e,r){return(e=I_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I_(t){var e=function(t,e){if("object"!=A_(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=A_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==A_(e)?e:e+""}var j_=function(){return function(t,e,r){return e&&C_(t.prototype,e),r&&C_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),M_(this,"disposeBag",new Is.$n),M_(this,"_themes",{"main-menu":function(){return[k.Z.playSingle("music/sportmasters_final_intro_2",!0,.5)]},main:function(){return[k.Z.playSingle("music/sportmasters_final_loop",!0,.5)]}}),this._musicTheme=void 0,this._music=[],this.disposeBag.push(k.Z.observer.onOff("isLocked:changed",this._ensureMusicTheme,this)),this._ensureMusicTheme()}),[{key:"_ensureMusicTheme",value:function(){var t,e=k_(this._music);try{var r=function(){var e=t.value;if(!e)return 1;e.fade(e.volume(),0,500),new a.kX({t:0},iw.unscaledTweenGroup).to({t:1},500).onComplete((function(){e.stop(),e.unload()})).start()};for(e.s();!(t=e.n()).done;)r()}catch(t){e.e(t)}finally{e.f()}if(!k.Z.isLocked){var n=this._musicTheme;if(n){this._music=n in this._themes?this._themes[n]():[k.Z.playSingle(n,!0,.5)];var i,o,s,u=k_(this._music);try{for(u.s();!(i=u.n()).done;){var l=i.value;if(l){var c=l.volume();l.fade(0,c,500),s=void 0,(null!==(s=(o=l).tags)&&void 0!==s?s:o.tags={}).music=!0,o.mute(iw.meta.musicMuted.value)}}}catch(t){u.e(t)}finally{u.f()}}}}},{key:"fade",value:function(t){var e,r=t.factor,n=t.durationMs,i=void 0===n?200:n,o=k_(this._music);try{for(o.s();!(e=o.n()).done;){var a=e.value;if(a){var s=a.volume();a.fade(s,s*r,i)}}}catch(t){o.e(t)}finally{o.f()}}},{key:"setMusicTheme",value:function(t){this._musicTheme!==t&&(this._musicTheme=t,this._ensureMusicTheme())}},{key:"dispose",value:function(){this.disposeBag.dispose()}}])}();function B_(t){return B_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B_(t)}function L_(){L_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==B_(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(B_(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function R_(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function q_(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){R_(o,n,i,a,s,"next",t)}function s(t){R_(o,n,i,a,s,"throw",t)}a(void 0)}))}}function N_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F_(n.key),n)}}function F_(t){var e=function(t,e){if("object"!=B_(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=B_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==B_(e)?e:e+""}function V_(t,e,r){return e=G_(e),function(t,e){if(e&&("object"==B_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,D_()?Reflect.construct(e,r||[],G_(t).constructor):e.apply(t,r))}function D_(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(D_=function(){return!!t})()}function G_(t){return G_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},G_(t)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},z_(t,e)}var U_=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=V_(this,e),console.log("StoryWindow created"),t.root=t.addChild(new n.W2),t.overlay=t.root.addChild(new n.W2),t.scenePromise=h.Z.createScene("intro-movie-scene"),t.scenePromise.then((function(e){t._destroyed||(t.scene=e,t.root.addChild(e),t.bottomBackground=(0,rt.q0)(e,"bottom-back"),t.penguinBoy=(0,rt.q0)(e,"penguinBoy"),t.penguinBoy.state.clearTracks(),t.penguinGirl=(0,rt.q0)(e,"penguinGirl"),t.penguinGirl.state.clearTracks(),t.penguinGirl.visible=!1,t.bear=(0,rt.q0)(e,"bear"),t.bear.state.clearTracks(),t.bear.visible=!1,t.background=(0,rt.q0)(e,"background"),t.background.state.clearTracks(),t.disposeBag.push(A.Z.onOff("resize",t.handleResize,t)),t.handleResize())})),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}(e,t),function(t,e,r){return e&&N_(t.prototype,e),r&&N_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"playSounds",value:(s=q_(L_().mark((function t(){return L_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new a.kX({t:0}).to({t:1},1500).start();case 2:return k.Z.playSingle("history/spyglass"),t.next=5,new a.kX({t:0}).to({t:1},1e3).start();case 5:return k.Z.playSingle("history/penguin_girl"),t.next=8,new a.kX({t:0}).to({t:1},2e3).start();case 8:return k.Z.playSingle("history/penguin_girl_eye"),t.next=11,new a.kX({t:0}).to({t:1},1e3).start();case 11:return k.Z.playSingle("history/penguin_love"),t.next=14,new a.kX({t:0}).to({t:1},2e3).start();case 14:return k.Z.playSingle("history/bear_1"),t.next=17,new a.kX({t:0}).to({t:1},1e3).start();case 17:return k.Z.playSingle("history/penguin_help_me"),t.next=20,new a.kX({t:0}).to({t:1},500).start();case 20:k.Z.playSingle("history/bear_2");case 21:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)})},{key:"playIntroMovie",value:(o=q_(L_().mark((function t(){return L_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._destroyed){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.scenePromise;case 4:return this.scene.createAnimation("fadeOut",!1,!0),this.penguinBoy.setAnimation("frame_01",!1),this.background.setAnimation("frame_01",!1),this.playSounds(),t.next=10,new a.kX({t:0}).to({t:1},2e3).start();case 10:return this.bottomBackground.tint=16705618,this.penguinBoy.visible=!1,this.penguinGirl.visible=!0,this.background.setAnimation("frame_02",!1),this.penguinGirl.setAnimation("frame_02",!1),t.next=17,new a.kX({t:0}).to({t:1},3500).start();case 17:return this.bottomBackground.tint=16777215,this.penguinGirl.visible=!1,this.penguinBoy.visible=!0,this.bear.visible=!0,this.background.setAnimation("frame_03",!1),this.bear.setAnimation("frame_03",!1),this.penguinBoy.setAnimation("frame_03",!1),this.penguinBoy.position.y=-100,t.next=27,new a.kX({t:0}).to({t:1},4e3).start();case 27:return this.scene.createAnimation("fadeIn",!1,!0),t.next=30,new a.kX({t:0}).to({t:1},1e3).start();case 30:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"handleShow",value:(i=q_(L_().mark((function t(){var e=this;return L_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([q_(L_().mark((function t(){var r;return L_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.scenePromise;case 2:return(r=t.sent).alpha=0,t.next=6,new a.kX(r).to({alpha:1},100).start();case 6:case"end":return t.stop()}}),t)})))()]);case 2:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"handleRemove",value:(r=q_(L_().mark((function t(){return L_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new a.kX(this).to({alpha:0},50).start();case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"handleResize",value:function(){this.scene&&h.Z.resize(this.scene)}}]);var r,i,o,s}(n.W2);function Y_(t){return Y_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y_(t)}function X_(){X_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new P(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(C([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Y_(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(Y_(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function W_(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function H_(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){W_(o,n,i,a,s,"next",t)}function s(t){W_(o,n,i,a,s,"throw",t)}a(void 0)}))}}function Z_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rw(n.key),n)}}function Q_(t,e,r){return e=$_(e),function(t,e){if(e&&("object"==Y_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,J_()?Reflect.construct(e,r||[],$_(t).constructor):e.apply(t,r))}function J_(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(J_=function(){return!!t})()}function $_(t){return $_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$_(t)}function tw(t,e){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tw(t,e)}function ew(t,e,r){return(e=rw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rw(t){var e=function(t,e){if("object"!=Y_(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Y_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Y_(e)?e:e+""}var nw=function(t){function e(){return Z_(this,e),Q_(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tw(t,e)}(e,t),function(t,e,r){return e&&K_(t.prototype,e),r&&K_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,null,[{key:"pixiApp",get:function(){var t;return null!==(t=e._pixiApp)&&void 0!==t?t:(0,rt.D7)("pixiApp")}},{key:"pixiStageCenter",get:function(){var t;return null!==(t=e._pixiStageCenter)&&void 0!==t?t:(0,rt.D7)("pixiStageCenter")}},{key:"timeScale",get:function(){var t=Object.values(e.timeScalers);return 0===t.length?1:t.reduce((function(t,e){return t*e}),1)}},{key:"platformApi",get:function(){var t;return null!==(t=e._platformApi)&&void 0!==t?t:(0,rt.D7)("platformApi")}},{key:"meta",get:function(){var t;return null!==(t=e._meta)&&void 0!==t?t:(0,rt.D7)("meta")}},{key:"musicThemeManager",get:function(){var t;return null!==(t=this._musicThemeManager)&&void 0!==t?t:(0,rt.D7)("viewSoundsManager")}},{key:"init",value:(l=H_(X_().mark((function t(){var r,i,o,u,l,c;return X_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e._pixiApp=new n.Mx({width:e.size.width,height:e.size.height,transparent:!0,antialias:!0}),e.pixiApp.stage.sortableChildren=!0,e._pixiStageCenter=e.pixiApp.stage.addChild(new n.W2),e.currentWindow=null,e.queryString=s.parse(location.search),e.fps=0,e.fpsDelay=0,e.lastFPS=0,e.showFPS=!1,document.querySelector("#game").appendChild(e.pixiApp.view),a.ZP.Tween.prototype._start=a.ZP.Tween.prototype.start,a.ZP.Tween.prototype.start=function(t){var r;return a.ZP.Tween.prototype._start.call(this,null!==(r=null!=t?t:this._group.time)&&void 0!==r?r:e.liveTime)},O_.Ww.prototype.autoUpdateTransform=function(){var t=this.useUnscaledTime?e.unscaledLiveTime:e.liveTime;this.lastTime=this.lastTime||t;var r=.001*(t-this.lastTime);this.lastTime=t,this.update(r),n.W2.prototype.updateTransform.call(this)},A.Z.init(),A.Z.on("resize",e.handleResize,e),A.Z.start(),k.Z.init(),e._platformApi=new $({id:"bouncemasters"}),t.next=21,e.platformApi.init();case 21:return e._meta=new S_,this._musicThemeManager=new j_,e.initI18(),t.next=27,e.preloadLoaderAssets();case 27:return e.pixiApp.ticker.add(e.handleTickerTick,e),e.showFPS=e.getParam("fps"),e.addFPSView(),o=new mg,e.showWindow(o),t.next=34,e.preloadAssets();case 34:return u=o.requestInteraction(),null===(r=(i=e.platformApi).gameReady)||void 0===r||r.call(i),t.next=38,u;case 38:if(e.meta.isStoryIntroPlayed.value){t.next=44;break}return l=new U_,this.showWindow(l),t.next=43,l.playIntroMovie();case 43:e.meta.isStoryIntroPlayed.value=!0;case 44:(c=new ng).once("shown",(function(){e.preloadLazyAssets()})),this.showWindow(c);case 47:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"ticker",get:function(){return e.pixiApp.ticker}},{key:"initI18",value:(u=H_(X_().mark((function t(){var r,n;return X_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=et.S,"auto"!==et.S){t.next=5;break}return t.next=4,e.platformApi.getLanguage();case 4:r=t.sent;case 5:e.getParam("locale")&&(r=e.getParam("locale")),(n=M.Z.getSupportedLocales(et.j)).indexOf(r)<0&&(r=r.split("-")[0],n.indexOf(r)<0&&(r="en")),M.Z.init(r,et.j);case 9:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"preloadLoaderAssets",value:(o=H_(X_().mark((function t(){var r,n,i,o;return X_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loaderPreloader=new O(tt.loader),e.loaderPreloader.on("progress",(function(t){var r,n;null===(r=(n=e.platformApi).setLoadingProgress)||void 0===r||r.call(n,t)})),t.next=4,e.loaderPreloader.load();case 4:null===(r=(n=e.platformApi).setLoadingProgress)||void 0===r||r.call(n,100),null===(i=(o=e.platformApi).loadingComplete)||void 0===i||i.call(o);case 6:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"preloadAssets",value:(i=H_(X_().mark((function t(){var r;return X_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new O(tt.main)).on("progress",(function(t){e.observer.emit("mainLoadingProgress",t)})),t.next=4,r.load();case 4:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"preloadLazyAssets",value:(r=H_(X_().mark((function t(){return X_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.lazyPreloader=new O(tt.lazy),t.next=3,this.lazyPreloader.load();case 3:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"handleResize",value:function(t){e.pixiApp.renderer.resize(t.width,t.height),e.pixiApp.view.style.width=A.Z.windowWidth+"px",e.pixiApp.view.style.height=A.Z.windowHeight+"px",e.pixiStageCenter.position.set(t.width/2,t.height/2)}},{key:"showWindow",value:function(t){var r;H_(X_().mark((function t(){var r,n;return X_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.currentWindow){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,null===(r=n.handleRemove)||void 0===r?void 0:r.call(n);case 5:n.destroy({children:!0});case 6:case"end":return t.stop()}}),t)})))(),e.pixiStageCenter.addChild(t),e.currentWindow=t,null===(r=t.handleShow)||void 0===r||r.call(t)}},{key:"getSystemFont",value:function(){return"-apple-system,BlinkMacSystemFont,Roboto,Helvetica,Arial,sans-serif"}},{key:"getParam",value:function(t){return t in e.queryString&&(null===e.queryString[t]||e.queryString[t])}},{key:"addFPSView",value:function(){e.fpsView=e.pixiApp.stage.addChild(new n.xv("FPS: 0",{fontFamily:e.getSystemFont(),fill:"#fff",fontSize:48,lineJoin:"round",miterLimit:10,stroke:"#000",strokeThickness:6})),e.fpsView.zIndex=999,e.fpsView.x=12,e.fpsView.y=6,e.fpsView.visible=!!e.showFPS}},{key:"updateFPS",value:function(t){e.fpsView&&(e.fps++,e.fpsDelay+=t,e.fpsDelay>=1e3&&(e.fpsDelay=0,e.lastFPS=e.fps,e.fps=0,e.fpsView.text="FPS: "+e.lastFPS))}},{key:"paused",get:function(){return e.pausers.size>0}},{key:"pause",value:function(t){e.pausers.add(t),e.paused&&k.Z.soundsOff("pause")}},{key:"resume",value:function(t){e.pausers.delete(t),e.paused||k.Z.soundsOn("pause")}},{key:"handleTickerTick",value:function(){if(!e.paused){var t=Math.min(e.ticker.elapsedMS,42);e.updateFPS(t),e.tick(t)}}},{key:"tick",value:function(t){e.unscaledLiveTime+=t,e.unscaledTweenGroup.time=e.unscaledLiveTime;var r=t*e.timeScale;e.liveTime+=r,e.unscaledTweenGroup.update(e.unscaledLiveTime),a.ZP.update(e.liveTime),P.Z.update(r),C.Z.update(r),e.observer.emit("unscaledTick",t),e.observer.emit("tick",r)}},{key:"__applyUrlDataOverrides",value:function(){var t=new URLSearchParams(window.location.search),e={_config:nt,"_data.config":nt};t.forEach((function(t,r){for(var n in e)if(r.startsWith(n)){for(var i=(r=r.slice(n.length)).split("."),o=e[n];i.length>1;)o=o[i.shift()];o[i[0]]=JSON.parse(t)}}))}},{key:"__applyUrlStorageOverrides",value:function(){new URLSearchParams(window.location.search).forEach((function(t,r){r.startsWith("_storage.")&&(r=r.slice("_storage.".length),e.platformApi.storage.setItem(r,JSON.parse(t)))}))}}]);var r,i,o,u,l}(n.Mx);ew(nw,"id","unblock-evolution"),ew(nw,"size",{width:960,height:960}),ew(nw,"_pixiApp",null),ew(nw,"_pixiStageCenter",null),ew(nw,"timeScalers",{}),ew(nw,"unscaledLiveTime",0),ew(nw,"liveTime",0),ew(nw,"observer",new i.EventEmitter),ew(nw,"queryString",null),ew(nw,"fps",0),ew(nw,"fpsDelay",0),ew(nw,"lastFPS",0),ew(nw,"showFPS",!1),ew(nw,"currentWindow",null),ew(nw,"_platformApi",null),ew(nw,"_meta",null),ew(nw,"unscaledTweenGroup",new a.ZP.Group),ew(nw,"_musicThemeManager",null),ew(nw,"pausers",new Set);const iw=nw},6896:(t,e,r)=>{"use strict";r.d(e,{Et:()=>f,Fg:()=>y,RX:()=>p,Y8:()=>g});var n=r(6013),i=r(678);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return s(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function u(){u=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:A(t,r,s)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var d="suspendedStart",m="executing",y="completed",g={};function v(){}function b(){}function _(){}var w={};h(w,s,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==r&&n.call(S,s)&&(w=S);var T=_.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,a,s,u){var l=p(t[i],t,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==o(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return r("throw",t,s,u)}))}u(l.arg)}var a;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return a=a?a.then(i,i):i()}})}function A(e,r,n){var i=d;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=m;var l=p(e,r,n);if("normal"===l.type){if(i=n.done?y:"suspendedYield",l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=y,n.method="throw",n.arg=l.arg)}}}function k(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(o(e)+" is not iterable")}return b.prototype=_,i(T,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:b,configurable:!0}),b.displayName=h(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,h(t,c,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},E(O.prototype),h(O.prototype,l,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(f(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(T),h(T,c,"Generator"),h(T,s,(function(){return this})),h(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function l(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){l(o,n,i,a,s,"next",t)}function s(t){l(o,n,i,a,s,"throw",t)}a(void 0)}))}}var h={},f=function(){var t=c(u().mark((function t(e){var r,n,i,o;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=Object.keys(e),n=0,i=r;n<i.length;n++)o=i[n],d(o,e[o]);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(t){return h[t]},d=function(t,e){h[t]=e},m=function(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=Object.keys(i),o=0,s=n;o<s.length;o++){var u=s[o],l=i[u][e];if(l){var c,h=a(l);try{for(h.s();!(c=h.n()).done;){var f=c.value;if(f.name===t&&(!r||f.ext===r))return f}}catch(t){h.e(t)}finally{h.f()}}}return null},y=function(t){if(n.P6.TextureCache[t])return n.xE.from(t);var e=m(t,"images");if(e){var r=new n.xE.from(e.url);return d(t,{texture:r}),r}throw new Error("PIXI texture ".concat(t," not found"))},g=function(){var t=c(u().mark((function t(e){var r,i,o;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p(e)){t.next=2;break}return t.abrupt("return",p(e));case 2:if(r=m(e,"spine","json")){t.next=5;break}throw new Error("Spine ".concat(e," not found"));case 5:return(i=new n.aN).add(e,r.url),t.next=9,new Promise((function(t){i.load((function(){var r=i.resources[e].spineData;d(e,{spineData:r}),t(r)}))}));case 9:return o=t.sent,t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},9466:(t,e,r)=>{"use strict";r.d(e,{y:()=>k});var n=r(6013),i=r(6194),o=r(4488),a=r(1505);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function c(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}function h(t,e,r){return e=y(e),function(t,e){if(e&&("object"==s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,r||[],y(t).constructor):e.apply(t,r))}function f(t){var e="function"==typeof Map?new Map:void 0;return f=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return p(t,arguments,y(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),m(r,t)},f(t)}function p(t,e,r){if(d())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(t.bind.apply(t,n));return r&&m(i,r.prototype),i}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!t})()}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function g(t){for(var e=t.length-1;e>=0;e--){var r=t[e];"function"==typeof r?r():r.stop()}return t}var v=function(t){function e(){return u(this,e),h(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(e,t),r=e,(n=[{key:"stop",value:function(){return g(this)}},{key:"clear",value:function(){return g(t=this),t.length=0,t;var t}},{key:"dispose",value:function(){return this.clear()}}])&&l(r.prototype,n),i&&l(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(f(Array));function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A(n.key),n)}}function x(t,e,r){return e=T(e),function(t,e){if(e&&("object"==b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,S()?Reflect.construct(e,r||[],T(t).constructor):e.apply(t,r))}function S(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(S=function(){return!!t})()}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function E(t,e){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},E(t,e)}function O(t,e,r){return(e=A(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A(t){var e=function(t,e){if("object"!=b(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==b(e)?e:e+""}var k=function(t){function e(){var t,r,i,o,a,s,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=u.content,c=u.size,h=void 0===c?{}:c,f=h.width,p=void 0===f?100:f,d=h.height,m=void 0===d?100:d,y=u.border,g=u.noBack,b=u.backColors,w=u.cancelClickOnDrag,S=void 0!==w&&w,T=u.clickSound,E=void 0===T?void 0:T;return _(this,e),O(a=x(this,e),"_clickTrack",new v),a.root=a.addChild(new n.W2),a.size={width:p,height:m},a.border=y,a.noBack=g,a.backColors={default:null!==(t=null==b?void 0:b.default)&&void 0!==t?t:"#000000cd",pushed:null!==(r=null==b?void 0:b.pushed)&&void 0!==r?r:"#333333cd",disabled:null!==(i=null==b?void 0:b.disabled)&&void 0!==i?i:"#330000cd",disabledPushed:null!==(o=null==b?void 0:b.disabledPushed)&&void 0!==o?o:"#663333cd"},a.cancelClickOnDrag=S,a.clickSound=E,a.hitArea=new n.Ae(-.5*p,-.5*m,p,m),a.back=a.root.addChild(new n.TC),a.pushed=!1,a.disabled=!1,a._setBack(),a.content=a.root.addChild(l&&"string"!=typeof l?l:((s=new n.xv(null!=l?l:"??",{fontFamily:"sans-serif",fill:"#a4f9d1",fontSize:22,fontWeight:"bold",letterSpacing:1,lineJoin:"round",stroke:"#529f22",strokeThickness:1,wordWrap:!0,wordWrapWidth:.8*p,align:"center"})).anchor.set(.5,.5),a.text=s,s)),a.isClickCancelled=!1,a.on("click",a.onClick,a),a.on("tap",a.onClick,a),a.on("pointerdown",a.onPointerdown,a),a.on("pointerup",a.onPointerup,a),a.on("pointerupoutside",a.onPointerup,a),a.on("pointercancel",a.onPointerup,a),a.on("pointermove",a.onPointermove,a),a.on("pointerout",a.onPointermove,a),a.interactive=!0,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E(t,e)}(e,t),r=e,s=[{key:"_setBack",value:function(){if(this.back.clear(),!this.noBack){this.border&&this.back.lineStyle(3,16777215);var t=(0,o.Z)(this.backColors[this.pushed?this.disabled?"disabledPushed":"pushed":this.disabled?"disabled":"default"]),e=this.size,r=e.width,n=e.height;this.back.beginFill(t.rgbNumber(),t.alpha()).drawRoundedRect(.5*-r,.5*-n,r,n,10).endFill()}}},{key:"setPushed",value:function(t){this.pushed!==t&&(this.pushed=t,this._setBack())}},{key:"setDisabled",value:function(t){this.disabled!==t&&(this.disabled=t,this._setBack())}},{key:"onClick",value:function(){this.isClickCancelled||this.disabled||(this.clickSound&&a.Z.replaySingle(this.clickSound),this.emit("button:click"))}},{key:"onPointerdown",value:function(){this.disabled||(this.isClickCancelled=!1,this._clickTrack.clear().push(new i.kX(this.root.scale).to({x:.8,y:.8},60).start()))}},{key:"onPointerup",value:function(){this._clickTrack.clear().push(new i.kX(this.root.scale).to({x:1,y:1},60).start())}},{key:"onPointermove",value:function(){this.cancelClickOnDrag&&(this.isClickCancelled=!0,this.onPointerup())}},{key:"setAnchor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;this.pivot.set((t-.5)*this.size.width,(e-.5)*this.size.height)}}],s&&w(r.prototype,s),u&&w(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,s,u}(n.W2)},7104:(t,e,r)=>{"use strict";r.d(e,{Z:()=>K});var n=r(6013),i=r(6194),o=r(6896),a=r(1477),s=r(6871),u=r(4477),l=r(6891),c=r(2075),h=r.n(c),f=r(5977);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return m(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g(n.key),n)}}function g(t){var e=function(t,e){if("object"!=p(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==p(e)?e:e+""}function v(t,e,r){return e=S(e),function(t,e){if(e&&("object"==p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,b()?Reflect.construct(e,r||[],S(t).constructor):e.apply(t,r))}function b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(b=function(){return!!t})()}function _(t,e,r,n){var i=w(S(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function w(){return w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=x(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},w.apply(null,arguments)}function x(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}const E=function(t){function e(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=v(this,e)).proton=new f.Z(r),r.system=t,r.renderer=null,r.emitter=null,r.createEmitter(),r.createRenderer(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(e,t),r=e,i=[{key:"createEmitter",value:function(){for(;this.proton.emitters.length;)this.proton.removeEmitter(this.proton.emitters[0]);if(this.emitter=new(h().BehaviourEmitter),this.proton.addEmitter(this.emitter),this.system){var t=1;if(this.system.emitter){var e,r=d(this.system.emitter);try{for(r.s();!(e=r.n()).done;){var n=e.value;void 0!==n.damping&&(this.emitter.damping=n.damping),n.position&&(this.emitter.p.x=n.position.x,this.emitter.p.y=n.position.y),n.rate&&(this.emitter.rate=new(h().Rate)(this.convertValue(n.rate.count),this.convertValue(n.rate.timeout))),void 0!==n.emits&&(t=this.convertValue(n.emits)),n.emitterRotate&&this.emitter.addSelfBehaviour(new(h().Rotate)(this.convertValue(n.emitterRotate.from),this.convertValue(n.emitterRotate.to),"to",this.convertValue(n.emitterRotate.life),this.getEasing(n.emitterRotate.easing))),n.emitterGravity&&this.emitter.addSelfBehaviour(new(h().Gravity)(this.convertValue(n.emitterGravity.value),this.convertValue(n.emitterGravity.life),this.getEasing(n.emitterGravity.easing))),n.emitterRandomDrift&&this.emitter.addSelfBehaviour(new(h().RandomDrift)(this.convertValue(n.emitterRandomDrift.x),this.convertValue(n.emitterRandomDrift.y),this.convertValue(n.emitterRandomDrift.delay),this.convertValue(n.emitterRandomDrift.life),this.getEasing(n.emitterRandomDrift.easing))),n.emitterForce&&this.emitter.addSelfBehaviour(new(h().Force)(this.convertValue(n.emitterForce.x),this.convertValue(n.emitterForce.y),this.convertValue(n.emitterForce.life),this.getEasing(n.emitterForce.easing)))}}catch(t){r.e(t)}finally{r.f()}}if(this.system.initialize){var i,o=d(this.system.initialize);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(void 0!==a.mass&&this.emitter.addInitialize(new(h().Mass)(this.convertValue(a.mass.from),this.convertValue(a.mass.to))),a.life){var s=a.life.from,u=a.life.to;void 0===s&&(s=Number(a.life)),void 0===u&&(u=Number(a.life)),this.emitter.addInitialize(new(h().Life)(s,u))}a.radius&&this.emitter.addInitialize(new(h().Radius)(this.convertValue(a.radius.from),this.convertValue(a.radius.to))),a.velocity&&this.emitter.addInitialize(new(h().Velocity)(this.convertValue(a.velocity.speed),this.convertValue(a.velocity.angle),"polar")),a.body&&this.emitter.addInitialize(new(h().Body)(a.body)),a.positionPoint&&this.emitter.addInitialize(new(h().Position)(new(h().PointZone)(a.positionPoint.x,a.positionPoint.y))),a.positionCircle&&this.emitter.addInitialize(new(h().Position)(new(h().CircleZone)(a.positionCircle.x,a.positionCircle.y,a.positionCircle.radius))),a.positionLine&&this.emitter.addInitialize(new(h().Position)(new(h().LineZone)(a.positionLine.x1,a.positionLine.y1,a.positionLine.x2,a.positionLine.y2))),a.positionRect&&this.emitter.addInitialize(new(h().Position)(new(h().RectZone)(a.positionRect.x,a.positionRect.y,a.positionRect.width,a.positionRect.height))),a.positionArc&&h().ArcZone&&this.emitter.addInitialize(new(h().Position)(new(h().ArcZone)(a.positionArc.x,a.positionArc.y,a.positionArc.radius,a.positionArc.width)))}}catch(t){o.e(t)}finally{o.f()}}if(this.system.behaviour){var l,c=d(this.system.behaviour);try{for(c.s();!(l=c.n()).done;){var f=l.value;f.color&&this.emitter.addBehaviour(new(h().Color)(f.color.from,f.color.to,this.convertValue(f.color.life),this.getEasing(f.color.easing))),f.alpha&&this.emitter.addBehaviour(new(h().Alpha)(this.convertValue(f.alpha.from),this.convertValue(f.alpha.to),this.convertValue(f.alpha.life),this.getEasing(f.alpha.easing))),f.scale&&this.emitter.addBehaviour(new(h().Scale)(this.convertValue(f.scale.from),this.convertValue(f.scale.to),this.convertValue(f.scale.life),this.getEasing(f.scale.easing))),f.rotate&&this.emitter.addBehaviour(new(h().Rotate)(this.convertValue(f.rotate.from),this.convertValue(f.rotate.to),"to",this.convertValue(f.rotate.life),this.getEasing(f.rotate.easing))),f.force&&this.emitter.addBehaviour(new(h().Force)(this.convertValue(f.force.x),this.convertValue(f.force.y),this.convertValue(f.force.life),this.getEasing(f.force.easing))),f.circleForce&&h().CircleForce&&this.emitter.addBehaviour(new(h().CircleForce)(this.convertValue(f.circleForce.x),this.convertValue(f.circleForce.y),this.convertValue(f.circleForce.force),this.convertValue(f.circleForce.life))),f.gravity&&this.emitter.addBehaviour(new(h().Gravity)(this.convertValue(f.gravity.value),this.convertValue(f.gravity.life),this.getEasing(f.gravity.easing))),f.gravityWell&&this.emitter.addBehaviour(new(h().GravityWell)({x:this.convertValue(f.gravityWell.x),y:this.convertValue(f.gravityWell.y)},this.convertValue(f.gravityWell.force),this.convertValue(f.gravityWell.life))),f.cyclone&&this.emitter.addBehaviour(new(h().Cyclone)(this.convertAngle(f.cyclone.angle),this.convertValue(f.cyclone.force),this.convertValue(f.cyclone.life),this.getEasing(f.cyclone.easing))),f.randomDrift&&this.emitter.addBehaviour(new(h().RandomDrift)(this.convertValue(f.randomDrift.x),this.convertValue(f.randomDrift.y),this.convertValue(f.randomDrift.delay),this.convertValue(f.randomDrift.life),this.getEasing(f.randomDrift.easing))),f.attraction&&this.emitter.addBehaviour(new(h().Attraction)({x:this.convertValue(f.attraction.x),y:this.convertValue(f.attraction.y)},this.convertValue(f.attraction.force),this.convertValue(f.attraction.radius),this.convertValue(f.attraction.life))),f.repulsion&&this.emitter.addBehaviour(new(h().Repulsion)({x:this.convertValue(f.repulsion.x),y:this.convertValue(f.repulsion.y)},this.convertValue(f.repulsion.force),this.convertValue(f.repulsion.radius),this.convertValue(f.repulsion.life))),f.collision&&this.emitter.addBehaviour(new(h().Collision)(this.emitter,this.convertValue(f.collision.mass),null,this.convertValue(f.collision.life),this.getEasing(f.collision.easing))),f.crossZoneCircle&&this.emitter.addBehaviour(new(h().CrossZone)(new(h().CircleZone)(f.crossZoneCircle.x,f.crossZoneCircle.y,f.crossZoneCircle.radius),f.crossZoneCircle.effect)),f.crossZoneRect&&this.emitter.addBehaviour(new(h().CrossZone)(new(h().RectZone)(f.crossZoneRect.x,f.crossZoneRect.y,f.crossZoneRect.width,f.crossZoneRect.height),f.crossZoneRect.effect)),f.crossZoneLine&&this.emitter.addBehaviour(new(h().CrossZone)(new(h().LineZone)(f.crossZoneLine.x1,f.crossZoneLine.y1,f.crossZoneLine.x2,f.crossZoneLine.y2),f.crossZoneLine.effect))}}catch(t){c.e(t)}finally{c.f()}}this.emitter.emit(t)}}},{key:"convertValue",value:function(t){return t?"string"==typeof t&&"infinity"===t.toLowerCase()?1/0:void 0!==t.from&&void 0!==t.to?new(h().getSpan)(t.from,t.to):t:t}},{key:"convertAngle",value:function(t){if(!t)return 0;if(void 0!==t.from&&void 0!==t.to)return new(h().getSpan)(h().MathUtil.degreeTransform(t.from),h().MathUtil.degreeTransform(t.to));if(Array.isArray(t)){for(var e=0;e<t.length;e++)t[e]=h().MathUtil.degreeTransform(t[e]);return t}return h().MathUtil.degreeTransform(Number(t))}},{key:"getEasing",value:function(t){return t&&h().ease["ease"+t]||null}},{key:"createRenderer",value:function(){for(;this.proton.renderers.length;)this.proton.removeRenderer(this.proton.renderers[0]);this.system&&this.system.renderer?("pixi"===this.system.renderer.type&&(this.renderer=new(h().PixiRenderer)(this),this.renderer.particlesBlendMode=n.T$[this.system.renderer.blend]||n.T$.NORMAL),"canvas"===this.system.renderer.type&&(this.renderer=new(h().CanvasRenderer)(this),this.renderer.autoClear=!!this.system.renderer.autoClear,this.renderer.opacityFill=!!this.system.renderer.opacityFill)):this.renderer=new ProtonPIXIRenderer(this),this.renderer.createSprite=this.proton.createSprite.bind(this.proton),this.renderer.createCircle=this.proton.createCircle.bind(this.proton),this.renderer.setColor=!0,this.proton.addRenderer(this.renderer)}},{key:"dispose",value:function(){f.Z.destroy(this.proton),this.removeChildren()}},{key:"destroy",value:function(){this.dispose(),_(e,"destroy",this,1).apply(this,arguments)}}],i&&y(r.prototype,i),o&&y(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,o}(n.W2);var O=r(1328);const A=JSON.parse('{"stops":{"portrait":[1],"landscape":[1]},"settings":{"width":960,"height":960},"extras":{},"projectConfigs":{},"materials":{}}');(function(){var t=void 0,e=this;function r(r,n){var i,o=r.split("."),a=e;!(o[0]in a)&&a.execScript&&a.execScript("var "+o[0]);for(;o.length&&(i=o.shift());)o.length||n===t?a=a[i]?a[i]:a[i]={}:a[i]=n}var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function i(t){var e,r,i,o,a,s,u,l,c,h,f=t.length,p=0,d=Number.POSITIVE_INFINITY;for(l=0;l<f;++l)t[l]>p&&(p=t[l]),t[l]<d&&(d=t[l]);for(e=1<<p,r=new(n?Uint32Array:Array)(e),i=1,o=0,a=2;i<=p;){for(l=0;l<f;++l)if(t[l]===i){for(s=0,u=o,c=0;c<i;++c)s=s<<1|1&u,u>>=1;for(h=i<<16|l,c=s;c<e;c+=a)r[c]=h;++o}++i,o<<=1,a<<=1}return[r,p,d]}function o(t,e){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=n?new Uint8Array(t):t,this.m=!1,this.i=s,this.r=!1,!e&&(e={})||(e.index&&(this.a=e.index),e.bufferSize&&(this.h=e.bufferSize),e.bufferType&&(this.i=e.bufferType),e.resize&&(this.r=e.resize)),this.i){case a:this.b=32768,this.c=new(n?Uint8Array:Array)(32768+this.h+258);break;case s:this.b=0,this.c=new(n?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var a=0,s=1,u={t:a,s};o.prototype.k=function(){for(;!this.m;){var e=A(this,3);switch(1&e&&(this.m=!0),e>>>=1){case 0:var r=this.input,o=this.a,u=this.c,l=this.b,c=r.length,h=t,p=u.length,d=t;if(this.d=this.f=0,o+1>=c)throw Error("invalid uncompressed block header: LEN");if(h=r[o++]|r[o++]<<8,o+1>=c)throw Error("invalid uncompressed block header: NLEN");if(h===~(r[o++]|r[o++]<<8))throw Error("invalid uncompressed block header: length verify");if(o+h>r.length)throw Error("input buffer is broken");switch(this.i){case a:for(;l+h>u.length;){if(h-=d=p-l,n)u.set(r.subarray(o,o+d),l),l+=d,o+=d;else for(;d--;)u[l++]=r[o++];this.b=l,u=this.e(),l=this.b}break;case s:for(;l+h>u.length;)u=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(n)u.set(r.subarray(o,o+h),l),l+=h,o+=h;else for(;h--;)u[l++]=r[o++];this.a=o,this.b=l,this.c=u;break;case 1:this.j(T,O);break;case 2:var m,y,g,v,b=A(this,5)+257,_=A(this,5)+1,w=A(this,4)+4,x=new(n?Uint8Array:Array)(f.length),S=t,E=t,P=t,C=t,M=t;for(M=0;M<w;++M)x[f[M]]=A(this,3);if(!n)for(M=w,w=x.length;M<w;++M)x[f[M]]=0;for(m=i(x),S=new(n?Uint8Array:Array)(b+_),M=0,v=b+_;M<v;)switch(E=k(this,m),E){case 16:for(C=3+A(this,2);C--;)S[M++]=P;break;case 17:for(C=3+A(this,3);C--;)S[M++]=0;P=0;break;case 18:for(C=11+A(this,7);C--;)S[M++]=0;P=0;break;default:P=S[M++]=E}y=i(n?S.subarray(0,b):S.slice(0,b)),g=i(n?S.subarray(b):S.slice(b)),this.j(y,g);break;default:throw Error("unknown BTYPE: "+e)}}return this.n()};var l,c,h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=n?new Uint16Array(h):h,p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],d=n?new Uint16Array(p):p,m=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],y=n?new Uint8Array(m):m,g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],v=n?new Uint16Array(g):g,b=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=n?new Uint8Array(b):b,w=new(n?Uint8Array:Array)(288);for(l=0,c=w.length;l<c;++l)w[l]=143>=l?8:255>=l?9:279>=l?7:8;var x,S,T=i(w),E=new(n?Uint8Array:Array)(30);for(x=0,S=E.length;x<S;++x)E[x]=5;var O=i(E);function A(t,e){for(var r,n=t.f,i=t.d,o=t.input,a=t.a,s=o.length;i<e;){if(a>=s)throw Error("input buffer is broken");n|=o[a++]<<i,i+=8}return r=n&(1<<e)-1,t.f=n>>>e,t.d=i-e,t.a=a,r}function k(t,e){for(var r,n,i=t.f,o=t.d,a=t.input,s=t.a,u=a.length,l=e[0],c=e[1];o<c&&!(s>=u);)i|=a[s++]<<o,o+=8;if((n=(r=l[i&(1<<c)-1])>>>16)>o)throw Error("invalid code length: "+n);return t.f=i>>n,t.d=o-n,t.a=s,65535&r}function P(t,e){var r,n;if(this.input=t,this.a=0,!e&&(e={})||(e.index&&(this.a=e.index),e.verify&&(this.A=e.verify)),r=t[this.a++],n=t[this.a++],(15&r)!==C)throw Error("unsupported compression method");if(this.method=C,0!=((r<<8)+n)%31)throw Error("invalid fcheck flag:"+((r<<8)+n)%31);if(32&n)throw Error("fdict flag is not supported");this.q=new o(t,{index:this.a,bufferSize:e.bufferSize,bufferType:e.bufferType,resize:e.resize})}o.prototype.j=function(t,e){var r=this.c,n=this.b;this.o=t;for(var i,o,a,s,u=r.length-258;256!==(i=k(this,t));)if(256>i)n>=u&&(this.b=n,r=this.e(),n=this.b),r[n++]=i;else for(s=d[o=i-257],0<y[o]&&(s+=A(this,y[o])),i=k(this,e),a=v[i],0<_[i]&&(a+=A(this,_[i])),n>=u&&(this.b=n,r=this.e(),n=this.b);s--;)r[n]=r[n++-a];for(;8<=this.d;)this.d-=8,this.a--;this.b=n},o.prototype.w=function(t,e){var r=this.c,n=this.b;this.o=t;for(var i,o,a,s,u=r.length;256!==(i=k(this,t));)if(256>i)n>=u&&(u=(r=this.e()).length),r[n++]=i;else for(s=d[o=i-257],0<y[o]&&(s+=A(this,y[o])),i=k(this,e),a=v[i],0<_[i]&&(a+=A(this,_[i])),n+s>u&&(u=(r=this.e()).length);s--;)r[n]=r[n++-a];for(;8<=this.d;)this.d-=8,this.a--;this.b=n},o.prototype.e=function(){var t,e,r=new(n?Uint8Array:Array)(this.b-32768),i=this.b-32768,o=this.c;if(n)r.set(o.subarray(32768,r.length));else for(t=0,e=r.length;t<e;++t)r[t]=o[t+32768];if(this.g.push(r),this.l+=r.length,n)o.set(o.subarray(i,i+32768));else for(t=0;32768>t;++t)o[t]=o[i+t];return this.b=32768,o},o.prototype.z=function(t){var e,r,i,o=this.input.length/this.a+1|0,a=this.input,s=this.c;return t&&("number"==typeof t.p&&(o=t.p),"number"==typeof t.u&&(o+=t.u)),2>o?r=(i=(a.length-this.a)/this.o[2]/2*258|0)<s.length?s.length+i:s.length<<1:r=s.length*o,n?(e=new Uint8Array(r)).set(s):e=s,this.c=e},o.prototype.n=function(){var t,e,r,i,o,a=0,s=this.c,u=this.g,l=new(n?Uint8Array:Array)(this.l+(this.b-32768));if(0===u.length)return n?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(e=0,r=u.length;e<r;++e)for(i=0,o=(t=u[e]).length;i<o;++i)l[a++]=t[i];for(e=32768,r=this.b;e<r;++e)l[a++]=s[e];return this.g=[],this.buffer=l},o.prototype.v=function(){var t,e=this.b;return n?this.r?(t=new Uint8Array(e)).set(this.c.subarray(0,e)):t=this.c.subarray(0,e):(this.c.length>e&&(this.c.length=e),t=this.c),this.buffer=t},P.prototype.k=function(){var t,e,r=this.input;if(t=this.q.k(),this.a=this.q.a,this.A){e=(r[this.a++]<<24|r[this.a++]<<16|r[this.a++]<<8|r[this.a++])>>>0;var n=t;if("string"==typeof n){var i,o,a=n.split("");for(i=0,o=a.length;i<o;i++)a[i]=(255&a[i].charCodeAt(0))>>>0;n=a}for(var s,u=1,l=0,c=n.length,h=0;0<c;){c-=s=1024<c?1024:c;do{l+=u+=n[h++]}while(--s);u%=65521,l%=65521}if(e!==(l<<16|u)>>>0)throw Error("invalid adler-32 checksum")}return t};var C=8;r("Zlib.Inflate",P),r("Zlib.Inflate.prototype.decompress",P.prototype.k);var M,I,j,B,L={ADAPTIVE:u.s,BLOCK:u.t};if(Object.keys)M=Object.keys(L);else for(I in M=[],j=0,L)M[j++]=I;for(j=0,B=M.length;j<B;++j)r("Zlib.Inflate.BufferType."+(I=M[j]),L[I])}).call(window);var k=r(6432);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function C(t,e,r){return e=M(e),function(t,e){if(e&&("object"==P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,R()?Reflect.construct(e,r||[],M(t).constructor):e.apply(t,r))}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}function I(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L(t,e)}function j(t){return function(t){if(Array.isArray(t))return G(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||D(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e,r){if(R())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(t.bind.apply(t,n));return r&&L(i,r.prototype),i}function L(t,e){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},L(t,e)}function R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(R=function(){return!!t})()}function q(){q=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),s=new C(n||[]);return i(a,"_invoke",{value:E(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function y(){}function g(){}function v(){}var b={};l(b,a,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(M([])));w&&w!==r&&n.call(w,a)&&(b=w);var x=v.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==P(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function E(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(P(e)+" is not iterable")}return g.prototype=v,i(x,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:g,configurable:!0}),g.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new T(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function N(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function F(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){N(o,n,i,a,s,"next",t)}function s(t){N(o,n,i,a,s,"throw",t)}a(void 0)}))}}function V(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=D(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function D(t,e){if(t){if("string"==typeof t)return G(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(t,e):void 0}}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W(n.key),n)}}function Y(t,e,r){return e&&U(t.prototype,e),r&&U(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function X(t,e,r){return(e=W(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W(t){var e=function(t,e){if("object"!=P(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==P(e)?e:e+""}var H,Z=function(){function t(){z(this,t)}return Y(t,null,[{key:"get",value:function(e){return t.CACHE[e]?JSON.parse(t.CACHE[e]):new Promise((function(r,n){fetch(e).then((function(t){if(t.ok)return t.text();n(t.statusText)})).then((function(n){n.startsWith("data:application/deflate;")&&(n=function(t){var e=window.atob(t.split(",")[1]),r=Uint8Array.from(e,(function(t){return t.charCodeAt(0)})),n=new Zlib.Inflate(r).decompress();return new TextDecoder("utf-8").decode(n)}(n)),t.CACHE[e]=n,r(JSON.parse(n))})).catch((function(t){n(t)}))}))}},{key:"printVersion",value:function(){navigator.userAgent.toLowerCase().indexOf("chrome")>-1?window.console.log.apply(window.console,["   %c  EditorRuntime "+t.VERSION+"  ","color: #ffff00; background: #030307; padding: 5px;"]):window.console&&window.console.log("EditorRuntime "+t.VERSION)}},{key:"getCurrentLayout",value:function(t){for(var e=s.Z.orientation===s.Z.LANDSCAPE?"landscape":"portrait",r=Number(s.Z.aspectRatio.toFixed(3)),n=[],i=0,o=Object.keys(t.layout);i<o.length;i++){var a=o[i];a.startsWith(e+" ")&&n.push({name:a,aspect:Number(a.split(" ").pop())})}if(n.length){n.sort((function(t,e){return t.aspect>e.aspect?1:-1}));for(var u=n.length-1;u>=0;u--){var l=n[u];if(r>=l.aspect)return{name:l.name,layout:t.layout[l.name]}}}return{name:"default",layout:t.layout.default}}},{key:"resize",value:function(e){var r,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[],o=V(t.animations);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.container===e&&(a.finishOnResize&&(a.finish(),a.emit("finish"),i.push(a)))}}catch(t){o.e(t)}finally{o.f()}for(var s=0,u=i;s<u.length;s++){var l=u[s];l.stop()}if(e.children){var c,h=V(e.children);try{for(h.s();!(c=h.n()).done;){var f=c.value;t.resize(f,n)}}catch(t){h.e(t)}finally{h.f()}}if(e.config&&e.config.layout){var p=t.getCurrentLayout(e.config),d=p.layout;t.applyLayout(e,d,n)}e.onResize&&e.onResize()}},{key:"getXFromLayout",value:function(t){var e=Number(t.x.value);return"prc"===t.x.units&&(e=s.Z.width*t.x.value),"asp"===t.x.units&&(e=s.Z.aspectRatio*t.x.value),"left"===t.x.origin&&(e=s.Z.left+e),"right"===t.x.origin&&(e=s.Z.right-e),e}},{key:"getYFromLayout",value:function(t){var e=Number(t.y.value);return"prc"===t.y.units&&(e=s.Z.height*t.y.value),"asp"===t.y.units&&(e=s.Z.aspectRatio*t.y.value),"top"===t.y.origin&&(e=s.Z.top+e),"bottom"===t.y.origin&&(e=s.Z.bottom-e),e}},{key:"hideInternalElements",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e._editorInternal&&(r.push(e),e.visible=!1),e.children){var n,i=V(e.children);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.hideInternalElements(o,r)}}catch(t){i.e(t)}finally{i.f()}}return r}},{key:"getElementBounds",value:function(e){if(!t.editorMode)return e.getLocalBounds();var r,n=t.hideInternalElements(e),i=e.getLocalBounds(),o=V(n);try{for(o.s();!(r=o.n()).done;){r.value.visible=!0}}catch(t){o.e(t)}finally{o.f()}return i}},{key:"getScaleFromLayout",value:function(e,r){var n={x:1,y:1};if("abs"===r.scaleX.units&&(n.x=r.scaleX.value),"prc"===r.scaleX.units){var i=t.getElementBounds(e);n.x=s.Z.width*r.scaleX.value/i.width}if("asp"===r.scaleX.units&&(n.x=s.Z.aspectRatio*r.scaleX.value),"abs"===r.scaleY.units&&(n.y=r.scaleY.value),"prc"===r.scaleY.units){var o=t.getElementBounds(e);n.y=s.Z.height*r.scaleY.value/o.height}return"asp"===r.scaleY.units&&(n.y=s.Z.aspectRatio*r.scaleY.value),"same"===r.scaleX.units&&"same"!==r.scaleY.units&&(n.x=n.y),"same"!==r.scaleX.units&&"same"===r.scaleY.units&&(n.y=n.x),"same"===r.scaleX.units&&"same"===r.scaleY.units&&(n.x=n.y=1),isNaN(n.x)&&(n.x=1),isNaN(n.y)&&(n.y=1),n.x===1/0&&(n.x=1),n.y===1/0&&(n.y=1),n}},{key:"applyLayout",value:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.config.disableResize||t.editorMode||n){e.rotation=Number(r.rotation),e.x=t.getXFromLayout(r),e.y=t.getYFromLayout(r);var i=t.getScaleFromLayout(e,r);e.scale.x=i.x,e.scale.y=i.y,e.anchor&&r.anchor&&(e.anchor.x=r.anchor.x,e.anchor.y=r.anchor.y)}}},{key:"getXInLayout",value:function(t,e,r){return"left"===r&&(t-=s.Z.left),"right"===r&&(t=s.Z.right-t),"prc"===e&&(t/=s.Z.width),"asp"===e&&(t/=s.Z.aspectRatio),t}},{key:"getYInLayout",value:function(t,e,r){return"top"===r&&(t-=s.Z.top),"bottom"===r&&(t=s.Z.bottom-t),"prc"===e&&(t/=s.Z.height),"asp"===e&&(t/=s.Z.aspectRatio),t}},{key:"positionToLayout",value:function(e,r,n){return{x:t.getXInLayout(e,n.x.units,n.x.origin),y:t.getYInLayout(r,n.y.units,n.y.origin)}}},{key:"getScaleXInLayout",value:function(e,r,n){"prc"===n&&(r=t.getElementBounds(e).width*r/s.Z.width);return"asp"===n&&(r/=s.Z.aspectRatio),r}},{key:"getScaleYInLayout",value:function(e,r,n){"prc"===n&&(r=t.getElementBounds(e).height*r/s.Z.height);return"asp"===n&&(r/=s.Z.aspectRatio),r}},{key:"scaleToLayout",value:function(e,r,n,i){return{x:t.getScaleXInLayout(e,r,i.scaleX.units),y:t.getScaleYInLayout(e,n,i.scaleY.units)}}},{key:"getSceneConfig",value:(f=F(q().mark((function e(r){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("data/editor/scenes/"+r+".json");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(t){return f.apply(this,arguments)})},{key:"createScene",value:(h=F(q().mark((function e(r){var n,i,o,a,s,u,l=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSceneConfig(r);case 2:for(n=e.sent,i=l.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=l[a];if("Scene"!==n.type){e.next=18;break}if(s=null,!n.script){e.next=12;break}return e.next=9,t.createElementByScript.apply(t,[n].concat(o));case 9:s=e.sent,e.next=13;break;case 12:s=new t.Scene(n);case 13:return e.next=15,s.init();case 15:return t.resize(s,!0),t.dispatchOnCreate(s),e.abrupt("return",s);case 18:if("Scene3D"!==n.type){e.next=31;break}if(u=null,!n.script){e.next=26;break}return e.next=23,t.createElementByScript.apply(t,[n].concat(o));case 23:u=e.sent,e.next=27;break;case 26:u=new t.Scene3D(n);case 27:return e.next=29,u.init();case 29:return t.dispatchOnCreate(u),e.abrupt("return",u);case 31:case"end":return e.stop()}}),e)}))),function(t){return h.apply(this,arguments)})},{key:"applyBindings",value:function(t){if(t&&t.config&&t.query&&t.config.bindings&&t.config.bindings.length){t.bindings={};var e,r=V(t.config.bindings);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(n.name.trim()){for(var i=n.name.split("."),o=t.bindings,a=0;a<i.length-1;a++){var s=i[a].replace(/\[\]$/,"");s?(o[s]||(o[s]=i[a].endsWith("[]")?[]:{}),o=o[s]):console.error('Invalid binding name in "'.concat(t.config.name,"\"!\nBinding name can't be empty!\nPlease, check the bindings for ").concat(JSON.stringify(n)))}var u=i[i.length-1],l=u.match(/^(.*)\[\]$/);if(u)if(l){var c=l[1];o[c]||(o[c]=[]),o[c].push(t.query(n.path))}else o[u]=t.query(n.path);else console.error('Invalid binding name in "'.concat(t.config.name,"\"!\nBinding name can't be empty!\nPlease, check the bindings for ").concat(JSON.stringify(n)))}else console.error('Invalid binding name in "'.concat(t.config.name,"\"!\nBinding name can't be empty!\nPlease, check the bindings for ").concat(JSON.stringify(n)))}}catch(t){r.e(t)}finally{r.f()}}}},{key:"getComponentConfig",value:(c=F(q().mark((function e(r){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("data/editor/components/"+r+".json");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(t){return c.apply(this,arguments)})},{key:"createComponent",value:(l=F(q().mark((function e(r){var n,i,o,a,s,u=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getComponentConfig(r);case 2:if(n=e.sent){e.next=5;break}throw new Error("Component ".concat(r," not found"));case 5:if(n.path=r,!n.script){e.next=13;break}for(o=u.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=u[s];return e.next=10,t.createElementByScript.apply(t,[n].concat(a));case 10:i=e.sent,e.next=14;break;case 13:i=new t.Component(n);case 14:if(i){e.next=16;break}throw new Error("Cannot create component ".concat(r));case 16:return e.next=18,i.init();case 18:return t.resize(i,!0),t.dispatchOnCreate(i),e.abrupt("return",i);case 21:case"end":return e.stop()}}),e)}))),function(t){return l.apply(this,arguments)})},{key:"getComponent3DConfig",value:(u=F(q().mark((function e(r){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("data/editor/components3D/"+r+".json");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(t){return u.apply(this,arguments)})},{key:"createComponent3D",value:(a=F(q().mark((function e(r){var n,i,o,a,s,u=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getComponent3DConfig(r);case 2:if(n=e.sent){e.next=5;break}throw new Error("Component ".concat(r," not found"));case 5:if(i=null,n.path=r,!n.script){e.next=14;break}for(o=u.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=u[s];return e.next=11,t.createElementByScript.apply(t,[n].concat(a));case 11:i=e.sent,e.next=15;break;case 14:i=new t.Component3D(n);case 15:if(i){e.next=17;break}throw new Error("Cannot create component ".concat(r));case 17:return e.next=19,i.init();case 19:return t.dispatchOnCreate(i),e.abrupt("return",i);case 21:case"end":return e.stop()}}),e)}))),function(t){return a.apply(this,arguments)})},{key:"dispatchOnCreate",value:function(t){var e=[];t.traverse((function(t){t.onCreate&&!t._onCreateDispatched&&(t._onCreateDispatched=!0,e.unshift(t))}));for(var r=0,n=e;r<n.length;r++){n[r].onCreate()}}},{key:"createChildren",value:(o=F(q().mark((function e(r,n){var i,o,a,s;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=V(r.children),e.prev=1,i.s();case 3:if((o=i.n()).done){e.next=13;break}return a=o.value,e.next=7,t.createElement(a);case 7:return s=e.sent,n.addChild?n.addChild(s):n.add(s),e.next=11,t.createChildren(a,s);case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),i.e(e.t0);case 18:return e.prev=18,i.f(),e.finish(18);case 21:t.applyBindings(n);case 22:case"end":return e.stop()}}),e,null,[[1,15,18,21]])}))),function(t,e){return o.apply(this,arguments)})},{key:"createElementByScript",value:(n=F(q().mark((function e(n){var i,o,a,s,u,l,c=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.SCRIPTS){e.next=4;break}return e.next=3,r.e(274).then(r.bind(r,1274));case 3:t.SCRIPTS=e.sent.default;case 4:for((i=(i=n.script.split("/").pop()).split(".")).pop(),i=i.join("."),e.prev=8,o=t.SCRIPTS[i],a=c.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=c[u];return(l=B(o,[n].concat(s)))instanceof t[n.type]||console.error("Invalid element class: "+n.script+" must be extended from EditorRuntime."+n.type),e.abrupt("return",l);case 16:throw e.prev=16,e.t0=e.catch(8),console.error(e.t0),new Error("Cannot create class ".concat(i));case 20:case"end":return e.stop()}}),e,null,[[8,16]])}))),function(t){return n.apply(this,arguments)})},{key:"createElement",value:(e=F(q().mark((function e(r){var n,i,o,a,s,u=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!r.script){e.next=8;break}for(i=u.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=u[a];return e.next=5,t.createElementByScript.apply(t,[r].concat(o));case 5:n=e.sent,e.next=10;break;case 8:(s=t[r.type])&&(n=new s(r));case 10:if(n){e.next=12;break}throw new Error("Unknown element "+r.type);case 12:return e.next=14,n.init();case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})},{key:"getTint",value:function(t){return t.tint?parseInt(t.tint.replace("#",""),16):16777215}},{key:"string2hex",value:function(t){return t="0x"+(t=t.replace("#","")),parseInt(t)}},{key:"queryPath",value:function(e,r){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=r.split("/"),o=i.pop(),a=e,s=0;s<i.length;s++){var u=i[s];if("."===u&&(i.splice(s,1),s--),".."===u){if(!(a=a.parent))return n||console.error("Path not found",r),null;i.splice(s,1),s--}}for(;i.length;){var l=i.shift(),c=a.children;t.Model&&a instanceof t.Model&&(c=[].concat(j(a.children),j(a.view.children)));var h,f=V(c);try{for(f.s();!(h=f.n()).done;){var p=h.value;if(p.config&&p.config.name===l||p.name===l){a=p;break}}}catch(t){f.e(t)}finally{f.f()}}if(!a)return n||console.error("Path not found",r),null;var d=a.children;t.Model&&a instanceof t.Model&&(d=[].concat(j(a.children),j(a.view.children)));var m,y=V(d);try{for(y.s();!(m=y.n()).done;){var g=m.value;if(g.config&&g.config.name===o||g.name===o)return g}}catch(t){y.e(t)}finally{y.f()}return n||console.error("Path not found",r),null}},{key:"queryUid",value:function(e,r){var n,i=V(e.children);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.config){if(o.config.uid===r)return o;var a=t.queryUid(o,r);if(a)return a}}}catch(t){i.e(t)}finally{i.f()}return null}},{key:"query",value:function(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.queryPath(e,r,n)}},{key:"exists",value:function(e,r){return!!t.queryPath(e,r,!0)}},{key:"queryTag",value:function(e,r){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=V(e.children);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.config&&a.config.tag===r)return a}}catch(t){o.e(t)}finally{o.f()}if(i){var s,u=V(e.children);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=t.queryTag(l,r,!0);if(c)return c}}catch(t){u.e(t)}finally{u.f()}}return null}},{key:"queryTagAll",value:function(e,r){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=V(e.children);try{for(a.s();!(n=a.n()).done;){var s=n.value;s.config&&(s.config.tag===r&&o.push(s),i&&t.queryTagAll(s,r,!0,o))}}catch(t){a.e(t)}finally{a.f()}return o}},{key:"traverse",value:function(e,r){r(e);var n,i=V(e.children);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.traverse(o,r)}}catch(t){i.e(t)}finally{i.f()}}},{key:"getProp",value:function(e,r){if(!e.config.props)return"";var n=null;if(e.config.script){var i=e.config.script.split("/").pop();(i=i.split(".")).pop(),i=i.join("."),n=t.SCRIPTS[i]}if(void 0!==e.config.props[r]){var o=e.config.props[r];return n&&n.defaultProps&&void 0!==n.defaultProps[r]&&("number"===n.defaultProps[r].type&&(o=Number(o)),"string"===n.defaultProps[r].type&&(o=String(o)),"boolean"===n.defaultProps[r].type&&(o=!!o)),o}return n&&n.defaultProps&&void 0!==n.defaultProps[r]&&void 0!==n.defaultProps[r].value?n.defaultProps[r].value:""}},{key:"setProp",value:function(t,e,r){t.config&&(t.config.props||(t.config.props={}),t.config.props[e]=r)}},{key:"compareKeyframe",value:function(e,r){return 0===t.getKeyframesDiffProps(e,r).length}},{key:"getKeyframesDiffProps",value:function(t,e){var r=[];return"3d"===t.dataType?(t.x!==e.x&&r.push("x"),t.y!==e.y&&r.push("y"),t.z!==e.z&&r.push("z"),t.scaleX!==e.scaleX&&r.push("scaleX"),t.scaleY!==e.scaleY&&r.push("scaleY"),t.scaleZ!==e.scaleZ&&r.push("scaleZ"),t.rotationX!==e.rotationX&&r.push("rotationX"),t.rotationY!==e.rotationY&&r.push("rotationY"),t.rotationZ!==e.rotationZ&&r.push("rotationZ")):("hard"===t.keyframeType&&"hard"===e.keyframeType&&t.x.value===e.x.value&&t.x.units===e.x.units&&t.x.origin===e.x.origin||r.push("x"),"hard"===t.keyframeType&&"hard"===e.keyframeType&&t.y.value===e.y.value&&t.y.units===e.y.units&&t.y.origin===e.y.origin||r.push("y"),"hard"===t.keyframeType&&"hard"===e.keyframeType&&t.scaleX.value===e.scaleX.value&&t.scaleX.units===e.scaleX.units||r.push("scaleX"),"hard"===t.keyframeType&&"hard"===e.keyframeType&&t.scaleY.value===e.scaleY.value&&t.scaleY.units===e.scaleY.units||r.push("scaleY"),"hard"===t.keyframeType&&"hard"===e.keyframeType&&t.rotation===e.rotation||r.push("rotation"),"hard"===t.keyframeType&&"hard"===e.keyframeType&&t.alpha===e.alpha||r.push("alpha")),r}},{key:"getTimelineTweens",value:function(e){for(var r=[],n=0;n<e.keyframes.length-1;n++){var i=e.keyframes[n],o=e.keyframes[n+1];i.keyframeType||(i.keyframeType="hard"),o.keyframeType||(o.keyframeType="hard"),o&&!t.compareKeyframe(i,o)&&r.push({startKeyframe:i,endKeyframe:o})}return r}},{key:"getCubicBezierEasing",value:function(t){var e=t.data[0],r=t.data[1],n=t.data[2],i=t.data[3],o=function(t){var r=1-t;return 3*r*r*t*e+3*r*t*t*n+t*t*t},a=function(t){var e=1-t;return 3*e*e*t*r+3*e*t*t*i+t*t*t},s=function(t){var r=1-t;return 3*(2*(t-1)*t+r*r)*e+3*(-t*t*t+2*r*t)*n};return function(t){var e,r,n,i,u,l,c=t;for(n=c,l=0;l<8;l++){if(i=o(n)-c,Math.abs(i)<1)return a(n);if(u=s(n),Math.abs(u)<1e-6)break;n-=i/u}if(r=1,(n=c)<(e=0))return a(e);if(n>r)return a(r);for(;e<r;){if(i=o(n),Math.abs(i-c)<1)return a(n);c>i?e=n:r=n,n=.5*(r-e)+e}return a(n)}}},{key:"getEasing",value:function(e){if(!e)return i.oY.Linear.None;if("CubicBezier"===e.type)return t.getCubicBezierEasing(e);var r=e.type.split(".");return i.oY[r[0]]&&i.oY[r[0]][r[1]]||i.oY.Linear.None}},{key:"createTimelineTweens2D",value:function(e,r){var n=t.queryUid(r,e.uid);if(!n)return[];var o,a=[],s=V(e.keyframes);try{var u=function(){var e=o.value;if("soft"===e.keyframeType)return 1;var r=new i.kX({}).to({},1),s=function(){var r=e;"layout"===e.keyframeType&&((r=t.getCurrentLayout(n.config).layout).alpha=n.alpha),n.x=t.getXFromLayout(r),n.y=t.getYFromLayout(r);var i=t.getScaleFromLayout(n,r);n.scale.x=i.x,n.scale.y=i.y,n.rotation=r.rotation,n.alpha=r.alpha};e.time<=0?s():r.onStart(s),r.delay(e.time),a.push(r)};for(s.s();!(o=s.n()).done;)u()}catch(t){s.e(t)}finally{s.f()}var l,c=V(t.getTimelineTweens(e));try{for(c.s();!(l=c.n()).done;){var h=l.value,f=t.getKeyframesDiffProps(h.startKeyframe,h.endKeyframe);if(f.length){var p,d=V(f);try{var m=function(){var e,r=p.value,o=h.endKeyframe.time-h.startKeyframe.time;if("scaleX"===r||"scaleY"===r){var s=t.getScaleFromLayout(n,h.endKeyframe);(e=new i.kX(n.scale)).to(s,o);var u=t.getScaleFromLayout(n,h.startKeyframe);"hard"===h.startKeyframe.keyframeType&&e.onStart((function(){n.scale.set(u.x,u.y),e._valuesStart.x=u.x,e._valuesStart.y=u.y,e._valuesStartRepeat.x=u.x,e._valuesStartRepeat.y=u.y}))}else{var l=0,c=0,f=h.startKeyframe;"layout"===h.startKeyframe.keyframeType&&((f=t.getCurrentLayout(n.config).layout).alpha=n.config.alpha);var d=h.endKeyframe;"layout"===h.endKeyframe.keyframeType&&((d=t.getCurrentLayout(n.config).layout).alpha=n.config.alpha),"x"===r&&(l=t.getXFromLayout(f),c=t.getXFromLayout(d)),"y"===r&&(l=t.getYFromLayout(f),c=t.getYFromLayout(d)),"rotation"===r&&(l=Number(f.rotation),c=Number(d.rotation)),"alpha"===r&&(l=Number(f.alpha),c=Number(d.alpha)),e=new i.kX(n);var m={};m[r]=c,e.to(m,o),"hard"===h.startKeyframe.keyframeType&&e.onStart((function(){n[r]=l,e._valuesStart[r]=l,e._valuesStartRepeat[r]=l}))}e&&(e.easing(t.getEasing(h.startKeyframe[r+"Easing"])),e.delay(h.startKeyframe.time),h.startKeyframe.repeat>0&&e.repeat(Number(h.startKeyframe.repeat)),h.startKeyframe.yoyo&&e.yoyo(!0),a.push(e))};for(d.s();!(p=d.n()).done;)m()}catch(t){d.e(t)}finally{d.f()}}}}catch(t){c.e(t)}finally{c.f()}return a}},{key:"createTimelineTweens3D",value:function(e,r){var n=t.queryUid(r,e.uid);if(!n)return[];var o,a=[],s=V(e.keyframes);try{var u=function(){var t=o.value,e=new i.kX({}).to({},1),r=function(){var e=t;n.position.x=e.x,n.position.y=e.y,n.position.z=e.z,n.scale.x=e.scaleX,n.scale.y=e.scaleY,n.scale.z=e.scaleZ,n.rotation.x=e.rotationX,n.rotation.y=e.rotationY,n.rotation.z=e.rotationZ};t.time<=0?r():e.onStart(r),e.delay(t.time),a.push(e)};for(s.s();!(o=s.n()).done;)u()}catch(t){s.e(t)}finally{s.f()}var l,c=V(t.getTimelineTweens(e));try{for(c.s();!(l=c.n()).done;){var h=l.value,f=t.getKeyframesDiffProps(h.startKeyframe,h.endKeyframe);if(f.length){var p,d=V(f);try{var m=function(){var e,r,o,s=p.value,u=h.endKeyframe.time-h.startKeyframe.time,l=h.startKeyframe,c=h.endKeyframe;r=Number(l[s]),o=Number(c[s]);var f=n,d="";"x"===s&&(f=n.position,d="x"),"y"===s&&(f=n.position,d="y"),"z"===s&&(f=n.position,d="z"),"scaleX"===s&&(f=n.scale,d="x"),"scaleY"===s&&(f=n.scale,d="y"),"scaleZ"===s&&(f=n.scale,d="z"),"rotationX"===s&&(f=n.rotation,d="x"),"rotationY"===s&&(f=n.rotation,d="y"),"rotationZ"===s&&(f=n.rotation,d="z"),e=new i.kX(f);var m={};m[d]=o,e.to(m,u),e.onStart((function(){f[d]=r,e._valuesStart[d]=r,e._valuesStartRepeat[d]=r})),e&&(e.easing(t.getEasing(h.startKeyframe[s+"Easing"])),e.delay(h.startKeyframe.time),h.startKeyframe.repeat>0&&e.repeat(Number(h.startKeyframe.repeat)),h.startKeyframe.yoyo&&e.yoyo(!0),a.push(e))};for(d.s();!(p=d.n()).done;)m()}catch(t){d.e(t)}finally{d.f()}}}}catch(t){c.e(t)}finally{c.f()}return a}},{key:"createTimelineTweens",value:function(e,r){if(!t.queryUid(r,e.uid))return[];var n=e.keyframes[0];return n?"3d"===n.dataType?t.createTimelineTweens3D(e,r):t.createTimelineTweens2D(e,r):[]}},{key:"createAnimation",value:function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!e.config)return null;if(!e.config.animations)return null;var s,u=V(e.config.animations);try{var l,c=function(){var u=s.value;if(u.name===r){var l=[];if(u.labels){var c,h=V(u.labels);try{for(h.s();!(c=h.n()).done;){var f=c.value,p=new i.kX({}).to({},1);p._label=f,p.delay(Number(f.time)),l.push(p)}}catch(t){h.e(t)}finally{h.f()}}var d,m=V(u.timelines);try{for(m.s();!(d=m.n()).done;){var y=d.value,g=t.createTimelineTweens(y,e,o);l=l.concat(g)}}catch(t){m.e(t)}finally{m.f()}var v=new t.Animation(e,l,n);return o&&v.start(),v.on("repeat",(function(){a--;var o,s=t.createAnimation(e,r,n,!0,a),u=V(v.tweens);try{for(u.s();!(o=u.n()).done;){var l=o.value;i.Od(l)}}catch(t){u.e(t)}finally{u.f()}v.tweens=s.tweens,s.parent=v.parent||v,s.emitter.removeAllListeners(),v.setListeners(a),v.controlTween.start(),t.removeAnimation(s)})),v.once("finish",(function(){t.removeAnimation(v),t.removeAnimation(v.parent)})),v.setListeners(a),o&&v.controlTween.start(),t.animations.push(v),{v}}};for(u.s();!(s=u.n()).done;)if(l=c())return l.v}catch(t){u.e(t)}finally{u.f()}return null}},{key:"removeAnimation",value:function(e){var r=t.animations.indexOf(e);r<0||t.animations.splice(r,1)}},{key:"getConfig",value:function(t){var e=null==A?void 0:A.projectConfigs[t];if(!e)throw Error("Config ".concat(t," not found"));return e}},{key:"getExtras",value:function(t){var e=null==A?void 0:A.extras[t];if(!e)throw Error("Extras ".concat(t," not found"));return e}},{key:"tick",value:function(e,r){if(e&&(e.tick&&e.tick!==t.tick&&e.tick!==t.mixin.tick&&e.tick(r),e.children)){var n,i=V(e.children);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.tick(o,r)}}catch(t){i.e(t)}finally{i.f()}}}},{key:"updateUIDs",value:function(e){if(e&&(e.config&&(e.config.uid=t.UID()),e.children)){var r,n=V(e.children);try{for(n.s();!(r=n.n()).done;){var i=r.value;t.updateUIDs(i)}}catch(t){n.e(t)}finally{n.f()}}}},{key:"UID",value:function(){return"UID"+t.UID_COUNTER++}}]);var e,n,o,a,u,l,c,h,f}();X(Z,"VERSION","3.0.9"),X(Z,"CACHE",{}),X(Z,"SCRIPTS",null),X(Z,"UID_COUNTER",0),Z.Animation=function(){return Y((function t(e,r){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];z(this,t),this.container=e,this.tweens=r,this.finishOnResize=i,this.parent=null,this.emitter=new n.P6.EventEmitter,this.controlTween=null,this.paused=!1}),[{key:"setListeners",value:function(){var t,e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=-1,o=V(this.tweens);try{var a=function(){var r=t.value;r._label&&r.onComplete((function(){return e.emit(r._label.name)}));var i=r._delayTime+r._duration+r._repeat*r._duration;i>n&&(n=i)};for(o.s();!(t=o.n()).done;)a()}catch(t){o.e(t)}finally{o.f()}var s={time:0};this.controlTween=new i.kX(s).to({time:n},n).onComplete((function(){return e.emit(r?"repeat":"finish")})).onUpdate((function(){return e.emit("update",s.time)})),this.tweens.push(this.controlTween)}},{key:"start",value:function(){var t,e=V(this.tweens);try{for(e.s();!(t=e.n()).done;){t.value.start()}}catch(t){e.e(t)}finally{e.f()}this.emit("start")}},{key:"stop",value:function(){var t,e=V(this.tweens);try{for(e.s();!(t=e.n()).done;){t.value.stop()}}catch(t){e.e(t)}finally{e.f()}Z.removeAnimation(this)}},{key:"finish",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=V(this.tweens);try{for(r.s();!(t=r.n()).done;)for(var n=t.value,i=Object.keys(n._valuesStart),o=0,a=i;o<a.length;o++){var s=a[o];n._object[s]=n._repeat%2!=0?n._valuesStart[s]:n._valuesEnd[s]}}catch(t){r.e(t)}finally{r.f()}e&&this.stop()}},{key:"on",value:function(t,e,r){this.emitter.on(t,e,r)}},{key:"once",value:function(t,e,r){this.emitter.once(t,e,r)}},{key:"off",value:function(t,e,r){this.emitter.off(t,e,r)}},{key:"emit",value:function(t,e){this.emitter.emit(t,e)}},{key:"update",value:function(t){var e,r=V(this.tweens);try{for(r.s();!(e=r.n()).done;){e.value.update(t)}}catch(t){r.e(t)}finally{r.f()}}},{key:"pause",value:function(){this.paused=!0;var t,e=V(this.tweens);try{for(e.s();!(t=e.n()).done;){var r=t.value;r._playDuration=a.Z.liveTime-r._startTime,r.stop()}}catch(t){e.e(t)}finally{e.f()}}},{key:"resume",value:function(){if(this.paused){var t,e=V(this.tweens);try{for(e.s();!(t=e.n()).done;){var r=t.value;r._playDuration<r._duration&&(r.start(),r._startTime=a.Z.liveTime-r._playDuration)}}catch(t){e.e(t)}finally{e.f()}this.paused=!1}}},{key:"then",value:function(t){var e=this;return new Promise((function(t){e.once("finish",(function(){t()}))})).then(t)}}])}(),Z.mixin={init:function(){},queryPath:function(t,e){return Z.queryPath(this,t,e)},query:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Z.queryPath(this,t,e)},exists:function(t){return Z.exists(this,t)},queryUid:function(t){return Z.queryUid(this,t)},queryTag:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Z.queryTag(this,t,e)},queryTagAll:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Z.queryTagAll(this,t,e,r)},traverse:function(t){return Z.traverse(this,t)},tick:function(t){Z.tick(this,t)},getProp:function(t){return Z.getProp(this,t)},setProp:function(t,e){return Z.setProp(this,t,e)},createAnimation:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Z.createAnimation(this,t,e,r,n)},apply3DTransforms:function(t){t.position.x=Number(t.config.layout.default.x),t.position.y=Number(t.config.layout.default.y),t.position.z=Number(t.config.layout.default.z),t.rotation.x=Number(t.config.layout.default.rotationX),t.rotation.y=Number(t.config.layout.default.rotationY),t.rotation.z=Number(t.config.layout.default.rotationZ),t.scale.x=Number(t.config.layout.default.scaleX),t.scale.y=Number(t.config.layout.default.scaleY),t.scale.z=Number(t.config.layout.default.scaleZ)},extend:function(t){t.prototype.queryPath||(t.prototype.queryPath=Z.mixin.queryPath),t.prototype.query||(t.prototype.query=Z.mixin.query),t.prototype.exists||(t.prototype.exists=Z.mixin.exists),t.prototype.queryUid||(t.prototype.queryUid=Z.mixin.queryUid),t.prototype.queryTag||(t.prototype.queryTag=Z.mixin.queryTag),t.prototype.queryTagAll||(t.prototype.queryTagAll=Z.mixin.queryTagAll),t.prototype.traverse||(t.prototype.traverse=Z.mixin.traverse),t.prototype.updateDefaults||(t.prototype.updateDefaults=Z.mixin.updateDefaults),t.prototype.getProp||(t.prototype.getProp=Z.mixin.getProp),t.prototype.createAnimation||(t.prototype.createAnimation=Z.mixin.createAnimation),t.prototype.tick||(t.prototype.tick=Z.mixin.tick),t.prototype.init||(t.prototype.init=Z.mixin.init),t.prototype.clone=Z.mixin.clone},clone:(H=F(q().mark((function t(){var e;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new this.constructor(this.config),t.next=3,Z.createChildren(this.config,e);case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return H.apply(this,arguments)}),updateDefaults:function(t){t.props||(t.props={}),this.config=t,this.alpha=void 0!==t.alpha?Number(t.alpha):1,this.visible=void 0===t.visible||!!t.visible}},Z.Scene=function(t){function e(t){var r;return z(this,e),r=C(this,e),t.props||(t.props={}),r.config=t,r}return I(e,t),Y(e,[{key:"init",value:(r=F(q().mark((function t(){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.createChildren(this.config,this);case 2:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]);var r}(n.W2),Z.mixin.extend(n.W2),Z.Container=function(t){function e(t){var r;return z(this,e),(r=C(this,e)).updateDefaults(t),r}return I(e,t),Y(e)}(n.W2),Z.Sprite=function(t){function e(t){var r;return z(this,e),(r=C(this,e,[t.path])).tint=Z.getTint(t),r.updateDefaults(t),r}return I(e,t),Y(e)}(l.Z),Z.mixin.extend(l.Z),Z.Text=function(t){function e(t){var r;z(this,e),t.style.dropShadowAlpha=Number(t.style.dropShadowAlpha),t.style.dropShadowAngle=Number(t.style.dropShadowAngle),t.style.dropShadowBlur=Number(t.style.dropShadowBlur),t.style.dropShadowDistance=Number(t.style.dropShadowDistance),t.style.fillGradientType=Number(t.style.fillGradientType),t.style.fontSize=Number(t.style.fontSize),t.style.leading=Number(t.style.leading),t.style.letterSpacing=Number(t.style.letterSpacing),t.style.lineHeight=Number(t.style.lineHeight),t.style.miterLimit=Number(t.style.miterLimit),t.style.padding=Number(t.style.padding),t.style.strokeThickness=Number(t.style.strokeThickness),t.style.wordWrapWidth=Number(t.style.wordWrapWidth),t.style.autoFitWidth=Number(t.style.autoFitWidth),t.style.autoFitHeight=Number(t.style.autoFitHeight),t.style.autoFitPadding=Number(t.style.autoFitPadding);var i=new n.pn(t.style),o=i.fontFamily;"system"===o&&(o=u.Z.SYSTEM_FONT),i.fontFamily=o;var a=(0,O.Z)(t.text);return a=a.replace(/\\n/gm,"\n"),"lower"===t.style.case&&(a=a.toLowerCase()),"upper"===t.style.case&&(a=a.toUpperCase()),"capitalize"===t.style.case&&(a=O.Z.capitalize(a)),"capitalize words"===t.style.case&&(a=O.Z.capitalizeWords(a)),t.style.exclamatory&&(a=O.Z.exclamatory(a)),t.style.interrogative&&(a=O.Z.interrogative(a)),i.adjustFontFamilyRegExp&&(i.adjustFontFamilyRegExp=Z.Text.parseRegExp(i.adjustFontFamilyRegExp)),(r=C(this,e,[a=a.replace(/\\N/gm,"\n"),i])).updateDefaults(t),r}return I(e,t),Y(e,null,[{key:"parseRegExp",value:function(t){try{return Function("return "+t+";")()}catch(t){return""}}}])}(u.Z),Z.mixin.extend(u.Z),Z.AnimatedSprite=function(t){function e(t){var r;z(this,e);var n=l.Z.getTexturesFromPattern(t.pattern);return(r=C(this,e,[n])).textures=n,r.animationSpeed=t.speed,r.loop=t.loop,t.pattern||(console.error("Invalid pattern",t),r.stop()),r.play(),r.tint=Z.getTint(t),r.updateDefaults(t),r}return I(e,t),Y(e)}(l.Z),void 0!==k.Z&&(Z.SpineSprite=function(t){function e(t){var r;return z(this,e),(r=C(this,e,[t.spine])).config=t,r.name=t.spine,r.tint=Z.getTint(t),r.updateDefaults(t),r.timeScale=Number(t.timeScale),t.skin&&r.setSkin(t.skin),t.animation||(t.animation=r.getAnimations()[0]),r.setAnimation(t.animation,t.loop),r}return I(e,t),Y(e)}(k.Z),Z.mixin.extend(k.Z)),void 0!==E&&(Z.ProtonSprite=function(t){function e(t){var r;return z(this,e),(r=C(this,e,[t.system])).updateDefaults(t),r}return I(e,t),Y(e)}(E),Z.mixin.extend(E)),Z.Rectangle=function(t){function e(t){var r;z(this,e),r=C(this,e);var n=void 0!==t.gAlpha?Number(t.gAlpha):1;return r.beginFill(Z.string2hex(t.color),n),r.drawRect(-Number(t.width)/2,-Number(t.height)/2,Number(t.width),Number(t.height)),r.endFill(),r.updateDefaults(t),r}return I(e,t),Y(e)}(n.TC),Z.mixin.extend(n.TC),Z.RoundedRectangle=function(t){function e(t){var r;return z(this,e),(r=C(this,e)).updateDefaults(t),r.redraw(),r}return I(e,t),Y(e,[{key:"redraw",value:function(){var t=this.config,e=void 0!==t.gAlpha?Number(t.gAlpha):1;this.beginFill(Z.string2hex(t.color),e),this.drawRoundedRect(-Number(t.width)/2,-Number(t.height)/2,Number(t.width),Number(t.height),Number(t.radius)),this.endFill()}}])}(n.TC),Z.Circle=function(t){function e(t){var r;z(this,e),r=C(this,e);var n=void 0!==t.gAlpha?Number(t.gAlpha):1;return r.beginFill(Z.string2hex(t.color),n),r.drawCircle(0,0,t.radius),r.endFill(),r.updateDefaults(t),r}return I(e,t),Y(e)}(n.TC),Z.NineSliceSprite=function(t){function e(t){var r;return z(this,e),(r=C(this,e,[o.Fg(t.path),t.leftWidth,t.topHeight,t.rightWidth,t.bottomHeight])).tint=Z.getTint(t),r.width=Number(t.width),r.height=Number(t.height),r.anchor=new n.AB(r.updatePivot,r),r.updatePivot(),r.updateDefaults(t),r}return I(e,t),Y(e,[{key:"updatePivot",value:function(){var t=this.getLocalBounds();this.pivot.set(t.width*this.anchor.x,t.height*this.anchor.y)}}])}(n.ZT),Z.mixin.extend(n.ZT),Z.TilingSprite=function(t){function e(t){var r;return z(this,e),(r=C(this,e,[o.Fg(t.path)])).tint=Z.getTint(t),r.width=Number(t.width),r.height=Number(t.height),r.tilePosition.x=Number(t.tilePositionX),r.tilePosition.y=Number(t.tilePositionY),r.tileScale.x=Number(t.tileScaleX)/100,r.tileScale.y=Number(t.tileScaleY)/100,r.clampMargin=Number(t.clampMargin),r.updateDefaults(t),r}return I(e,t),Y(e)}(n.FP),Z.mixin.extend(n.FP),Z.ScrollableArea=function(t){function e(t){var r;if(z(this,e),r=C(this,e),t.masked){var i=new n.TC;i.beginFill(16711680),i.drawRect(-t.width/2,-t.height/2,t.width,t.height),i.endFill(),r.addChild(i),r.mask=i}return r.updateDefaults(t),r}return I(e,t),Y(e,[{key:"init",value:function(){}}])}(n.W2),Z.Component=function(t){function e(t){var r;if(z(this,e),r=C(this,e),"Component"!==t.type)throw console.log(t),new Error("Invalid component config");return r.config=t,r}return I(e,t),Y(e,[{key:"init",value:(r=F(q().mark((function t(){var e,r;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.config.path,t.next=3,Z.getComponentConfig(e);case 3:if(r=t.sent){t.next=6;break}throw new Error("Component ".concat(e," not found"));case 6:return this.config.animations=r.animations,this.updateDefaults(this.config),t.next=10,Z.createChildren(r,this);case 10:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]);var r}(n.W2),Z.animations=[],Z.editorMode=!1,Z.printVersion();const K=Z},4477:(t,e,r)=>{"use strict";r.d(e,{Z:()=>p});var n=r(6013);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function a(t,e,r){return e=u(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,r||[],u(t).constructor):e.apply(t,r))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(s=function(){return!!t})()}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function c(t,e,r){return(e=h(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}var f=function(t){function e(t,r,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=a(this,e,[t,r,n])).style.baseFontSize=i.style.fontSize,i.style.baseFontFamily=i.style.fontFamily,i.extendStyleProps(),i.chooseFontFamily(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(e,t),r=e,(i=[{key:"extendStyleProps",value:function(){this.style._autoFit=!!this.style.autoFit,this.style._autoFitPadding=this.style.autoFitPadding||0,this.style._autoFitWidth=this.style.autoFitWidth||0,this.style._autoFitHeight=this.style.autoFitHeight||0,this.style._adjustFontFamily=!!this.style.adjustFontFamily,this.style._adjustFontFamilyRegExp=this.style.adjustFontFamilyRegExp instanceof RegExp?this.style.adjustFontFamilyRegExp:void 0,Object.defineProperty(this.style,"autoFit",{get:function(){return this._autoFit},set:function(t){t=!!t,this._autoFit!==t&&(this._autoFit=t,this.styleID++)}}),Object.defineProperty(this.style,"autoFitPadding",{get:function(){return this._autoFitPadding},set:function(t){t=parseFloat(t),isNaN(t)&&(t=0),this._autoFitPadding!==t&&(this._autoFitPadding=t,this.styleID++)}}),Object.defineProperty(this.style,"fontSize",{get:function(){return this._fontSize},set:function(t){t=parseFloat(t),isNaN(t)&&(t=0),this._fontSize!==t&&(this.baseFontSize=t,this._fontSize=t,this.styleID++)}}),Object.defineProperty(this.style,"autoFitWidth",{get:function(){return this._autoFitWidth},set:function(t){t=parseFloat(t),isNaN(t)&&(t=0),this._autoFitWidth!==t&&(this._autoFitWidth=t,this.styleID++)}}),Object.defineProperty(this.style,"autoFitHeight",{get:function(){return this._autoFitHeight},set:function(t){t=parseFloat(t),isNaN(t)&&(t=0),this._autoFitHeight!==t&&(this._autoFitHeight=t,this.styleID++)}}),Object.defineProperty(this.style,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this.baseFontFamily=t,this._fontFamily=t,this.styleID++)}}),Object.defineProperty(this.style,"adjustFontFamily",{get:function(){return this._adjustFontFamily},set:function(t){t=!!t,this._adjustFontFamily!==t&&(this._adjustFontFamily=t,this.styleID++)}}),Object.defineProperty(this,"text",{get:function(){return this._text},set:function(t){t=String(""===t||null==t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0,this.chooseFontFamily())}}),Object.defineProperty(this.style,"adjustFontFamilyRegExp",{get:function(){return this._adjustFontFamilyRegExp},set:function(t){t instanceof RegExp?this._adjustFontFamilyRegExp!==t&&(this._adjustFontFamilyRegExp=t,this.styleID++):console.warn("adjustFontFamilyRegExp is not an instance of RegExp")}})}},{key:"chooseFontFamily",value:function(){var t=null,r=null;this.style.adjustFontFamily?(r=e.ADJUST_FONT_FAMILY_REGEXP,this.style.adjustFontFamilyRegExp&&(r=this.style.adjustFontFamilyRegExp),t=r.test(this.text)?this.style.baseFontFamily:e.SYSTEM_FONT):t=this.style.baseFontFamily,t!==this.style.fontFamily&&(this.style._fontFamily=t,this.style.styleID++)}},{key:"fitText",value:function(){var t=this.style.autoFitWidth;t||(t=this.parent.width/this.parent.scale.x),t-=2*this.style.autoFitPadding;var e=this.style.autoFitHeight;if(e||(e=this.parent.height/this.parent.scale.y),e-=2*this.style.autoFitPadding,t<2||e<2)this.style.fontSize=1;else{var r=this.style.clone();r.fontSize=this.style.baseFontSize;for(var i=!0,o=0;i;){var a=n._A.measureText(this.text,r);a.width<=t&&a.height<=e?i=!1:(r.fontSize--,r.fontSize<=1?i=!1:o++)}o>20&&(console.warn("ExtText. Potentially suboptimal use: the number of fit attempts exceeds 20. Current: "+o),console.warn("Base font size: "+this.style.baseFontSize),console.warn("Selected font size: "+r.fontSize),console.warn(this.text)),this.style.fontSize=r.fontSize}}},{key:"updateText",value:function(t){this.localStyleID===this._style.styleID&&!this.dirty&&t||(this.style.autoFit&&this.parent?this.fitText():this.style.fontSize=this.style.baseFontSize,this.chooseFontFamily()),n.xv.prototype.updateText.call(this,t)}}])&&o(r.prototype,i),s&&o(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,s}(n.xv);c(f,"ADJUST_FONT_FAMILY_REGEXP",/^[\u0000-\u007f]+$/),c(f,"SYSTEM_FONT","-apple-system,BlinkMacSystemFont,Roboto,Helvetica,Arial,sans-serif");const p=f},1328:(t,e,r)=>{"use strict";function n(t){return n.f.apply(n,arguments)}r.d(e,{Z:()=>o}),n.locale="en",n.strings={},n.init=function(t,e){t||(t="en"),e||(e={}),n.locale=t,n.strings=e},n.getSupportedLocales=function(t){var e=[];for(var r in t||(t=n.strings),t)if(t.hasOwnProperty(r)){var i=t[r];for(var o in i)i.hasOwnProperty(o)&&e.indexOf(o)<0&&e.push(o)}return e},n.getDeviceLang=function(){var t=navigator.userLanguage||navigator.language;return t&&(t=t.toLowerCase()),t||"en"},n.getLocalString=function(t,e){var r=Array.prototype.slice.call(arguments);r.splice(1,1);var i=t,o=n.strings[t];if(o)for(var a in o)o.hasOwnProperty(a)&&a.toLowerCase()===e.toLowerCase()&&(i=o[a]);return r[0]=i,n.sprintf.apply(n,r)},n.getDeviceString=function(t){var e=Array.prototype.slice.call(arguments);return e.splice(1,0,n.getDeviceLang()),n.getLocalString.apply(n,e)},n.interrogative=function(t){var e=n.locale;if(e=e.split("-").shift(),t=t.trim(),"es"===e)"¿"!==t[0]&&(t="¿"+t),"?"!==t[t.length-1]&&(t+="?");else if("ar"===e)"؟"!==t[0]&&(t="؟"+t);else if("fr"===e){if(" "===t[t.length-2]&&"?"===t[t.length-1])return t;"?"===t[t.length-1]&&(t=t.substr(0,t.length-1)),"?"!==t[t.length-1]&&(t+=" ?")}else"?"!==t[t.length-1]&&(t+="?");return t},n.exclamatory=function(t){var e=n.locale;if(e=e.split("-").shift(),t=t.trim(),"es"===e)"¡"!==t[0]&&(t="¡"+t),"!"!==t[t.length-1]&&(t+="!");else if("ar"===e)"!"!==t[0]&&(t="!"+t);else if("fr"===e){if(" "===t[t.length-2]&&"!"===t[t.length-1])return t;"!"===t[t.length-1]&&(t=t.substr(0,t.length-1)),"!"!==t[t.length-1]&&(t+=" !")}else"!"!==t[t.length-1]&&(t+="!");return t},n.rleLangs=["ar","az","dv","ff","he","ku","fa","ur"],n.fixRLE=function(t){var e=n.locale;return n.rleLangs.indexOf(e)>=0&&(t=t.split("\n").join("\n‮")),t},n.capitalize=function(t){return t?(t=String(t))[0].toUpperCase()+t.slice(1):t},n.capitalizeWords=function(t){if(!t)return t;for(var e=(t=String(t)).split(" "),r=0;r<e.length;r++)e[r]=n.capitalize(e[r]);for(t=e.join(" "),e=t.split("\n"),i=0;i<e.length;i++)e[i]=n.capitalize(e[i]);return t=e.join("\n")},n.f=function(t){var e=t,r=Array.prototype.slice.call(arguments),i=n.strings[t];return i&&void 0!==i[n.locale]&&(e=i[n.locale]),r[0]=e,n.fixRLE(n.sprintf.apply(n,r))},n.sprintf=function(){var t=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,e=arguments,r=0,n=e[r++],i=function(t,e,r,n){r||(r=" ");var i=t.length>=e?"":new Array(1+e-t.length>>>0).join(r);return n?t+i:i+t},o=function(t,e,r,n,o,a){var s=n-t.length;return s>0&&(t=r||!o?i(t,n,a,r):t.slice(0,e.length)+i("",s,"0",!0)+t.slice(e.length)),t},a=function(t,e,r,n,a,s,u){var l=t>>>0;return t=(r=r&&l&&{2:"0b",8:"0",16:"0x"}[e]||"")+i(l.toString(e),s||0,"0",!1),o(t,r,n,a,u)},s=function(t,e,r,n,i,a){return n&&(t=t.slice(0,n)),o(t,"",e,r,i,a)},u=function(t,n,u,l,c,h,f){var p,d,m,y,g;if("%%"===t)return"%";for(var v=!1,b="",_=!1,w=!1,x=" ",S=u.length,T=0;u&&T<S;T++)switch(u.charAt(T)){case" ":b=" ";break;case"+":b="+";break;case"-":v=!0;break;case"'":x=u.charAt(T+1);break;case"0":_=!0,x="0";break;case"#":w=!0}if((l=l?"*"===l?+e[r++]:"*"===l.charAt(0)?+e[l.slice(1,-1)]:+l:0)<0&&(l=-l,v=!0),!isFinite(l))throw new Error("sprintf: (minimum-)width must be finite");switch(h=h?"*"===h?+e[r++]:"*"===h.charAt(0)?+e[h.slice(1,-1)]:+h:"fFeE".indexOf(f)>-1?6:"d"===f?0:void 0,g=n?e[n.slice(0,-1)]:e[r++],f){case"s":return s(String(g),v,l,h,_,x);case"c":return s(String.fromCharCode(+g),v,l,h,_);case"b":return a(g,2,w,v,l,h,_);case"o":return a(g,8,w,v,l,h,_);case"x":return a(g,16,w,v,l,h,_);case"X":return a(g,16,w,v,l,h,_).toUpperCase();case"u":return a(g,10,w,v,l,h,_);case"i":case"d":return p=+g||0,g=(d=(p=Math.round(p-p%1))<0?"-":b)+i(String(Math.abs(p)),h,"0",!1),o(g,d,v,l,_);case"e":case"E":case"f":case"F":case"g":case"G":return d=(p=+g)<0?"-":b,m=["toExponential","toFixed","toPrecision"]["efg".indexOf(f.toLowerCase())],y=["toString","toUpperCase"]["eEfFgG".indexOf(f)%2],g=d+Math.abs(p)[m](h),o(g,d,v,l,_)[y]();default:return t}};return n.replace(t,u)};const o=n},6871:(t,e,r)=>{"use strict";r.d(e,{Z:()=>h});var n=r(6729),i=r.n(n),o=r(1477);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function u(t,e,r){return(e=l(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return e=t,n=[{key:"init",value:function(){t.eventEmitter=new(i());var e=t.getVisibilityProps();e.visibilityChange&&document.addEventListener(e.visibilityChange,t.handleVisibilityChange)}},{key:"start",value:function(){window.addEventListener("resize",t.fitLayout),setInterval(t.fitLayout,100),t.fitLayout()}},{key:"hideAddressBar",value:function(){window.scrollTo(0,1)}},{key:"getVisibilityProps",value:function(){var t,e;return void 0!==document.hidden?(t="hidden",e="visibilitychange"):void 0!==document.mozHidden?(t="mozHidden",e="mozvisibilitychange"):void 0!==document.msHidden?(t="msHidden",e="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),{hidden:t,visibilityChange:e}}},{key:"handleVisibilityChange",value:function(){var e=t.getVisibilityProps();t.eventEmitter.emit("visibilityChange",{hidden:document[e.hidden]})}},{key:"isHidden",value:function(){var e=t.getVisibilityProps();return!!document[e.hidden]}},{key:"fitLayout",value:function(e,r){var n,i;"number"==typeof e&&"number"==typeof r||(e=window.innerWidth,r=window.innerHeight),(t.windowWidth!==e||t.windowHeight!==r)&&(document.body.style.width=e+"px",document.body.style.height=r+"px",t.windowWidth=e,t.windowHeight=r,t.orientation=e>r?t.LANDSCAPE:t.PORTRAIT,t.orientation===t.LANDSCAPE?(i=o.Z.size.width,(n=Math.floor(i*(e/r)))<o.Z.size.height&&(n=o.Z.size.height,i=Math.floor(o.Z.size.height*(r/e)))):(i=o.Z.size.height,(n=Math.floor(i*(e/r)))<o.Z.size.width&&(n=o.Z.size.width,i=Math.floor(o.Z.size.width*(r/e)))),t.width=n,t.height=i,t.left=-n/2,t.right=n/2,t.top=-i/2,t.bottom=i/2,t.scale=Math.min(e/n,r/i),t.aspectRatio=Math.max(n/i,i/n),t.eventEmitter.emit("resize",{width:t.width,height:t.height}),setTimeout(t.hideAddressBar,100))}},{key:"on",value:function(e,r,n){t.eventEmitter.on(e,r,n)}},{key:"once",value:function(e,r,n){t.eventEmitter.once(e,r,n)}},{key:"off",value:function(e,r,n){t.eventEmitter.off(e,r,n)}},{key:"onOff",value:function(e,r,n){return t.eventEmitter.on(e,r,n),function(){return t.eventEmitter.off(e,r,n)}}},{key:"isTablet",value:function(){return t.aspectRatio<1.4}},{key:"isIphoneX",value:function(){return t.aspectRatio>2}},{key:"isLandscape",value:function(){return t.orientation===t.LANDSCAPE}},{key:"isPortrait",value:function(){return t.orientation===t.PORTRAIT}}],(r=null)&&s(e.prototype,r),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();u(c,"width",0),u(c,"height",0),u(c,"scale",1),u(c,"aspectRatio",1),u(c,"windowWidth",0),u(c,"windowHeight",0),u(c,"orientation",0),u(c,"left",0),u(c,"right",0),u(c,"top",0),u(c,"bottom",0),u(c,"LANDSCAPE",1),u(c,"PORTRAIT",2),u(c,"eventEmitter",null);const h=c},2063:()=>{void 0===Promise.withResolvers&&(Promise.withResolvers=function(){var t,e;return{promise:new Promise((function(r,n){t=r,e=n})),resolve:t,reject:e}})},5977:(t,e,r)=>{"use strict";r.d(e,{Z:()=>S});var n=r(2075),i=r.n(n),o=r(6013),a=r(6896);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=l(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},u.apply(null,arguments)}function l(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}function c(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return h(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_(n.key),n)}}function d(t,e,r){return e&&p(t.prototype,e),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(t,e,r){return e=g(e),function(t,e){if(e&&("object"==s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,y()?Reflect.construct(e,r||[],g(t).constructor):e.apply(t,r))}function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(y=function(){return!!t})()}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function _(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var w=[],x=function(t){function e(t){var r,n,a,s;return f(this,e),r=m(this,e),n=r,s=!1,(a=_(a="doNotAutoDestroy"))in n?Object.defineProperty(n,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[a]=s,w.push(r),r.stroke=0,r.strokeWidth=0,r.animationSpeed=.4,r.particlesBlendMode=o.T$.NORMAL,r.renderer=new(i().PixiRenderer)(t),r.renderer.createSprite=r.createSprite.bind(r),r.renderer.createCircle=r.createCircle.bind(r),r.renderer.setColor=!0,r.addRenderer(r.renderer),r}return v(e,t),d(e,[{key:"createEmitter",value:function(){var t=new(i().BehaviourEmitter);return this.addEmitter(t),t}},{key:"update",value:function(t){if(this.dispatchEvent(i().PROTON_UPDATE),this.elapsed=t/1e3,this.elapsed>0){var r,n=!1,o=c(this.emitters);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.update(this.elapsed),a.emitTime>0&&a.emitTime>a.totalTime&&a.stop(),(a.emitTime>0||a.particles.length>0)&&(n=!0)}}catch(t){o.e(t)}finally{o.f()}n||this.doNotAutoDestroy||e.destroy(this)}this.dispatchEvent(i().PROTON_UPDATE_AFTER)}},{key:"createSprite",value:function(t){var e=a.Fg(t.src),r=new o.jy(e);return r.anchor.x=.5,r.anchor.y=.5,r.animationSpeed=this.animationSpeed,r.width=t.width,r.height=t.height,r.blendMode=this.particlesBlendMode,r}},{key:"createCircle",value:function(t){var e=new o.TC;if(this.addEventListener("destroy",(function(){e._destroyed||e.destroy()})),void 0!==this.stroke){var r=this.stroke instanceof String?parseInt(this.stroke,16):this.stroke;e.lineStyle(void 0===this.strokeWidth?1:this.strokeWidth,r)}return e.beginFill(16777215),e.drawCircle(0,0,t.radius),e.endFill(),e.blendMode=this.particlesBlendMode,e}},{key:"wait",value:function(){var t=this;return new Promise((function(e){t.addEventListener("destroy",e)}))}}],[{key:"destroy",value:function(t){t.dispatchEvent("destroy");var e=w.indexOf(t);e>=0&&w.splice(e,1)}},{key:"update",value:function(t){for(var e=0,r=w;e<r.length;e++){r[e].update(t)}}},{key:"checkParent",value:function(t,e){if(!e)return!0;var r,n=c(t.renderers);try{for(n.s();!(r=n.n()).done;)for(var i=r.value.element;i;){if(i===e)return!0;i=i.parent}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"clear",value:function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=w.slice(),i=c(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;e.checkParent(o,r)&&e.destroy(o)}}catch(t){i.e(t)}finally{i.f()}}}])}(i());i().ArcZone=function(t){function e(t,r,n){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:360;return f(this,e),(i=m(this,e)).x=t,i.y=r,i.radius=n,i.center={x:t,y:r},i.width=o,i.fromAngle=a,i.toAngle=s,i}return v(e,t),d(e,[{key:"getPosition",value:function(){var t=i().MathUtil.randomAToB(this.fromAngle,this.toAngle)-90;t=i().MathUtil.degreeTransform(t);var e=this.radius+i().MathUtil.randomAToB(-this.width/2,this.width/2);return this.vector.x=Math.cos(t)*e,this.vector.y=Math.sin(t)*e,this.vector}}])}(i().Zone),i().CircleForce=function(t){function e(t,r,n,o,a){var s;return f(this,e),(s=m(this,e,[o,a])).force=n,s.center=new(i().Vector)(t,r),s.name="CircleForce",s}return v(e,t),d(e,[{key:"reset",value:function(t,r,n,o,a){var s,l,c,h,f;this.force=n,this.center=new(i().Vector)(t,r),o&&(s=e,l="reset",c=this,f=u(g(1&(h=3)?s.prototype:s),l,c),2&h&&"function"==typeof f?function(t){return f.apply(c,t)}:f)([o,a])}},{key:"applyBehaviour",value:function(t,e,r){this.calculate(t,e,r);var n=Math.atan2(t.p.y-this.center.y,t.p.x-this.center.x);n+=e*this.force;var i=t.p.distanceTo(this.center);t.p.x=this.center.x+Math.cos(n)*i,t.p.y=this.center.y+Math.sin(n)*i}}])}(i().Behaviour);const S=x},1505:(t,e,r)=>{"use strict";r.d(e,{Z:()=>k});var n=r(1766),i=r(6871),o=r(678),a=r(6729);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function c(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}function h(t,e,r){return e=p(e),function(t,e){if(e&&("object"==s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,r||[],p(t).constructor):e.apply(t,r))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}var m=function(t){function e(){return u(this,e),h(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(e,t),r=e,(n=[{key:"onOff",value:function(t,e,r){var n=this;return this.on(t,e,r),function(){return n.off(t,e,r)}}},{key:"onceOff",value:function(t,e,r){var n=this;return this.once(t,e,r),function(){return n.off(t,e,r)}}}])&&l(r.prototype,n),i&&l(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(r.n(a)());function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function g(){g=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:A(t,r,s)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",p="executing",d="completed",m={};function v(){}function b(){}function _(){}var w={};l(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==r&&n.call(S,a)&&(w=S);var T=_.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==y(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function A(e,r,n){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===d){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(e,r,n);if("normal"===l.type){if(i=n.done?d:"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function k(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=h(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(y(e)+" is not iterable")}return b.prototype=_,i(T,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:b,configurable:!0}),b.displayName=l(_,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,l(t,u,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},E(O.prototype),l(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(T),l(T,u,"Generator"),l(T,a,(function(){return this})),l(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function v(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return b(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x(n.key),n)}}function w(t,e,r){return(e=x(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x(t){var e=function(t,e){if("object"!=y(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==y(e)?e:e+""}function S(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function T(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){S(o,n,i,a,s,"next",t)}function s(t){S(o,n,i,a,s,"throw",t)}a(void 0)}))}}function E(){return O.apply(this,arguments)}function O(){return(O=T(g().mark((function t(){var e,r;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("running"!==n.Howler.state&&"suspended"!==n.Howler.state||"suspended"!==n.Howler.ctx.state&&"interrupted"!==n.Howler.ctx.state){t.next=11;break}return n.Howler.state="suspended",t.prev=2,t.next=5,n.Howler.ctx.resume();case 5:n.Howler.state="running",t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:if("running"===n.Howler.state){e=v(n.Howler._howls);try{for(e.s();!(r=e.n()).done;)r.value._emit("resume")}catch(t){e.e(t)}finally{e.f()}}case 11:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}var A=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return e=t,r=null,a=[{key:"soundsOff",value:function(e){t.muteReasons.add(e),n.Howler.mute(t.muteReasons.size>0)}},{key:"soundsOn",value:function(e){t.muteReasons.delete(e),n.Howler.mute(t.muteReasons.size>0)}},{key:"mute",value:function(e,r){r?t.muteReasons.add(e):t.muteReasons.delete(e),n.Howler.mute(t.muteReasons.size>0)}},{key:"play",value:function(e,r,n){if(t.enabled&&!t.paused&&!t.isLocked){var i=t.create(e,{autoplay:!0,loop:r||!1,volume:void 0===n?1:n});return i&&(t.createSilentSound(),i._playId=i.play()),i}}},{key:"replay",value:function(t){t._playId?t.play(t._playId):t._playId=t.play()}},{key:"enumerateSounds",value:g().mark((function e(){var r,i,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=v(n.Howler._howls),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=13;break}if("function"==typeof(o=i.value).volume){e.next=7;break}return e.abrupt("continue",11);case 7:if(o!==t.silentSound){e.next=9;break}return e.abrupt("continue",11);case 9:return e.next=11,o;case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,15,18,21]])}))},{key:"playSingle",value:function(e,r,n,i){var o,a=t.getSrc(e),s=v(t.enumerateSounds());try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u._src===a){if(i)return u.stop(),t.replay(u),u;if(0!==u.volume()&&0!==u.seek(u._playId))return u}}}catch(t){s.e(t)}finally{s.f()}return t.play(e,r,n)}},{key:"replaySingle",value:function(e,r,n){return t.playSingle(e,r,n,!0)}},{key:"createSilentSound",value:function(){t.silentSound||(t.silentSound=new n.Howl({src:t.SILENT_SOUND,autoplay:!0,loop:!0,volume:0}),t.silentSound._playId=t.silentSound.play())}},{key:"checkDuration",value:function(){this._name&&this.duration()<1&&!t.durationAttentions[this._name]&&(console.warn("ATTENTION! Sound "+this._name+" have less than 1 second duration!"),t.durationAttentions[this._name]=!0)}},{key:"create",value:function(e,r){var i=t.getSrc(e);if(!i)return null;(r=r||{}).src=[i],r.onload=t.checkDuration;var o=new n.Howl(r);return o._name=e,t.observer.emit("soundCreated",o),o}},{key:"getSrc",value:function(t){for(var e=0,r=Object.keys(o);e<r.length;e++){var n=r[e],i=o[n].sounds;if(i){var a,s=v(i);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.name===t)return u.url}}catch(t){s.e(t)}finally{s.f()}}}return console.warn("Sound "+t+" not found"),null}},{key:"unlock",value:function(){t.isLocked&&(t.createSilentSound(),t.applyFixToResumeHowlerIfSuspendedUnexpectedly(),t.isLocked=!1,t.observer.emit("isLocked:changed",t.isLocked),document.body.removeEventListener("mousedown",t.unlock,!0),document.body.removeEventListener("touchstart",t.unlock,!0),document.body.removeEventListener("pointerdown",t.unlock,!0))}},{key:"init",value:function(){i.Z.on("visibilityChange",(function(e){t.handleVisibilityChange(e)})),document.body.addEventListener("mousedown",t.unlock,!0),document.body.addEventListener("touchstart",t.unlock,!0),document.body.addEventListener("pointerdown",t.unlock,!0)}},{key:"handleVisibilityChange",value:function(e){e.hidden?t.soundsOff("visibility"):t.soundsOn("visibility")}},{key:"pauseAll",value:function(){if(!t.paused){t.paused=!0;for(var e=0;e<n.Howler._howls.length;++e){var r=n.Howler._howls[e];if("function"!=typeof r.volume)return;0!==r.volume()&&0!==r.seek(r._playId)&&(r._pausedSeek=r.seek(r._playId),r.pause())}}}},{key:"resumeAll",value:function(){if(t.paused){t.paused=!1;for(var e=0;e<n.Howler._howls.length;++e){var r=n.Howler._howls[e];if("function"!=typeof r.volume)return;0!==r.volume()&&0!==r.seek(r._playId)&&(r.play(r._playId),r.seek(r._pausedSeek||0,r._playId))}}}},{key:"removeAll",value:function(){for(var t=0;t<n.Howler._howls.length;++t)n.Howler._howls[t].unload()}},{key:"autoStartBackgroundMusic",value:function(e,r){return new Promise((function(n,i){if(e){r||(r={}),r.autoplay=!1,r.loop=void 0===r.loop||r.loop;var o=t.create(e,r);o.play(),n(o)}else i()}))}},{key:"autoStartSound",value:function(e,r){return r||(r={}),r.loop=void 0!==r.loop&&r.loop,t.autoStartBackgroundMusic(e,r)}}],r&&_(e.prototype,r),a&&_(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,a}();w(A,"muteReasons",new Set),w(A,"enabled",!0),w(A,"paused",!1),w(A,"silentSound",null),w(A,"isLocked",!0),w(A,"durationAttentions",{}),w(A,"observer",new m),w(A,"applyFixToResumeHowlerIfSuspendedUnexpectedly",(function(){n.Howler.ctx&&n.Howler.ctx.resume&&n.Howler.usingWebAudio&&n.Howler.ctx.addEventListener("statechange",E)})),w(A,"SILENT_SOUND","data:audio/mp3;base64,//OAxAAAAAAAAAAAAEluZm8AAAAPAAAAOQAAL9cABAgIDQ0RERYaGh8fIyMoLCwxMTU1Oj4+Q0NHR0xQUFVVWVleYmJnZ2trcHR0eXl9fYKGhouLj4+UmJidnaGhpqqqr6+zs7i8vMHBxcXKzs7T09fX3ODg5eXp6e7y8vf3+/v/AAAAOUxBTUUzLjk3IAFuAAAAAC3+AAAUQCQE8CIAAEAAAC9XIvp9JwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zgMQAAAADSAAAAABMQU1FMy45N1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuOTdVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/84LEwwAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy45N1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zgsT/AAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk3VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//OCxP8AAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVCR2WtMlTPLaCEcQhDRIkWpNUBccLCIBTNBBCxhFgrs01SUYOMLnq6Vgf/CX08NvEvxE9ZSkE51tF7g7/84LE/wAAA0gAAAAAFNMEyGgsmTVmUIxkv+FgwdWZjQIFAT6ThlGCs4+ce75gPCSJdNy1lAYwAskz5uyglwDoGamDhxR49Ajd600dKPJgzTt45pxP9kTkPg26RPPRTcJAzYZNaSDCiEzkhFRHJhLEHvM1iaJwoBAnM5AQMYIQjQwYJPEsg4qY7XkiGNsXXZLXYnX/ppZu3pAqGgUBQiLAoQGX6EoSa4ABlZLEk7wsVDK/U3yiIqOhc56i/aowEw0plqPata1CzheBXCt7dS8QQf/zgsT/McnRgBDO8YGK5GjjfNM1VhgZsfhiZz3gYRCkikEQw6ICsS0SnBkomfub5Qo0sIniYBhQCtsuIxgKMUJjAwcBERlKOY8IGzvI6yAGRNfWTsR8zaiM+JjD3s8L2OnaTkEkDeRn5aYUDsqM6FGuJvKMmgyGtgVM8d0sBJF9TfBYIrQIAEN2OpDsDn1kNYRoiTh6Z2/9uteAJAkMvisxsRzAplMnA0xscAMCDCBNMXG01CeTSo1FnOZ1MhE/TAKwMrD80KghJTGnAQZBK5gg//OCxPsxgcWwEM7zZXAhMZkEWGjQgaNBxgcIGmB2YFERpo7GEQaZGJxnEIhQimfDEYBL5kcUmPCkZwuhgsAmdDSaXbZkgNGKCQae9Rk6CmsIYaQSpn5BmFGGI3EbXdpmMGmeXeaHbCuTI6UM1h8ysdTLxDMHBgxUayAVm00eYoZxlwgmHQUZPm5sk5GqZ6erZhzF8GaOVn2edG1j3GOG4mMQIGXR0HPFYHPxqnDsjGDwnFgajHlEzOI1zK4HWbH1NwjGzpBE0d3NFYDTbgwQaNb/84LE+U/R4YgQ53eAns6c+P7UzN3w0IGNrWzQyszOcMEWg6CNUGjCQ81sACh8ZUMA0IIi9OYSB0r3HSvac4LiSvV3//14uv/0HTDS4///////aqoJmbuZidGiBwYhmFsxlA2YCeowiwaZOOAg/AIOIisxxKMXNAaKGGHpipQY0MkT+DUUw0iJo4ahTOoQyQ+EmgQjogGTUE8wgjMuBDFCEwMuAyOMF4WzjEgIeGTBRQ3MLACMYGFDPcbmImf1BzhoQRBoJ8bU0GfFJA6nDZBnY//zgsR9RXnVmAjfNYImNE5Q2GSkxgC0DoYSlzITEzIBNAPjZD4DIxlBQaG1GBsJzXAcaUGZCIaQbZqYznjKgOtI0jMjn+OMTRs5WpzJhkBBnMdgEwyAjAIqMgyNMGMilOaAMWzDoIIMDEoy4Ixr8KhDK1x12HcTJIAy8ZsuYDccU0KtiiwOCzKuhLCCB5dgYDigsaDqSTds4Ax/////4xdn/////9EYUAq0ZGZLSHmul60Ny/xf1nysKwMFWp5YqLEmgN6FAy7sMkKQC8vGPlNK//OCxCsvwdXAWMazZci6RnDBtoXgTuAQB0TsJMgpCjxvYXGYOIshoQAJcp4SbSGeZimXhOx1cnYZZ8xlAhVuwUj+vtUAVGAIlFwwUJKDGFgIrMQJJnxlzBWZOcaNZyLdAeSbhkrhKFphaRZgITCCQsKAhUMGYrgGmFFihFYUrEBRBnFt8AABosE7At8HeFzgYEZpRbWUBgy90ZHBjMYgTCsAxwFHAyg2bOBJRQEuYX1QNCMxokKEMVQDlBhnjqXANZNcRiKql4RqYDEqtMkJmJD/84LEMDJ53bQQzrEslrBqpo9vKFhgYEHoiYCVpUaCqqDpggicBpxpkiKehqJwKIAY2rYawyDlYYKBpMuMj+pshNAwMxgVM8KhAgmBh5olAGVo0j1heRmLxiG5uRYQoMYbPjUSFM3ENqWNNVKFpEOBy5zEwQHMCol4KAWRARDbJgoicgsKudlFgxkBQUrA5JtOF0D3y/BGMvq0Nn6HNhjD5prUtv41dAmM00FcYtACFFtmMIIz1bi86RAVUohwRiCAIBJGq0XKV0OUp7PjhKFqmv/zgsQqM3HVsAjO8Utkp3BUxxzNWByQGPZKmsbtQwaYIwUKB6xhhCWQsSaHh8nA2UFEHug1wxcGESSTKQcCEIIPLwQJpchweWAZJSFmGFgOWhoVMZJ2FCySYcUgYLMTLDAAoiFzb1A8E7MqaBxkCH44syNjQniEIMKCAJEzAgAnWy5OoyjGQCYQupxyodNUtoNLKnwNdBGrcWrNgE1xPCl6NCLYkFWFs0FKnf6BqTtMSmAGLPQLaZdNSxNBbFTtXwiMuownComSJOvsO1VCF5iV//OCxCAwYdW4MMaxLIiIX9a+JRI9goYRsFOJ5ETFSsaLzB60fl8mTKVKmiHRFYdPptGONGACGqANABgMWRBw4OJmdAA644iY5hQq2i2gJBq6SmApAHBy1ZqSDLjNpEmTH5jLOzNwDFFRJGcxWYlyYiQZNeftyYUiiqj015lqH7jiQFyo3gJ6pF8q/Z0lqcxuW3FsyfQsUz5GAKwpSiSAgyhzd1ely12q5f2Pv3U2igGCGmB7mNIVYW4PL2bjQ0cy46Woy0LAMRUwSg6Krzwo0DT/84LEIjCZ0bgQxrMQeTWAIYI3uMnsmEX4bshavEmQNBWFJZlahY4jABw0uYQBwEOCoArBDBlAUBRY+ZLeCIQYAQACLZUOZngxap0XYATJAADAIQfxHQI0AL5GGanPYmsMnyLoNEZg7IknCG50go6ZMwUQEA6sEJLfkwsSKM0QoCMIAwgBpoEIl0maAwpAaYZ5eRrYUCQaOMlu7DgsIaBSmkJjaYCgy4LUth+zZVXgDocJt3W2SoSDjyaw9xFskS4QREmM1lFIYEutPYRAHEqpNf/zgsQjLsHRvDDGsWX1eJ6pMpVCMk4ouhWjOISglKGqYAJEuqGxC1E4eAKxh0TigGOYXjVvVjMCwPBHNVpcw3DXwgBaoCgamYCHEQIEDzCCp8IImqmGzNmPUmDWGdZGLSmLXGrNHIvFI0/LUmYLxV3AqVxcM2HTETTSvBhiwlNMwEQdjhiOhMdBAaAtJzgBjTxghhEaJMWQJQagspoo7HJfDMavjRwQda6dAUHTxGR0B7TmgILlgkRGg52Dmsl0wUyhzpAEFeQFOmoyVRFksrFj//OCxCwxedW8UM6xZcxy0IDOqNVotGLEjyIUCh4KjA4Iy0Bp1g4haChhFOYibmFwogNHG+caAoloqgrMFSigUzQH8UOQFgQCYMoYgQY8aIzKMoQaOGnM8yNG2MiUB2EaQg78ZJsaDmcFyX8NMNRaaQgwYQE3dZgJSrGhEblhrzIJdpIVOM0DAqQYFZbcCFow06tCtFuCR0Xi2pa9jirYdi7tQPNU+U4lAAK5zBV8t0bv2WNmgx6mvsreNnbT4afSmkacjK2TCE4gCvaLMtUBSnX/84LEKim51cxYxl+BLofXG1ItSr1N4SEigLEQobo1VeyGgUK2haiGUKQpFcDD1TtJag4C0l8uPBKVIVEnSyJ12inmxuUIjkQyqFA7lHpQZ7Z4spRnbGdACgbBHPVlZeLaEdTqLGiYBFnIHpKL40C7F1aiYDpBxgniaiwF2D/Q8b4JZoTyEnDvEq0AavSA9ZSl+O1SoJLHQmV+Inmc4ydhDhci7rYWIzOnZa6ipmv+/KWbA4aWghGshk8vdqBi36GTTGcsBYOPIW4rDTOeqNEeR//zgsRHJmHR3Zh+Hr088TQad0HohiiZa474v0lY30Mo+peA6KRZIGlGBQCgTEZAkauJnbW6GyG2ZSkRB5CarJ3EoUJISLFIFLD0SodwIMEZOwhDCOou62nirY0MV8bAlWAABhQq406i4H4e8Mbs5PRQGQTQULgspa+EDpFWOyIyQItBgAchdzV1K4E6lTGW0dJm7dBkS+lIBBodZYFAJyw4WApmNzGkKY+8Dwt6w12W4JzKhYawhOgDBS9IYkwVYyEAqeFriEs2ogYYcDwXqC/A//OCxHEoecnMWH4ynVDZO6yTT+sDWUkc4Szmtr1gy2+ytzOWMroS6kzXUcAMAjoXhWOj0sxQSLuL70w5RhIAlg3NnV3NPWAcRtUtFzU7G1h25tMY2lewlcitrCoqnxEldMZlLW05XzUoZZPcVYiZACeQqtdIKajgQligiQ3NuQiCHUg5eqtaa8SVWZw6iHrHWGtaTKUCCsAgT1BrCK6WAqA03S1YzUz4IWOq4R/mlAd8jIISls4zmFsOI2W0wzIE0ETE5F3LeMB8HOXkSoGi+If/84LEkyjp1cwQxl+DJYAVq09bnaJCbxb6qh+5zy0AmZAHMlCzUgD9gKBPmg7OIlwc5KhH1CpibJHLnWg4KT7cGWrzWGUgJCgQmgt5gjuM5jS8WUSoMGoKXZL+RhsjcC2okMaao2XrUCcJfSkIYjDbTTrLsc1I9tXNWsKyMR0zyILP0hTVHDFA6sgEC8IH0NU9hLqQNKH0SJgdh6cjE6RiLSouny+i4WcMycGkLhpCraU2McVlLZmdNY1Fp2kuASoA0/l0Rst+xlTNLKIO0w9fBf/zgsSzKEnJ0ZB+Mrn5bk6a+0vH3Zw0KBomzha7D2CL+bxmjws4Z2/cJeVgbJIbcFBxBtK4i05pAttCyZUACJArq4BZZpQ4aEstWKhRhbddCwCA1wYii4kWr1MMcSIsAkI9IFUhg1YMmGTEDw0ypELjzBImYofQC3dVinptgrQ1hGnqxsRXMl2sHi0xFdYWZc2BmfixJOk5I+RGWOM4dT7ddDUJrWFlGDqIqLQhCFzIpNBHYh7REdAEEPVtRQRmLXG+A0oQyHMtaKgAgSg60VYQ//OCxNUpmdHIEMaxgQFMcwOVTZIwwJRRIRlzAChEURxAOkCMC7plQZtRAK0IyCQMgCCVUwB8xIcxaFjKxzNgAuJdduIQDIizhJnMXLSGXFmANGVHGtZGCMnDRgEDNJNzoQk24uMzfzPwg4kaJWY3Q1DAYVGiYmJQZyWWwyBgossDiEmCyYKAAWWVCBAaRl+AIeRpAwA6D9kQaloRBJhYal8rAsp5o20iJOTcjtYYCGAACAgcxhVOgwRAEFgmVrvCwJEyQmNIAgIyIXaMoFQ9HKH/84LE8jO50bAIxrcNSAJCFx0CCVgGCJFYdViMhoAtEApKO5SAdkYsgjkKrGQQL4AmE54yUc01k0C8Sm5gKHlERJBx6KqgaVQIGRsCoRWSBghCMEQcWTlgGX2HQgUgC1dOMyCU6cMX+g0eImhkgx/lJ2QphL5kUoHDIVIupUFARIcgCFhLRAri6hcRrZEYzkBAGipmosptpIooiFoew3KBKyUxjGAiITIohqps77SoCn5ZFREKyl/NOZUq0oSLrNdtkocmFBSU2aeNkq5BEAkyQv/zgsTnMnnVuPjOsWUJjFpbuEOhDJL8Upd1rLqSJEFK1BhDoXflJbQBoG7SSbhuAcOYYgj9BiQ4OicCFYmrU8ykkc0oAoAYY5fZaCW600LEWwgQMdJEtBYLNDJDFUQDVJgq2Bng44GM0GgSEGVMppyUaceFrEg06EBSegQAINo8m8KpSdYEEOpkCokU0+mjNjGRJIrFZWnGs1opctZ8DOC/D2RaEZ2Mbu1FQhQgQ9QyA5Q0sFjh1pgYGEQ7F82hgJYGgAo0tog8VTRYpQsz0gES//OCxOEuYdW8CM7xZWCSs5VFLiVKPPqYQSjCA4yxyg4RPCNIQPGuyMXIhQ2bfpijHcQb2IgRL3GWQBBxkYwFqjHUKTVKRrWcUFkEJgBKPI0FATUzYUeriNAUTxQKYisaqQInpsC4FhGpRHRumm2gWWYZSASKgYqQEhkyWSWgMPRDIVAwqmAwARAZ2iKtkWCvBaQmJEd+k7obYuinAkQlDhPLRU263iUKUCAYDSS6RcQMFL1IbNOJRC/IiDIiICL0GQULAMGQDAKCDzJbL8JkKIj/84LE6zAx0bQAzrFl8ILKQanQJBK6UcERpeVH9BVwhCuJDiEAGOHQElcKqJkjUwF0IgTFBLcCz4GAA0ZAICoBgsRiKYJ4MkV0mImcvkzZjGDHshFKZ8ilwUKO+43As1dkuwYh8bq2bgAkCaQQHqmdKfHiKxZpjLqSmGDDCf8FJooglMBAPwDBiwCURpIqaGYCWfMygwVAKGIi0JkEJWp62lBVjyjGIXVKCIAACIoLrQyf+DB4LGgQQrGXzSULdBciRoXQW0eVXKPqQCcy8zaoQ//zgsTuMVnVvPjOs4AiygmczjImizEgEAbI4S1AvYFBJ/FtQ5ARYuYNCQbXilceUDHyIimS/QaMlPECYhQ9jbsLiLXJkkRxoJeU0A5P4wRJD4xggGNTPGwNPOS8DsRvWZsxx1xx514qFMiaLyKmkIEDJbDU4eZYWoYsIhiMDatdf0CActhy53qCwDFFrhnEZUBcpkCEJVSQSIVtwh+FvjDF6mTVD4AYwV775d0HCW8hqvMvqwwYoDBiEQ6YHECGlKF7J3OeXOY8XQMgzYECnXYv//OCxOwvidW8+MaxZAestKFokPjHEXQFiiQskKBkpvhmuYZRxQiZ9oYRJ2QmQiYzqCMaLKBgoSBmbAwM09Q0FFIpiEcFIFIZ5pmaumwZDAXHNJYHJGmmZ0YbteEoCpOPU5N/jPcuN3umC25IMChkqD1tiohIdGR+BI4sMHEAwClRJCwFTzIRBfBQEteVQQCAGgJDoVeQBGhcApY2cRhJRLHE3EyW1QpRo6EBwWIg9RwQBo+Alpmw8+YIRMiWvdwvqFSFdjIiKgKIBs5gjJiGMaD/84LE8TFRzbjQxnTx5AhIME0uOW9Y+pog6XwhJjEAoE0oG6gEUj1MogklLVlx2/LrhVUyxAylQYlJUuMNE5XwEQGFBlSnRadTMdCAweZAOLjAQaNBPGZRqkYVVnuOmOQgYmdjaI4J/vBlUgOJGGDAESzAwoFiAKNjIQVsgE1IwPTUQ7rCNdUCKgRCJeDJUErS0LgDUsKRCBAEErFRQcy8j8txfmIReOoBlISAYylOteAG+wNeCgqlq2AdJG8wkH5GgSehjGBRFoVNwVwGkVoBoP/zgsTvMVnNtAjOsWcSSTPJAjCwWN3liAk7NkyR5AyoYAKPQlDrii4QgAqAjROonTARYkMscafMMEFLC1K6EEQyIVBm4J0MhaQOiizpfh1yqAbRJ5TlWkBJn+qCkgtZBNU074iDmf+G5jiMWJNVSF4kJCh644FEhwYFQdMOHUGFhi7yzSvhEIYZMl/kfaYWICzIsmLKgsZDkLK2XDQ1fCYiEDY4bmqv2MYHABsDL3iwyFTQi4gIVYKhKR3RECBS9blESIyCxRPQhGiDjFzlhlWK//OCxO0xMd29mMZ1KFIICLgEIKCwAFBQ4hALcKoMRhkYRImVVwAWZ0aVBhlFuzEVMImnBhgsuFkkz0iTHBSqX2tYuOJFJqA0J2kE6Ka8koQdcYzpk0HDqdax1S5iD5rJ5/FpYclAoFXxrWbkaVBLIlpKrF0h0CPagKsZeJ6F6ISkKyEgsgZI8QycHVlw1MIEI1jzxQSGAOWw6H55b7OaKc5DmKAFgAETdRLlgjCIgQuEp2BAFM35doGDIrCAxahnkLaZwYAVGmUgUoCAmkE6EkH/84LE7C/B1bzQzrGBgJiEOevNlCJrLCANj6IiFKKqJIWaVjAgCbFCxAyIS05lOFzBG0XzaAlCJMLiSoRmZ0i0kYloFiC5a0jRYKgp9lB/oCVMtI6w4f5GebmJaoDCrCNoQB5oVLA0AQgH+okyQsKBVB15INqUpJKAF0wsEv7BYqVMAmWpWLBERhHgEzMjkfQSJJZN13koEBTNYrSyG9Zv1UKZr3BAkEgC8yUQZoEjJdgxZQOEBQEmIYEUYEEFAJc2BxCASvIgBlyDWAqEAIBsS//zgsTxMAndvNjOsYCIBElARoQXxTAFSCGZfNDUwAsy6GImPbmilDBBOEyhAGjjNmzBhTWhDFFzAMAMWNaFXOCBQUAMMBREgDGTMSgwwsYKmMIEitAKHcjdGylkaJecacBV0Lt5nCaYsLGdAhqUYbummJKZM4jIANAYCRAMVLxc5poVIB0hVdKBVmJwPgk6ZkKOoQgKKVaW6KCIKw7uIdXOjLYXhhprFqUXrQ8eCgAaHEgGuRA5ZMPjhS1pYIWHmlifzrl30AMLL0EwgEiVmARK//OCxPQz+c2wINbxgSW2kOsGXadNAEuxXQiEsItJzWcqAjnjtxrQVkAUJCgPSW4PK77CTZYpaayDIgeAs8h2ccFCLMDwAsGIAKo2PGLFhQeYsyaosaUIYkIYgAYUmaISCroDyksAyJEO6Bcuc6KBh8KdQVAUhiAAXaBToYqCKXBxgSFHUWYRGRKL6kI1Ny6LYAmBZwGETSWc7S6kB6KD9uu4k7GZNyntVU7QKgMyfFlhaEhEIqjReEIsrBhUepEEGB4MY0SKjFlo6AgEDqpqQVL/84LE6C/J2bzQxrFkKvBhIu2OlWWhwgyQBTYOLIJQsNMwBDERlYIhqplnQJmZcGxGmhLClA2QozYCLmrzK/SSVjNuPRnLQiMwY4IBSg6ES6EqQKUNFMIiMSSM6hOeFMM/PQ5EiJoXY0bGgkhpJ8aAuGdVAwXg4WMKsTqgwWPjEg9C8uYjwnUXNCFnGIEiDYJlgOYK0rSnIbBpFByEhgqlgwLcKBfifWQLFDgXm2oIKeCnEgYac8iKyfsSXexpPp5ncDjLEL1m96qJAYhIJEcNCv/zgsTsM7nJrADW8YFRSJkhZL+rmTOFBRMkG3KJJGITAuloKkRRyIDDxoQ3Q0pB3h04W2u5mhUeWhQ7wUIhLBJe2V8qqirAVVlICAxBBMk6KjR3IBH7Qd8KYMIJNw0NSMNCpIhwwMAqo8rMFA06kqnNRHbukCnArSmAthtWMsRAwldyU7YBgGragAihLwzxPTVfKpAJR6suTgwpSNUNABCFZfQeqbVGNIoVWsO4ASAh5RVYd4REBIkHDAzQ5wLqZgBSgyMDZMexUAtA/4FBinYc//OCxOErCcXAAMafhR29cwFQAAEDH5gxggOmaKo/AYSOAQYZA5w6ZIyRYiMLbHRRhzQBEjIZ0QUQS9MQGW2Ai4CJLRRTRQBwAgEjBUHHAAeNxeMMLDXB2mhnERg1hwv581I1kKLIhanStnbsGSEuGDQxAOSpSUAVZMqWdAzalwDBQ+UKBq61BR5phYDEgQsQKLGAoNaiAwUHL1OWls0FWiGWKsrY/KpD0koHiBGEEnPAaikFpZA7QzwxgUs+OhEBoCABTqlyA9IhSkgCDHHgAAD/84LE+DQZ1bDQxrL1BRXmZvYGuyQ0BQOSDTxSAxRSg5W92QdCSiK0UyOzpkEoDtM2dTQKAGccACggAdDcQzCxAgabQkKJHqCrnBRqRhjMGCu/pqmHZKDphTM2EDQTMoOAQFBU7NfDAbbgQjMcCDCXE4I/YYRBwOAi9joGg7iiiBhLWguIRFEaUalJE4TbYmfYYi34osxTAWVRVoQnaBqoPOfYikheKvUyXhUBe8gMnIjSOpADgMYogJAQ5GE4NoSCSNMJk6AeFBKPOW4LSEnobv/zgsTrMPHVtNDO8YG1nuQHBUwrJiKM5coUAqq2MSFF8wFTLnl1g4EVjk/gKEMAfRYTcHiYiLCzVWBSkBIhEFYaghDnhQCnwgvZLMFUGNBkfm5BBEykEEEAFHMIsDlJkdpsYZUNmD9GQrHLrGmRAZqAjymrmLILzK3IMqRL+pVGNw0Mt4ECB2ElzAVIYWCmKkSTTBtUEULaw8iJyWDP6CPwbQSmlpxlE8AY6Kk2VAwUIKhJVJiAw0GmAwcdDMauUR99S5ZnjWQQQW0CygY0VFwi//OCxOswKdG4yMaxEfDBDHTQcEQhhjmcsgRVyoO5yDpgmHREDSAEsFwUqSkgOJVR64YFBTsDo25LsF1EOxASXnDCmgDTqfzZkh5wxQTRCQ2BIiZuZGLlKZZmKQbILGCAhmhwYONGEphmg0ZaImTzpkBYiMGDhe0WA1H0FViK8wLKkgqICCgJCLRFw0wlYC55aZGk4xQCKkEOrmEOBlVTKzFz14JVPbDcSnLloQoJahUiaLDBGJAWCsrvEng6Yh8IKIqBeBZEaQhslwFzpeiC6V7/84LE7jJZ1bjQzvNlJGFCr0KAqBstYerOMDIWOMW7B20ljU8ReayiKewGDaLIIMlYDmBRqX49rL9hw42aEmHEIQvXAoqAZO/BhicNmTACI2ABS+W0eELBzVGAYKA2s1IEaFjDIz3Axz0xTkyiA3A1uJMfV0SAEQndQSC1Emhq4lBOURgEvGJMMl2lCC+yhJRMcCpkWmL9JFJfIPMOe5jcButK6DKlkgrChi6TRQCTLAwsmTBQi9BYhZgOUMosCAszMiwmNCpgkkJAIXB3pdtHgP/zgsToL3HRtAjGsUkgIABIEGsm8KZIQWALyDQo0KBDy559mgphBQMhMogLNK4PNzooeiqbG5i3gZwKSqsMRQ1STEEgQBFGEQWAyXAwTdFbZj4igjDFIw9cMeExklcgwM4MFPTdQkLzZk4eYM7mvrBpxaakIAADARoMhAGDiUVOQXfZIjqUbLjI4MCM9QF5TV2gVQKiR7WIKHU5DKB4nWHVIZwAzZ/F+O87dTGPTiAVYAAYUAIDS7IhBZ6oEnUjpI0QTDNZ9NMIXsjkjiVVGEgA//OCxO4zAdWwCM7xZ+QAP0XFdFfKZyOZRE5qnCeg8u2GbBjiMyykhwTKWAngQyFEANEzQHIBASXxf8tnKDZJATLAi97FkkWEMMLbP4j2IATHGZslsKHpHg0sBIKZiAmMjwRlOMnPexNqhP3aAhpTtjSwCe5cQCLYOpUnMJDcpaqFyfoECtUYGsG2YGJSABqCWg0kENNrggqbqLS6V4F+ZTAkC1ZbenoVEc/H1iVYQGMgwoYkQgVyIDnj56aqFGU0JTNZiupu5gedJmUCvQw2DhX/84LE5i7h1cD4zrGBkW0nzShN5FOgvEyZYFK0ZAMINEA1Zj1+P2oaeBBZqGlVw4JzePQmAYoucabQCmcZkSJqxQYKAkR0Y0Sk+wAODhW7gAcoAM2g73CFk7JwxKDSRlE5sEYiOGxPBSCfD2dpSDgJgALJzABRgEZMgjEvgw4ZDMxg1XZgg5dFYVrhZZNMxAlNhnLOVhWIzvar+v7TdiLu2KZYGhGvICIxRQGnEQCoklgK1AkAQBBdWBcafKAIEBBLABcxoQbEQMkCA4eF2AtSS//zgsTuMDHJpADGdNWArmOWiCQErgAYs+XkEYYMACBxYoDCgkAKBhUYGHhVoRRiOgA3DFYo8FURQocTGXiGcKSCjgNRBAiANTRh60FTp4F2S9yqLYGkl/gQWFVAs6DISw0Fzy3CZYjGCypC4I2xlMLEFuy0CFaZihRdExwjLWAjY6kSkiowAXMGgLakvQh4FXwYkYIoOAQXR8UvXo2r7RuDotS6yxq1ruA5akxBTUUzLjk3qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//OCxPEyoeTsCM4yEaqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqTEFNRTMuOTeqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/84LE6gAAA0gAAAAAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpMQU1FMy45N6qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/zgsT/AAADSAAAAACqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqkxBTUUzLjk3qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//OCxP8AAANIAAAAAKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpMQU1FMy45N6qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/84DE/wAAA0gAAAAAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqkxBTUUzLjk3qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//OCxP8AAANIAAAAAKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqTEFNRTMuOTeqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/84LE/wAAA0gAAAAAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpMQU1FMy45N6qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/zgsT/AAADSAAAAACqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqkxBTUUzLjk3qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//OCxP8AAANIAAAAAKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqTEFNRTMuOTeqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/84LE/wAAA0gAAAAAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpMQU1FMy45N6qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/zgsT/AAADSAAAAACqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqkxBTUUzLjk3qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//OCxP8AAANIAAAAAKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpUQUdzaWxlbmNlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/w==");const k=A},6432:(t,e,r)=>{"use strict";r.d(e,{Z:()=>_});var n=r(8629),i=r(1477),o=r(6896);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){s=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,a=Object.create(o.prototype),s=new M(n||[]);return i(a,"_invoke",{value:A(t,r,s)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var d="suspendedStart",m="executing",y="completed",g={};function v(){}function b(){}function _(){}var w={};h(w,u,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==r&&n.call(S,u)&&(w=S);var T=_.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(i,o,s,u){var l=p(t[i],t,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==a(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return r("throw",t,s,u)}))}u(l.arg)}var o;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function A(e,r,n){var i=d;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=m;var l=p(e,r,n);if("normal"===l.type){if(i=n.done?y:"suspendedYield",l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=y,n.method="throw",n.arg=l.arg)}}}function k(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(a(e)+" is not iterable")}return b.prototype=_,i(T,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:b,configurable:!0}),b.displayName=h(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,h(t,c,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},E(O.prototype),h(O.prototype,l,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(f(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(T),h(T,c,"Generator"),h(T,u,(function(){return this})),h(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function u(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function l(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return c(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function f(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}function p(t,e,r){return e=v(e),function(t,e){if(e&&("object"==a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,r||[],v(t).constructor):e.apply(t,r))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!t})()}function m(t,e,r,n){var i=y(v(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=g(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},y.apply(null,arguments)}function g(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}const _=function(t){function e(t){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!o.RX(t))throw Error("Spine ".concat(t," not found"));return(r=p(this,e,[o.RX(t).spineData]))._originalStateApply=null,r.attachedObjects=[],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(e,t),r=e,n=[{key:"timeScale",get:function(){return this.state.timeScale},set:function(t){this.state.timeScale=t}},{key:"getAnimations",value:function(){var t,e=[],r=l(this.spineData.animations);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(n.name)}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"setAnimation",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2;this.state.setEmptyAnimations(0);var n=this.state.setAnimation(0,t,e);n.mixDuration=r}},{key:"getSkins",value:function(){var t,e=[],r=l(this.spineData.skins);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(n.name)}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"setSkin",value:function(t){this.skeleton.setSkinByName(t),this.skeleton.setSlotsToSetupPose()}},{key:"getAnimationProgress",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(null!==(t=this.state)&&void 0!==t&&t.tracks[e]){var r=this.state.tracks[e];if(r.animationEnd>0)return r.trackTime/r.animationEnd}return 0}},{key:"setAnimationProgress",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null!==(e=this.state)&&void 0!==e&&e.tracks[r]){var n=this.state.tracks[r];n.animationEnd>0&&(n.trackTime=n.animationEnd*t)}}},{key:"getSlots",value:function(){var t,e=[],r=l(this.skeleton.slots);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(n.data.name)}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"getSlot",value:function(t){for(var e=0;e<this.skeleton.slots.length;e++)if(this.skeleton.slots[e].data.name===t)return this.slotContainers[e]}},{key:"getBoneSlots",value:function(t){for(var e=[],r=0;r<this.skeleton.slots.length;r++)this.skeleton.slots[r].bone.data.name===t&&e.push(this.slotContainers[r]);return e}},{key:"getBones",value:function(){var t,e=[],r=l(this.skeleton.bones);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(n.data.name)}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"getBone",value:function(t){var e,r=l(this.skeleton.bones);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(n.data.name===t)return n}}catch(t){r.e(t)}finally{r.f()}}},{key:"clearIKConstraints",value:function(){var t,e=l(this.skeleton.ikConstraints);try{for(e.s();!(t=e.n()).done;)t.value.mix=0}catch(t){e.e(t)}finally{e.f()}}},{key:"restoreIKConstraints",value:function(){var t,e=l(this.skeleton.ikConstraints);try{for(e.s();!(t=e.n()).done;){var r=t.value;r.mix=r.data.mix}}catch(t){e.e(t)}finally{e.f()}}},{key:"fakeStateApply",value:function(){}},{key:"clearStateApply",value:function(){this._originalStateApply=this.state.apply,this.state.apply=this.fakeStateApply}},{key:"restoreStateApply",value:function(){this._originalStateApply&&(this.state.apply=this._originalStateApply)}},{key:"addChildToSlot",value:function(t,e){var r=this.getSlot(t);if(!r)throw Error("Slot "+t+" not found");r.addChild(e)}},{key:"getBoneTransforms",value:function(t){var e=this.getBone(t);if(!e)throw Error("Bone "+t+" not found");var r={};return r.x=e.worldX,r.y=e.worldY,r.rotation=e.getWorldRotationX(),r.scaleX=e.getWorldScaleX(),r.scaleY=e.getWorldScaleY(),r}},{key:"attachChildToBone",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;e._spineAttachData={bone:t,position:r,rotation:n};var o=this.attachedObjects.indexOf(e);o<0&&(0===this.attachedObjects.length&&i.Z.ticker.add(this.updateAttachedObjects,this),this.attachedObjects.push(e),this.addChild(e))}},{key:"detachChild",value:function(t){var e=this.attachedObjects.indexOf(t);e>=0&&(this.attachedObjects.splice(e,1),delete t._spineAttachData,this.removeChild(t),0===this.attachedObjects.length&&i.Z.ticker.remove(this.updateAttachedObjects,this))}},{key:"addListener",value:function(t,e){var r={complete:t,event:e};return this.state.addListener(r),r}},{key:"removeListener",value:function(t){this.state.removeListener(t)}},{key:"removeAllListeners",value:function(){i.Z.ticker.remove(this.updateAttachedObjects,this),m(e,"removeAllListeners",this,3)([])}},{key:"updateAttachedObjects",value:function(){var t,e=l(this.attachedObjects);try{for(e.s();!(t=e.n()).done;){var r=t.value,n=this.getBone(r._spineAttachData.bone),i=n.localToWorld({x:r._spineAttachData.position.x,y:r._spineAttachData.position.y});r.position.set(i.x,i.y);var o=n.getWorldRotationX()*Math.PI/180+r._spineAttachData.rotation;r.rotation=o,r.scale.set(n.getWorldScaleX(),n.getWorldScaleY())}}catch(t){e.e(t)}finally{e.f()}}},{key:"getCurrentAnimationName",value:function(){var t=this.state.tracks[0];return t&&t.animation?t.animation.name:null}},{key:"destroy",value:function(t){this.removeAllListeners(),m(e,"destroy",this,3)([t])}}],a=[{key:"create",value:function(t){return new e(t)}},{key:"load",value:(c=s().mark((function t(r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o.RX(r)){t.next=3;break}return t.abrupt("return",new e(r));case 3:return t.next=5,o.Y8(r);case 5:return t.abrupt("return",new e(r));case 6:case"end":return t.stop()}}),t)})),f=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=c.apply(t,e);function o(t){u(i,r,n,o,a,"next",t)}function a(t){u(i,r,n,o,a,"throw",t)}o(void 0)}))},function(t){return f.apply(this,arguments)})}],n&&h(r.prototype,n),a&&h(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a,c,f}(n.PY)},6891:(t,e,r)=>{"use strict";r.d(e,{Z:()=>g});var n=r(6013),i=r(6896);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m(n.key),n)}}function s(t,e,r){return e=f(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,r||[],f(t).constructor):e.apply(t,r))}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function l(t,e,r,n){var i=c(f(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof i?function(t){return i.apply(r,t)}:i}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=h(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},c.apply(null,arguments)}function h(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function d(t,e,r){return(e=m(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var y=function(t){function e(t){var r,o;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Array.isArray(t))?o=t:o=[t?i.Fg(t):n.xE.EMPTY];return(r=s(this,e,[o])).anchor.set(.5),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),r=e,o=[{key:"on",value:function(t,r,n){return e.pointerEvents.indexOf(t)>=0&&(this.interactive=!0),l(e,"on",this,3)([t,r,n])}},{key:"once",value:function(t,r,n){return e.pointerEvents.indexOf(t)>=0&&(this.interactive=!0),l(e,"once",this,3)([t,r,n])}},{key:"removeListener",value:function(t,r,n,i){if(l(e,"removeListener",this,3)([t,r,n,i]),e.pointerEvents.indexOf(t)>=0){for(var o=!1,a=0;a<e.pointerEvents.length;a++){var s=e.pointerEvents[a];if(this.listeners(s).length>0){o=!0;break}}this.interactive=o}return this}},{key:"off",value:function(t,e,r,n){return this.removeListener(t,e,r,n)}},{key:"emit",value:function(t){var r=arguments[1];return e.pointerEvents.indexOf(t)>=0&&(r.data||(r.data={}),r.data.local=r.data.getLocalPosition(this)),arguments.length<3?l(e,"emit",this,3)([t,r]):3===arguments.length?l(e,"emit",this,3)([t,r,arguments[2]]):4===arguments.length?l(e,"emit",this,3)([t,r,arguments[2],arguments[3]]):l(e,"emit",this,3)([t,r,arguments[2],arguments[3],arguments[4]])}},{key:"has",value:function(t,e,r){if(!this._events)return!1;var n=this._events[t];if(!n)return!1;if(Array.isArray(n)||(n=[n]),void 0===e)return!0;for(var i=0;i<n.length;i++){var o=n[i];if(o.fn===e&&(void 0===r||o.context===r))return!0}return!1}}],u=[{key:"create",value:function(t){return new e(t)}},{key:"from",value:function(t){var r;return Array.isArray(t)?e.fromTextures(e.parseSourceArray(t)):"string"!=typeof t||n.P6.TextureCache[t]?((r=new e).texture=i.Fg(t),r):e.fromPattern(t)}},{key:"parseSourceArray",value:function(t){var e,r=[];for(e=0;e<t.length;e++)r.push(i.Fg(t[e]));return r}},{key:"fromFrame",value:function(t){return new e(t)}},{key:"fromPattern",value:function(t){return e.fromTextures(e.getTexturesFromPattern(t))}},{key:"getTexturesFromPattern",value:function(t){var r=[];for(var o in n.P6.TextureCache)if(o.substring(0,t.length)===t){var a=i.Fg(o),s=(o.substring(t.length).match(/[0-9]+/)||"")[0];a._ix=parseInt(s),r.push(a)}return r.length?r.sort(e.sortTextures):(r=[n.xE.EMPTY],console.warn("Unknown animation",t)),r}},{key:"fromTextures",value:function(t){var r=new e;return Array.isArray(t)||(t=[t]),r.textures=t,t.length>1?r.gotoAndPlay(0):r.gotoAndStop(0),r}}],o&&a(r.prototype,o),u&&a(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.Kg);d(y,"sortTextures",(function(t,e){return t._ix>e._ix?1:t._ix<e._ix?-1:0})),d(y,"pointerEvents",["mousedown","mouseup","mousemove","click","touchstart","touchend","touchmove","tap","mouseover","mouseout","mouseupoutside","rightclick","rightdown","rightup","rightupoutside","touchendoutside","pointerdown","pointerup","pointermove","pointerclick","pointerover","pointerout","pointerupoutside","pointertap"]);const g=y},3494:(t,e,r)=>{"use strict";var n;function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h(n.key),n)}}function a(t,e,r){return e=u(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,s()?Reflect.construct(e,r||[],u(t).constructor):e.apply(t,r))}function s(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(s=function(){return!!t})()}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function c(t,e,r){return(e=h(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}r.d(e,{Z:()=>p});var f=function(t){function e(t,r,n,i){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o=a(this,e),t=t>=0?t:1e3,r=r>0?Math.floor(r):0,n=n>0?n:0,i="boolean"!=typeof i||i,o._initialDelay=t,o.delay=0,o.repeat=r,o._repeated=0,o.destroyOnFinish=i,o.running=!0,o.finished=!1,o.periodDelay=0,o.emitPeriod=n,e.pool.unshift(o),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(e,t),r=e,n=[{key:"start",value:function(){if(!this.finished)return this.emit("start",this),this.running=!0,this;console.warn("Timer is finished. Use 'restart' method for processing")}},{key:"stop",value:function(){return this.running=!1,this.emit("stop",this),this}},{key:"finish",value:function(){this.destroyOnFinish&&this.destroy(),this.stop(),this.finished=!0,this.emit("finish",this)}},{key:"restart",value:function(){return this.delay=0,this.periodDelay=0,this._repeated=0,this.running=!0,this.finished=!1,this.emit("restart",this),this}},{key:"destroy",value:function(){var t=e.pool.indexOf(this);return t>=0&&(this.stop(),e.pool.splice(t,1)),this}},{key:"getTotalDelay",value:function(){return this.finished?(this._repeated+1)*this._initialDelay:this._repeated*this._initialDelay+this.delay}},{key:"then",value:function(t){var e=this;return new Promise((function(t){e.once("finish",(function(){return t()}))})).then(t)}},{key:"tick",value:function(t){if(this.running){this.emit("tick",this),this.emit("update",this);for(var e=0;e<t;e++){if(this.emitPeriod&&(this.periodDelay++,this.periodDelay>=this.emitPeriod&&(this.periodDelay=0,this.emit("period",this),!this.running)))return;if(this.delay++,this.delay>=this._initialDelay){if(this.delay=0,this.emit("complete",this),!this.running)return;if(!(this.repeat&&this._repeated<this.repeat))return void this.finish();if(this._repeated++,this.emit("repeat",this),!this.running)return}}}}}],i=[{key:"setTimeout",value:function(t,r,n){var i=new e(t);return i.start(),r&&i.once("finish",r,n),i}},{key:"setInterval",value:function(t,r,n){var i=new e(t,1/0);return i.start(),r&&i.on("repeat",r,n),i}}],n&&o(r.prototype,n),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(r(6013).P6.EventEmitter);n=f,c(f,"pool",[]),c(f,"create",(function(t,e,r,i){return new n(t,e,r,i)})),c(f,"destroy",(function(t){return t.destroy(),t})),c(f,"update",(function(t){for(var e=n.pool.length-1;e>=0;e--)n.pool[e].tick(t)})),c(f,"clear",(function(){for(;n.pool.length;){n.pool.pop().destroy()}}));const p=f},7040:(t,e,r)=>{"use strict";r.d(e,{$n:()=>v,oL:()=>g});var n=r(6013),i=r(5977);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}function l(t,e,r){return e=d(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,r||[],d(t).constructor):e.apply(t,r))}function c(t){var e="function"==typeof Map?new Map:void 0;return c=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return h(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,t)},c(t)}function h(t,e,r){if(f())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(t.bind.apply(t,n));return r&&p(i,r.prototype),i}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function m(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return y(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var g=function(t){if("function"==typeof t)t();else if(t instanceof n.W2)t.destroy({children:!0});else if("dispose"in t)t.dispose();else if(t instanceof i.Z)i.Z.destroy(t);else if("destroy"in t)t.destroy();else if("stop"in t)t.stop();else{if(!Array.isArray(t))throw new Error("Unknown disposee");var e,r=m(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;g(o)}}catch(t){r.e(t)}finally{r.f()}}},v=function(t){function e(){return a(this,e),l(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),r=e,(n=[{key:"dispose",value:function(){!function(t){var e,r=m(t);try{for(r.s();!(e=r.n()).done;){var n=e.value;g(n)}}catch(t){r.e(t)}finally{r.f()}t.length=0}(this)}},{key:"pushGetRemover",value:function(t){var e=this;return this.push(t),function(){return e.removeAndDispose(t)}}},{key:"removeAndDispose",value:function(t){return function(t,e){var r=t.indexOf(e);r<0||(t.splice(r,1),g(e))}(this,t)}},{key:"pushPipe",value:function(t){return this.push(t),t}}])&&s(r.prototype,n),i&&s(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(c(Array))},765:(t,e,r)=>{"use strict";r.d(e,{$O:()=>s,Iy:()=>u,Ny:()=>a,V2:()=>i,j1:()=>l,t7:()=>o,uZ:()=>n});var n=function(t,e,r){return Math.max(e,Math.min(r,t))},i=function(t){return n(t,0,1)},o=function(t,e,r){return t+(e-t)*r},a=function(t,e,r){return(r-t)/(e-t)},s=function(t,e,r){return i(a(t,e,r))},u=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;return Math.abs(t-e)<r},l=function(t,e,r){var n=(4278190080&t)>>>24,i=(16711680&t)>>>16,a=(65280&t)>>>8,s=255&t,u=(4278190080&e)>>>24,l=(16711680&e)>>>16,c=(65280&e)>>>8,h=255&e;return Math.round(o(n,u,r))<<24|Math.round(o(i,l,r))<<16|Math.round(o(a,c,r))<<8|Math.round(o(s,h,r))}},8220:(t,e,r)=>{"use strict";r.d(e,{D7:()=>h,Fi:()=>f,hu:()=>p,pZ:()=>v,q:()=>m,q0:()=>y,v_:()=>g,vq:()=>b});var n=r(7104);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(){o=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),s=new M(n||[]);return a(o,"_invoke",{value:A(t,r,s)}),o}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var d="suspendedStart",m="executing",y="completed",g={};function v(){}function b(){}function _(){}var w={};h(w,u,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(I([])));S&&S!==r&&n.call(S,u)&&(w=S);var T=_.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(o,a,s,u){var l=p(t[o],t,a);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==i(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return r("throw",t,s,u)}))}u(l.arg)}var o;a(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return o=o?o.then(i,i):i()}})}function A(e,r,n){var i=d;return function(o,a){if(i===m)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=k(s,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=m;var l=p(e,r,n);if("normal"===l.type){if(i=n.done?y:"suspendedYield",l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=y,n.method="throw",n.arg=l.arg)}}}function k(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=p(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function I(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return b.prototype=_,a(T,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:b,configurable:!0}),b.displayName=h(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,h(t,c,"GeneratorFunction")),t.prototype=Object.create(T),t},e.awrap=function(t){return{__await:t}},E(O.prototype),h(O.prototype,l,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(f(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(T),h(T,c,"Generator"),h(T,u,(function(){return this})),h(T,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=I,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}var a=o().mark(d);function s(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=l(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function l(t,e){if(t){if("string"==typeof t)return c(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var h=function(t){throw new Error("Attempt to access member ".concat(t," before it was initialized"))},f=function(){throw new Error("Unreachable code was reached")},p=function(t,e){if(!t)throw new Error(null!=e?e:"Assertion failed")};function d(t,e){var r,i,l,c,h,f,p,m,y=arguments;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:for(r=y.length,i=new Array(r>2?r-2:0),l=2;l<r;l++)i[l-2]=y[l];if(0!==i.length){o.next=5;break}return o.delegateYield(n.Z.queryTagAll(t,e,!0),"t0",3);case 3:o.next=22;break;case 5:c=u(n.Z.queryTagAll(t,e,!0)),o.prev=6,c.s();case 8:if((h=c.n()).done){o.next=14;break}return f=h.value,p=i[0],m=i.slice(1),o.delegateYield(d.apply(void 0,[f,p].concat(s(m))),"t1",12);case 12:o.next=8;break;case 14:o.next=19;break;case 16:o.prev=16,o.t2=o.catch(6),c.e(o.t2);case 19:return o.prev=19,c.f(),o.finish(19);case 22:case"end":return o.stop()}}),a,null,[[6,16,19,22]])}var m=d,y=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i,o=r[0],a=r.slice(1),l=u(d.apply(void 0,[t,o].concat(s(a))));try{for(l.s();!(i=l.n()).done;){var c=i.value;return c}}catch(t){l.e(t)}finally{l.f()}},g=function(t,e){return t.push(e),function(){var r=t.indexOf(e);r>=0&&t.splice(r,1)}},v=function(t,e,r){if(0===t)return 0===e?[]:0===r?[0]:[-r/e];var n=e*e-4*t*r;if(n<0)return[];var i=Math.sqrt(n);return[.5*(-e-i)/t,.5*(-e+i)/t]},b=function(t){var e=t.r,r=t.g,n=t.b;return Math.round(255*e)<<16|Math.round(255*r)<<8|Math.round(255*n)}},9421:(t,e,r)=>{"use strict";r.d(e,{y:()=>n});var n=JSON.parse('{"BatThorns":{"m_Name":"BatThorns","commonIconName":"icon_bat_thorns","selectedIconName":"icon_bat_thorns_selected","beatingCharacterSkinName":"bat_thorns","priceCoins":5000,"priceGems":50,"audioName":"","boosterInfos":[{"type":"BitAmazingForce","boosterPercent":10}]},"Bit":{"m_Name":"Bit","commonIconName":"icon_default","selectedIconName":"icon_default_selected","beatingCharacterSkinName":"baseball_bat_default","priceCoins":1,"priceGems":100,"audioName":"","boosterInfos":[{"type":"BitForce","boosterPercent":5}]},"Candy":{"m_Name":"Candy","commonIconName":"icon_candy","selectedIconName":"icon_candy_selected","beatingCharacterSkinName":"candy","priceCoins":700,"priceGems":100,"audioName":"","boosterInfos":[{"type":"BitForce","boosterPercent":15}]},"Cucumber":{"m_Name":"Cucumber","commonIconName":"icon_cucumber","selectedIconName":"icon_cucumber_selected","beatingCharacterSkinName":"cucumber","priceCoins":650,"priceGems":600,"audioName":"","boosterInfos":[{"type":"BitAmazingForce","boosterPercent":25},{"type":"BitForce","boosterPercent":20}]},"EiffelTower":{"m_Name":"EiffelTower","commonIconName":"icon_-icon_eiffel_tower","selectedIconName":"icon_eiffel_tower_selected","beatingCharacterSkinName":"eiffel_tower","priceCoins":5000,"priceGems":500,"audioName":"shovel_hit","boosterInfos":[{"type":"BitAmazingForce","boosterPercent":20},{"type":"Rebound","boosterPercent":15}]},"Fish":{"m_Name":"Fish","commonIconName":"icon_bat_fish","selectedIconName":"icon_bat_fish_selected","beatingCharacterSkinName":"fish","priceCoins":550,"priceGems":150,"audioName":"fish_hit","boosterInfos":[{"type":"Velocity","boosterPercent":10}]},"Flamingo":{"m_Name":"Flamingo","commonIconName":"icon_bat_flamingo","selectedIconName":"icon_bat_flamingo_selected","beatingCharacterSkinName":"flamingo","priceCoins":400,"priceGems":150,"audioName":"","boosterInfos":[{"type":"Rebound","boosterPercent":10}]},"Guitar":{"m_Name":"Guitar","commonIconName":"icon_guitar","selectedIconName":"icon_guitar_selected","beatingCharacterSkinName":"guitar","priceCoins":5000,"priceGems":800,"audioName":"electro_guitar_hit","boosterInfos":[{"type":"BitForce","boosterPercent":30},{"type":"Velocity","boosterPercent":25}]},"HelloKitty":{"m_Name":"HelloKitty","commonIconName":"icon_kitty","selectedIconName":"icon_kitty_selected","beatingCharacterSkinName":"hello_kitty","priceCoins":5000,"priceGems":800,"audioName":"","boosterInfos":[{"type":"BitAmazingForce","boosterPercent":30},{"type":"Rebound","boosterPercent":25}]},"Hook":{"m_Name":"Hook","commonIconName":"icon_hook","selectedIconName":"icon_hook_selected","beatingCharacterSkinName":"hook","priceCoins":5000,"priceGems":300,"audioName":"","boosterInfos":[{"type":"BitForce","boosterPercent":15},{"type":"Rebound","boosterPercent":10}]},"IceCream":{"m_Name":"IceCream","commonIconName":"icon_ice_creme","selectedIconName":"icon_ice_creme_selected","beatingCharacterSkinName":"ice_cream","priceCoins":5000,"priceGems":450,"audioName":"meat_hit","boosterInfos":[{"type":"BitAmazingForce","boosterPercent":20},{"type":"BitForce","boosterPercent":15}]},"Leg":{"m_Name":"Leg","commonIconName":"icon_bat_zombie","selectedIconName":"icon_bat_zombie_selected","beatingCharacterSkinName":"zombie_leg","priceCoins":10000,"priceGems":250,"audioName":"meat_hit","boosterInfos":[{"type":"BitAmazingForce","boosterPercent":15},{"type":"Velocity","boosterPercent":10}]},"MailBox":{"m_Name":"MailBox","commonIconName":"icon_bat_mailbox","selectedIconName":"icon_mailbox_selected","beatingCharacterSkinName":"mailbox","priceCoins":450,"priceGems":250,"audioName":"","boosterInfos":[{"type":"BitForce","boosterPercent":10},{"type":"Rebound","boosterPercent":10}]},"Meat":{"m_Name":"Meat","commonIconName":"icon_meat","selectedIconName":"icon_meat_selected","beatingCharacterSkinName":"meat","priceCoins":700,"priceGems":100,"audioName":"meat_hit","boosterInfos":[{"type":"BitAmazingForce","boosterPercent":15}]},"MinecraftSword":{"m_Name":"MinecraftSword","commonIconName":"icon_sword","selectedIconName":"icon_sword_selected","beatingCharacterSkinName":"minecraft_sword","priceCoins":5000,"priceGems":700,"audioName":"pixel_sword_hit","boosterInfos":[{"type":"BitAmazingForce","boosterPercent":25},{"type":"BitForce","boosterPercent":25}]},"Oscar":{"m_Name":"Oscar","commonIconName":"icon_oscar","selectedIconName":"icon_oscar_selected","beatingCharacterSkinName":"oscar","priceCoins":400,"priceGems":500,"audioName":"shovel_hit","boosterInfos":[{"type":"BitForce","boosterPercent":20},{"type":"Velocity","boosterPercent":20}]},"Pan":{"m_Name":"Pan","commonIconName":"icon_bat_pan","selectedIconName":"icon_bat_pan_selected","beatingCharacterSkinName":"pan","priceCoins":10000,"priceGems":200,"audioName":"shovel_hit","boosterInfos":[{"type":"BitAmazingForce","boosterPercent":10},{"type":"BitForce","boosterPercent":5}]},"PuppyButthole":{"m_Name":"PuppyButthole","commonIconName":"icon_puppybutthole","selectedIconName":"icon_puppybutthole_selected","beatingCharacterSkinName":"puppybutthole","priceCoins":5000,"priceGems":600,"audioName":"","boosterInfos":[{"type":"BitForce","boosterPercent":25},{"type":"Velocity","boosterPercent":20}]},"Shovel":{"m_Name":"Shovel","commonIconName":"icon_bat_shovel","selectedIconName":"icon_bat_shovel_selected","beatingCharacterSkinName":"shovel","priceCoins":500,"priceGems":50,"audioName":"shovel_hit","boosterInfos":[{"type":"BitForce","boosterPercent":10}]},"SuperArm":{"m_Name":"SuperArm","commonIconName":"icon_super_arm","selectedIconName":"icon_super_arm_selected","beatingCharacterSkinName":"super_arm","priceCoins":5000,"priceGems":1500,"audioName":"thanos_hit","boosterInfos":[{"type":"Rebound","boosterPercent":35},{"type":"Velocity","boosterPercent":35}]},"ThorHammer":{"m_Name":"ThorHammer","commonIconName":"icon_hammer","selectedIconName":"icon_hammer_selected","beatingCharacterSkinName":"thor_hammer","priceCoins":2500,"priceGems":700,"audioName":"","boosterInfos":[{"type":"BitForce","boosterPercent":25},{"type":"Velocity","boosterPercent":25}]},"ThorHammerEpic":{"m_Name":"ThorHammerEpic","commonIconName":"icon_hammer_thor","selectedIconName":"icon_hammer_thor","beatingCharacterSkinName":"thor_hammer_epic","priceCoins":700,"priceGems":0,"audioName":"","boosterInfos":[{"type":"BitForce","boosterPercent":35},{"type":"Rebound","boosterPercent":35}]},"Unicorn":{"m_Name":"Unicorn","commonIconName":"icon_unicorn","selectedIconName":"icon_unicorn_selected","beatingCharacterSkinName":"unicorn","priceCoins":25000,"priceGems":400,"audioName":"unicorn_hit","boosterInfos":[{"type":"BitForce","boosterPercent":15},{"type":"Rebound","boosterPercent":15}]},"WoodenHammer":{"m_Name":"WoodenHammer","commonIconName":"icon_wood_hammer","selectedIconName":"icon_wood_hammer_selected","beatingCharacterSkinName":"wood_hammer","priceCoins":650,"priceGems":300,"audioName":"","boosterInfos":[{"type":"BitForce","boosterPercent":15},{"type":"Velocity","boosterPercent":10}]}}')},4762:(t,e,r)=>{"use strict";r.d(e,{F:()=>T});var n,i,o=r(8949),a=r(1477),s=r(6896),u=r(7104),l=r(8220);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b(n.key),n)}}function d(t,e,r){return e=y(e),function(t,e){if(e&&("object"==c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,m()?Reflect.construct(e,r||[],y(t).constructor):e.apply(t,r))}function m(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(m=function(){return!!t})()}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function v(t,e,r){return(e=b(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}function _(t,e,r){"symbol"==c(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:r?r+" "+e:e})}catch(t){}return t}function w(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?c(t):"null"));return t}var x,S,T=function(t){function e(){var t;f(this,e);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=d(this,e,[].concat(n)),i(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(e,t),r=e,(n=[{key:"props",get:function(){return this.config.props}},{key:"modelRewardType",get:function(){return a.Z.meta.dailyGift.currentSequence.sequence[this.props.dayIndexZeroBased]}},{key:"modelClaimState",get:function(){var t=a.Z.meta.dailyGift.currentSequence,e=a.Z.meta.dailyGift.canClaim;return this.props.dayIndexZeroBased===t.index&&e?"current":this.props.dayIndexZeroBased<=t.index?"previous":"next"}},{key:"onCreate",value:function(){var t=this;this.disposeBag.push((0,o.U5)((function(){return{claimState:t.modelClaimState,rewardType:t.modelRewardType}}),(function(r){var n=r.claimState,i=r.rewardType,o=(0,l.q0)(t,"icon");o.texture=(0,s.Fg)(e.VISUALS_CONFIG.icons[i][n]),o.height=o.width=122*("current"===n?1.2:1);var u=e.VISUALS_CONFIG.colors[n],c=(0,l.q0)(t,"back");c.config.color=u.main,c.redraw();var h=(0,l.q0)(t,"title");h.text={previous:"Claimed",current:"Today",next:"Day ".concat(t.props.dayIndexZeroBased+1)}[n],h.style.fill="previous"===n?"#96e1ff":h.config.style.fill,(0,l.q0)(t,"amount-text-container").visible="previous"!==n&&"chest"!==i,(0,l.q0)(t,"amount-text").text=a.Z.meta.dailyGift.getAmountForRewardType(i).toString();var f=(0,l.q0)(t,"amount-text-back");f.config.color=u.secondary,f.redraw(),(0,l.q0)(t,"sparkles").visible="chest"===i&&"previous"!==n}),{fireImmediately:!0}))}}])&&p(r.prototype,n),u&&p(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,u}(n=u.Z.Component),E=(x=function(t,e,r,n,i,o){var a,s,u,l,h,f,p,d=Symbol.metadata||Symbol.for("Symbol.metadata"),m=Object.defineProperty,y=Object.create,g=[y(null),y(null)],v=e.length;function x(e,r,n){return function(i,o){r&&(o=i,i=t);for(var a=0;a<e.length;a++)o=e[a].apply(i,n?[o]:[]);return n?o:i}}function S(t,e,r,n){if("function"!=typeof t&&(n||void 0!==t))throw new TypeError(e+" must "+(r||"be")+" a function"+(n?"":" or undefined"));return t}function T(t,e,r,n,i,o,u,l,h,f,p){function d(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var y=[].concat(e[0]),v=e[3],b=!u,w=1===i,T=3===i,E=4===i,O=2===i;function A(e,r,n){return function(i,o){return r&&(o=i,i=t),n&&n(i),k[e].call(i,o)}}if(!b){var k={},P=[],C=T?"get":E||w?"set":"value";if(h?(f||w?k={get:_((function(){return v(this)}),n,"get"),set:function(t){e[4](this,t)}}:k[C]=v,f||_(k[C],n,O?"":C)):f||(k=Object.getOwnPropertyDescriptor(t,n)),!f&&!h){if((s=g[+l][n])&&7!=(s^i))throw Error("Decorating two elements with the same name ("+k[C].name+") is not supported yet");g[+l][n]=i<3?1:i}}for(var M=t,I=y.length-1;I>=0;I-=r?2:1){var j=S(y[I],"A decorator","be",!0),B=r?y[I-1]:void 0,L={},R={kind:["field","accessor","method","getter","setter","class"][i],name:n,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");S(e,"An initializer","be",!0),o.push(e)}.bind(null,L)};if(b)s=j.call(B,M,R),L.v=1,S(s,"class decorators","return")&&(M=s);else if(R.static=l,R.private=h,s=R.access={has:h?p.bind():function(t){return n in t}},E||(s.get=h?O?function(t){return d(t),k.value}:A("get",0,d):function(t){return t[n]}),O||T||(s.set=h?A("set",0,d):function(t,e){t[n]=e}),M=j.call(B,w?{get:k.get,set:k.set}:k[C],R),L.v=1,w){if("object"==c(M)&&M)(s=S(M.get,"accessor.get"))&&(k.get=s),(s=S(M.set,"accessor.set"))&&(k.set=s),(s=S(M.init,"accessor.init"))&&P.unshift(s);else if(void 0!==M)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else S(M,(f?"field":"method")+" decorators","return")&&(f?P.unshift(M):k[C]=M)}return i<2&&u.push(x(P,l,1),x(o,l,0)),f||b||(h?w?u.splice(-1,0,A("get",l),A("set",l)):u.push(O?k[C]:S.call.bind(k[C])):m(t,n,k)),M}function E(t){return m(t,d,{configurable:!0,enumerable:!0,value:a})}return void 0!==o&&(a=o[d]),a=y(null==a?null:a),h=[],f=function(t){t&&h.push(x(t))},(p=function(e,n){for(var o=0;o<r.length;o++){var a=r[o],s=a[1],c=7&s;if((8&s)==e&&!c==n){var f=a[2],p=!!a[3],d=16&s;T(e?t:t.prototype,a,d,p?"#"+f:b(f),c,c<2?[]:e?l=l||[]:u=u||[],h,!!e,p,n,e&&p?function(e){return w(e)===t}:i)}}})(8,0),p(0,0),p(8,1),p(0,1),f(u),f(l),s=h,v||E(t),{e:s,get c(){var r=[];return v&&[E(t=T(t,[e],n,t.name,5,r)),x(r,1)]}}}(T,[],[[o.Fl,3,"modelRewardType"],[o.Fl,3,"modelClaimState"]],0,void 0,n).e,S=1,function(t){if(Array.isArray(t))return t}(x)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(x,S)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(t,e):void 0}}(x,S)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());i=E[0],v(T,"VISUALS_CONFIG",{icons:{coinsSmall:{previous:"daily-gift/icon_stars_pack_small_locked",current:"daily-gift/icon_gold_stars_small",next:"daily-gift/icon_stars_pack_small"},coinsMedium:{previous:"daily-gift/icon_stars_pack_medium_locked",current:"daily-gift/icon_gold_stars_pack_medium",next:"daily-gift/icon_stars_pack_medium"},coinsLarge:{previous:"daily-gift/icon_stars_pack_big_locked",current:"daily-gift/icon_gold_stars_pack_big",next:"daily-gift/icon_stars_pack_big"},chest:{previous:"daily-gift/icon_chest_locked",current:"daily-gift/icon_chest_gold",next:"daily-gift/icon_chest"},gemsSmall:{previous:"daily-gift/icon_gems_pack_small_locked",current:"daily-gift/icon_gold_gems_small",next:"daily-gift/icon_gems_pack_small"},gemsMedium:{previous:"daily-gift/icon_gems_pack_medium_locked",current:"daily-gift/icon_gold_gems_pack_medium",next:"daily-gift/icon_gems_pack_medium"},gemsLarge:{previous:"daily-gift/icon_gems_pack_big_locked",current:"daily-gift/icon_gold_gems_pack_big",next:"daily-gift/icon_gems_pack_big"}},colors:{previous:{main:"#1babee",secondary:"#ffffff"},current:{main:"#fc6c8a",secondary:"#ff335e"},next:{main:"#14a5ed",secondary:"#fc6383"}}}),v(T,"defaultProps",{dayIndexZeroBased:{type:"number",value:0}})},5654:function(t,e,r){!function(e){"use strict";var r,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",l=e.regeneratorRuntime;if(l)t.exports=l;else{(l=e.regeneratorRuntime=t.exports).wrap=b;var c="suspendedStart",h="suspendedYield",f="executing",p="completed",d={},m={};m[a]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==n&&i.call(g,a)&&(m=g);var v=S.prototype=w.prototype=Object.create(m);x.prototype=v.constructor=S,S.constructor=x,S[u]=x.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(v),t},l.awrap=function(t){return{__await:t}},T(E.prototype),E.prototype[s]=function(){return this},l.AsyncIterator=E,l.async=function(t,e,r,n){var i=new E(b(t,e,r,n));return l.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},T(v),v[u]="Generator",v[a]=function(){return this},v.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},l.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return s.type="throw",s.arg=t,e.next=n,i&&(e.method="next",e.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),d}}}function b(t,e,r,n){var i=e&&e.prototype instanceof w?e:w,o=Object.create(i.prototype),a=new P(n||[]);return o._invoke=function(t,e,r){var n=c;return function(i,o){if(n===f)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw o;return M()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=O(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===c)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var u=_(t,e,r);if("normal"===u.type){if(n=r.done?p:h,u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(t,r,a),o}function _(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function w(){}function x(){}function S(){}function T(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function E(t){function r(e,n,o,a){var s=_(t[e],t,n);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then((function(t){r("next",t,o,a)}),(function(t){r("throw",t,o,a)})):Promise.resolve(l).then((function(t){u.value=t,o(u)}),a)}a(s.arg)}var n;"object"==typeof e.process&&e.process.domain&&(r=e.process.domain.bind(r)),this._invoke=function(t,e){function i(){return new Promise((function(n,i){r(t,e,n,i)}))}return n=n?n.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,O(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=_(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return o.next=o}}return{next:M}}function M(){return{value:r,done:!0}}}("object"==typeof r.g?r.g:"object"==typeof window?window:"object"==typeof self?self:this)},7694:(t,e,r)=>{r(1761),t.exports=r(5645).RegExp.escape},4963:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},3365:(t,e,r)=>{var n=r(2032);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},7722:(t,e,r)=>{var n=r(6314)("unscopables"),i=Array.prototype;null==i[n]&&r(7728)(i,n,{}),t.exports=function(t){i[n][t]=!0}},6793:(t,e,r)=>{"use strict";var n=r(4496)(!0);t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},3328:t=>{t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},7007:(t,e,r)=>{var n=r(5286);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},5216:(t,e,r)=>{"use strict";var n=r(508),i=r(2337),o=r(875);t.exports=[].copyWithin||function(t,e){var r=n(this),a=o(r.length),s=i(t,a),u=i(e,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:i(l,a))-u,a-s),h=1;for(u<s&&s<u+c&&(h=-1,u+=c-1,s+=c-1);c-- >0;)u in r?r[s]=r[u]:delete r[s],s+=h,u+=h;return r}},6852:(t,e,r)=>{"use strict";var n=r(508),i=r(2337),o=r(875);t.exports=function(t){for(var e=n(this),r=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,l=void 0===u?r:i(u,r);l>s;)e[s++]=t;return e}},9490:(t,e,r)=>{var n=r(3531);t.exports=function(t,e){var r=[];return n(t,!1,r.push,r,e),r}},9315:(t,e,r)=>{var n=r(2110),i=r(875),o=r(2337);t.exports=function(t){return function(e,r,a){var s,u=n(e),l=i(u.length),c=o(a,l);if(t&&r!=r){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===r)return t||c||0;return!t&&-1}}},50:(t,e,r)=>{var n=r(741),i=r(9797),o=r(508),a=r(875),s=r(6886);t.exports=function(t,e){var r=1==t,u=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h,p=e||s;return function(e,s,d){for(var m,y,g=o(e),v=i(g),b=n(s,d,3),_=a(v.length),w=0,x=r?p(e,_):u?p(e,0):void 0;_>w;w++)if((f||w in v)&&(y=b(m=v[w],w,g),t))if(r)x[w]=y;else if(y)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:x.push(m)}else if(c)return!1;return h?-1:l||c?c:x}}},7628:(t,e,r)=>{var n=r(4963),i=r(508),o=r(9797),a=r(875);t.exports=function(t,e,r,s,u){n(e);var l=i(t),c=o(l),h=a(l.length),f=u?h-1:0,p=u?-1:1;if(r<2)for(;;){if(f in c){s=c[f],f+=p;break}if(f+=p,u?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:h>f;f+=p)f in c&&(s=e(s,c[f],f,l));return s}},2736:(t,e,r)=>{var n=r(5286),i=r(4302),o=r(6314)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},6886:(t,e,r)=>{var n=r(2736);t.exports=function(t,e){return new(n(t))(e)}},4398:(t,e,r)=>{"use strict";var n=r(4963),i=r(5286),o=r(7242),a=[].slice,s={},u=function(t,e,r){if(!(e in s)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";s[e]=Function("F,a","return new F("+n.join(",")+")")}return s[e](t,r)};t.exports=Function.bind||function(t){var e=n(this),r=a.call(arguments,1),s=function(){var n=r.concat(a.call(arguments));return this instanceof s?u(e,n.length,n):o(e,n,t)};return i(e.prototype)&&(s.prototype=e.prototype),s}},1488:(t,e,r)=>{var n=r(2032),i=r(6314)("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:o?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},2032:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},9824:(t,e,r)=>{"use strict";var n=r(9275).f,i=r(2503),o=r(4408),a=r(741),s=r(3328),u=r(3531),l=r(2923),c=r(5436),h=r(2974),f=r(7057),p=r(4728).fastKey,d=r(1616),m=f?"_s":"size",y=function(t,e){var r,n=p(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,l){var c=t((function(t,n){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[m]=0,null!=n&&u(n,r,t[l],t)}));return o(c.prototype,{clear:function(){for(var t=d(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var r=d(this,e),n=y(r,t);if(n){var i=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==n&&(r._f=i),r._l==n&&(r._l=o),r[m]--}return!!n},forEach:function(t){d(this,e);for(var r,n=a(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!y(d(this,e),t)}}),f&&n(c.prototype,"size",{get:function(){return d(this,e)[m]}}),c},def:function(t,e,r){var n,i,o=y(t,e);return o?o.v=r:(t._l=o={i:i=p(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[m]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,e,r){l(t,e,(function(t,r){this._t=d(t,e),this._k=r,this._l=void 0}),(function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?c(0,"keys"==e?r.k:"values"==e?r.v:[r.k,r.v]):(t._t=void 0,c(1))}),r?"entries":"values",!r,!0),h(e)}}},6132:(t,e,r)=>{var n=r(1488),i=r(9490);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},3657:(t,e,r)=>{"use strict";var n=r(4408),i=r(4728).getWeak,o=r(7007),a=r(5286),s=r(3328),u=r(3531),l=r(50),c=r(9181),h=r(1616),f=l(5),p=l(6),d=0,m=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},g=function(t,e){return f(t.a,(function(t){return t[0]===e}))};y.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var r=g(this,t);r?r[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,r,o){var l=t((function(t,n){s(t,l,e,"_i"),t._t=e,t._i=d++,t._l=void 0,null!=n&&u(n,r,t[o],t)}));return n(l.prototype,{delete:function(t){if(!a(t))return!1;var r=i(t);return!0===r?m(h(this,e)).delete(t):r&&c(r,this._i)&&delete r[this._i]},has:function(t){if(!a(t))return!1;var r=i(t);return!0===r?m(h(this,e)).has(t):r&&c(r,this._i)}}),l},def:function(t,e,r){var n=i(o(e),!0);return!0===n?m(t).set(e,r):n[t._i]=r,t},ufstore:m}},5795:(t,e,r)=>{"use strict";var n=r(3816),i=r(2985),o=r(7234),a=r(4408),s=r(4728),u=r(3531),l=r(3328),c=r(5286),h=r(4253),f=r(7462),p=r(2943),d=r(266);t.exports=function(t,e,r,m,y,g){var v=n[t],b=v,_=y?"set":"add",w=b&&b.prototype,x={},S=function(t){var e=w[t];o(w,t,"delete"==t||"has"==t?function(t){return!(g&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,r){return e.call(this,0===t?0:t,r),this})};if("function"==typeof b&&(g||w.forEach&&!h((function(){(new b).entries().next()})))){var T=new b,E=T[_](g?{}:-0,1)!=T,O=h((function(){T.has(1)})),A=f((function(t){new b(t)})),k=!g&&h((function(){for(var t=new b,e=5;e--;)t[_](e,e);return!t.has(-0)}));A||((b=e((function(e,r){l(e,b,t);var n=d(new v,e,b);return null!=r&&u(r,y,n[_],n),n}))).prototype=w,w.constructor=b),(O||k)&&(S("delete"),S("has"),y&&S("get")),(k||E)&&S(_),g&&w.clear&&delete w.clear}else b=m.getConstructor(e,t,y,_),a(b.prototype,r),s.NEED=!0;return p(b,t),x[t]=b,i(i.G+i.W+i.F*(b!=v),x),g||m.setStrong(b,t,y),b}},5645:t=>{var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)},2811:(t,e,r)=>{"use strict";var n=r(9275),i=r(681);t.exports=function(t,e,r){e in t?n.f(t,e,i(0,r)):t[e]=r}},741:(t,e,r)=>{var n=r(4963);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},3537:(t,e,r)=>{"use strict";var n=r(4253),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!n((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),r=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(r>99?r:"0"+a(r))+"Z"}:o},870:(t,e,r)=>{"use strict";var n=r(7007),i=r(1689),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(n(this),t!=o)}},1355:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},7057:(t,e,r)=>{t.exports=!r(4253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},2457:(t,e,r)=>{var n=r(5286),i=r(3816).document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},4430:t=>{t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5541:(t,e,r)=>{var n=r(7184),i=r(4548),o=r(4682);t.exports=function(t){var e=n(t),r=i.f;if(r)for(var a,s=r(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},2985:(t,e,r)=>{var n=r(3816),i=r(5645),o=r(7728),a=r(7234),s=r(741),u="prototype",l=function(t,e,r){var c,h,f,p,d=t&l.F,m=t&l.G,y=t&l.S,g=t&l.P,v=t&l.B,b=m?n:y?n[e]||(n[e]={}):(n[e]||{})[u],_=m?i:i[e]||(i[e]={}),w=_[u]||(_[u]={});for(c in m&&(r=e),r)f=((h=!d&&b&&void 0!==b[c])?b:r)[c],p=v&&h?s(f,n):g&&"function"==typeof f?s(Function.call,f):f,b&&a(b,c,f,t&l.U),_[c]!=f&&o(_,c,p),g&&w[c]!=f&&(w[c]=f)};n.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},8852:(t,e,r)=>{var n=r(6314)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},4253:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},8082:(t,e,r)=>{"use strict";r(8269);var n=r(7234),i=r(7728),o=r(4253),a=r(1355),s=r(6314),u=r(1165),l=s("species"),c=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var f=s(t),p=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),d=p?!o((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[l]=function(){return r}),r[f](""),!e})):void 0;if(!p||!d||"replace"===t&&!c||"split"===t&&!h){var m=/./[f],y=r(a,f,""[t],(function(t,e,r,n,i){return e.exec===u?p&&!i?{done:!0,value:m.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),g=y[0],v=y[1];n(String.prototype,t,g),i(RegExp.prototype,f,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)})}}},3218:(t,e,r)=>{"use strict";var n=r(7007);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},3325:(t,e,r)=>{"use strict";var n=r(4302),i=r(5286),o=r(875),a=r(741),s=r(6314)("isConcatSpreadable");t.exports=function t(e,r,u,l,c,h,f,p){for(var d,m,y=c,g=0,v=!!f&&a(f,p,3);g<l;){if(g in u){if(d=v?v(u[g],g,r):u[g],m=!1,i(d)&&(m=void 0!==(m=d[s])?!!m:n(d)),m&&h>0)y=t(e,r,d,o(d.length),y,h-1)-1;else{if(y>=9007199254740991)throw TypeError();e[y]=d}y++}g++}return y}},3531:(t,e,r)=>{var n=r(741),i=r(8851),o=r(6555),a=r(7007),s=r(875),u=r(9002),l={},c={},h=t.exports=function(t,e,r,h,f){var p,d,m,y,g=f?function(){return t}:u(t),v=n(r,h,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(p=s(t.length);p>b;b++)if((y=e?v(a(d=t[b])[0],d[1]):v(t[b]))===l||y===c)return y}else for(m=g.call(t);!(d=m.next()).done;)if((y=i(m,v,d.value,e))===l||y===c)return y};h.BREAK=l,h.RETURN=c},18:(t,e,r)=>{t.exports=r(3825)("native-function-to-string",Function.toString)},3816:t=>{var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},9181:t=>{var e={}.hasOwnProperty;t.exports=function(t,r){return e.call(t,r)}},7728:(t,e,r)=>{var n=r(9275),i=r(681);t.exports=r(7057)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},639:(t,e,r)=>{var n=r(3816).document;t.exports=n&&n.documentElement},1734:(t,e,r)=>{t.exports=!r(7057)&&!r(4253)((function(){return 7!=Object.defineProperty(r(2457)("div"),"a",{get:function(){return 7}}).a}))},266:(t,e,r)=>{var n=r(5286),i=r(7375).set;t.exports=function(t,e,r){var o,a=e.constructor;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&n(o)&&i&&i(t,o),t}},7242:t=>{t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},9797:(t,e,r)=>{var n=r(2032);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},6555:(t,e,r)=>{var n=r(2803),i=r(6314)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[i]===t)}},4302:(t,e,r)=>{var n=r(2032);t.exports=Array.isArray||function(t){return"Array"==n(t)}},8367:(t,e,r)=>{var n=r(5286),i=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&i(t)===t}},5286:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},5364:(t,e,r)=>{var n=r(5286),i=r(2032),o=r(6314)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},8851:(t,e,r)=>{var n=r(7007);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},9988:(t,e,r)=>{"use strict";var n=r(2503),i=r(681),o=r(2943),a={};r(7728)(a,r(6314)("iterator"),(function(){return this})),t.exports=function(t,e,r){t.prototype=n(a,{next:i(1,r)}),o(t,e+" Iterator")}},2923:(t,e,r)=>{"use strict";var n=r(4461),i=r(2985),o=r(7234),a=r(7728),s=r(2803),u=r(9988),l=r(2943),c=r(468),h=r(6314)("iterator"),f=!([].keys&&"next"in[].keys()),p="keys",d="values",m=function(){return this};t.exports=function(t,e,r,y,g,v,b){u(r,e,y);var _,w,x,S=function(t){if(!f&&t in A)return A[t];switch(t){case p:case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}},T=e+" Iterator",E=g==d,O=!1,A=t.prototype,k=A[h]||A["@@iterator"]||g&&A[g],P=k||S(g),C=g?E?S("entries"):P:void 0,M="Array"==e&&A.entries||k;if(M&&(x=c(M.call(new t)))!==Object.prototype&&x.next&&(l(x,T,!0),n||"function"==typeof x[h]||a(x,h,m)),E&&k&&k.name!==d&&(O=!0,P=function(){return k.call(this)}),n&&!b||!f&&!O&&A[h]||a(A,h,P),s[e]=P,s[T]=m,g)if(_={values:E?P:S(d),keys:v?P:S(p),entries:C},b)for(w in _)w in A||o(A,w,_[w]);else i(i.P+i.F*(f||O),e,_);return _}},7462:(t,e,r)=>{var n=r(6314)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},t(o)}catch(t){}return r}},5436:t=>{t.exports=function(t,e){return{value:e,done:!!t}}},2803:t=>{t.exports={}},4461:t=>{t.exports=!1},3086:t=>{var e=Math.expm1;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},4934:(t,e,r)=>{var n=r(1801),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);t.exports=Math.fround||function(t){var e,r,i=Math.abs(t),l=n(t);return i<u?l*(i/u/a+1/o-1/o)*u*a:(r=(e=(1+a/o)*i)-(e-i))>s||r!=r?l*(1/0):l*r}},6206:t=>{t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},8757:t=>{t.exports=Math.scale||function(t,e,r,n,i){return 0===arguments.length||t!=t||e!=e||r!=r||n!=n||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-n)/(r-e)+n}},1801:t=>{t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},4728:(t,e,r)=>{var n=r(3953)("meta"),i=r(5286),o=r(9181),a=r(9275).f,s=0,u=Object.isExtensible||function(){return!0},l=!r(4253)((function(){return u(Object.preventExtensions({}))})),c=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[n].i},getWeak:function(t,e){if(!o(t,n)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[n].w},onFreeze:function(t){return l&&h.NEED&&u(t)&&!o(t,n)&&c(t),t}}},133:(t,e,r)=>{var n=r(8416),i=r(2985),o=r(3825)("metadata"),a=o.store||(o.store=new(r(147))),s=function(t,e,r){var i=a.get(t);if(!i){if(!r)return;a.set(t,i=new n)}var o=i.get(e);if(!o){if(!r)return;i.set(e,o=new n)}return o};t.exports={store:a,map:s,has:function(t,e,r){var n=s(e,r,!1);return void 0!==n&&n.has(t)},get:function(t,e,r){var n=s(e,r,!1);return void 0===n?void 0:n.get(t)},set:function(t,e,r,n){s(r,n,!0).set(t,e)},keys:function(t,e){var r=s(t,e,!1),n=[];return r&&r.forEach((function(t,e){n.push(e)})),n},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},4351:(t,e,r)=>{var n=r(3816),i=r(4193).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,u="process"==r(2032)(a);t.exports=function(){var t,e,r,l=function(){var n,i;for(u&&(n=a.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(u)r=function(){a.nextTick(l)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);r=function(){c.then(l)}}else r=function(){i.call(n,l)};else{var h=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),r=function(){f.data=h=!h}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}},3499:(t,e,r)=>{"use strict";var n=r(4963);function i(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)}t.exports.f=function(t){return new i(t)}},5345:(t,e,r)=>{"use strict";var n=r(7057),i=r(7184),o=r(4548),a=r(4682),s=r(508),u=r(9797),l=Object.assign;t.exports=!l||r(4253)((function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=l({},t)[r]||Object.keys(l({},e)).join("")!=n}))?function(t,e){for(var r=s(t),l=arguments.length,c=1,h=o.f,f=a.f;l>c;)for(var p,d=u(arguments[c++]),m=h?i(d).concat(h(d)):i(d),y=m.length,g=0;y>g;)p=m[g++],n&&!f.call(d,p)||(r[p]=d[p]);return r}:l},2503:(t,e,r)=>{var n=r(7007),i=r(5588),o=r(4430),a=r(9335)("IE_PROTO"),s=function(){},u="prototype",l=function(){var t,e=r(2457)("iframe"),n=o.length;for(e.style.display="none",r(639).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l[u][o[n]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(s[u]=n(t),r=new s,s[u]=null,r[a]=t):r=l(),void 0===e?r:i(r,e)}},9275:(t,e,r)=>{var n=r(7007),i=r(1734),o=r(1689),a=Object.defineProperty;e.f=r(7057)?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},5588:(t,e,r)=>{var n=r(9275),i=r(7007),o=r(7184);t.exports=r(7057)?Object.defineProperties:function(t,e){i(t);for(var r,a=o(e),s=a.length,u=0;s>u;)n.f(t,r=a[u++],e[r]);return t}},1670:(t,e,r)=>{"use strict";t.exports=r(4461)||!r(4253)((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete r(3816)[t]}))},8693:(t,e,r)=>{var n=r(4682),i=r(681),o=r(2110),a=r(1689),s=r(9181),u=r(1734),l=Object.getOwnPropertyDescriptor;e.f=r(7057)?l:function(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return i(!n.f.call(t,e),t[e])}},9327:(t,e,r)=>{var n=r(2110),i=r(616).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(n(t))}},616:(t,e,r)=>{var n=r(189),i=r(4430).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},4548:(t,e)=>{e.f=Object.getOwnPropertySymbols},468:(t,e,r)=>{var n=r(9181),i=r(508),o=r(9335)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},189:(t,e,r)=>{var n=r(9181),i=r(2110),o=r(9315)(!1),a=r(9335)("IE_PROTO");t.exports=function(t,e){var r,s=i(t),u=0,l=[];for(r in s)r!=a&&n(s,r)&&l.push(r);for(;e.length>u;)n(s,r=e[u++])&&(~o(l,r)||l.push(r));return l}},7184:(t,e,r)=>{var n=r(189),i=r(4430);t.exports=Object.keys||function(t){return n(t,i)}},4682:(t,e)=>{e.f={}.propertyIsEnumerable},3160:(t,e,r)=>{var n=r(2985),i=r(5645),o=r(4253);t.exports=function(t,e){var r=(i.Object||{})[t]||Object[t],a={};a[t]=e(r),n(n.S+n.F*o((function(){r(1)})),"Object",a)}},1131:(t,e,r)=>{var n=r(7057),i=r(7184),o=r(2110),a=r(4682).f;t.exports=function(t){return function(e){for(var r,s=o(e),u=i(s),l=u.length,c=0,h=[];l>c;)r=u[c++],n&&!a.call(s,r)||h.push(t?[r,s[r]]:s[r]);return h}}},7643:(t,e,r)=>{var n=r(616),i=r(4548),o=r(7007),a=r(3816).Reflect;t.exports=a&&a.ownKeys||function(t){var e=n.f(o(t)),r=i.f;return r?e.concat(r(t)):e}},7743:(t,e,r)=>{var n=r(3816).parseFloat,i=r(9599).trim;t.exports=1/n(r(4644)+"-0")!=-1/0?function(t){var e=i(String(t),3),r=n(e);return 0===r&&"-"==e.charAt(0)?-0:r}:n},5960:(t,e,r)=>{var n=r(3816).parseInt,i=r(9599).trim,o=r(4644),a=/^[-+]?0[xX]/;t.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(t,e){var r=i(String(t),3);return n(r,e>>>0||(a.test(r)?16:10))}:n},188:t=>{t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},94:(t,e,r)=>{var n=r(7007),i=r(5286),o=r(3499);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},681:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4408:(t,e,r)=>{var n=r(7234);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},7234:(t,e,r)=>{var n=r(3816),i=r(7728),o=r(9181),a=r(3953)("src"),s=r(18),u="toString",l=(""+s).split(u);r(5645).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,r,s){var u="function"==typeof r;u&&(o(r,"name")||i(r,"name",e)),t[e]!==r&&(u&&(o(r,a)||i(r,a,t[e]?""+t[e]:l.join(String(e)))),t===n?t[e]=r:s?t[e]?t[e]=r:i(t,e,r):(delete t[e],i(t,e,r)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},7787:(t,e,r)=>{"use strict";var n=r(1488),i=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var o=r.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},1165:(t,e,r)=>{"use strict";var n,i,o=r(3218),a=RegExp.prototype.exec,s=String.prototype.replace,u=a,l="lastIndex",c=(n=/a/,i=/b*/g,a.call(n,"a"),a.call(i,"a"),0!==n[l]||0!==i[l]),h=void 0!==/()??/.exec("")[1];(c||h)&&(u=function(t){var e,r,n,i,u=this;return h&&(r=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),c&&(e=u[l]),n=a.call(u,t),c&&n&&(u[l]=u.global?n.index+n[0].length:e),h&&n&&n.length>1&&s.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),t.exports=u},5496:t=>{t.exports=function(t,e){var r=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,r)}}},7195:t=>{t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},1024:(t,e,r)=>{"use strict";var n=r(2985),i=r(4963),o=r(741),a=r(3531);t.exports=function(t){n(n.S,t,{from:function(t){var e,r,n,s,u=arguments[1];return i(this),(e=void 0!==u)&&i(u),null==t?new this:(r=[],e?(n=0,s=o(u,arguments[2],2),a(t,!1,(function(t){r.push(s(t,n++))}))):a(t,!1,r.push,r),new this(r))}})}},4881:(t,e,r)=>{"use strict";var n=r(2985);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},7375:(t,e,r)=>{var n=r(5286),i=r(7007),o=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=r(741)(Function.call,r(8693).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return o(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:o}},2974:(t,e,r)=>{"use strict";var n=r(3816),i=r(9275),o=r(7057),a=r(6314)("species");t.exports=function(t){var e=n[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},2943:(t,e,r)=>{var n=r(9275).f,i=r(9181),o=r(6314)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},9335:(t,e,r)=>{var n=r(3825)("keys"),i=r(3953);t.exports=function(t){return n[t]||(n[t]=i(t))}},3825:(t,e,r)=>{var n=r(5645),i=r(3816),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r(4461)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},8364:(t,e,r)=>{var n=r(7007),i=r(4963),o=r(6314)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||null==(r=n(a)[o])?e:i(r)}},7717:(t,e,r)=>{"use strict";var n=r(4253);t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},4496:(t,e,r)=>{var n=r(1467),i=r(1355);t.exports=function(t){return function(e,r){var o,a,s=String(i(e)),u=n(r),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},2094:(t,e,r)=>{var n=r(5364),i=r(1355);t.exports=function(t,e,r){if(n(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},9395:(t,e,r)=>{var n=r(2985),i=r(4253),o=r(1355),a=/"/g,s=function(t,e,r,n){var i=String(o(t)),s="<"+e;return""!==r&&(s+=" "+r+'="'+String(n).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var r={};r[t]=e(s),n(n.P+n.F*i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",r)}},5442:(t,e,r)=>{var n=r(875),i=r(8595),o=r(1355);t.exports=function(t,e,r,a){var s=String(o(t)),u=s.length,l=void 0===r?" ":String(r),c=n(e);if(c<=u||""==l)return s;var h=c-u,f=i.call(l,Math.ceil(h/l.length));return f.length>h&&(f=f.slice(0,h)),a?f+s:s+f}},8595:(t,e,r)=>{"use strict";var n=r(1467),i=r(1355);t.exports=function(t){var e=String(i(this)),r="",o=n(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(r+=e);return r}},9599:(t,e,r)=>{var n=r(2985),i=r(1355),o=r(4253),a=r(4644),s="["+a+"]",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),c=function(t,e,r){var i={},s=o((function(){return!!a[t]()||"​"!="​"[t]()})),u=i[t]=s?e(h):a[t];r&&(i[r]=u),n(n.P+n.F*s,"String",i)},h=c.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=c},4644:t=>{t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},4193:(t,e,r)=>{var n,i,o,a=r(741),s=r(7242),u=r(639),l=r(2457),c=r(3816),h=c.process,f=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,m=c.Dispatch,y=0,g={},v="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},_=function(t){b.call(t.data)};f&&p||(f=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return g[++y]=function(){s("function"==typeof t?t:Function(t),e)},n(y),y},p=function(t){delete g[t]},"process"==r(2032)(h)?n=function(t){h.nextTick(a(b,t,1))}:m&&m.now?n=function(t){m.now(a(b,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=_,n=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(t){c.postMessage(t+"","*")},c.addEventListener("message",_,!1)):n=v in l("script")?function(t){u.appendChild(l("script"))[v]=function(){u.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:f,clear:p}},2337:(t,e,r)=>{var n=r(1467),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?i(t+e,0):o(t,e)}},4843:(t,e,r)=>{var n=r(1467),i=r(875);t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=i(e);if(e!==r)throw RangeError("Wrong length!");return r}},1467:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},2110:(t,e,r)=>{var n=r(9797),i=r(1355);t.exports=function(t){return n(i(t))}},875:(t,e,r)=>{var n=r(1467),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},508:(t,e,r)=>{var n=r(1355);t.exports=function(t){return Object(n(t))}},1689:(t,e,r)=>{var n=r(5286);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},8440:(t,e,r)=>{"use strict";if(r(7057)){var n=r(4461),i=r(3816),o=r(4253),a=r(2985),s=r(9383),u=r(1125),l=r(741),c=r(3328),h=r(681),f=r(7728),p=r(4408),d=r(1467),m=r(875),y=r(4843),g=r(2337),v=r(1689),b=r(9181),_=r(1488),w=r(5286),x=r(508),S=r(6555),T=r(2503),E=r(468),O=r(616).f,A=r(9002),k=r(3953),P=r(6314),C=r(50),M=r(9315),I=r(8364),j=r(6997),B=r(2803),L=r(7462),R=r(2974),q=r(6852),N=r(5216),F=r(9275),V=r(8693),D=F.f,G=V.f,z=i.RangeError,U=i.TypeError,Y=i.Uint8Array,X="ArrayBuffer",W="Shared"+X,H="BYTES_PER_ELEMENT",Z="prototype",K=Array[Z],Q=u.ArrayBuffer,J=u.DataView,$=C(0),tt=C(2),et=C(3),rt=C(4),nt=C(5),it=C(6),ot=M(!0),at=M(!1),st=j.values,ut=j.keys,lt=j.entries,ct=K.lastIndexOf,ht=K.reduce,ft=K.reduceRight,pt=K.join,dt=K.sort,mt=K.slice,yt=K.toString,gt=K.toLocaleString,vt=P("iterator"),bt=P("toStringTag"),_t=k("typed_constructor"),wt=k("def_constructor"),xt=s.CONSTR,St=s.TYPED,Tt=s.VIEW,Et="Wrong length!",Ot=C(1,(function(t,e){return Mt(I(t,t[wt]),e)})),At=o((function(){return 1===new Y(new Uint16Array([1]).buffer)[0]})),kt=!!Y&&!!Y[Z].set&&o((function(){new Y(1).set({})})),Pt=function(t,e){var r=d(t);if(r<0||r%e)throw z("Wrong offset!");return r},Ct=function(t){if(w(t)&&St in t)return t;throw U(t+" is not a typed array!")},Mt=function(t,e){if(!w(t)||!(_t in t))throw U("It is not a typed array constructor!");return new t(e)},It=function(t,e){return jt(I(t,t[wt]),e)},jt=function(t,e){for(var r=0,n=e.length,i=Mt(t,n);n>r;)i[r]=e[r++];return i},Bt=function(t,e,r){D(t,e,{get:function(){return this._d[r]}})},Lt=function(t){var e,r,n,i,o,a,s=x(t),u=arguments.length,c=u>1?arguments[1]:void 0,h=void 0!==c,f=A(s);if(null!=f&&!S(f)){for(a=f.call(s),n=[],e=0;!(o=a.next()).done;e++)n.push(o.value);s=n}for(h&&u>2&&(c=l(c,arguments[2],2)),e=0,r=m(s.length),i=Mt(this,r);r>e;e++)i[e]=h?c(s[e],e):s[e];return i},Rt=function(){for(var t=0,e=arguments.length,r=Mt(this,e);e>t;)r[t]=arguments[t++];return r},qt=!!Y&&o((function(){gt.call(new Y(1))})),Nt=function(){return gt.apply(qt?mt.call(Ct(this)):Ct(this),arguments)},Ft={copyWithin:function(t,e){return N.call(Ct(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return rt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return q.apply(Ct(this),arguments)},filter:function(t){return It(this,tt(Ct(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Ct(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){$(Ct(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return at(Ct(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Ct(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return pt.apply(Ct(this),arguments)},lastIndexOf:function(t){return ct.apply(Ct(this),arguments)},map:function(t){return Ot(Ct(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ht.apply(Ct(this),arguments)},reduceRight:function(t){return ft.apply(Ct(this),arguments)},reverse:function(){for(var t,e=this,r=Ct(e).length,n=Math.floor(r/2),i=0;i<n;)t=e[i],e[i++]=e[--r],e[r]=t;return e},some:function(t){return et(Ct(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return dt.call(Ct(this),t)},subarray:function(t,e){var r=Ct(this),n=r.length,i=g(t,n);return new(I(r,r[wt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,m((void 0===e?n:g(e,n))-i))}},Vt=function(t,e){return It(this,mt.call(Ct(this),t,e))},Dt=function(t){Ct(this);var e=Pt(arguments[1],1),r=this.length,n=x(t),i=m(n.length),o=0;if(i+e>r)throw z(Et);for(;o<i;)this[e+o]=n[o++]},Gt={entries:function(){return lt.call(Ct(this))},keys:function(){return ut.call(Ct(this))},values:function(){return st.call(Ct(this))}},zt=function(t,e){return w(t)&&t[St]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ut=function(t,e){return zt(t,e=v(e,!0))?h(2,t[e]):G(t,e)},Yt=function(t,e,r){return!(zt(t,e=v(e,!0))&&w(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?D(t,e,r):(t[e]=r.value,t)};xt||(V.f=Ut,F.f=Yt),a(a.S+a.F*!xt,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:Yt}),o((function(){yt.call({})}))&&(yt=gt=function(){return pt.call(this)});var Xt=p({},Ft);p(Xt,Gt),f(Xt,vt,Gt.values),p(Xt,{slice:Vt,set:Dt,constructor:function(){},toString:yt,toLocaleString:Nt}),Bt(Xt,"buffer","b"),Bt(Xt,"byteOffset","o"),Bt(Xt,"byteLength","l"),Bt(Xt,"length","e"),D(Xt,bt,{get:function(){return this[St]}}),t.exports=function(t,e,r,u){var l=t+((u=!!u)?"Clamped":"")+"Array",h="get"+t,p="set"+t,d=i[l],g=d||{},v=d&&E(d),b=!d||!s.ABV,x={},S=d&&d[Z],A=function(t,r){D(t,r,{get:function(){return function(t,r){var n=t._d;return n.v[h](r*e+n.o,At)}(this,r)},set:function(t){return function(t,r,n){var i=t._d;u&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),i.v[p](r*e+i.o,n,At)}(this,r,t)},enumerable:!0})};b?(d=r((function(t,r,n,i){c(t,d,l,"_d");var o,a,s,u,h=0,p=0;if(w(r)){if(!(r instanceof Q||(u=_(r))==X||u==W))return St in r?jt(d,r):Lt.call(d,r);o=r,p=Pt(n,e);var g=r.byteLength;if(void 0===i){if(g%e)throw z(Et);if((a=g-p)<0)throw z(Et)}else if((a=m(i)*e)+p>g)throw z(Et);s=a/e}else s=y(r),o=new Q(a=s*e);for(f(t,"_d",{b:o,o:p,l:a,e:s,v:new J(o)});h<s;)A(t,h++)})),S=d[Z]=T(Xt),f(S,"constructor",d)):o((function(){d(1)}))&&o((function(){new d(-1)}))&&L((function(t){new d,new d(null),new d(1.5),new d(t)}),!0)||(d=r((function(t,r,n,i){var o;return c(t,d,l),w(r)?r instanceof Q||(o=_(r))==X||o==W?void 0!==i?new g(r,Pt(n,e),i):void 0!==n?new g(r,Pt(n,e)):new g(r):St in r?jt(d,r):Lt.call(d,r):new g(y(r))})),$(v!==Function.prototype?O(g).concat(O(v)):O(g),(function(t){t in d||f(d,t,g[t])})),d[Z]=S,n||(S.constructor=d));var k=S[vt],P=!!k&&("values"==k.name||null==k.name),C=Gt.values;f(d,_t,!0),f(S,St,l),f(S,Tt,!0),f(S,wt,d),(u?new d(1)[bt]==l:bt in S)||D(S,bt,{get:function(){return l}}),x[l]=d,a(a.G+a.W+a.F*(d!=g),x),a(a.S,l,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o((function(){g.of.call(d,1)})),l,{from:Lt,of:Rt}),H in S||f(S,H,e),a(a.P,l,Ft),R(l),a(a.P+a.F*kt,l,{set:Dt}),a(a.P+a.F*!P,l,Gt),n||S.toString==yt||(S.toString=yt),a(a.P+a.F*o((function(){new d(1).slice()})),l,{slice:Vt}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()}))||!o((function(){S.toLocaleString.call([1,2])}))),l,{toLocaleString:Nt}),B[l]=P?k:C,n||P||f(S,vt,C)}}else t.exports=function(){}},1125:(t,e,r)=>{"use strict";var n=r(3816),i=r(7057),o=r(4461),a=r(9383),s=r(7728),u=r(4408),l=r(4253),c=r(3328),h=r(1467),f=r(875),p=r(4843),d=r(616).f,m=r(9275).f,y=r(6852),g=r(2943),v="ArrayBuffer",b="DataView",_="prototype",w="Wrong index!",x=n[v],S=n[b],T=n.Math,E=n.RangeError,O=n.Infinity,A=x,k=T.abs,P=T.pow,C=T.floor,M=T.log,I=T.LN2,j="buffer",B="byteLength",L="byteOffset",R=i?"_b":j,q=i?"_l":B,N=i?"_o":L;function F(t,e,r){var n,i,o,a=new Array(r),s=8*r-e-1,u=(1<<s)-1,l=u>>1,c=23===e?P(2,-24)-P(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for((t=k(t))!=t||t===O?(i=t!=t?1:0,n=u):(n=C(M(t)/I),t*(o=P(2,-n))<1&&(n--,o*=2),(t+=n+l>=1?c/o:c*P(2,1-l))*o>=2&&(n++,o/=2),n+l>=u?(i=0,n=u):n+l>=1?(i=(t*o-1)*P(2,e),n+=l):(i=t*P(2,l-1)*P(2,e),n=0));e>=8;a[h++]=255&i,i/=256,e-=8);for(n=n<<e|i,s+=e;s>0;a[h++]=255&n,n/=256,s-=8);return a[--h]|=128*f,a}function V(t,e,r){var n,i=8*r-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=r-1,l=t[u--],c=127&l;for(l>>=7;s>0;c=256*c+t[u],u--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=e;s>0;n=256*n+t[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return n?NaN:l?-O:O;n+=P(2,e),c-=a}return(l?-1:1)*n*P(2,c-e)}function D(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function G(t){return[255&t]}function z(t){return[255&t,t>>8&255]}function U(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function Y(t){return F(t,52,8)}function X(t){return F(t,23,4)}function W(t,e,r){m(t[_],e,{get:function(){return this[r]}})}function H(t,e,r,n){var i=p(+r);if(i+e>t[q])throw E(w);var o=t[R]._b,a=i+t[N],s=o.slice(a,a+e);return n?s:s.reverse()}function Z(t,e,r,n,i,o){var a=p(+r);if(a+e>t[q])throw E(w);for(var s=t[R]._b,u=a+t[N],l=n(+i),c=0;c<e;c++)s[u+c]=l[o?c:e-c-1]}if(a.ABV){if(!l((function(){x(1)}))||!l((function(){new x(-1)}))||l((function(){return new x,new x(1.5),new x(NaN),x.name!=v}))){for(var K,Q=(x=function(t){return c(this,x),new A(p(t))})[_]=A[_],J=d(A),$=0;J.length>$;)(K=J[$++])in x||s(x,K,A[K]);o||(Q.constructor=x)}var tt=new S(new x(2)),et=S[_].setInt8;tt.setInt8(0,2147483648),tt.setInt8(1,2147483649),!tt.getInt8(0)&&tt.getInt8(1)||u(S[_],{setInt8:function(t,e){et.call(this,t,e<<24>>24)},setUint8:function(t,e){et.call(this,t,e<<24>>24)}},!0)}else x=function(t){c(this,x,v);var e=p(t);this._b=y.call(new Array(e),0),this[q]=e},S=function(t,e,r){c(this,S,b),c(t,x,b);var n=t[q],i=h(e);if(i<0||i>n)throw E("Wrong offset!");if(i+(r=void 0===r?n-i:f(r))>n)throw E("Wrong length!");this[R]=t,this[N]=i,this[q]=r},i&&(W(x,B,"_l"),W(S,j,"_b"),W(S,B,"_l"),W(S,L,"_o")),u(S[_],{getInt8:function(t){return H(this,1,t)[0]<<24>>24},getUint8:function(t){return H(this,1,t)[0]},getInt16:function(t){var e=H(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=H(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return D(H(this,4,t,arguments[1]))},getUint32:function(t){return D(H(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return V(H(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return V(H(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){Z(this,1,t,G,e)},setUint8:function(t,e){Z(this,1,t,G,e)},setInt16:function(t,e){Z(this,2,t,z,e,arguments[2])},setUint16:function(t,e){Z(this,2,t,z,e,arguments[2])},setInt32:function(t,e){Z(this,4,t,U,e,arguments[2])},setUint32:function(t,e){Z(this,4,t,U,e,arguments[2])},setFloat32:function(t,e){Z(this,4,t,X,e,arguments[2])},setFloat64:function(t,e){Z(this,8,t,Y,e,arguments[2])}});g(x,v),g(S,b),s(S[_],a.VIEW,!0),e[v]=x,e[b]=S},9383:(t,e,r)=>{for(var n,i=r(3816),o=r(7728),a=r(3953),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(n=i[f[h++]])?(o(n.prototype,s,!0),o(n.prototype,u,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},3953:t=>{var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},575:(t,e,r)=>{var n=r(3816).navigator;t.exports=n&&n.userAgent||""},1616:(t,e,r)=>{var n=r(5286);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},6074:(t,e,r)=>{var n=r(3816),i=r(5645),o=r(4461),a=r(8787),s=r(9275).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},8787:(t,e,r)=>{e.f=r(6314)},6314:(t,e,r)=>{var n=r(3825)("wks"),i=r(3953),o=r(3816).Symbol,a="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=n},9002:(t,e,r)=>{var n=r(1488),i=r(6314)("iterator"),o=r(2803);t.exports=r(5645).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[n(t)]}},1761:(t,e,r)=>{var n=r(2985),i=r(5496)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(t){return i(t)}})},2e3:(t,e,r)=>{var n=r(2985);n(n.P,"Array",{copyWithin:r(5216)}),r(7722)("copyWithin")},5745:(t,e,r)=>{"use strict";var n=r(2985),i=r(50)(4);n(n.P+n.F*!r(7717)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},8977:(t,e,r)=>{var n=r(2985);n(n.P,"Array",{fill:r(6852)}),r(7722)("fill")},8837:(t,e,r)=>{"use strict";var n=r(2985),i=r(50)(2);n(n.P+n.F*!r(7717)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},4899:(t,e,r)=>{"use strict";var n=r(2985),i=r(50)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),n(n.P+n.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(7722)(o)},2310:(t,e,r)=>{"use strict";var n=r(2985),i=r(50)(5),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),n(n.P+n.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(7722)(o)},4336:(t,e,r)=>{"use strict";var n=r(2985),i=r(50)(0),o=r(7717)([].forEach,!0);n(n.P+n.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},522:(t,e,r)=>{"use strict";var n=r(741),i=r(2985),o=r(508),a=r(8851),s=r(6555),u=r(875),l=r(2811),c=r(9002);i(i.S+i.F*!r(7462)((function(t){Array.from(t)})),"Array",{from:function(t){var e,r,i,h,f=o(t),p="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:void 0,y=void 0!==m,g=0,v=c(f);if(y&&(m=n(m,d>2?arguments[2]:void 0,2)),null==v||p==Array&&s(v))for(r=new p(e=u(f.length));e>g;g++)l(r,g,y?m(f[g],g):f[g]);else for(h=v.call(f),r=new p;!(i=h.next()).done;g++)l(r,g,y?a(h,m,[i.value,g],!0):i.value);return r.length=g,r}})},3369:(t,e,r)=>{"use strict";var n=r(2985),i=r(9315)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!r(7717)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},774:(t,e,r)=>{var n=r(2985);n(n.S,"Array",{isArray:r(4302)})},6997:(t,e,r)=>{"use strict";var n=r(7722),i=r(5436),o=r(2803),a=r(2110);t.exports=r(2923)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},7842:(t,e,r)=>{"use strict";var n=r(2985),i=r(2110),o=[].join;n(n.P+n.F*(r(9797)!=Object||!r(7717)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},9564:(t,e,r)=>{"use strict";var n=r(2985),i=r(2110),o=r(1467),a=r(875),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(u||!r(7717)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),r=a(e.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,o(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},1802:(t,e,r)=>{"use strict";var n=r(2985),i=r(50)(1);n(n.P+n.F*!r(7717)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},8295:(t,e,r)=>{"use strict";var n=r(2985),i=r(2811);n(n.S+n.F*r(4253)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,r=new("function"==typeof this?this:Array)(e);e>t;)i(r,t,arguments[t++]);return r.length=e,r}})},3750:(t,e,r)=>{"use strict";var n=r(2985),i=r(7628);n(n.P+n.F*!r(7717)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},3057:(t,e,r)=>{"use strict";var n=r(2985),i=r(7628);n(n.P+n.F*!r(7717)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},110:(t,e,r)=>{"use strict";var n=r(2985),i=r(639),o=r(2032),a=r(2337),s=r(875),u=[].slice;n(n.P+n.F*r(4253)((function(){i&&u.call(i)})),"Array",{slice:function(t,e){var r=s(this.length),n=o(this);if(e=void 0===e?r:e,"Array"==n)return u.call(this,t,e);for(var i=a(t,r),l=a(e,r),c=s(l-i),h=new Array(c),f=0;f<c;f++)h[f]="String"==n?this.charAt(i+f):this[i+f];return h}})},6773:(t,e,r)=>{"use strict";var n=r(2985),i=r(50)(3);n(n.P+n.F*!r(7717)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},75:(t,e,r)=>{"use strict";var n=r(2985),i=r(4963),o=r(508),a=r(4253),s=[].sort,u=[1,2,3];n(n.P+n.F*(a((function(){u.sort(void 0)}))||!a((function(){u.sort(null)}))||!r(7717)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},1842:(t,e,r)=>{r(2974)("Array")},1822:(t,e,r)=>{var n=r(2985);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},1031:(t,e,r)=>{var n=r(2985),i=r(3537);n(n.P+n.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},9977:(t,e,r)=>{"use strict";var n=r(2985),i=r(508),o=r(1689);n(n.P+n.F*r(4253)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=i(this),r=o(e);return"number"!=typeof r||isFinite(r)?e.toISOString():null}})},1560:(t,e,r)=>{var n=r(6314)("toPrimitive"),i=Date.prototype;n in i||r(7728)(i,n,r(870))},6331:(t,e,r)=>{var n=Date.prototype,i="Invalid Date",o="toString",a=n[o],s=n.getTime;new Date(NaN)+""!=i&&r(7234)(n,o,(function(){var t=s.call(this);return t==t?a.call(this):i}))},9730:(t,e,r)=>{var n=r(2985);n(n.P,"Function",{bind:r(4398)})},8377:(t,e,r)=>{"use strict";var n=r(5286),i=r(468),o=r(6314)("hasInstance"),a=Function.prototype;o in a||r(9275).f(a,o,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},6059:(t,e,r)=>{var n=r(9275).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||r(7057)&&n(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},8416:(t,e,r)=>{"use strict";var n=r(9824),i=r(1616),o="Map";t.exports=r(5795)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=n.getEntry(i(this,o),t);return e&&e.v},set:function(t,e){return n.def(i(this,o),0===t?0:t,e)}},n,!0)},6503:(t,e,r)=>{var n=r(2985),i=r(6206),o=Math.sqrt,a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},6786:(t,e,r)=>{var n=r(2985),i=Math.asinh;n(n.S+n.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},932:(t,e,r)=>{var n=r(2985),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},7526:(t,e,r)=>{var n=r(2985),i=r(1801);n(n.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},1591:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},9073:(t,e,r)=>{var n=r(2985),i=Math.exp;n(n.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},347:(t,e,r)=>{var n=r(2985),i=r(3086);n(n.S+n.F*(i!=Math.expm1),"Math",{expm1:i})},579:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{fround:r(4934)})},4669:(t,e,r)=>{var n=r(2985),i=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var r,n,o=0,a=0,s=arguments.length,u=0;a<s;)u<(r=i(arguments[a++]))?(o=o*(n=u/r)*n+1,u=r):o+=r>0?(n=r/u)*n:r;return u===1/0?1/0:u*Math.sqrt(o)}})},7710:(t,e,r)=>{var n=r(2985),i=Math.imul;n(n.S+n.F*r(4253)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,e){var r=65535,n=+t,i=+e,o=r&n,a=r&i;return 0|o*a+((r&n>>>16)*a+o*(r&i>>>16)<<16>>>0)}})},5789:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},3514:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{log1p:r(6206)})},9978:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},8472:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{sign:r(1801)})},6946:(t,e,r)=>{var n=r(2985),i=r(3086),o=Math.exp;n(n.S+n.F*r(4253)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},5068:(t,e,r)=>{var n=r(2985),i=r(3086),o=Math.exp;n(n.S,"Math",{tanh:function(t){var e=i(t=+t),r=i(-t);return e==1/0?1:r==1/0?-1:(e-r)/(o(t)+o(-t))}})},413:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},1246:(t,e,r)=>{"use strict";var n=r(3816),i=r(9181),o=r(2032),a=r(266),s=r(1689),u=r(4253),l=r(616).f,c=r(8693).f,h=r(9275).f,f=r(9599).trim,p="Number",d=n[p],m=d,y=d.prototype,g=o(r(2503)(y))==p,v="trim"in String.prototype,b=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var r,n,i,o=(e=v?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var a,u=e.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>i)return NaN;return parseInt(u,n)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof d&&(g?u((function(){y.valueOf.call(r)})):o(r)!=p)?a(new m(b(e)),r,d):b(e)};for(var _,w=r(7057)?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)i(m,_=w[x])&&!i(d,_)&&h(d,_,c(m,_));d.prototype=y,y.constructor=d,r(7234)(n,p,d)}},5972:(t,e,r)=>{var n=r(2985);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},3403:(t,e,r)=>{var n=r(2985),i=r(3816).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},2516:(t,e,r)=>{var n=r(2985);n(n.S,"Number",{isInteger:r(8367)})},9371:(t,e,r)=>{var n=r(2985);n(n.S,"Number",{isNaN:function(t){return t!=t}})},6479:(t,e,r)=>{var n=r(2985),i=r(8367),o=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},1736:(t,e,r)=>{var n=r(2985);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},1889:(t,e,r)=>{var n=r(2985);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},5177:(t,e,r)=>{var n=r(2985),i=r(7743);n(n.S+n.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},6943:(t,e,r)=>{var n=r(2985),i=r(5960);n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},726:(t,e,r)=>{"use strict";var n=r(2985),i=r(1467),o=r(3365),a=r(8595),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h="0",f=function(t,e){for(var r=-1,n=e;++r<6;)n+=t*l[r],l[r]=n%1e7,n=u(n/1e7)},p=function(t){for(var e=6,r=0;--e>=0;)r+=l[e],l[e]=u(r/t),r=r%t*1e7},d=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var r=String(l[t]);e=""===e?r:e+a.call(h,7-r.length)+r}return e},m=function(t,e,r){return 0===e?r:e%2==1?m(t,e-1,r*t):m(t*t,e/2,r)};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(4253)((function(){s.call({})}))),"Number",{toFixed:function(t){var e,r,n,s,u=o(this,c),l=i(t),y="",g=h;if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(y="-",u=-u),u>1e-21)if(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(u*m(2,69,1))-69,r=e<0?u*m(2,-e,1):u/m(2,e,1),r*=4503599627370496,(e=52-e)>0){for(f(0,r),n=l;n>=7;)f(1e7,0),n-=7;for(f(m(10,n,1),0),n=e-1;n>=23;)p(1<<23),n-=23;p(1<<n),f(1,1),p(2),g=d()}else f(0,r),f(1<<-e,0),g=d()+a.call(h,l);return g=l>0?y+((s=g.length)<=l?"0."+a.call(h,l-s)+g:g.slice(0,s-l)+"."+g.slice(s-l)):y+g}})},1901:(t,e,r)=>{"use strict";var n=r(2985),i=r(4253),o=r(3365),a=1..toPrecision;n(n.P+n.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},5115:(t,e,r)=>{var n=r(2985);n(n.S+n.F,"Object",{assign:r(5345)})},8132:(t,e,r)=>{var n=r(2985);n(n.S,"Object",{create:r(2503)})},7470:(t,e,r)=>{var n=r(2985);n(n.S+n.F*!r(7057),"Object",{defineProperties:r(5588)})},8388:(t,e,r)=>{var n=r(2985);n(n.S+n.F*!r(7057),"Object",{defineProperty:r(9275).f})},9375:(t,e,r)=>{var n=r(5286),i=r(4728).onFreeze;r(3160)("freeze",(function(t){return function(e){return t&&n(e)?t(i(e)):e}}))},4882:(t,e,r)=>{var n=r(2110),i=r(8693).f;r(3160)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(n(t),e)}}))},9622:(t,e,r)=>{r(3160)("getOwnPropertyNames",(function(){return r(9327).f}))},1520:(t,e,r)=>{var n=r(508),i=r(468);r(3160)("getPrototypeOf",(function(){return function(t){return i(n(t))}}))},9892:(t,e,r)=>{var n=r(5286);r(3160)("isExtensible",(function(t){return function(e){return!!n(e)&&(!t||t(e))}}))},4157:(t,e,r)=>{var n=r(5286);r(3160)("isFrozen",(function(t){return function(e){return!n(e)||!!t&&t(e)}}))},5095:(t,e,r)=>{var n=r(5286);r(3160)("isSealed",(function(t){return function(e){return!n(e)||!!t&&t(e)}}))},9176:(t,e,r)=>{var n=r(2985);n(n.S,"Object",{is:r(7195)})},7476:(t,e,r)=>{var n=r(508),i=r(7184);r(3160)("keys",(function(){return function(t){return i(n(t))}}))},4672:(t,e,r)=>{var n=r(5286),i=r(4728).onFreeze;r(3160)("preventExtensions",(function(t){return function(e){return t&&n(e)?t(i(e)):e}}))},3533:(t,e,r)=>{var n=r(5286),i=r(4728).onFreeze;r(3160)("seal",(function(t){return function(e){return t&&n(e)?t(i(e)):e}}))},8838:(t,e,r)=>{var n=r(2985);n(n.S,"Object",{setPrototypeOf:r(7375).set})},6253:(t,e,r)=>{"use strict";var n=r(1488),i={};i[r(6314)("toStringTag")]="z",i+""!="[object z]"&&r(7234)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},4299:(t,e,r)=>{var n=r(2985),i=r(7743);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},1084:(t,e,r)=>{var n=r(2985),i=r(5960);n(n.G+n.F*(parseInt!=i),{parseInt:i})},851:(t,e,r)=>{"use strict";var n,i,o,a,s=r(4461),u=r(3816),l=r(741),c=r(1488),h=r(2985),f=r(5286),p=r(4963),d=r(3328),m=r(3531),y=r(8364),g=r(4193).set,v=r(4351)(),b=r(3499),_=r(188),w=r(575),x=r(94),S="Promise",T=u.TypeError,E=u.process,O=E&&E.versions,A=O&&O.v8||"",k=u[S],P="process"==c(E),C=function(){},M=i=b.f,I=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[r(6314)("species")]=function(t){t(C,C)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof e&&0!==A.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),j=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},B=function(t,e){if(!t._n){t._n=!0;var r=t._c;v((function(){for(var n=t._v,i=1==t._s,o=0,a=function(e){var r,o,a,s=i?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{s?(i||(2==t._h&&q(t),t._h=1),!0===s?r=n:(c&&c.enter(),r=s(n),c&&(c.exit(),a=!0)),r===e.promise?l(T("Promise-chain cycle")):(o=j(r))?o.call(r,u,l):u(r)):l(n)}catch(t){c&&!a&&c.exit(),l(t)}};r.length>o;)a(r[o++]);t._c=[],t._n=!1,e&&!t._h&&L(t)}))}},L=function(t){g.call(u,(function(){var e,r,n,i=t._v,o=R(t);if(o&&(e=_((function(){P?E.emit("unhandledRejection",i,t):(r=u.onunhandledrejection)?r({promise:t,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)})),t._h=P||R(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},q=function(t){g.call(u,(function(){var e;P?E.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},N=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),B(e,!0))},F=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw T("Promise can't be resolved itself");(e=j(t))?v((function(){var n={_w:r,_d:!1};try{e.call(t,l(F,n,1),l(N,n,1))}catch(t){N.call(n,t)}})):(r._v=t,r._s=1,B(r,!1))}catch(t){N.call({_w:r,_d:!1},t)}}};I||(k=function(t){d(this,k,S,"_h"),p(t),n.call(this);try{t(l(F,this,1),l(N,this,1))}catch(t){N.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(4408)(k.prototype,{then:function(t,e){var r=M(y(this,k));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=P?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&B(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=l(F,t,1),this.reject=l(N,t,1)},b.f=M=function(t){return t===k||t===a?new o(t):i(t)}),h(h.G+h.W+h.F*!I,{Promise:k}),r(2943)(k,S),r(2974)(S),a=r(5645)[S],h(h.S+h.F*!I,S,{reject:function(t){var e=M(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!I),S,{resolve:function(t){return x(s&&this===a?k:this,t)}}),h(h.S+h.F*!(I&&r(7462)((function(t){k.all(t).catch(C)}))),S,{all:function(t){var e=this,r=M(e),n=r.resolve,i=r.reject,o=_((function(){var r=[],o=0,a=1;m(t,!1,(function(t){var s=o++,u=!1;r.push(void 0),a++,e.resolve(t).then((function(t){u||(u=!0,r[s]=t,--a||n(r))}),i)})),--a||n(r)}));return o.e&&i(o.v),r.promise},race:function(t){var e=this,r=M(e),n=r.reject,i=_((function(){m(t,!1,(function(t){e.resolve(t).then(r.resolve,n)}))}));return i.e&&n(i.v),r.promise}})},1572:(t,e,r)=>{var n=r(2985),i=r(4963),o=r(7007),a=(r(3816).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!r(4253)((function(){a((function(){}))})),"Reflect",{apply:function(t,e,r){var n=i(t),u=o(r);return a?a(n,e,u):s.call(n,e,u)}})},2139:(t,e,r)=>{var n=r(2985),i=r(2503),o=r(4963),a=r(7007),s=r(5286),u=r(4253),l=r(4398),c=(r(3816).Reflect||{}).construct,h=u((function(){function t(){}return!(c((function(){}),[],t)instanceof t)})),f=!u((function(){c((function(){}))}));n(n.S+n.F*(h||f),"Reflect",{construct:function(t,e){o(t),a(e);var r=arguments.length<3?t:o(arguments[2]);if(f&&!h)return c(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(l.apply(t,n))}var u=r.prototype,p=i(s(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},685:(t,e,r)=>{var n=r(9275),i=r(2985),o=r(7007),a=r(1689);i(i.S+i.F*r(4253)((function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,r){o(t),e=a(e,!0),o(r);try{return n.f(t,e,r),!0}catch(t){return!1}}})},5535:(t,e,r)=>{var n=r(2985),i=r(8693).f,o=r(7007);n(n.S,"Reflect",{deleteProperty:function(t,e){var r=i(o(t),e);return!(r&&!r.configurable)&&delete t[e]}})},7347:(t,e,r)=>{"use strict";var n=r(2985),i=r(7007),o=function(t){this._t=i(t),this._i=0;var e,r=this._k=[];for(e in t)r.push(e)};r(9988)(o,"Object",(function(){var t,e=this,r=e._k;do{if(e._i>=r.length)return{value:void 0,done:!0}}while(!((t=r[e._i++])in e._t));return{value:t,done:!1}})),n(n.S,"Reflect",{enumerate:function(t){return new o(t)}})},6633:(t,e,r)=>{var n=r(8693),i=r(2985),o=r(7007);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(o(t),e)}})},8989:(t,e,r)=>{var n=r(2985),i=r(468),o=r(7007);n(n.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},3049:(t,e,r)=>{var n=r(8693),i=r(468),o=r(9181),a=r(2985),s=r(5286),u=r(7007);a(a.S,"Reflect",{get:function t(e,r){var a,l,c=arguments.length<3?e:arguments[2];return u(e)===c?e[r]:(a=n.f(e,r))?o(a,"value")?a.value:void 0!==a.get?a.get.call(c):void 0:s(l=i(e))?t(l,r,c):void 0}})},8270:(t,e,r)=>{var n=r(2985);n(n.S,"Reflect",{has:function(t,e){return e in t}})},4510:(t,e,r)=>{var n=r(2985),i=r(7007),o=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},3984:(t,e,r)=>{var n=r(2985);n(n.S,"Reflect",{ownKeys:r(7643)})},5769:(t,e,r)=>{var n=r(2985),i=r(7007),o=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},6014:(t,e,r)=>{var n=r(2985),i=r(7375);i&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},55:(t,e,r)=>{var n=r(9275),i=r(8693),o=r(468),a=r(9181),s=r(2985),u=r(681),l=r(7007),c=r(5286);s(s.S,"Reflect",{set:function t(e,r,s){var h,f,p=arguments.length<4?e:arguments[3],d=i.f(l(e),r);if(!d){if(c(f=o(e)))return t(f,r,s,p);d=u(0)}if(a(d,"value")){if(!1===d.writable||!c(p))return!1;if(h=i.f(p,r)){if(h.get||h.set||!1===h.writable)return!1;h.value=s,n.f(p,r,h)}else n.f(p,r,u(0,s));return!0}return void 0!==d.set&&(d.set.call(p,s),!0)}})},3946:(t,e,r)=>{var n=r(3816),i=r(266),o=r(9275).f,a=r(616).f,s=r(5364),u=r(3218),l=n.RegExp,c=l,h=l.prototype,f=/a/g,p=/a/g,d=new l(f)!==f;if(r(7057)&&(!d||r(4253)((function(){return p[r(6314)("match")]=!1,l(f)!=f||l(p)==p||"/a/i"!=l(f,"i")})))){l=function(t,e){var r=this instanceof l,n=s(t),o=void 0===e;return!r&&n&&t.constructor===l&&o?t:i(d?new c(n&&!o?t.source:t,e):c((n=t instanceof l)?t.source:t,n&&o?u.call(t):e),r?this:h,l)};for(var m=function(t){t in l||o(l,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})},y=a(c),g=0;y.length>g;)m(y[g++]);h.constructor=l,l.prototype=h,r(7234)(n,"RegExp",l)}r(2974)("RegExp")},8269:(t,e,r)=>{"use strict";var n=r(1165);r(2985)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},6774:(t,e,r)=>{r(7057)&&"g"!=/./g.flags&&r(9275).f(RegExp.prototype,"flags",{configurable:!0,get:r(3218)})},1466:(t,e,r)=>{"use strict";var n=r(7007),i=r(875),o=r(6793),a=r(7787);r(8082)("match",1,(function(t,e,r,s){return[function(r){var n=t(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=s(r,t,this);if(e.done)return e.value;var u=n(t),l=String(this);if(!u.global)return a(u,l);var c=u.unicode;u.lastIndex=0;for(var h,f=[],p=0;null!==(h=a(u,l));){var d=String(h[0]);f[p]=d,""===d&&(u.lastIndex=o(l,i(u.lastIndex),c)),p++}return 0===p?null:f}]}))},9357:(t,e,r)=>{"use strict";var n=r(7007),i=r(508),o=r(875),a=r(1467),s=r(6793),u=r(7787),l=Math.max,c=Math.min,h=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;r(8082)("replace",2,(function(t,e,r,d){return[function(n,i){var o=t(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},function(t,e){var i=d(r,t,this,e);if(i.done)return i.value;var h=n(t),f=String(this),p="function"==typeof e;p||(e=String(e));var y=h.global;if(y){var g=h.unicode;h.lastIndex=0}for(var v=[];;){var b=u(h,f);if(null===b)break;if(v.push(b),!y)break;""===String(b[0])&&(h.lastIndex=s(f,o(h.lastIndex),g))}for(var _,w="",x=0,S=0;S<v.length;S++){b=v[S];for(var T=String(b[0]),E=l(c(a(b.index),f.length),0),O=[],A=1;A<b.length;A++)O.push(void 0===(_=b[A])?_:String(_));var k=b.groups;if(p){var P=[T].concat(O,E,f);void 0!==k&&P.push(k);var C=String(e.apply(void 0,P))}else C=m(T,f,E,O,k,e);E>=x&&(w+=f.slice(x,E)+C,x=E+T.length)}return w+f.slice(x)}];function m(t,e,n,o,a,s){var u=n+t.length,l=o.length,c=p;return void 0!==a&&(a=i(a),c=f),r.call(s,c,(function(r,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var c=+i;if(0===c)return r;if(c>l){var f=h(c/10);return 0===f?r:f<=l?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):r}s=o[c-1]}return void 0===s?"":s}))}}))},6142:(t,e,r)=>{"use strict";var n=r(7007),i=r(7195),o=r(7787);r(8082)("search",1,(function(t,e,r,a){return[function(r){var n=t(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=a(r,t,this);if(e.done)return e.value;var s=n(t),u=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var c=o(s,u);return i(s.lastIndex,l)||(s.lastIndex=l),null===c?-1:c.index}]}))},1876:(t,e,r)=>{"use strict";var n=r(5364),i=r(7007),o=r(8364),a=r(6793),s=r(875),u=r(7787),l=r(1165),c=r(4253),h=Math.min,f=[].push,p="split",d="length",m="lastIndex",y=4294967295,g=!c((function(){RegExp(y,"y")}));r(8082)("split",2,(function(t,e,r,c){var v;return v="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[d]||2!="ab"[p](/(?:ab)*/)[d]||4!="."[p](/(.?)(.?)/)[d]||"."[p](/()()/)[d]>1||""[p](/.?/)[d]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!n(t))return r.call(i,t,e);for(var o,a,s,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,p=void 0===e?y:e>>>0,g=new RegExp(t.source,c+"g");(o=l.call(g,i))&&!((a=g[m])>h&&(u.push(i.slice(h,o.index)),o[d]>1&&o.index<i[d]&&f.apply(u,o.slice(1)),s=o[0][d],h=a,u[d]>=p));)g[m]===o.index&&g[m]++;return h===i[d]?!s&&g.test("")||u.push(""):u.push(i.slice(h)),u[d]>p?u.slice(0,p):u}:"0"[p](void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,n){var i=t(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,i,n):v.call(String(i),r,n)},function(t,e){var n=c(v,t,this,e,v!==r);if(n.done)return n.value;var l=i(t),f=String(this),p=o(l,RegExp),d=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(g?"y":"g"),b=new p(g?l:"^(?:"+l.source+")",m),_=void 0===e?y:e>>>0;if(0===_)return[];if(0===f.length)return null===u(b,f)?[f]:[];for(var w=0,x=0,S=[];x<f.length;){b.lastIndex=g?x:0;var T,E=u(b,g?f:f.slice(x));if(null===E||(T=h(s(b.lastIndex+(g?0:x)),f.length))===w)x=a(f,x,d);else{if(S.push(f.slice(w,x)),S.length===_)return S;for(var O=1;O<=E.length-1;O++)if(S.push(E[O]),S.length===_)return S;x=w=T}}return S.push(f.slice(w)),S}]}))},6108:(t,e,r)=>{"use strict";r(6774);var n=r(7007),i=r(3218),o=r(7057),a="toString",s=/./[a],u=function(t){r(7234)(RegExp.prototype,a,t,!0)};r(4253)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?u((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):s.name!=a&&u((function(){return s.call(this)}))},8184:(t,e,r)=>{"use strict";var n=r(9824),i=r(1616);t.exports=r(5795)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(i(this,"Set"),t=0===t?0:t,t)}},n)},856:(t,e,r)=>{"use strict";r(9395)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},703:(t,e,r)=>{"use strict";r(9395)("big",(function(t){return function(){return t(this,"big","","")}}))},1539:(t,e,r)=>{"use strict";r(9395)("blink",(function(t){return function(){return t(this,"blink","","")}}))},5292:(t,e,r)=>{"use strict";r(9395)("bold",(function(t){return function(){return t(this,"b","","")}}))},9539:(t,e,r)=>{"use strict";var n=r(2985),i=r(4496)(!1);n(n.P,"String",{codePointAt:function(t){return i(this,t)}})},6620:(t,e,r)=>{"use strict";var n=r(2985),i=r(875),o=r(2094),a="endsWith",s=""[a];n(n.P+n.F*r(8852)(a),"String",{endsWith:function(t){var e=o(this,t,a),r=arguments.length>1?arguments[1]:void 0,n=i(e.length),u=void 0===r?n:Math.min(i(r),n),l=String(t);return s?s.call(e,l,u):e.slice(u-l.length,u)===l}})},6629:(t,e,r)=>{"use strict";r(9395)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},3694:(t,e,r)=>{"use strict";r(9395)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},7648:(t,e,r)=>{"use strict";r(9395)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},191:(t,e,r)=>{var n=r(2985),i=r(2337),o=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,a=0;n>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");r.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return r.join("")}})},2850:(t,e,r)=>{"use strict";var n=r(2985),i=r(2094),o="includes";n(n.P+n.F*r(8852)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},7795:(t,e,r)=>{"use strict";r(9395)("italics",(function(t){return function(){return t(this,"i","","")}}))},9115:(t,e,r)=>{"use strict";var n=r(4496)(!0);r(2923)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})}))},4531:(t,e,r)=>{"use strict";r(9395)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},8306:(t,e,r)=>{var n=r(2985),i=r(2110),o=r(875);n(n.S,"String",{raw:function(t){for(var e=i(t.raw),r=o(e.length),n=arguments.length,a=[],s=0;r>s;)a.push(String(e[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},823:(t,e,r)=>{var n=r(2985);n(n.P,"String",{repeat:r(8595)})},3605:(t,e,r)=>{"use strict";r(9395)("small",(function(t){return function(){return t(this,"small","","")}}))},7732:(t,e,r)=>{"use strict";var n=r(2985),i=r(875),o=r(2094),a="startsWith",s=""[a];n(n.P+n.F*r(8852)(a),"String",{startsWith:function(t){var e=o(this,t,a),r=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return s?s.call(e,n,r):e.slice(r,r+n.length)===n}})},6780:(t,e,r)=>{"use strict";r(9395)("strike",(function(t){return function(){return t(this,"strike","","")}}))},9937:(t,e,r)=>{"use strict";r(9395)("sub",(function(t){return function(){return t(this,"sub","","")}}))},511:(t,e,r)=>{"use strict";r(9395)("sup",(function(t){return function(){return t(this,"sup","","")}}))},4564:(t,e,r)=>{"use strict";r(9599)("trim",(function(t){return function(){return t(this,3)}}))},5767:(t,e,r)=>{"use strict";var n=r(3816),i=r(9181),o=r(7057),a=r(2985),s=r(7234),u=r(4728).KEY,l=r(4253),c=r(3825),h=r(2943),f=r(3953),p=r(6314),d=r(8787),m=r(6074),y=r(5541),g=r(4302),v=r(7007),b=r(5286),_=r(508),w=r(2110),x=r(1689),S=r(681),T=r(2503),E=r(9327),O=r(8693),A=r(4548),k=r(9275),P=r(7184),C=O.f,M=k.f,I=E.f,j=n.Symbol,B=n.JSON,L=B&&B.stringify,R="prototype",q=p("_hidden"),N=p("toPrimitive"),F={}.propertyIsEnumerable,V=c("symbol-registry"),D=c("symbols"),G=c("op-symbols"),z=Object[R],U="function"==typeof j&&!!A.f,Y=n.QObject,X=!Y||!Y[R]||!Y[R].findChild,W=o&&l((function(){return 7!=T(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=C(z,e);n&&delete z[e],M(t,e,r),n&&t!==z&&M(z,e,n)}:M,H=function(t){var e=D[t]=T(j[R]);return e._k=t,e},Z=U&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},K=function(t,e,r){return t===z&&K(G,e,r),v(t),e=x(e,!0),v(r),i(D,e)?(r.enumerable?(i(t,q)&&t[q][e]&&(t[q][e]=!1),r=T(r,{enumerable:S(0,!1)})):(i(t,q)||M(t,q,S(1,{})),t[q][e]=!0),W(t,e,r)):M(t,e,r)},Q=function(t,e){v(t);for(var r,n=y(e=w(e)),i=0,o=n.length;o>i;)K(t,r=n[i++],e[r]);return t},J=function(t){var e=F.call(this,t=x(t,!0));return!(this===z&&i(D,t)&&!i(G,t))&&(!(e||!i(this,t)||!i(D,t)||i(this,q)&&this[q][t])||e)},$=function(t,e){if(t=w(t),e=x(e,!0),t!==z||!i(D,e)||i(G,e)){var r=C(t,e);return!r||!i(D,e)||i(t,q)&&t[q][e]||(r.enumerable=!0),r}},tt=function(t){for(var e,r=I(w(t)),n=[],o=0;r.length>o;)i(D,e=r[o++])||e==q||e==u||n.push(e);return n},et=function(t){for(var e,r=t===z,n=I(r?G:w(t)),o=[],a=0;n.length>a;)!i(D,e=n[a++])||r&&!i(z,e)||o.push(D[e]);return o};U||(s((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(r){this===z&&e.call(G,r),i(this,q)&&i(this[q],t)&&(this[q][t]=!1),W(this,t,S(1,r))};return o&&X&&W(z,t,{configurable:!0,set:e}),H(t)})[R],"toString",(function(){return this._k})),O.f=$,k.f=K,r(616).f=E.f=tt,r(4682).f=J,A.f=et,o&&!r(4461)&&s(z,"propertyIsEnumerable",J,!0),d.f=function(t){return H(p(t))}),a(a.G+a.W+a.F*!U,{Symbol:j});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;rt.length>nt;)p(rt[nt++]);for(var it=P(p.store),ot=0;it.length>ot;)m(it[ot++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return i(V,t+="")?V[t]:V[t]=j(t)},keyFor:function(t){if(!Z(t))throw TypeError(t+" is not a symbol!");for(var e in V)if(V[e]===t)return e},useSetter:function(){X=!0},useSimple:function(){X=!1}}),a(a.S+a.F*!U,"Object",{create:function(t,e){return void 0===e?T(t):Q(T(t),e)},defineProperty:K,defineProperties:Q,getOwnPropertyDescriptor:$,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var at=l((function(){A.f(1)}));a(a.S+a.F*at,"Object",{getOwnPropertySymbols:function(t){return A.f(_(t))}}),B&&a(a.S+a.F*(!U||l((function(){var t=j();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))}))),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(b(e)||void 0!==t)&&!Z(t))return g(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Z(e))return e}),n[1]=e,L.apply(B,n)}}),j[R][N]||r(7728)(j[R],N,j[R].valueOf),h(j,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},142:(t,e,r)=>{"use strict";var n=r(2985),i=r(9383),o=r(1125),a=r(7007),s=r(2337),u=r(875),l=r(5286),c=r(3816).ArrayBuffer,h=r(8364),f=o.ArrayBuffer,p=o.DataView,d=i.ABV&&c.isView,m=f.prototype.slice,y=i.VIEW,g="ArrayBuffer";n(n.G+n.W+n.F*(c!==f),{ArrayBuffer:f}),n(n.S+n.F*!i.CONSTR,g,{isView:function(t){return d&&d(t)||l(t)&&y in t}}),n(n.P+n.U+n.F*r(4253)((function(){return!new f(2).slice(1,void 0).byteLength})),g,{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(a(this),t);for(var r=a(this).byteLength,n=s(t,r),i=s(void 0===e?r:e,r),o=new(h(this,f))(u(i-n)),l=new p(this),c=new p(o),d=0;n<i;)c.setUint8(d++,l.getUint8(n++));return o}}),r(2974)(g)},1786:(t,e,r)=>{var n=r(2985);n(n.G+n.W+n.F*!r(9383).ABV,{DataView:r(1125).DataView})},162:(t,e,r)=>{r(8440)("Float32",4,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},3834:(t,e,r)=>{r(8440)("Float64",8,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},4821:(t,e,r)=>{r(8440)("Int16",2,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},1303:(t,e,r)=>{r(8440)("Int32",4,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},5368:(t,e,r)=>{r(8440)("Int8",1,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},9103:(t,e,r)=>{r(8440)("Uint16",2,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},3318:(t,e,r)=>{r(8440)("Uint32",4,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},6964:(t,e,r)=>{r(8440)("Uint8",1,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},2152:(t,e,r)=>{r(8440)("Uint8",1,(function(t){return function(e,r,n){return t(this,e,r,n)}}),!0)},147:(t,e,r)=>{"use strict";var n,i=r(3816),o=r(50)(0),a=r(7234),s=r(4728),u=r(5345),l=r(3657),c=r(5286),h=r(1616),f=r(1616),p=!i.ActiveXObject&&"ActiveXObject"in i,d="WeakMap",m=s.getWeak,y=Object.isExtensible,g=l.ufstore,v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(c(t)){var e=m(t);return!0===e?g(h(this,d)).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(h(this,d),t,e)}},_=t.exports=r(5795)(d,v,b,l,!0,!0);f&&p&&(u((n=l.getConstructor(v,d)).prototype,b),s.NEED=!0,o(["delete","has","get","set"],(function(t){var e=_.prototype,r=e[t];a(e,t,(function(e,i){if(c(e)&&!y(e)){this._f||(this._f=new n);var o=this._f[t](e,i);return"set"==t?this:o}return r.call(this,e,i)}))})))},9192:(t,e,r)=>{"use strict";var n=r(3657),i=r(1616),o="WeakSet";r(5795)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(i(this,o),t,!0)}},n,!1,!0)},1268:(t,e,r)=>{"use strict";var n=r(2985),i=r(3325),o=r(508),a=r(875),s=r(4963),u=r(6886);n(n.P,"Array",{flatMap:function(t){var e,r,n=o(this);return s(t),e=a(n.length),r=u(n,0),i(r,n,n,e,0,1,t,arguments[1]),r}}),r(7722)("flatMap")},4692:(t,e,r)=>{"use strict";var n=r(2985),i=r(3325),o=r(508),a=r(875),s=r(1467),u=r(6886);n(n.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),r=a(e.length),n=u(e,0);return i(n,e,e,r,0,void 0===t?1:s(t)),n}}),r(7722)("flatten")},2773:(t,e,r)=>{"use strict";var n=r(2985),i=r(9315)(!0);n(n.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(7722)("includes")},8267:(t,e,r)=>{var n=r(2985),i=r(4351)(),o=r(3816).process,a="process"==r(2032)(o);n(n.G,{asap:function(t){var e=a&&o.domain;i(e?e.bind(t):t)}})},2559:(t,e,r)=>{var n=r(2985),i=r(2032);n(n.S,"Error",{isError:function(t){return"Error"===i(t)}})},5575:(t,e,r)=>{var n=r(2985);n(n.G,{global:r(3816)})},525:(t,e,r)=>{r(1024)("Map")},8211:(t,e,r)=>{r(4881)("Map")},7698:(t,e,r)=>{var n=r(2985);n(n.P+n.R,"Map",{toJSON:r(6132)("Map")})},8865:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{clamp:function(t,e,r){return Math.min(r,Math.max(e,t))}})},368:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},6427:(t,e,r)=>{var n=r(2985),i=180/Math.PI;n(n.S,"Math",{degrees:function(t){return t*i}})},286:(t,e,r)=>{var n=r(2985),i=r(8757),o=r(4934);n(n.S,"Math",{fscale:function(t,e,r,n,a){return o(i(t,e,r,n,a))}})},2816:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{iaddh:function(t,e,r,n){var i=t>>>0,o=r>>>0;return(e>>>0)+(n>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},2082:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{imulh:function(t,e){var r=65535,n=+t,i=+e,o=n&r,a=i&r,s=n>>16,u=i>>16,l=(s*a>>>0)+(o*a>>>16);return s*u+(l>>16)+((o*u>>>0)+(l&r)>>16)}})},5986:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{isubh:function(t,e,r,n){var i=t>>>0,o=r>>>0;return(e>>>0)-(n>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},6308:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},9221:(t,e,r)=>{var n=r(2985),i=Math.PI/180;n(n.S,"Math",{radians:function(t){return t*i}})},3570:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{scale:r(8757)})},3776:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},6754:(t,e,r)=>{var n=r(2985);n(n.S,"Math",{umulh:function(t,e){var r=65535,n=+t,i=+e,o=n&r,a=i&r,s=n>>>16,u=i>>>16,l=(s*a>>>0)+(o*a>>>16);return s*u+(l>>>16)+((o*u>>>0)+(l&r)>>>16)}})},8646:(t,e,r)=>{"use strict";var n=r(2985),i=r(508),o=r(4963),a=r(9275);r(7057)&&n(n.P+r(1670),"Object",{__defineGetter__:function(t,e){a.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},2658:(t,e,r)=>{"use strict";var n=r(2985),i=r(508),o=r(4963),a=r(9275);r(7057)&&n(n.P+r(1670),"Object",{__defineSetter__:function(t,e){a.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},3276:(t,e,r)=>{var n=r(2985),i=r(1131)(!0);n(n.S,"Object",{entries:function(t){return i(t)}})},8351:(t,e,r)=>{var n=r(2985),i=r(7643),o=r(2110),a=r(8693),s=r(2811);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,r,n=o(t),u=a.f,l=i(n),c={},h=0;l.length>h;)void 0!==(r=u(n,e=l[h++]))&&s(c,e,r);return c}})},6917:(t,e,r)=>{"use strict";var n=r(2985),i=r(508),o=r(1689),a=r(468),s=r(8693).f;r(7057)&&n(n.P+r(1670),"Object",{__lookupGetter__:function(t){var e,r=i(this),n=o(t,!0);do{if(e=s(r,n))return e.get}while(r=a(r))}})},372:(t,e,r)=>{"use strict";var n=r(2985),i=r(508),o=r(1689),a=r(468),s=r(8693).f;r(7057)&&n(n.P+r(1670),"Object",{__lookupSetter__:function(t){var e,r=i(this),n=o(t,!0);do{if(e=s(r,n))return e.set}while(r=a(r))}})},6409:(t,e,r)=>{var n=r(2985),i=r(1131)(!1);n(n.S,"Object",{values:function(t){return i(t)}})},6534:(t,e,r)=>{"use strict";var n=r(2985),i=r(3816),o=r(5645),a=r(4351)(),s=r(6314)("observable"),u=r(4963),l=r(7007),c=r(3328),h=r(4408),f=r(7728),p=r(3531),d=p.RETURN,m=function(t){return null==t?void 0:u(t)},y=function(t){var e=t._c;e&&(t._c=void 0,e())},g=function(t){return void 0===t._o},v=function(t){g(t)||(t._o=void 0,y(t))},b=function(t,e){l(t),this._c=void 0,this._o=t,t=new _(this);try{var r=e(t),n=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){n.unsubscribe()}:u(r),this._c=r)}catch(e){return void t.error(e)}g(this)&&y(this)};b.prototype=h({},{unsubscribe:function(){v(this)}});var _=function(t){this._s=t};_.prototype=h({},{next:function(t){var e=this._s;if(!g(e)){var r=e._o;try{var n=m(r.next);if(n)return n.call(r,t)}catch(t){try{v(e)}finally{throw t}}}},error:function(t){var e=this._s;if(g(e))throw t;var r=e._o;e._o=void 0;try{var n=m(r.error);if(!n)throw t;t=n.call(r,t)}catch(t){try{y(e)}finally{throw t}}return y(e),t},complete:function(t){var e=this._s;if(!g(e)){var r=e._o;e._o=void 0;try{var n=m(r.complete);t=n?n.call(r,t):void 0}catch(t){try{y(e)}finally{throw t}}return y(e),t}}});var w=function(t){c(this,w,"Observable","_f")._f=u(t)};h(w.prototype,{subscribe:function(t){return new b(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)((function(r,n){u(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){n(t),i.unsubscribe()}},error:n,complete:r})}))}}),h(w,{from:function(t){var e="function"==typeof this?this:w,r=m(l(t)[s]);if(r){var n=l(r.call(t));return n.constructor===e?n:new e((function(t){return n.subscribe(t)}))}return new e((function(e){var r=!1;return a((function(){if(!r){try{if(p(t,!1,(function(t){if(e.next(t),r)return d}))===d)return}catch(t){if(r)throw t;return void e.error(t)}e.complete()}})),function(){r=!0}}))},of:function(){for(var t=0,e=arguments.length,r=new Array(e);t<e;)r[t]=arguments[t++];return new("function"==typeof this?this:w)((function(t){var e=!1;return a((function(){if(!e){for(var n=0;n<r.length;++n)if(t.next(r[n]),e)return;t.complete()}})),function(){e=!0}}))}}),f(w.prototype,s,(function(){return this})),n(n.G,{Observable:w}),r(2974)("Observable")},9865:(t,e,r)=>{"use strict";var n=r(2985),i=r(5645),o=r(3816),a=r(8364),s=r(94);n(n.P+n.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),r="function"==typeof t;return this.then(r?function(r){return s(e,t()).then((function(){return r}))}:t,r?function(r){return s(e,t()).then((function(){throw r}))}:t)}})},1898:(t,e,r)=>{"use strict";var n=r(2985),i=r(3499),o=r(188);n(n.S,"Promise",{try:function(t){var e=i.f(this),r=o(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},3364:(t,e,r)=>{var n=r(133),i=r(7007),o=n.key,a=n.set;n.exp({defineMetadata:function(t,e,r,n){a(t,e,i(r),o(n))}})},1432:(t,e,r)=>{var n=r(133),i=r(7007),o=n.key,a=n.map,s=n.store;n.exp({deleteMetadata:function(t,e){var r=arguments.length<3?void 0:o(arguments[2]),n=a(i(e),r,!1);if(void 0===n||!n.delete(t))return!1;if(n.size)return!0;var u=s.get(e);return u.delete(r),!!u.size||s.delete(e)}})},4416:(t,e,r)=>{var n=r(8184),i=r(9490),o=r(133),a=r(7007),s=r(468),u=o.keys,l=o.key,c=function(t,e){var r=u(t,e),o=s(t);if(null===o)return r;var a=c(o,e);return a.length?r.length?i(new n(r.concat(a))):a:r};o.exp({getMetadataKeys:function(t){return c(a(t),arguments.length<2?void 0:l(arguments[1]))}})},6562:(t,e,r)=>{var n=r(133),i=r(7007),o=r(468),a=n.has,s=n.get,u=n.key,l=function(t,e,r){if(a(t,e,r))return s(t,e,r);var n=o(e);return null!==n?l(t,n,r):void 0};n.exp({getMetadata:function(t,e){return l(t,i(e),arguments.length<3?void 0:u(arguments[2]))}})},2213:(t,e,r)=>{var n=r(133),i=r(7007),o=n.keys,a=n.key;n.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:a(arguments[1]))}})},8681:(t,e,r)=>{var n=r(133),i=r(7007),o=n.get,a=n.key;n.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},3471:(t,e,r)=>{var n=r(133),i=r(7007),o=r(468),a=n.has,s=n.key,u=function(t,e,r){if(a(t,e,r))return!0;var n=o(e);return null!==n&&u(t,n,r)};n.exp({hasMetadata:function(t,e){return u(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},4329:(t,e,r)=>{var n=r(133),i=r(7007),o=n.has,a=n.key;n.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},5159:(t,e,r)=>{var n=r(133),i=r(7007),o=r(4963),a=n.key,s=n.set;n.exp({metadata:function(t,e){return function(r,n){s(t,e,(void 0!==n?i:o)(r),a(n))}}})},9467:(t,e,r)=>{r(1024)("Set")},4837:(t,e,r)=>{r(4881)("Set")},8739:(t,e,r)=>{var n=r(2985);n(n.P+n.R,"Set",{toJSON:r(6132)("Set")})},7220:(t,e,r)=>{"use strict";var n=r(2985),i=r(4496)(!0);n(n.P,"String",{at:function(t){return i(this,t)}})},4208:(t,e,r)=>{"use strict";var n=r(2985),i=r(1355),o=r(875),a=r(5364),s=r(3218),u=RegExp.prototype,l=function(t,e){this._r=t,this._s=e};r(9988)(l,"RegExp String",(function(){var t=this._r.exec(this._s);return{value:t,done:null===t}})),n(n.P,"String",{matchAll:function(t){if(i(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),r="flags"in u?String(t.flags):s.call(t),n=new RegExp(t.source,~r.indexOf("g")?r:"g"+r);return n.lastIndex=o(t.lastIndex),new l(n,e)}})},2770:(t,e,r)=>{"use strict";var n=r(2985),i=r(5442),o=r(575),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);n(n.P+n.F*a,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},1784:(t,e,r)=>{"use strict";var n=r(2985),i=r(5442),o=r(575),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);n(n.P+n.F*a,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},5869:(t,e,r)=>{"use strict";r(9599)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},4325:(t,e,r)=>{"use strict";r(9599)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},9665:(t,e,r)=>{r(6074)("asyncIterator")},9593:(t,e,r)=>{r(6074)("observable")},8967:(t,e,r)=>{var n=r(2985);n(n.S,"System",{global:r(3816)})},4188:(t,e,r)=>{r(1024)("WeakMap")},7594:(t,e,r)=>{r(4881)("WeakMap")},3495:(t,e,r)=>{r(1024)("WeakSet")},9550:(t,e,r)=>{r(4881)("WeakSet")},1181:(t,e,r)=>{for(var n=r(6997),i=r(7184),o=r(7234),a=r(3816),s=r(7728),u=r(2803),l=r(6314),c=l("iterator"),h=l("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),m=0;m<d.length;m++){var y,g=d[m],v=p[g],b=a[g],_=b&&b.prototype;if(_&&(_[c]||s(_,c,f),_[h]||s(_,h,g),u[g]=f,v))for(y in n)_[y]||o(_,y,n[y],!0)}},4633:(t,e,r)=>{var n=r(2985),i=r(4193);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},2564:(t,e,r)=>{var n=r(3816),i=r(2985),o=r(575),a=[].slice,s=/MSIE .\./.test(o),u=function(t){return function(e,r){var n=arguments.length>2,i=!!n&&a.call(arguments,2);return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,r)}};i(i.G+i.B+i.F*s,{setTimeout:u(n.setTimeout),setInterval:u(n.setInterval)})},1934:(t,e,r)=>{r(5767),r(8132),r(8388),r(7470),r(4882),r(1520),r(7476),r(9622),r(9375),r(3533),r(4672),r(4157),r(5095),r(9892),r(5115),r(9176),r(8838),r(6253),r(9730),r(6059),r(8377),r(1084),r(4299),r(1246),r(726),r(1901),r(5972),r(3403),r(2516),r(9371),r(6479),r(1736),r(1889),r(5177),r(6943),r(6503),r(6786),r(932),r(7526),r(1591),r(9073),r(347),r(579),r(4669),r(7710),r(5789),r(3514),r(9978),r(8472),r(6946),r(5068),r(413),r(191),r(8306),r(4564),r(9115),r(9539),r(6620),r(2850),r(823),r(7732),r(856),r(703),r(1539),r(5292),r(6629),r(3694),r(7648),r(7795),r(4531),r(3605),r(6780),r(9937),r(511),r(1822),r(9977),r(1031),r(6331),r(1560),r(774),r(522),r(8295),r(7842),r(110),r(75),r(4336),r(1802),r(8837),r(6773),r(5745),r(3057),r(3750),r(3369),r(9564),r(2e3),r(8977),r(2310),r(4899),r(1842),r(6997),r(3946),r(8269),r(6108),r(6774),r(1466),r(9357),r(6142),r(1876),r(851),r(8416),r(8184),r(147),r(9192),r(142),r(1786),r(5368),r(6964),r(2152),r(4821),r(9103),r(1303),r(3318),r(162),r(3834),r(1572),r(2139),r(685),r(5535),r(7347),r(3049),r(6633),r(8989),r(8270),r(4510),r(3984),r(5769),r(55),r(6014),r(2773),r(1268),r(4692),r(7220),r(1784),r(2770),r(5869),r(4325),r(4208),r(9665),r(9593),r(8351),r(6409),r(3276),r(8646),r(2658),r(6917),r(372),r(7698),r(8739),r(8211),r(4837),r(7594),r(9550),r(525),r(9467),r(4188),r(3495),r(5575),r(8967),r(2559),r(8865),r(368),r(6427),r(286),r(2816),r(5986),r(2082),r(6308),r(9221),r(3570),r(6754),r(3776),r(9865),r(1898),r(3364),r(1432),r(6562),r(4416),r(8681),r(2213),r(3471),r(4329),r(5159),r(8267),r(6534),r(2564),r(4633),r(1181),t.exports=r(5645)},4020:t=>{"use strict";var e="%[a-f0-9]{2}",r=new RegExp(e,"gi"),n=new RegExp("("+e+")+","gi");function i(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],i(r),i(n))}function o(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=i(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=n.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var i=o(r[0]);i!==r[0]&&(e[r[0]]=i)}r=n.exec(t)}e["%C2"]="�";for(var a=Object.keys(e),s=0;s<a.length;s++){var u=a[s];t=t.replace(new RegExp(u,"g"),e[u])}return t}(t)}}},9187:t=>{"use strict";function e(t,e,o){o=o||2;var a,s,u,h,f,d,m,y=e&&e.length,g=y?e[0]*o:t.length,v=r(t,0,g,o,!0),b=[];if(!v||v.next===v.prev)return b;if(y&&(v=function(t,e,i,o){var a,s,u,h=[];for(a=0,s=e.length;a<s;a++)(u=r(t,e[a]*o,a<s-1?e[a+1]*o:t.length,o,!1))===u.next&&(u.steiner=!0),h.push(p(u));for(h.sort(l),a=0;a<h.length;a++)c(h[a],i),i=n(i,i.next);return i}(t,e,v,o)),t.length>80*o){a=u=t[0],s=h=t[1];for(var _=o;_<g;_+=o)(f=t[_])<a&&(a=f),(d=t[_+1])<s&&(s=d),f>u&&(u=f),d>h&&(h=d);m=0!==(m=Math.max(u-a,h-s))?1/m:0}return i(v,b,o,a,s,m),b}function r(t,e,r,n,i){var o,a;if(i===O(t,e,r,n)>0)for(o=e;o<r;o+=n)a=S(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=S(o,t[o],t[o+1],a);return a&&g(a,a.next)&&(T(a),a=a.next),a}function n(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!g(n,n.next)&&0!==y(n.prev,n,n.next))n=n.next;else{if(T(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function i(t,e,r,l,c,h,p){if(t){!p&&h&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=f(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,a,s,u,l=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ);e++);for(u=l;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(a>1)}(i)}(t,l,c,h);for(var d,m,y=t;t.prev!==t.next;)if(d=t.prev,m=t.next,h?a(t,l,c,h):o(t))e.push(d.i/r),e.push(t.i/r),e.push(m.i/r),T(t),t=m.next,y=m.next;else if((t=m)===y){p?1===p?i(t=s(n(t),e,r),e,r,l,c,h,2):2===p&&u(t,e,r,l,c,h):i(n(t),e,r,l,c,h,1);break}}}function o(t){var e=t.prev,r=t,n=t.next;if(y(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(d(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function a(t,e,r,n){var i=t.prev,o=t,a=t.next;if(y(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=f(s,u,e,r,n),p=f(l,c,e,r,n),m=t.prevZ,g=t.nextZ;m&&m.z>=h&&g&&g.z<=p;){if(m!==t.prev&&m!==t.next&&d(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;if(m=m.prevZ,g!==t.prev&&g!==t.next&&d(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;m&&m.z>=h;){if(m!==t.prev&&m!==t.next&&d(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;g&&g.z<=p;){if(g!==t.prev&&g!==t.next&&d(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function s(t,e,r){var i=t;do{var o=i.prev,a=i.next.next;!g(o,a)&&v(o,i,i.next,a)&&w(o,a)&&w(a,o)&&(e.push(o.i/r),e.push(i.i/r),e.push(a.i/r),T(i),T(i.next),i=t=a),i=i.next}while(i!==t);return n(i)}function u(t,e,r,o,a,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&m(u,l)){var c=x(u,l);return u=n(u,u.next),c=n(c,c.next),i(u,e,r,o,a,s),void i(c,e,r,o,a,s)}l=l.next}u=u.next}while(u!==t)}function l(t,e){return t.x-e.x}function c(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===a)return r;var u,l=r,c=r.x,f=r.y,p=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&d(o<f?i:a,o,c,f,o<f?a:i,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(i-n.x),w(n,t)&&(u<p||u===p&&(n.x>r.x||n.x===r.x&&h(r,n)))&&(r=n,p=u)),n=n.next}while(n!==l);return r}(t,e),e){var r=x(e,t);n(e,e.next),n(r,r.next)}}function h(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function f(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function d(t,e,r,n,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(n-s)-(r-a)*(e-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function m(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&v(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(w(t,e)&&w(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||g(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function g(t,e){return t.x===e.x&&t.y===e.y}function v(t,e,r,n){var i=_(y(t,e,r)),o=_(y(t,e,n)),a=_(y(r,n,t)),s=_(y(r,n,e));return i!==o&&a!==s||(!(0!==i||!b(t,r,e))||(!(0!==o||!b(t,n,e))||(!(0!==a||!b(r,t,n))||!(0!==s||!b(r,e,n)))))}function b(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function _(t){return t>0?1:t<0?-1:0}function w(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function x(t,e){var r=new E(t.i,t.x,t.y),n=new E(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function S(t,e,r,n){var i=new E(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function T(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,r,n){for(var i=0,o=e,a=r-n;o<r;o+=n)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,a=Math.abs(O(t,0,o,r));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*r,c=s<u-1?e[s+1]*r:t.length;a-=Math.abs(O(t,l,c,r))}var h=0;for(s=0;s<n.length;s+=3){var f=n[s]*r,p=n[s+1]*r,d=n[s+2]*r;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[i][o][a]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},6713:function(t,e,r){var n;!function(i){var o=i.Promise,a=o&&"resolve"in o&&"reject"in o&&"all"in o&&"race"in o&&function(){var t;return new o((function(e){t=e})),"function"==typeof t}();e?(e.Promise=a?o:O,e.Polyfill=O):void 0===(n=function(){return a?o:O}.call(e,r,e,t))||(t.exports=n);var s="pending",u="sealed",l="fulfilled",c="rejected",h=function(){};function f(t){return"[object Array]"===Object.prototype.toString.call(t)}var p,d="undefined"!=typeof setImmediate?setImmediate:setTimeout,m=[];function y(){for(var t=0;t<m.length;t++)m[t][0](m[t][1]);m=[],p=!1}function g(t,e){m.push([t,e]),p||(p=!0,d(y,0))}function v(t){var e=t.owner,r=e.state_,n=e.data_,i=t[r],o=t.then;if("function"==typeof i){r=l;try{n=i(n)}catch(t){x(o,t)}}b(o,n)||(r===l&&_(o,n),r===c&&x(o,n))}function b(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var n=e.then;if("function"==typeof n)return n.call(e,(function(n){r||(r=!0,e!==n?_(t,n):w(t,n))}),(function(e){r||(r=!0,x(t,e))})),!0}}catch(e){return r||x(t,e),!0}return!1}function _(t,e){t!==e&&b(t,e)||w(t,e)}function w(t,e){t.state_===s&&(t.state_=u,t.data_=e,g(T,t))}function x(t,e){t.state_===s&&(t.state_=u,t.data_=e,g(E,t))}function S(t){var e=t.then_;t.then_=void 0;for(var r=0;r<e.length;r++)v(e[r])}function T(t){t.state_=l,S(t)}function E(t){t.state_=c,S(t)}function O(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof O==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function r(t){x(e,t)}try{t((function(t){_(e,t)}),r)}catch(t){r(t)}}(t,this)}O.prototype={constructor:O,state_:s,then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(h),fulfilled:t,rejected:e};return this.state_===l||this.state_===c?g(v,r):this.then_.push(r),r.then},catch:function(t){return this.then(null,t)}},O.all=function(t){if(!f(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(e,r){var n=[],i=0;function o(t){return i++,function(r){n[t]=r,--i||e(n)}}for(var a,s=0;s<t.length;s++)(a=t[s])&&"function"==typeof a.then?a.then(o(s),r):n[s]=a;i||e(n)}))},O.race=function(t){if(!f(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(e,r){for(var n,i=0;i<t.length;i++)(n=t[i])&&"function"==typeof n.then?n.then(e,r):e(n)}))},O.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this((function(e){e(t)}))},O.reject=function(t){return new this((function(e,r){r(t)}))}}("undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:this)},6729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,n,o,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||t,a),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,i,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,o),!0;case 6:return c.fn.call(c.context,e,n,i,o,a),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,i);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},s.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},s.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},s.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==e||i&&!s[u].once||n&&s[u].context!==n)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s},2806:t=>{"use strict";t.exports=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),o=0;o<n.length;o++){var a=n[o],s=t[a];(i?-1!==e.indexOf(a):e(a,s,t))&&(r[a]=s)}return r}},3549:t=>{!function(){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function r(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function n(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function i(t){var e=t.a.offsetWidth,r=e+100;return t.f.style.width=r+"px",t.c.scrollLeft=r,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function o(t,r){function n(){var t=o;i(t)&&t.a.parentNode&&r(t.g)}var o=t;e(t.b,n),e(t.c,n),i(t)}function a(t,e){var r=e||{};this.family=t,this.style=r.style||"normal",this.weight=r.weight||"normal",this.stretch=r.stretch||"normal"}var s=null,u=null,l=null,c=null;function h(){return null===c&&(c=!!document.fonts),c}function f(){if(null===l){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}l=""!==t.style.font}return l}function p(t,e){return[t.style,t.weight,f()?t.stretch:"","100px",e].join(" ")}a.prototype.load=function(t,e){var i=this,a=t||"BESbswy",l=0,c=e||3e3,f=(new Date).getTime();return new Promise((function(t,e){if(h()&&!function(){if(null===u)if(h()&&/Apple/.test(window.navigator.vendor)){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);u=!!t&&603>parseInt(t[1],10)}else u=!1;return u}()){var d=new Promise((function(t,e){!function r(){(new Date).getTime()-f>=c?e(Error(c+"ms timeout exceeded")):document.fonts.load(p(i,'"'+i.family+'"'),a).then((function(e){1<=e.length?t():setTimeout(r,25)}),e)}()})),m=new Promise((function(t,e){l=setTimeout((function(){e(Error(c+"ms timeout exceeded"))}),c)}));Promise.race([m,d]).then((function(){clearTimeout(l),t(i)}),e)}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),t()})):document.attachEvent("onreadystatechange",(function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())}))}((function(){function u(){var e;(e=-1!=y&&-1!=g||-1!=y&&-1!=v||-1!=g&&-1!=v)&&((e=y!=g&&y!=v&&g!=v)||(null===s&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=s&&(y==b&&g==b&&v==b||y==_&&g==_&&v==_||y==w&&g==w&&v==w)),e=!e),e&&(x.parentNode&&x.parentNode.removeChild(x),clearTimeout(l),t(i))}var h=new r(a),d=new r(a),m=new r(a),y=-1,g=-1,v=-1,b=-1,_=-1,w=-1,x=document.createElement("div");x.dir="ltr",n(h,p(i,"sans-serif")),n(d,p(i,"serif")),n(m,p(i,"monospace")),x.appendChild(h.a),x.appendChild(d.a),x.appendChild(m.a),document.body.appendChild(x),b=h.a.offsetWidth,_=d.a.offsetWidth,w=m.a.offsetWidth,function t(){if((new Date).getTime()-f>=c)x.parentNode&&x.parentNode.removeChild(x),e(Error(c+"ms timeout exceeded"));else{var r=document.hidden;!0!==r&&void 0!==r||(y=h.a.offsetWidth,g=d.a.offsetWidth,v=m.a.offsetWidth,u()),l=setTimeout(t,50)}}(),o(h,(function(t){y=t,u()})),n(h,p(i,'"'+i.family+'",sans-serif')),o(d,(function(t){g=t,u()})),n(d,p(i,'"'+i.family+'",serif')),o(m,(function(t){v=t,u()})),n(m,p(i,'"'+i.family+'",monospace'))}))}))},t.exports=a}()},1766:(t,e,r)=>{var n;!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var t=this||o;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||o;if(t=parseFloat(t),e.ctx||p(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,o.ctx.currentTime);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var n=e._howls[r]._getSoundIds(),i=0;i<n.length;i++){var a=e._howls[r]._soundById(n[i]);a&&a._node&&(a._node.volume=a._volume*t)}return e}return e._volume},mute:function(t){var e=this||o;e.ctx||p(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,o.ctx.currentTime);for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var n=e._howls[r]._getSoundIds(),i=0;i<n.length;i++){var a=e._howls[r]._soundById(n[i]);a&&a._node&&(a._node.muted=!!t||a._muted)}return e},stop:function(){for(var t=this||o,e=0;e<t._howls.length;e++)t._howls[e].stop();return t},unload:function(){for(var t=this||o,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,p()),t},codecs:function(t){return(this||o)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||o;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||o,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var r=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n=t._navigator?t._navigator.userAgent:"",i=n.match(/OPR\/([0-6].)/g),a=i&&parseInt(i[0].split("/")[1],10)<33,s=-1!==n.indexOf("Safari")&&-1===n.indexOf("Chrome"),u=n.match(/Version\/(.*?) /),l=s&&u&&parseInt(u[1],10)<15;return t._codecs={mp3:!(a||!r&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(e.canPlayType('audio/wav; codecs="1"')||e.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(e.canPlayType("audio/x-m4b;")||e.canPlayType("audio/m4b;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(l||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(l||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||o;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function(r){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var n=new Audio;n._unlocked=!0,t._releaseHtml5Audio(n)}catch(r){t.noAudio=!0;break}for(var i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var o=t._howls[i]._getSoundIds(),a=0;a<o.length;a++){var s=t._howls[i]._soundById(o[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}t._autoResume();var u=t.ctx.createBufferSource();u.buffer=t._scratchBuffer,u.connect(t.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),u.onended=function(){u.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0),document.removeEventListener("keydown",e,!0);for(var r=0;r<t._howls.length;r++)t._howls[r]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),document.addEventListener("keydown",e,!0),t}},_obtainHtml5Audio:function(){var t=this||o;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(t){var e=this||o;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&o.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var r=0;r<t._howls[e]._sounds.length;r++)if(!t._howls[e]._sounds[r]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&o.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var o=new i,a=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(t){var e=this;return o.ctx||p(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=o.usingWebAudio&&!e._html5,void 0!==o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&"none"!==e._preload&&e.load(),e},load:function(){var t=this,e=null;if(o.noAudio)t._emit("loaderror",null,"No audio support.");else{"string"==typeof t._src&&(t._src=[t._src]);for(var r=0;r<t._src.length;r++){var n,i;if(t._format&&t._format[r])n=t._format[r];else{if("string"!=typeof(i=t._src[r])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(i))||(n=/\.([^.]+)$/.exec(i.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),n&&o.codecs(n)){e=t._src[r];break}}if(e)return t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new s(t),t._webAudio&&l(t),t;t._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var r=this,n=null;if("number"==typeof t)n=t,t=null;else{if("string"==typeof t&&"loaded"===r._state&&!r._sprite[t])return null;if(void 0===t&&(t="__default",!r._playLock)){for(var i=0,a=0;a<r._sounds.length;a++)r._sounds[a]._paused&&!r._sounds[a]._ended&&(i++,n=r._sounds[a]._id);1===i?t=null:n=null}}var s=n?r._soundById(n):r._inactiveSound();if(!s)return null;if(n&&!t&&(t=s._sprite||"__default"),"loaded"!==r._state){s._sprite=t,s._ended=!1;var u=s._id;return r._queue.push({event:"play",action:function(){r.play(u)}}),u}if(n&&!s._paused)return e||r._loadQueue("play"),s._id;r._webAudio&&o._autoResume();var l=Math.max(0,s._seek>0?s._seek:r._sprite[t][0]/1e3),c=Math.max(0,(r._sprite[t][0]+r._sprite[t][1])/1e3-l),h=1e3*c/Math.abs(s._rate),f=r._sprite[t][0]/1e3,p=(r._sprite[t][0]+r._sprite[t][1])/1e3;s._sprite=t,s._ended=!1;var d=function(){s._paused=!1,s._seek=l,s._start=f,s._stop=p,s._loop=!(!s._loop&&!r._sprite[t][2])};if(!(l>=p)){var m=s._node;if(r._webAudio){var y=function(){r._playLock=!1,d(),r._refreshBuffer(s);var t=s._muted||r._muted?0:s._volume;m.gain.setValueAtTime(t,o.ctx.currentTime),s._playStart=o.ctx.currentTime,void 0===m.bufferSource.start?s._loop?m.bufferSource.noteGrainOn(0,l,86400):m.bufferSource.noteGrainOn(0,l,c):s._loop?m.bufferSource.start(0,l,86400):m.bufferSource.start(0,l,c),h!==1/0&&(r._endTimers[s._id]=setTimeout(r._ended.bind(r,s),h)),e||setTimeout((function(){r._emit("play",s._id),r._loadQueue()}),0)};"running"===o.state&&"interrupted"!==o.ctx.state?y():(r._playLock=!0,r.once("resume",y),r._clearTimer(s._id))}else{var g=function(){m.currentTime=l,m.muted=s._muted||r._muted||o._muted||m.muted,m.volume=s._volume*o.volume(),m.playbackRate=s._rate;try{var n=m.play();if(n&&"undefined"!=typeof Promise&&(n instanceof Promise||"function"==typeof n.then)?(r._playLock=!0,d(),n.then((function(){r._playLock=!1,m._unlocked=!0,e?r._loadQueue():r._emit("play",s._id)})).catch((function(){r._playLock=!1,r._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):e||(r._playLock=!1,d(),r._emit("play",s._id)),m.playbackRate=s._rate,m.paused)return void r._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||s._loop?r._endTimers[s._id]=setTimeout(r._ended.bind(r,s),h):(r._endTimers[s._id]=function(){r._ended(s),m.removeEventListener("ended",r._endTimers[s._id],!1)},m.addEventListener("ended",r._endTimers[s._id],!1))}catch(t){r._emit("playerror",s._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=r._src,m.load());var v=window&&window.ejecta||!m.readyState&&o._navigator.isCocoonJS;if(m.readyState>=3||v)g();else{r._playLock=!0,r._state="loading";var b=function(){r._state="loaded",g(),m.removeEventListener(o._canPlayEvent,b,!1)};m.addEventListener(o._canPlayEvent,b,!1),r._clearTimer(s._id)}}return s._id}r._ended(s)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var r=e._getSoundIds(t),n=0;n<r.length;n++){e._clearTimer(r[n]);var i=e._soundById(r[n]);if(i&&!i._paused&&(i._seek=e.seek(r[n]),i._rateSeek=0,i._paused=!0,e._stopFade(r[n]),i._node))if(e._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),e._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||e._emit("pause",i?i._id:null)}return e},stop:function(t,e){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"stop",action:function(){r.stop(t)}}),r;for(var n=r._getSoundIds(t),i=0;i<n.length;i++){r._clearTimer(n[i]);var o=r._soundById(n[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,r._stopFade(n[i]),o._node&&(r._webAudio?o._node.bufferSource&&(void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),r._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&r._clearSound(o._node))),e||r._emit("stop",o._id))}return r},mute:function(t,e){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"mute",action:function(){r.mute(t,e)}}),r;if(void 0===e){if("boolean"!=typeof t)return r._muted;r._muted=t}for(var n=r._getSoundIds(e),i=0;i<n.length;i++){var a=r._soundById(n[i]);a&&(a._muted=t,a._interval&&r._stopFade(a._id),r._webAudio&&a._node?a._node.gain.setValueAtTime(t?0:a._volume,o.ctx.currentTime):a._node&&(a._node.muted=!!o._muted||t),r._emit("mute",a._id))}return r},volume:function(){var t,e,r,n=this,i=arguments;if(0===i.length)return n._volume;if(1===i.length||2===i.length&&void 0===i[1]){var a=n._getSoundIds(),s=a.indexOf(i[0]);s>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else i.length>=2&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if(!(void 0!==t&&t>=0&&t<=1))return(r=e?n._soundById(e):n._sounds[0])?r._volume:0;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,i)}}),n;void 0===e&&(n._volume=t),e=n._getSoundIds(e);for(var u=0;u<e.length;u++)(r=n._soundById(e[u]))&&(r._volume=t,i[2]||n._stopFade(e[u]),n._webAudio&&r._node&&!r._muted?r._node.gain.setValueAtTime(t,o.ctx.currentTime):r._node&&!r._muted&&(r._node.volume=t*o.volume()),n._emit("volume",r._id));return n},fade:function(t,e,r,n){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(t,e,r,n)}}),i;t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),r=parseFloat(r),i.volume(t,n);for(var a=i._getSoundIds(n),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if(n||i._stopFade(a[s]),i._webAudio&&!u._muted){var l=o.ctx.currentTime,c=l+r/1e3;u._volume=t,u._node.gain.setValueAtTime(t,l),u._node.gain.linearRampToValueAtTime(e,c)}i._startFadeInterval(u,t,e,r,a[s],void 0===n)}}return i},_startFadeInterval:function(t,e,r,n,i,o){var a=this,s=e,u=r-e,l=Math.abs(u/.01),c=Math.max(4,l>0?n/l:n),h=Date.now();t._fadeTo=r,t._interval=setInterval((function(){var i=(Date.now()-h)/n;h=Date.now(),s+=u*i,s=Math.round(100*s)/100,s=u<0?Math.max(r,s):Math.min(r,s),a._webAudio?t._volume=s:a.volume(s,t._id,!0),o&&(a._volume=s),(r<e&&s<=r||r>e&&s>=r)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,a.volume(r,t._id),a._emit("fade",t._id))}),c)},_stopFade:function(t){var e=this,r=e._soundById(t);return r&&r._interval&&(e._webAudio&&r._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(r._interval),r._interval=null,e.volume(r._fadeTo,t),r._fadeTo=null,e._emit("fade",t)),e},loop:function(){var t,e,r,n=this,i=arguments;if(0===i.length)return n._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(r=n._soundById(parseInt(i[0],10)))&&r._loop;t=i[0],n._loop=t}else 2===i.length&&(t=i[0],e=parseInt(i[1],10));for(var o=n._getSoundIds(e),a=0;a<o.length;a++)(r=n._soundById(o[a]))&&(r._loop=t,n._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=t,t&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop,n.playing(o[a])&&(n.pause(o[a],!0),n.play(o[a],!0)))));return n},rate:function(){var t,e,r,n=this,i=arguments;if(0===i.length)e=n._sounds[0]._id;else if(1===i.length){var a=n._getSoundIds(),s=a.indexOf(i[0]);s>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else 2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if("number"!=typeof t)return(r=n._soundById(e))?r._rate:n._rate;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,i)}}),n;void 0===e&&(n._rate=t),e=n._getSoundIds(e);for(var u=0;u<e.length;u++)if(r=n._soundById(e[u])){n.playing(e[u])&&(r._rateSeek=n.seek(e[u]),r._playStart=n._webAudio?o.ctx.currentTime:r._playStart),r._rate=t,n._webAudio&&r._node&&r._node.bufferSource?r._node.bufferSource.playbackRate.setValueAtTime(t,o.ctx.currentTime):r._node&&(r._node.playbackRate=t);var l=n.seek(e[u]),c=(n._sprite[r._sprite][0]+n._sprite[r._sprite][1])/1e3-l,h=1e3*c/Math.abs(r._rate);!n._endTimers[e[u]]&&r._paused||(n._clearTimer(e[u]),n._endTimers[e[u]]=setTimeout(n._ended.bind(n,r),h)),n._emit("rate",r._id)}return n},seek:function(){var t,e,r=this,n=arguments;if(0===n.length)r._sounds.length&&(e=r._sounds[0]._id);else if(1===n.length){var i=r._getSoundIds(),a=i.indexOf(n[0]);a>=0?e=parseInt(n[0],10):r._sounds.length&&(e=r._sounds[0]._id,t=parseFloat(n[0]))}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if(void 0===e)return 0;if("number"==typeof t&&("loaded"!==r._state||r._playLock))return r._queue.push({event:"seek",action:function(){r.seek.apply(r,n)}}),r;var s=r._soundById(e);if(s){if(!("number"==typeof t&&t>=0)){if(r._webAudio){var u=r.playing(e)?o.ctx.currentTime-s._playStart:0,l=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(l+u*Math.abs(s._rate))}return s._node.currentTime}var c=r.playing(e);c&&r.pause(e,!0),s._seek=t,s._ended=!1,r._clearTimer(e),r._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=t);var h=function(){c&&r.play(e,!0),r._emit("seek",e)};if(c&&!r._webAudio){var f=function(){r._playLock?setTimeout(f,0):h()};setTimeout(f,0)}else h()}return r},playing:function(t){var e=this;if("number"==typeof t){var r=e._soundById(t);return!!r&&!r._paused}for(var n=0;n<e._sounds.length;n++)if(!e._sounds[n]._paused)return!0;return!1},duration:function(t){var e=this,r=e._duration,n=e._soundById(t);return n&&(r=e._sprite[n._sprite][1]/1e3),r},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,r=0;r<e.length;r++)e[r]._paused||t.stop(e[r]._id),t._webAudio||(t._clearSound(e[r]._node),e[r]._node.removeEventListener("error",e[r]._errorFn,!1),e[r]._node.removeEventListener(o._canPlayEvent,e[r]._loadFn,!1),e[r]._node.removeEventListener("ended",e[r]._endFn,!1),o._releaseHtml5Audio(e[r]._node)),delete e[r]._node,t._clearTimer(e[r]._id);var n=o._howls.indexOf(t);n>=0&&o._howls.splice(n,1);var i=!0;for(r=0;r<o._howls.length;r++)if(o._howls[r]._src===t._src||t._src.indexOf(o._howls[r]._src)>=0){i=!1;break}return u&&i&&delete u[t._src],o.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,r,n){var i=this["_on"+t];return"function"==typeof e&&i.push(n?{id:r,fn:e,once:n}:{id:r,fn:e}),this},off:function(t,e,r){var n=this,i=n["_on"+t],o=0;if("number"==typeof e&&(r=e,e=null),e||r)for(o=0;o<i.length;o++){var a=r===i[o].id;if(e===i[o].fn&&a||!e&&a){i.splice(o,1);break}}else if(t)n["_on"+t]=[];else{var s=Object.keys(n);for(o=0;o<s.length;o++)0===s[o].indexOf("_on")&&Array.isArray(n[s[o]])&&(n[s[o]]=[])}return n},once:function(t,e,r){return this.on(t,e,r,1),this},_emit:function(t,e,r){for(var n=this,i=n["_on"+t],o=i.length-1;o>=0;o--)i[o].id&&i[o].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,r)}.bind(n,i[o].fn),0),i[o].once&&n.off(t,i[o].fn,i[o].id));return n._loadQueue(t),n},_loadQueue:function(t){var e=this;if(e._queue.length>0){var r=e._queue[0];r.event===t&&(e._queue.shift(),e._loadQueue()),t||r.action()}return e},_ended:function(t){var e=this,r=t._sprite;if(!e._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(e._ended.bind(e,t),100),e;var n=!(!t._loop&&!e._sprite[r][2]);if(e._emit("end",t._id),!e._webAudio&&n&&e.stop(t._id,!0).play(t._id),e._webAudio&&n){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=o.ctx.currentTime;var i=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),i)}return e._webAudio&&!n&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),o._autoSuspend()),e._webAudio||n||e.stop(t._id,!0),e},_clearTimer:function(t){var e=this;if(e._endTimers[t]){if("function"!=typeof e._endTimers[t])clearTimeout(e._endTimers[t]);else{var r=e._soundById(t);r&&r._node&&r._node.removeEventListener("ended",e._endTimers[t],!1)}delete e._endTimers[t]}return e},_soundById:function(t){for(var e=this,r=0;r<e._sounds.length;r++)if(t===e._sounds[r]._id)return e._sounds[r];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new s(t)},_drain:function(){var t=this,e=t._pool,r=0,n=0;if(!(t._sounds.length<e)){for(n=0;n<t._sounds.length;n++)t._sounds[n]._ended&&r++;for(n=t._sounds.length-1;n>=0;n--){if(r<=e)return;t._sounds[n]._ended&&(t._webAudio&&t._sounds[n]._node&&t._sounds[n]._node.disconnect(0),t._sounds.splice(n,1),r--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],r=0;r<this._sounds.length;r++)e.push(this._sounds[r]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=o.ctx.createBufferSource(),t._node.bufferSource.buffer=u[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,o.ctx.currentTime),this},_cleanBuffer:function(t){var e=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(o._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=o._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(t){this._parent=t,this.init()};s.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++o._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,r=o._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),t._node.gain.setValueAtTime(r,o.ctx.currentTime),t._node.paused=!0,t._node.connect(o.masterGain)):o.noAudio||(t._node=o._obtainHtml5Audio(),t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(o._canPlayEvent,t._loadFn,!1),t._endFn=t._endListener.bind(t),t._node.addEventListener("ended",t._endFn,!1),t._node.src=e._src,t._node.preload=!0===e._preload?"auto":e._preload,t._node.volume=r*o.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++o._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),t._node.removeEventListener(o._canPlayEvent,t._loadFn,!1)},_endListener:function(){var t=this,e=t._parent;e._duration===1/0&&(e._duration=Math.ceil(10*t._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(t)),t._node.removeEventListener("ended",t._endFn,!1)}};var u={},l=function(t){var e=t._src;if(u[e])return t._duration=u[e].duration,void f(t);if(/^data:[^;]+;base64,/.test(e)){for(var r=atob(e.split(",")[1]),n=new Uint8Array(r.length),i=0;i<r.length;++i)n[i]=r.charCodeAt(i);h(n.buffer,t)}else{var o=new XMLHttpRequest;o.open(t._xhr.method,e,!0),o.withCredentials=t._xhr.withCredentials,o.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach((function(e){o.setRequestHeader(e,t._xhr.headers[e])})),o.onload=function(){var e=(o.status+"")[0];"0"===e||"2"===e||"3"===e?h(o.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete u[e],t.load())},c(o)}},c=function(t){try{t.send()}catch(e){t.onerror()}},h=function(t,e){var r=function(){e._emit("loaderror",null,"Decoding audio data failed.")},n=function(t){t&&e._sounds.length>0?(u[e._src]=t,f(e,t)):r()};"undefined"!=typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(t).then(n).catch(r):o.ctx.decodeAudioData(t,n,r)},f=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},p=function(){if(o.usingWebAudio){try{"undefined"!=typeof AudioContext?o.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(t){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),e=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=e?parseInt(e[1],10):null;if(t&&r&&r<9){var n=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!n&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=void 0===o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};void 0===(n=function(){return{Howler:o,Howl:a}}.apply(e,[]))||(t.exports=n),e.Howler=o,e.Howl=a,void 0!==r.g?(r.g.HowlerGlobal=i,r.g.Howler=o,r.g.Howl=a,r.g.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=i,window.Howler=o,window.Howl=a,window.Sound=s)}(),function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var r=e._howls.length-1;r>=0;r--)e._howls[r].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,r){var n=this;return n.ctx&&n.ctx.listener?(e="number"!=typeof e?n._pos[1]:e,r="number"!=typeof r?n._pos[2]:r,"number"!=typeof t?n._pos:(n._pos=[t,e,r],void 0!==n.ctx.listener.positionX?(n.ctx.listener.positionX.setTargetAtTime(n._pos[0],Howler.ctx.currentTime,.1),n.ctx.listener.positionY.setTargetAtTime(n._pos[1],Howler.ctx.currentTime,.1),n.ctx.listener.positionZ.setTargetAtTime(n._pos[2],Howler.ctx.currentTime,.1)):n.ctx.listener.setPosition(n._pos[0],n._pos[1],n._pos[2]),n)):n},HowlerGlobal.prototype.orientation=function(t,e,r,n,i,o){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return e="number"!=typeof e?s[1]:e,r="number"!=typeof r?s[2]:r,n="number"!=typeof n?s[3]:n,i="number"!=typeof i?s[4]:i,o="number"!=typeof o?s[5]:o,"number"!=typeof t?s:(a._orientation=[t,e,r,n,i,o],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(t,e,r,n,i,o),a)},Howl.prototype.init=(t=Howl.prototype.init,function(e){var r=this;return r._orientation=e.orientation||[1,0,0],r._stereo=e.stereo||null,r._pos=e.pos||null,r._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},r._onstereo=e.onstereo?[{fn:e.onstereo}]:[],r._onpos=e.onpos?[{fn:e.onpos}]:[],r._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,r){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(t,r)}}),n;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===r){if("number"!=typeof t)return n._stereo;n._stereo=t,n._pos=[t,0,0]}for(var o=n._getSoundIds(r),a=0;a<o.length;a++){var s=n._soundById(o[a]);if(s){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||e(s,i),"spatial"===i?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),n._emit("stereo",s._id)}}return n},Howl.prototype.pos=function(t,r,n,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(t,r,n,i)}}),o;if(r="number"!=typeof r?0:r,n="number"!=typeof n?-.5:n,void 0===i){if("number"!=typeof t)return o._pos;o._pos=[t,r,n]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof t)return u._pos;u._pos=[t,r,n],u._node&&(u._panner&&!u._panner.pan||e(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):u._panner.setPosition(t,r,n)),o._emit("pos",u._id)}}return o},Howl.prototype.orientation=function(t,r,n,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(t,r,n,i)}}),o;if(r="number"!=typeof r?o._orientation[1]:r,n="number"!=typeof n?o._orientation[2]:n,void 0===i){if("number"!=typeof t)return o._orientation;o._orientation=[t,r,n]}for(var a=o._getSoundIds(i),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof t)return u._orientation;u._orientation=[t,r,n],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),e(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):u._panner.setOrientation(t,r,n)),o._emit("orientation",u._id)}}return o},Howl.prototype.pannerAttr=function(){var t,r,n,i=this,o=arguments;if(!i._webAudio)return i;if(0===o.length)return i._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return(n=i._soundById(parseInt(o[0],10)))?n._pannerAttr:i._pannerAttr;t=o[0],void 0===r&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),i._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:i._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:i._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:i._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:i._panningModel})}else 2===o.length&&(t=o[0],r=parseInt(o[1],10));for(var a=i._getSoundIds(r),s=0;s<a.length;s++)if(n=i._soundById(a[s])){var u=n._pannerAttr;u={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:u.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:u.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:u.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:u.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:u.panningModel};var l=n._panner;l?(l.coneInnerAngle=u.coneInnerAngle,l.coneOuterAngle=u.coneOuterAngle,l.coneOuterGain=u.coneOuterGain,l.distanceModel=u.distanceModel,l.maxDistance=u.maxDistance,l.refDistance=u.refDistance,l.rolloffFactor=u.rolloffFactor,l.panningModel=u.panningModel):(n._pos||(n._pos=i._pos||[0,0,-.5]),e(n,"spatial"))}return i},Sound.prototype.init=function(t){return function(){var e=this,r=e._parent;e._orientation=r._orientation,e._stereo=r._stereo,e._pos=r._pos,e._pannerAttr=r._pannerAttr,t.call(this),e._stereo?r.stereo(e._stereo):e._pos&&r.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,r=e._parent;return e._orientation=r._orientation,e._stereo=r._stereo,e._pos=r._pos,e._pannerAttr=r._pannerAttr,e._stereo?r.stereo(e._stereo):e._pos?r.pos(e._pos[0],e._pos[1],e._pos[2],e._id):e._panner&&(e._panner.disconnect(0),e._panner=void 0,r._refreshBuffer(e)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()},9842:function(t,e,r){var n;n=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=20)}([function(t,e){var n={};t.exports=n,function(){n._baseDelta=1e3/60,n._nextId=0,n._seed=0,n._nowStartTime=+new Date,n._warnedOnce={},n._decomp=null,n.extend=function(t,e){var r,i;"boolean"==typeof e?(r=2,i=e):(r=1,i=!0);for(var o=r;o<arguments.length;o++){var a=arguments[o];if(a)for(var s in a)i&&a[s]&&a[s].constructor===Object?t[s]&&t[s].constructor!==Object?t[s]=a[s]:(t[s]=t[s]||{},n.extend(t[s],i,a[s])):t[s]=a[s]}return t},n.clone=function(t,e){return n.extend({},e,t)},n.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)e.push(r);return e},n.values=function(t){var e=[];if(Object.keys){for(var r=Object.keys(t),n=0;n<r.length;n++)e.push(t[r[n]]);return e}for(var i in t)e.push(t[i]);return e},n.get=function(t,e,r,n){e=e.split(".").slice(r,n);for(var i=0;i<e.length;i+=1)t=t[e[i]];return t},n.set=function(t,e,r,i,o){var a=e.split(".").slice(i,o);return n.get(t,e,0,-1)[a[a.length-1]]=r,r},n.shuffle=function(t){for(var e=t.length-1;e>0;e--){var r=Math.floor(n.random()*(e+1)),i=t[e];t[e]=t[r],t[r]=i}return t},n.choose=function(t){return t[Math.floor(n.random()*t.length)]},n.isElement=function(t){return"undefined"!=typeof HTMLElement?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},n.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.isFunction=function(t){return"function"==typeof t},n.isPlainObject=function(t){return"object"==typeof t&&t.constructor===Object},n.isString=function(t){return"[object String]"===toString.call(t)},n.clamp=function(t,e,r){return t<e?e:t>r?r:t},n.sign=function(t){return t<0?-1:1},n.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-n._nowStartTime},n.random=function(e,r){return r=void 0!==r?r:1,(e=void 0!==e?e:0)+t()*(r-e)};var t=function(){return n._seed=(9301*n._seed+49297)%233280,n._seed/233280};n.colorToNumber=function(t){return 3==(t=t.replace("#","")).length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},n.logLevel=1,n.log=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.info=function(){console&&n.logLevel>0&&n.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warn=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warnOnce=function(){var t=Array.prototype.slice.call(arguments).join(" ");n._warnedOnce[t]||(n.warn(t),n._warnedOnce[t]=!0)},n.deprecated=function(t,e,r){t[e]=n.chain((function(){n.warnOnce("🔅 deprecated 🔅",r)}),t[e])},n.nextId=function(){return n._nextId++},n.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1},n.map=function(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r},n.topologicalSort=function(t){var e=[],r=[],i=[];for(var o in t)r[o]||i[o]||n._topologicalSort(o,r,i,t,e);return e},n._topologicalSort=function(t,e,r,i,o){var a=i[t]||[];r[t]=!0;for(var s=0;s<a.length;s+=1){var u=a[s];r[u]||e[u]||n._topologicalSort(u,e,r,i,o)}r[t]=!1,e[t]=!0,o.push(t)},n.chain=function(){for(var t=[],e=0;e<arguments.length;e+=1){var r=arguments[e];r._chained?t.push.apply(t,r._chained):t.push(r)}var n=function(){for(var e,r=new Array(arguments.length),n=0,i=arguments.length;n<i;n++)r[n]=arguments[n];for(n=0;n<t.length;n+=1){var o=t[n].apply(e,r);void 0!==o&&(e=o)}return e};return n._chained=t,n},n.chainPathBefore=function(t,e,r){return n.set(t,e,n.chain(r,n.get(t,e)))},n.chainPathAfter=function(t,e,r){return n.set(t,e,n.chain(n.get(t,e),r))},n.setDecomp=function(t){n._decomp=t},n.getDecomp=function(){var t=n._decomp;try{t||"undefined"==typeof window||(t=window.decomp),t||void 0===r.g||(t=r.g.decomp)}catch(e){t=null}return t}}()},function(t,e){var r={};t.exports=r,r.create=function(t){var e={min:{x:0,y:0},max:{x:0,y:0}};return t&&r.update(e,t),e},r.update=function(t,e,r){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var n=0;n<e.length;n++){var i=e[n];i.x>t.max.x&&(t.max.x=i.x),i.x<t.min.x&&(t.min.x=i.x),i.y>t.max.y&&(t.max.y=i.y),i.y<t.min.y&&(t.min.y=i.y)}r&&(r.x>0?t.max.x+=r.x:t.min.x+=r.x,r.y>0?t.max.y+=r.y:t.min.y+=r.y)},r.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},r.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},r.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},r.shift=function(t,e){var r=t.max.x-t.min.x,n=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+r,t.min.y=e.y,t.max.y=e.y+n}},function(t,e){var r={};t.exports=r,r.create=function(t,e){return{x:t||0,y:e||0}},r.clone=function(t){return{x:t.x,y:t.y}},r.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},r.rotate=function(t,e,r){var n=Math.cos(e),i=Math.sin(e);r||(r={});var o=t.x*n-t.y*i;return r.y=t.x*i+t.y*n,r.x=o,r},r.rotateAbout=function(t,e,r,n){var i=Math.cos(e),o=Math.sin(e);n||(n={});var a=r.x+((t.x-r.x)*i-(t.y-r.y)*o);return n.y=r.y+((t.x-r.x)*o+(t.y-r.y)*i),n.x=a,n},r.normalise=function(t){var e=r.magnitude(t);return 0===e?{x:0,y:0}:{x:t.x/e,y:t.y/e}},r.dot=function(t,e){return t.x*e.x+t.y*e.y},r.cross=function(t,e){return t.x*e.y-t.y*e.x},r.cross3=function(t,e,r){return(e.x-t.x)*(r.y-t.y)-(e.y-t.y)*(r.x-t.x)},r.add=function(t,e,r){return r||(r={}),r.x=t.x+e.x,r.y=t.y+e.y,r},r.sub=function(t,e,r){return r||(r={}),r.x=t.x-e.x,r.y=t.y-e.y,r},r.mult=function(t,e){return{x:t.x*e,y:t.y*e}},r.div=function(t,e){return{x:t.x/e,y:t.y/e}},r.perp=function(t,e){return{x:(e=!0===e?-1:1)*-t.y,y:e*t.x}},r.neg=function(t){return{x:-t.x,y:-t.y}},r.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},r._temp=[r.create(),r.create(),r.create(),r.create(),r.create(),r.create()]},function(t,e,r){var n={};t.exports=n;var i=r(2),o=r(0);n.create=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=t[n],o={x:i.x,y:i.y,index:n,body:e,isInternal:!1};r.push(o)}return r},n.fromPath=function(t,e){var r=[];return t.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(t,e,n){r.push({x:parseFloat(e),y:parseFloat(n)})})),n.create(r,e)},n.centre=function(t){for(var e,r,o,a=n.area(t,!0),s={x:0,y:0},u=0;u<t.length;u++)o=(u+1)%t.length,e=i.cross(t[u],t[o]),r=i.mult(i.add(t[u],t[o]),e),s=i.add(s,r);return i.div(s,6*a)},n.mean=function(t){for(var e={x:0,y:0},r=0;r<t.length;r++)e.x+=t[r].x,e.y+=t[r].y;return i.div(e,t.length)},n.area=function(t,e){for(var r=0,n=t.length-1,i=0;i<t.length;i++)r+=(t[n].x-t[i].x)*(t[n].y+t[i].y),n=i;return e?r/2:Math.abs(r)/2},n.inertia=function(t,e){for(var r,n,o=0,a=0,s=t,u=0;u<s.length;u++)n=(u+1)%s.length,o+=(r=Math.abs(i.cross(s[n],s[u])))*(i.dot(s[n],s[n])+i.dot(s[n],s[u])+i.dot(s[u],s[u])),a+=r;return e/6*(o/a)},n.translate=function(t,e,r){r=void 0!==r?r:1;var n,i=t.length,o=e.x*r,a=e.y*r;for(n=0;n<i;n++)t[n].x+=o,t[n].y+=a;return t},n.rotate=function(t,e,r){if(0!==e){var n,i,o,a,s=Math.cos(e),u=Math.sin(e),l=r.x,c=r.y,h=t.length;for(a=0;a<h;a++)i=(n=t[a]).x-l,o=n.y-c,n.x=l+(i*s-o*u),n.y=c+(i*u+o*s);return t}},n.contains=function(t,e){for(var r,n=e.x,i=e.y,o=t.length,a=t[o-1],s=0;s<o;s++){if(r=t[s],(n-a.x)*(r.y-a.y)+(i-a.y)*(a.x-r.x)>0)return!1;a=r}return!0},n.scale=function(t,e,r,o){if(1===e&&1===r)return t;var a,s;o=o||n.centre(t);for(var u=0;u<t.length;u++)a=t[u],s=i.sub(a,o),t[u].x=o.x+s.x*e,t[u].y=o.y+s.y*r;return t},n.chamfer=function(t,e,r,n,a){e="number"==typeof e?[e]:e||[8],r=void 0!==r?r:-1,n=n||2,a=a||14;for(var s=[],u=0;u<t.length;u++){var l=t[u-1>=0?u-1:t.length-1],c=t[u],h=t[(u+1)%t.length],f=e[u<e.length?u:e.length-1];if(0!==f){var p=i.normalise({x:c.y-l.y,y:l.x-c.x}),d=i.normalise({x:h.y-c.y,y:c.x-h.x}),m=Math.sqrt(2*Math.pow(f,2)),y=i.mult(o.clone(p),f),g=i.normalise(i.mult(i.add(p,d),.5)),v=i.sub(c,i.mult(g,m)),b=r;-1===r&&(b=1.75*Math.pow(f,.32)),(b=o.clamp(b,n,a))%2==1&&(b+=1);for(var _=Math.acos(i.dot(p,d))/b,w=0;w<b;w++)s.push(i.add(i.rotate(y,_*w),v))}else s.push(c)}return s},n.clockwiseSort=function(t){var e=n.mean(t);return t.sort((function(t,r){return i.angle(e,t)-i.angle(e,r)})),t},n.isConvex=function(t){var e,r,n,i,o=0,a=t.length;if(a<3)return null;for(e=0;e<a;e++)if(n=(e+2)%a,i=(t[r=(e+1)%a].x-t[e].x)*(t[n].y-t[r].y),(i-=(t[r].y-t[e].y)*(t[n].x-t[r].x))<0?o|=1:i>0&&(o|=2),3===o)return!1;return 0!==o||null},n.hull=function(t){var e,r,n=[],o=[];for((t=t.slice(0)).sort((function(t,e){var r=t.x-e.x;return 0!==r?r:t.y-e.y})),r=0;r<t.length;r+=1){for(e=t[r];o.length>=2&&i.cross3(o[o.length-2],o[o.length-1],e)<=0;)o.pop();o.push(e)}for(r=t.length-1;r>=0;r-=1){for(e=t[r];n.length>=2&&i.cross3(n[n.length-2],n[n.length-1],e)<=0;)n.pop();n.push(e)}return n.pop(),o.pop(),n.concat(o)}},function(t,e,r){var n={};t.exports=n;var i=r(3),o=r(2),a=r(7),s=r(0),u=r(1),l=r(11);!function(){n._timeCorrection=!0,n._inertiaScale=4,n._nextCollidingGroupId=1,n._nextNonCollidingGroupId=-1,n._nextCategory=1,n._baseDelta=1e3/60,n.create=function(e){var r={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:1e3/60,_original:null},n=s.extend(r,e);return t(n,e),n},n.nextGroup=function(t){return t?n._nextNonCollidingGroupId--:n._nextCollidingGroupId++},n.nextCategory=function(){return n._nextCategory=n._nextCategory<<1,n._nextCategory};var t=function(t,e){e=e||{},n.set(t,{bounds:t.bounds||u.create(t.vertices),positionPrev:t.positionPrev||o.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),i.rotate(t.vertices,t.angle,t.position),l.rotate(t.axes,t.angle),u.update(t.bounds,t.vertices,t.velocity),n.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia});var r=t.isStatic?"#14151f":s.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),a=t.isStatic?"#555":"#ccc",c=t.isStatic&&null===t.render.fillStyle?1:0;t.render.fillStyle=t.render.fillStyle||r,t.render.strokeStyle=t.render.strokeStyle||a,t.render.lineWidth=t.render.lineWidth||c,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};n.set=function(t,e,r){var i;for(i in"string"==typeof e&&(i=e,(e={})[i]=r),e)if(Object.prototype.hasOwnProperty.call(e,i))switch(r=e[i],i){case"isStatic":n.setStatic(t,r);break;case"isSleeping":a.set(t,r);break;case"mass":n.setMass(t,r);break;case"density":n.setDensity(t,r);break;case"inertia":n.setInertia(t,r);break;case"vertices":n.setVertices(t,r);break;case"position":n.setPosition(t,r);break;case"angle":n.setAngle(t,r);break;case"velocity":n.setVelocity(t,r);break;case"angularVelocity":n.setAngularVelocity(t,r);break;case"speed":n.setSpeed(t,r);break;case"angularSpeed":n.setAngularSpeed(t,r);break;case"parts":n.setParts(t,r);break;case"centre":n.setCentre(t,r);break;default:t[i]=r}},n.setStatic=function(t,e){for(var r=0;r<t.parts.length;r++){var n=t.parts[r];e?(n.isStatic||(n._original={restitution:n.restitution,friction:n.friction,mass:n.mass,inertia:n.inertia,density:n.density,inverseMass:n.inverseMass,inverseInertia:n.inverseInertia}),n.restitution=0,n.friction=1,n.mass=n.inertia=n.density=1/0,n.inverseMass=n.inverseInertia=0,n.positionPrev.x=n.position.x,n.positionPrev.y=n.position.y,n.anglePrev=n.angle,n.angularVelocity=0,n.speed=0,n.angularSpeed=0,n.motion=0):n._original&&(n.restitution=n._original.restitution,n.friction=n._original.friction,n.mass=n._original.mass,n.inertia=n._original.inertia,n.density=n._original.density,n.inverseMass=n._original.inverseMass,n.inverseInertia=n._original.inverseInertia,n._original=null),n.isStatic=e}},n.setMass=function(t,e){var r=t.inertia/(t.mass/6);t.inertia=r*(e/6),t.inverseInertia=1/t.inertia,t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},n.setDensity=function(t,e){n.setMass(t,e*t.area),t.density=e},n.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},n.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=i.create(e,t),t.axes=l.fromVertices(t.vertices),t.area=i.area(t.vertices),n.setMass(t,t.density*t.area);var r=i.centre(t.vertices);i.translate(t.vertices,r,-1),n.setInertia(t,n._inertiaScale*i.inertia(t.vertices,t.mass)),i.translate(t.vertices,t.position),u.update(t.bounds,t.vertices,t.velocity)},n.setParts=function(t,e,r){var o;for(e=e.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,o=0;o<e.length;o++){var a=e[o];a!==t&&(a.parent=t,t.parts.push(a))}if(1!==t.parts.length){if(r=void 0===r||r){var s=[];for(o=0;o<e.length;o++)s=s.concat(e[o].vertices);i.clockwiseSort(s);var u=i.hull(s),l=i.centre(u);n.setVertices(t,u),i.translate(t.vertices,l)}var c=n._totalProperties(t);t.area=c.area,t.parent=t,t.position.x=c.centre.x,t.position.y=c.centre.y,t.positionPrev.x=c.centre.x,t.positionPrev.y=c.centre.y,n.setMass(t,c.mass),n.setInertia(t,c.inertia),n.setPosition(t,c.centre)}},n.setCentre=function(t,e,r){r?(t.positionPrev.x+=e.x,t.positionPrev.y+=e.y,t.position.x+=e.x,t.position.y+=e.y):(t.positionPrev.x=e.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=e.y-(t.position.y-t.positionPrev.y),t.position.x=e.x,t.position.y=e.y)},n.setPosition=function(t,e,r){var n=o.sub(e,t.position);r?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=n.x,t.velocity.y=n.y,t.speed=o.magnitude(n)):(t.positionPrev.x+=n.x,t.positionPrev.y+=n.y);for(var a=0;a<t.parts.length;a++){var s=t.parts[a];s.position.x+=n.x,s.position.y+=n.y,i.translate(s.vertices,n),u.update(s.bounds,s.vertices,t.velocity)}},n.setAngle=function(t,e,r){var n=e-t.angle;r?(t.anglePrev=t.angle,t.angularVelocity=n,t.angularSpeed=Math.abs(n)):t.anglePrev+=n;for(var a=0;a<t.parts.length;a++){var s=t.parts[a];s.angle+=n,i.rotate(s.vertices,n,t.position),l.rotate(s.axes,n),u.update(s.bounds,s.vertices,t.velocity),a>0&&o.rotateAbout(s.position,n,t.position,s.position)}},n.setVelocity=function(t,e){var r=t.deltaTime/n._baseDelta;t.positionPrev.x=t.position.x-e.x*r,t.positionPrev.y=t.position.y-e.y*r,t.velocity.x=(t.position.x-t.positionPrev.x)/r,t.velocity.y=(t.position.y-t.positionPrev.y)/r,t.speed=o.magnitude(t.velocity)},n.getVelocity=function(t){var e=n._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*e,y:(t.position.y-t.positionPrev.y)*e}},n.getSpeed=function(t){return o.magnitude(n.getVelocity(t))},n.setSpeed=function(t,e){n.setVelocity(t,o.mult(o.normalise(n.getVelocity(t)),e))},n.setAngularVelocity=function(t,e){var r=t.deltaTime/n._baseDelta;t.anglePrev=t.angle-e*r,t.angularVelocity=(t.angle-t.anglePrev)/r,t.angularSpeed=Math.abs(t.angularVelocity)},n.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*n._baseDelta/t.deltaTime},n.getAngularSpeed=function(t){return Math.abs(n.getAngularVelocity(t))},n.setAngularSpeed=function(t,e){n.setAngularVelocity(t,s.sign(n.getAngularVelocity(t))*e)},n.translate=function(t,e,r){n.setPosition(t,o.add(t.position,e),r)},n.rotate=function(t,e,r,i){if(r){var o=Math.cos(e),a=Math.sin(e),s=t.position.x-r.x,u=t.position.y-r.y;n.setPosition(t,{x:r.x+(s*o-u*a),y:r.y+(s*a+u*o)},i),n.setAngle(t,t.angle+e,i)}else n.setAngle(t,t.angle+e,i)},n.scale=function(t,e,r,o){var a=0,s=0;o=o||t.position;for(var c=0;c<t.parts.length;c++){var h=t.parts[c];i.scale(h.vertices,e,r,o),h.axes=l.fromVertices(h.vertices),h.area=i.area(h.vertices),n.setMass(h,t.density*h.area),i.translate(h.vertices,{x:-h.position.x,y:-h.position.y}),n.setInertia(h,n._inertiaScale*i.inertia(h.vertices,h.mass)),i.translate(h.vertices,{x:h.position.x,y:h.position.y}),c>0&&(a+=h.area,s+=h.inertia),h.position.x=o.x+(h.position.x-o.x)*e,h.position.y=o.y+(h.position.y-o.y)*r,u.update(h.bounds,h.vertices,t.velocity)}t.parts.length>1&&(t.area=a,t.isStatic||(n.setMass(t,t.density*a),n.setInertia(t,s))),t.circleRadius&&(e===r?t.circleRadius*=e:t.circleRadius=null)},n.update=function(t,e){var r=(e=(void 0!==e?e:1e3/60)*t.timeScale)*e,a=n._timeCorrection?e/(t.deltaTime||e):1,c=1-t.frictionAir*(e/s._baseDelta),h=(t.position.x-t.positionPrev.x)*a,f=(t.position.y-t.positionPrev.y)*a;t.velocity.x=h*c+t.force.x/t.mass*r,t.velocity.y=f*c+t.force.y/t.mass*r,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=e,t.angularVelocity=(t.angle-t.anglePrev)*c*a+t.torque/t.inertia*r,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var p=0;p<t.parts.length;p++){var d=t.parts[p];i.translate(d.vertices,t.velocity),p>0&&(d.position.x+=t.velocity.x,d.position.y+=t.velocity.y),0!==t.angularVelocity&&(i.rotate(d.vertices,t.angularVelocity,t.position),l.rotate(d.axes,t.angularVelocity),p>0&&o.rotateAbout(d.position,t.angularVelocity,t.position,d.position)),u.update(d.bounds,d.vertices,t.velocity)}},n.updateVelocities=function(t){var e=n._baseDelta/t.deltaTime,r=t.velocity;r.x=(t.position.x-t.positionPrev.x)*e,r.y=(t.position.y-t.positionPrev.y)*e,t.speed=Math.sqrt(r.x*r.x+r.y*r.y),t.angularVelocity=(t.angle-t.anglePrev)*e,t.angularSpeed=Math.abs(t.angularVelocity)},n.applyForce=function(t,e,r){var n=e.x-t.position.x,i=e.y-t.position.y;t.force.x+=r.x,t.force.y+=r.y,t.torque+=n*r.y-i*r.x},n._totalProperties=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},r=1===t.parts.length?0:1;r<t.parts.length;r++){var n=t.parts[r],i=n.mass!==1/0?n.mass:1;e.mass+=i,e.area+=n.area,e.inertia+=n.inertia,e.centre=o.add(e.centre,o.mult(n.position,i))}return e.centre=o.div(e.centre,e.mass),e}}()},function(t,e,r){var n={};t.exports=n;var i=r(0);n.on=function(t,e,r){for(var n,i=e.split(" "),o=0;o<i.length;o++)n=i[o],t.events=t.events||{},t.events[n]=t.events[n]||[],t.events[n].push(r);return r},n.off=function(t,e,r){if(e){"function"==typeof e&&(r=e,e=i.keys(t.events).join(" "));for(var n=e.split(" "),o=0;o<n.length;o++){var a=t.events[n[o]],s=[];if(r&&a)for(var u=0;u<a.length;u++)a[u]!==r&&s.push(a[u]);t.events[n[o]]=s}}else t.events={}},n.trigger=function(t,e,r){var n,o,a,s,u=t.events;if(u&&i.keys(u).length>0){r||(r={}),n=e.split(" ");for(var l=0;l<n.length;l++)if(a=u[o=n[l]]){(s=i.clone(r,!1)).name=o,s.source=t;for(var c=0;c<a.length;c++)a[c].apply(t,[s])}}}},function(t,e,r){var n={};t.exports=n;var i=r(5),o=r(0),a=r(1),s=r(4);n.create=function(t){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},t)},n.setModified=function(t,e,r,i){if(t.isModified=e,e&&t.cache&&(t.cache.allBodies=null,t.cache.allConstraints=null,t.cache.allComposites=null),r&&t.parent&&n.setModified(t.parent,e,r,i),i)for(var o=0;o<t.composites.length;o++){var a=t.composites[o];n.setModified(a,e,r,i)}},n.add=function(t,e){var r=[].concat(e);i.trigger(t,"beforeAdd",{object:e});for(var a=0;a<r.length;a++){var s=r[a];switch(s.type){case"body":if(s.parent!==s){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}n.addBody(t,s);break;case"constraint":n.addConstraint(t,s);break;case"composite":n.addComposite(t,s);break;case"mouseConstraint":n.addConstraint(t,s.constraint)}}return i.trigger(t,"afterAdd",{object:e}),t},n.remove=function(t,e,r){var o=[].concat(e);i.trigger(t,"beforeRemove",{object:e});for(var a=0;a<o.length;a++){var s=o[a];switch(s.type){case"body":n.removeBody(t,s,r);break;case"constraint":n.removeConstraint(t,s,r);break;case"composite":n.removeComposite(t,s,r);break;case"mouseConstraint":n.removeConstraint(t,s.constraint)}}return i.trigger(t,"afterRemove",{object:e}),t},n.addComposite=function(t,e){return t.composites.push(e),e.parent=t,n.setModified(t,!0,!0,!1),t},n.removeComposite=function(t,e,r){var i=o.indexOf(t.composites,e);if(-1!==i){var a=n.allBodies(e);n.removeCompositeAt(t,i);for(var s=0;s<a.length;s++)a[s].sleepCounter=0}if(r)for(s=0;s<t.composites.length;s++)n.removeComposite(t.composites[s],e,!0);return t},n.removeCompositeAt=function(t,e){return t.composites.splice(e,1),n.setModified(t,!0,!0,!1),t},n.addBody=function(t,e){return t.bodies.push(e),n.setModified(t,!0,!0,!1),t},n.removeBody=function(t,e,r){var i=o.indexOf(t.bodies,e);if(-1!==i&&(n.removeBodyAt(t,i),e.sleepCounter=0),r)for(var a=0;a<t.composites.length;a++)n.removeBody(t.composites[a],e,!0);return t},n.removeBodyAt=function(t,e){return t.bodies.splice(e,1),n.setModified(t,!0,!0,!1),t},n.addConstraint=function(t,e){return t.constraints.push(e),n.setModified(t,!0,!0,!1),t},n.removeConstraint=function(t,e,r){var i=o.indexOf(t.constraints,e);if(-1!==i&&n.removeConstraintAt(t,i),r)for(var a=0;a<t.composites.length;a++)n.removeConstraint(t.composites[a],e,!0);return t},n.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),n.setModified(t,!0,!0,!1),t},n.clear=function(t,e,r){if(r)for(var i=0;i<t.composites.length;i++)n.clear(t.composites[i],e,!0);return e?t.bodies=t.bodies.filter((function(t){return t.isStatic})):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,n.setModified(t,!0,!0,!1),t},n.allBodies=function(t){if(t.cache&&t.cache.allBodies)return t.cache.allBodies;for(var e=[].concat(t.bodies),r=0;r<t.composites.length;r++)e=e.concat(n.allBodies(t.composites[r]));return t.cache&&(t.cache.allBodies=e),e},n.allConstraints=function(t){if(t.cache&&t.cache.allConstraints)return t.cache.allConstraints;for(var e=[].concat(t.constraints),r=0;r<t.composites.length;r++)e=e.concat(n.allConstraints(t.composites[r]));return t.cache&&(t.cache.allConstraints=e),e},n.allComposites=function(t){if(t.cache&&t.cache.allComposites)return t.cache.allComposites;for(var e=[].concat(t.composites),r=0;r<t.composites.length;r++)e=e.concat(n.allComposites(t.composites[r]));return t.cache&&(t.cache.allComposites=e),e},n.get=function(t,e,r){var i,o;switch(r){case"body":i=n.allBodies(t);break;case"constraint":i=n.allConstraints(t);break;case"composite":i=n.allComposites(t).concat(t)}return i?0===(o=i.filter((function(t){return t.id.toString()===e.toString()}))).length?null:o[0]:null},n.move=function(t,e,r){return n.remove(t,e),n.add(r,e),t},n.rebase=function(t){for(var e=n.allBodies(t).concat(n.allConstraints(t)).concat(n.allComposites(t)),r=0;r<e.length;r++)e[r].id=o.nextId();return t},n.translate=function(t,e,r){for(var i=r?n.allBodies(t):t.bodies,o=0;o<i.length;o++)s.translate(i[o],e);return t},n.rotate=function(t,e,r,i){for(var o=Math.cos(e),a=Math.sin(e),u=i?n.allBodies(t):t.bodies,l=0;l<u.length;l++){var c=u[l],h=c.position.x-r.x,f=c.position.y-r.y;s.setPosition(c,{x:r.x+(h*o-f*a),y:r.y+(h*a+f*o)}),s.rotate(c,e)}return t},n.scale=function(t,e,r,i,o){for(var a=o?n.allBodies(t):t.bodies,u=0;u<a.length;u++){var l=a[u],c=l.position.x-i.x,h=l.position.y-i.y;s.setPosition(l,{x:i.x+c*e,y:i.y+h*r}),s.scale(l,e,r)}return t},n.bounds=function(t){for(var e=n.allBodies(t),r=[],i=0;i<e.length;i+=1){var o=e[i];r.push(o.bounds.min,o.bounds.max)}return a.create(r)}},function(t,e,r){var n={};t.exports=n;var i=r(4),o=r(5),a=r(0);n._motionWakeThreshold=.18,n._motionSleepThreshold=.08,n._minBias=.9,n.update=function(t,e){for(var r=e/a._baseDelta,o=n._motionSleepThreshold,s=0;s<t.length;s++){var u=t[s],l=i.getSpeed(u),c=i.getAngularSpeed(u),h=l*l+c*c;if(0===u.force.x&&0===u.force.y){var f=Math.min(u.motion,h),p=Math.max(u.motion,h);u.motion=n._minBias*f+(1-n._minBias)*p,u.sleepThreshold>0&&u.motion<o?(u.sleepCounter+=1,u.sleepCounter>=u.sleepThreshold/r&&n.set(u,!0)):u.sleepCounter>0&&(u.sleepCounter-=1)}else n.set(u,!1)}},n.afterCollisions=function(t){for(var e=n._motionSleepThreshold,r=0;r<t.length;r++){var i=t[r];if(i.isActive){var o=i.collision,a=o.bodyA.parent,s=o.bodyB.parent;if(!(a.isSleeping&&s.isSleeping||a.isStatic||s.isStatic)&&(a.isSleeping||s.isSleeping)){var u=a.isSleeping&&!a.isStatic?a:s,l=u===a?s:a;!u.isStatic&&l.motion>e&&n.set(u,!1)}}}},n.set=function(t,e){var r=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,r||o.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,r&&o.trigger(t,"sleepEnd"))}},function(t,e,r){var n={};t.exports=n;var i,o,a,s=r(3),u=r(9);i=[],o={overlap:0,axis:null},a={overlap:0,axis:null},n.create=function(t,e){return{pair:null,collided:!1,bodyA:t,bodyB:e,parentA:t.parent,parentB:e.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},n.collides=function(t,e,r){if(n._overlapAxes(o,t.vertices,e.vertices,t.axes),o.overlap<=0)return null;if(n._overlapAxes(a,e.vertices,t.vertices,e.axes),a.overlap<=0)return null;var i,l,c=r&&r.table[u.id(t,e)];c?i=c.collision:((i=n.create(t,e)).collided=!0,i.bodyA=t.id<e.id?t:e,i.bodyB=t.id<e.id?e:t,i.parentA=i.bodyA.parent,i.parentB=i.bodyB.parent),t=i.bodyA,e=i.bodyB,l=o.overlap<a.overlap?o:a;var h=i.normal,f=i.tangent,p=i.penetration,d=i.supports,m=l.overlap,y=l.axis,g=y.x,v=y.y;g*(e.position.x-t.position.x)+v*(e.position.y-t.position.y)>=0&&(g=-g,v=-v),h.x=g,h.y=v,f.x=-v,f.y=g,p.x=g*m,p.y=v*m,i.depth=m;var b=n._findSupports(t,e,h,1),_=0;if(s.contains(t.vertices,b[0])&&(d[_++]=b[0]),s.contains(t.vertices,b[1])&&(d[_++]=b[1]),_<2){var w=n._findSupports(e,t,h,-1);s.contains(e.vertices,w[0])&&(d[_++]=w[0]),_<2&&s.contains(e.vertices,w[1])&&(d[_++]=w[1])}return 0===_&&(d[_++]=b[0]),i.supportCount=_,i},n._overlapAxes=function(t,e,r,n){var i,o,a,s,u,l,c=e.length,h=r.length,f=e[0].x,p=e[0].y,d=r[0].x,m=r[0].y,y=n.length,g=Number.MAX_VALUE,v=0;for(u=0;u<y;u++){var b=n[u],_=b.x,w=b.y,x=f*_+p*w,S=d*_+m*w,T=x,E=S;for(l=1;l<c;l+=1)(s=e[l].x*_+e[l].y*w)>T?T=s:s<x&&(x=s);for(l=1;l<h;l+=1)(s=r[l].x*_+r[l].y*w)>E?E=s:s<S&&(S=s);if((i=(o=T-S)<(a=E-x)?o:a)<g&&(g=i,v=u,i<=0))break}t.axis=n[v],t.overlap=g},n._findSupports=function(t,e,r,n){var o,a,s,u=e.vertices,l=u.length,c=t.position.x,h=t.position.y,f=r.x*n,p=r.y*n,d=u[0],m=d,y=f*(c-m.x)+p*(h-m.y);for(s=1;s<l;s+=1)(a=f*(c-(m=u[s]).x)+p*(h-m.y))<y&&(y=a,d=m);return y=f*(c-(o=u[(l+d.index-1)%l]).x)+p*(h-o.y),f*(c-(m=u[(d.index+1)%l]).x)+p*(h-m.y)<y?(i[0]=d,i[1]=m,i):(i[0]=d,i[1]=o,i)}},function(t,e,r){var n={};t.exports=n;var i=r(16);n.create=function(t,e){var r=t.bodyA,o=t.bodyB,a={id:n.id(r,o),bodyA:r,bodyB:o,collision:t,contacts:[i.create(),i.create()],contactCount:0,separation:0,isActive:!0,isSensor:r.isSensor||o.isSensor,timeCreated:e,timeUpdated:e,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return n.update(a,t,e),a},n.update=function(t,e,r){var n=e.supports,i=e.supportCount,o=t.contacts,a=e.parentA,s=e.parentB;t.isActive=!0,t.timeUpdated=r,t.collision=e,t.separation=e.depth,t.inverseMass=a.inverseMass+s.inverseMass,t.friction=a.friction<s.friction?a.friction:s.friction,t.frictionStatic=a.frictionStatic>s.frictionStatic?a.frictionStatic:s.frictionStatic,t.restitution=a.restitution>s.restitution?a.restitution:s.restitution,t.slop=a.slop>s.slop?a.slop:s.slop,t.contactCount=i,e.pair=t;var u=n[0],l=o[0],c=n[1],h=o[1];h.vertex!==u&&l.vertex!==c||(o[1]=l,o[0]=l=h,h=o[1]),l.vertex=u,h.vertex=c},n.setActive=function(t,e,r){e?(t.isActive=!0,t.timeUpdated=r):(t.isActive=!1,t.contactCount=0)},n.id=function(t,e){return t.id<e.id?t.id.toString(36)+":"+e.id.toString(36):e.id.toString(36)+":"+t.id.toString(36)}},function(t,e,r){var n={};t.exports=n;var i=r(3),o=r(2),a=r(7),s=r(1),u=r(11),l=r(0);n._warming=.4,n._torqueDampen=1,n._minLength=1e-6,n.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var r=e.bodyA?o.add(e.bodyA.position,e.pointA):e.pointA,n=e.bodyB?o.add(e.bodyB.position,e.pointB):e.pointB,i=o.magnitude(o.sub(r,n));e.length=void 0!==e.length?e.length:i,e.id=e.id||l.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var a={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===e.length&&e.stiffness>.1?(a.type="pin",a.anchors=!1):e.stiffness<.9&&(a.type="spring"),e.render=l.extend(a,e.render),e},n.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var r=t[e],n=r.constraintImpulse;r.isStatic||0===n.x&&0===n.y&&0===n.angle||(r.position.x+=n.x,r.position.y+=n.y,r.angle+=n.angle)}},n.solveAll=function(t,e){for(var r=l.clamp(e/l._baseDelta,0,1),i=0;i<t.length;i+=1){var o=t[i],a=!o.bodyA||o.bodyA&&o.bodyA.isStatic,s=!o.bodyB||o.bodyB&&o.bodyB.isStatic;(a||s)&&n.solve(t[i],r)}for(i=0;i<t.length;i+=1)a=!(o=t[i]).bodyA||o.bodyA&&o.bodyA.isStatic,s=!o.bodyB||o.bodyB&&o.bodyB.isStatic,a||s||n.solve(t[i],r)},n.solve=function(t,e){var r=t.bodyA,i=t.bodyB,a=t.pointA,s=t.pointB;if(r||i){r&&!r.isStatic&&(o.rotate(a,r.angle-t.angleA,a),t.angleA=r.angle),i&&!i.isStatic&&(o.rotate(s,i.angle-t.angleB,s),t.angleB=i.angle);var u=a,l=s;if(r&&(u=o.add(r.position,a)),i&&(l=o.add(i.position,s)),u&&l){var c=o.sub(u,l),h=o.magnitude(c);h<n._minLength&&(h=n._minLength);var f,p,d,m,y,g=(h-t.length)/h,v=t.stiffness>=1||0===t.length?t.stiffness*e:t.stiffness*e*e,b=t.damping*e,_=o.mult(c,g*v),w=(r?r.inverseMass:0)+(i?i.inverseMass:0),x=w+((r?r.inverseInertia:0)+(i?i.inverseInertia:0));if(b>0){var S=o.create();d=o.div(c,h),y=o.sub(i&&o.sub(i.position,i.positionPrev)||S,r&&o.sub(r.position,r.positionPrev)||S),m=o.dot(d,y)}r&&!r.isStatic&&(p=r.inverseMass/w,r.constraintImpulse.x-=_.x*p,r.constraintImpulse.y-=_.y*p,r.position.x-=_.x*p,r.position.y-=_.y*p,b>0&&(r.positionPrev.x-=b*d.x*m*p,r.positionPrev.y-=b*d.y*m*p),f=o.cross(a,_)/x*n._torqueDampen*r.inverseInertia*(1-t.angularStiffness),r.constraintImpulse.angle-=f,r.angle-=f),i&&!i.isStatic&&(p=i.inverseMass/w,i.constraintImpulse.x+=_.x*p,i.constraintImpulse.y+=_.y*p,i.position.x+=_.x*p,i.position.y+=_.y*p,b>0&&(i.positionPrev.x+=b*d.x*m*p,i.positionPrev.y+=b*d.y*m*p),f=o.cross(s,_)/x*n._torqueDampen*i.inverseInertia*(1-t.angularStiffness),i.constraintImpulse.angle+=f,i.angle+=f)}}},n.postSolveAll=function(t){for(var e=0;e<t.length;e++){var r=t[e],l=r.constraintImpulse;if(!(r.isStatic||0===l.x&&0===l.y&&0===l.angle)){a.set(r,!1);for(var c=0;c<r.parts.length;c++){var h=r.parts[c];i.translate(h.vertices,l),c>0&&(h.position.x+=l.x,h.position.y+=l.y),0!==l.angle&&(i.rotate(h.vertices,l.angle,r.position),u.rotate(h.axes,l.angle),c>0&&o.rotateAbout(h.position,l.angle,r.position,h.position)),s.update(h.bounds,h.vertices,r.velocity)}l.angle*=n._warming,l.x*=n._warming,l.y*=n._warming}}},n.pointAWorld=function(t){return{x:(t.bodyA?t.bodyA.position.x:0)+(t.pointA?t.pointA.x:0),y:(t.bodyA?t.bodyA.position.y:0)+(t.pointA?t.pointA.y:0)}},n.pointBWorld=function(t){return{x:(t.bodyB?t.bodyB.position.x:0)+(t.pointB?t.pointB.x:0),y:(t.bodyB?t.bodyB.position.y:0)+(t.pointB?t.pointB.y:0)}},n.currentLength=function(t){var e=(t.bodyA?t.bodyA.position.x:0)+(t.pointA?t.pointA.x:0),r=(t.bodyA?t.bodyA.position.y:0)+(t.pointA?t.pointA.y:0),n=e-((t.bodyB?t.bodyB.position.x:0)+(t.pointB?t.pointB.x:0)),i=r-((t.bodyB?t.bodyB.position.y:0)+(t.pointB?t.pointB.y:0));return Math.sqrt(n*n+i*i)}},function(t,e,r){var n={};t.exports=n;var i=r(2),o=r(0);n.fromVertices=function(t){for(var e={},r=0;r<t.length;r++){var n=(r+1)%t.length,a=i.normalise({x:t[n].y-t[r].y,y:t[r].x-t[n].x}),s=0===a.y?1/0:a.x/a.y;e[s=s.toFixed(3).toString()]=a}return o.values(e)},n.rotate=function(t,e){if(0!==e)for(var r=Math.cos(e),n=Math.sin(e),i=0;i<t.length;i++){var o,a=t[i];o=a.x*r-a.y*n,a.y=a.x*n+a.y*r,a.x=o}}},function(t,e,r){var n={};t.exports=n;var i=r(3),o=r(0),a=r(4),s=r(1),u=r(2);n.rectangle=function(t,e,r,n,s){s=s||{};var u={label:"Rectangle Body",position:{x:t,y:e},vertices:i.fromPath("L 0 0 L "+r+" 0 L "+r+" "+n+" L 0 "+n)};if(s.chamfer){var l=s.chamfer;u.vertices=i.chamfer(u.vertices,l.radius,l.quality,l.qualityMin,l.qualityMax),delete s.chamfer}return a.create(o.extend({},u,s))},n.trapezoid=function(t,e,r,n,s,u){u=u||{},s>=1&&o.warn("Bodies.trapezoid: slope parameter must be < 1.");var l,c=r*(s*=.5),h=c+(1-2*s)*r,f=h+c;l=s<.5?"L 0 0 L "+c+" "+-n+" L "+h+" "+-n+" L "+f+" 0":"L 0 0 L "+h+" "+-n+" L "+f+" 0";var p={label:"Trapezoid Body",position:{x:t,y:e},vertices:i.fromPath(l)};if(u.chamfer){var d=u.chamfer;p.vertices=i.chamfer(p.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete u.chamfer}return a.create(o.extend({},p,u))},n.circle=function(t,e,r,i,a){i=i||{};var s={label:"Circle Body",circleRadius:r};a=a||25;var u=Math.ceil(Math.max(10,Math.min(a,r)));return u%2==1&&(u+=1),n.polygon(t,e,u,r,o.extend({},s,i))},n.polygon=function(t,e,r,s,u){if(u=u||{},r<3)return n.circle(t,e,s,u);for(var l=2*Math.PI/r,c="",h=.5*l,f=0;f<r;f+=1){var p=h+f*l,d=Math.cos(p)*s,m=Math.sin(p)*s;c+="L "+d.toFixed(3)+" "+m.toFixed(3)+" "}var y={label:"Polygon Body",position:{x:t,y:e},vertices:i.fromPath(c)};if(u.chamfer){var g=u.chamfer;y.vertices=i.chamfer(y.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete u.chamfer}return a.create(o.extend({},y,u))},n.fromVertices=function(t,e,r,n,l,c,h,f){var p,d,m,y,g,v,b,_,w,x,S=o.getDecomp();for(p=Boolean(S&&S.quickDecomp),n=n||{},m=[],l=void 0!==l&&l,c=void 0!==c?c:.01,h=void 0!==h?h:10,f=void 0!==f?f:.01,o.isArray(r[0])||(r=[r]),w=0;w<r.length;w+=1)if(g=r[w],!(y=i.isConvex(g))&&!p&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),y||!p)g=y?i.clockwiseSort(g):i.hull(g),m.push({position:{x:t,y:e},vertices:g});else{var T=g.map((function(t){return[t.x,t.y]}));S.makeCCW(T),!1!==c&&S.removeCollinearPoints(T,c),!1!==f&&S.removeDuplicatePoints&&S.removeDuplicatePoints(T,f);var E=S.quickDecomp(T);for(v=0;v<E.length;v++){var O=E[v].map((function(t){return{x:t[0],y:t[1]}}));h>0&&i.area(O)<h||m.push({position:i.centre(O),vertices:O})}}for(v=0;v<m.length;v++)m[v]=a.create(o.extend(m[v],n));if(l)for(v=0;v<m.length;v++){var A=m[v];for(b=v+1;b<m.length;b++){var k=m[b];if(s.overlaps(A.bounds,k.bounds)){var P=A.vertices,C=k.vertices;for(_=0;_<A.vertices.length;_++)for(x=0;x<k.vertices.length;x++){var M=u.magnitudeSquared(u.sub(P[(_+1)%P.length],C[x])),I=u.magnitudeSquared(u.sub(P[_],C[(x+1)%C.length]));M<5&&I<5&&(P[_].isInternal=!0,C[x].isInternal=!0)}}}}return m.length>1?(d=a.create(o.extend({parts:m.slice(0)},n)),a.setPosition(d,{x:t,y:e}),d):m[0]}},function(t,e,r){var n={};t.exports=n;var i=r(0),o=r(8);n.create=function(t){return i.extend({bodies:[],collisions:[],pairs:null},t)},n.setBodies=function(t,e){t.bodies=e.slice(0)},n.clear=function(t){t.bodies=[],t.collisions=[]},n.collisions=function(t){var e,r,i=t.pairs,a=t.bodies,s=a.length,u=n.canCollide,l=o.collides,c=t.collisions,h=0;for(a.sort(n._compareBoundsX),e=0;e<s;e++){var f=a[e],p=f.bounds,d=f.bounds.max.x,m=f.bounds.max.y,y=f.bounds.min.y,g=f.isStatic||f.isSleeping,v=f.parts.length,b=1===v;for(r=e+1;r<s;r++){var _=a[r];if((k=_.bounds).min.x>d)break;if(!(m<k.min.y||y>k.max.y)&&(!g||!_.isStatic&&!_.isSleeping)&&u(f.collisionFilter,_.collisionFilter)){var w=_.parts.length;if(b&&1===w)(O=l(f,_,i))&&(c[h++]=O);else for(var x=w>1?1:0,S=v>1?1:0;S<v;S++)for(var T=f.parts[S],E=(p=T.bounds,x);E<w;E++){var O,A=_.parts[E],k=A.bounds;p.min.x>k.max.x||p.max.x<k.min.x||p.max.y<k.min.y||p.min.y>k.max.y||(O=l(T,A,i))&&(c[h++]=O)}}}}return c.length!==h&&(c.length=h),c},n.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!=(t.mask&e.category)&&0!=(e.mask&t.category)},n._compareBoundsX=function(t,e){return t.bounds.min.x-e.bounds.min.x}},function(t,e,r){var n={};t.exports=n;var i=r(0);n.create=function(t){var e={};return t||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),e.element=t||document.body,e.absolute={x:0,y:0},e.position={x:0,y:0},e.mousedownPosition={x:0,y:0},e.mouseupPosition={x:0,y:0},e.offset={x:0,y:0},e.scale={x:1,y:1},e.wheelDelta=0,e.button=-1,e.pixelRatio=parseInt(e.element.getAttribute("data-pixel-ratio"),10)||1,e.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},e.mousemove=function(t){var r=n._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&(e.button=0,t.preventDefault()),e.absolute.x=r.x,e.absolute.y=r.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.sourceEvents.mousemove=t},e.mousedown=function(t){var r=n._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches?(e.button=0,t.preventDefault()):e.button=t.button,e.absolute.x=r.x,e.absolute.y=r.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mousedownPosition.x=e.position.x,e.mousedownPosition.y=e.position.y,e.sourceEvents.mousedown=t},e.mouseup=function(t){var r=n._getRelativeMousePosition(t,e.element,e.pixelRatio);t.changedTouches&&t.preventDefault(),e.button=-1,e.absolute.x=r.x,e.absolute.y=r.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y,e.mouseupPosition.x=e.position.x,e.mouseupPosition.y=e.position.y,e.sourceEvents.mouseup=t},e.mousewheel=function(t){e.wheelDelta=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)),t.preventDefault(),e.sourceEvents.mousewheel=t},n.setElement(e,e.element),e},n.setElement=function(t,e){t.element=e,e.addEventListener("mousemove",t.mousemove,{passive:!0}),e.addEventListener("mousedown",t.mousedown,{passive:!0}),e.addEventListener("mouseup",t.mouseup,{passive:!0}),e.addEventListener("wheel",t.mousewheel,{passive:!1}),e.addEventListener("touchmove",t.mousemove,{passive:!1}),e.addEventListener("touchstart",t.mousedown,{passive:!1}),e.addEventListener("touchend",t.mouseup,{passive:!1})},n.clearSourceEvents=function(t){t.sourceEvents.mousemove=null,t.sourceEvents.mousedown=null,t.sourceEvents.mouseup=null,t.sourceEvents.mousewheel=null,t.wheelDelta=0},n.setOffset=function(t,e){t.offset.x=e.x,t.offset.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},n.setScale=function(t,e){t.scale.x=e.x,t.scale.y=e.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y},n._getRelativeMousePosition=function(t,e,r){var n,i,o=e.getBoundingClientRect(),a=document.documentElement||document.body.parentNode||document.body,s=void 0!==window.pageXOffset?window.pageXOffset:a.scrollLeft,u=void 0!==window.pageYOffset?window.pageYOffset:a.scrollTop,l=t.changedTouches;return l?(n=l[0].pageX-o.left-s,i=l[0].pageY-o.top-u):(n=t.pageX-o.left-s,i=t.pageY-o.top-u),{x:n/(e.clientWidth/(e.width||e.clientWidth)*r),y:i/(e.clientHeight/(e.height||e.clientHeight)*r)}}},function(t,e,r){var n={};t.exports=n;var i=r(0);n._registry={},n.register=function(t){if(n.isPlugin(t)||i.warn("Plugin.register:",n.toString(t),"does not implement all required fields."),t.name in n._registry){var e=n._registry[t.name],r=n.versionParse(t.version).number,o=n.versionParse(e.version).number;r>o?(i.warn("Plugin.register:",n.toString(e),"was upgraded to",n.toString(t)),n._registry[t.name]=t):r<o?i.warn("Plugin.register:",n.toString(e),"can not be downgraded to",n.toString(t)):t!==e&&i.warn("Plugin.register:",n.toString(t),"is already registered to different plugin object")}else n._registry[t.name]=t;return t},n.resolve=function(t){return n._registry[n.dependencyParse(t).name]},n.toString=function(t){return"string"==typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},n.isPlugin=function(t){return t&&t.name&&t.version&&t.install},n.isUsed=function(t,e){return t.used.indexOf(e)>-1},n.isFor=function(t,e){var r=t.for&&n.dependencyParse(t.for);return!t.for||e.name===r.name&&n.versionSatisfies(e.version,r.range)},n.use=function(t,e){if(t.uses=(t.uses||[]).concat(e||[]),0!==t.uses.length){for(var r=n.dependencies(t),o=i.topologicalSort(r),a=[],s=0;s<o.length;s+=1)if(o[s]!==t.name){var u=n.resolve(o[s]);u?n.isUsed(t,u.name)||(n.isFor(u,t)||(i.warn("Plugin.use:",n.toString(u),"is for",u.for,"but installed on",n.toString(t)+"."),u._warned=!0),u.install?u.install(t):(i.warn("Plugin.use:",n.toString(u),"does not specify an install function."),u._warned=!0),u._warned?(a.push("🔶 "+n.toString(u)),delete u._warned):a.push("✅ "+n.toString(u)),t.used.push(u.name)):a.push("❌ "+o[s])}a.length>0&&i.info(a.join("  "))}else i.warn("Plugin.use:",n.toString(t),"does not specify any dependencies to install.")},n.dependencies=function(t,e){var r=n.dependencyParse(t),o=r.name;if(!(o in(e=e||{}))){t=n.resolve(t)||t,e[o]=i.map(t.uses||[],(function(e){n.isPlugin(e)&&n.register(e);var o=n.dependencyParse(e),a=n.resolve(e);return a&&!n.versionSatisfies(a.version,o.range)?(i.warn("Plugin.dependencies:",n.toString(a),"does not satisfy",n.toString(o),"used by",n.toString(r)+"."),a._warned=!0,t._warned=!0):a||(i.warn("Plugin.dependencies:",n.toString(e),"used by",n.toString(r),"could not be resolved."),t._warned=!0),o.name}));for(var a=0;a<e[o].length;a+=1)n.dependencies(e[o][a],e);return e}},n.dependencyParse=function(t){return i.isString(t)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/.test(t)||i.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}):{name:t.name,range:t.range||t.version}},n.versionParse=function(t){var e=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;e.test(t)||i.warn("Plugin.versionParse:",t,"is not a valid version or range.");var r=e.exec(t),n=Number(r[4]),o=Number(r[5]),a=Number(r[6]);return{isRange:Boolean(r[1]||r[2]),version:r[3],range:t,operator:r[1]||r[2]||"",major:n,minor:o,patch:a,parts:[n,o,a],prerelease:r[7],number:1e8*n+1e4*o+a}},n.versionSatisfies=function(t,e){e=e||"*";var r=n.versionParse(e),i=n.versionParse(t);if(r.isRange){if("*"===r.operator||"*"===t)return!0;if(">"===r.operator)return i.number>r.number;if(">="===r.operator)return i.number>=r.number;if("~"===r.operator)return i.major===r.major&&i.minor===r.minor&&i.patch>=r.patch;if("^"===r.operator)return r.major>0?i.major===r.major&&i.number>=r.number:r.minor>0?i.minor===r.minor&&i.patch>=r.patch:i.patch===r.patch}return t===e||"*"===t}},function(t,e){var r={};t.exports=r,r.create=function(t){return{vertex:t,normalImpulse:0,tangentImpulse:0}}},function(t,e,r){var n={};t.exports=n;var i=r(7),o=r(18),a=r(13),s=r(19),u=r(5),l=r(6),c=r(10),h=r(0),f=r(4);n._deltaMax=1e3/60,n.create=function(t){t=t||{};var e=h.extend({positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},t);return e.world=t.world||l.create({label:"World"}),e.pairs=t.pairs||s.create(),e.detector=t.detector||a.create(),e.detector.pairs=e.pairs,e.grid={buckets:[]},e.world.gravity=e.gravity,e.broadphase=e.grid,e.metrics={},e},n.update=function(t,e){var r,f=h.now(),p=t.world,d=t.detector,m=t.pairs,y=t.timing,g=y.timestamp;e>n._deltaMax&&h.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",n._deltaMax.toFixed(3),"ms."),e=void 0!==e?e:h._baseDelta,e*=y.timeScale,y.timestamp+=e,y.lastDelta=e;var v={timestamp:y.timestamp,delta:e};u.trigger(t,"beforeUpdate",v);var b=l.allBodies(p),_=l.allConstraints(p);for(p.isModified&&(a.setBodies(d,b),l.setModified(p,!1,!1,!0)),t.enableSleeping&&i.update(b,e),n._bodiesApplyGravity(b,t.gravity),e>0&&n._bodiesUpdate(b,e),u.trigger(t,"beforeSolve",v),c.preSolveAll(b),r=0;r<t.constraintIterations;r++)c.solveAll(_,e);c.postSolveAll(b);var w=a.collisions(d);s.update(m,w,g),t.enableSleeping&&i.afterCollisions(m.list),m.collisionStart.length>0&&u.trigger(t,"collisionStart",{pairs:m.collisionStart,timestamp:y.timestamp,delta:e});var x=h.clamp(20/t.positionIterations,0,1);for(o.preSolvePosition(m.list),r=0;r<t.positionIterations;r++)o.solvePosition(m.list,e,x);for(o.postSolvePosition(b),c.preSolveAll(b),r=0;r<t.constraintIterations;r++)c.solveAll(_,e);for(c.postSolveAll(b),o.preSolveVelocity(m.list),r=0;r<t.velocityIterations;r++)o.solveVelocity(m.list,e);return n._bodiesUpdateVelocities(b),m.collisionActive.length>0&&u.trigger(t,"collisionActive",{pairs:m.collisionActive,timestamp:y.timestamp,delta:e}),m.collisionEnd.length>0&&u.trigger(t,"collisionEnd",{pairs:m.collisionEnd,timestamp:y.timestamp,delta:e}),n._bodiesClearForces(b),u.trigger(t,"afterUpdate",v),t.timing.lastElapsed=h.now()-f,t},n.merge=function(t,e){if(h.extend(t,e),e.world){t.world=e.world,n.clear(t);for(var r=l.allBodies(t.world),o=0;o<r.length;o++){var a=r[o];i.set(a,!1),a.id=h.nextId()}}},n.clear=function(t){s.clear(t.pairs),a.clear(t.detector)},n._bodiesClearForces=function(t){for(var e=t.length,r=0;r<e;r++){var n=t[r];n.force.x=0,n.force.y=0,n.torque=0}},n._bodiesApplyGravity=function(t,e){var r=void 0!==e.scale?e.scale:.001,n=t.length;if((0!==e.x||0!==e.y)&&0!==r)for(var i=0;i<n;i++){var o=t[i];o.isStatic||o.isSleeping||(o.force.y+=o.mass*e.y*r,o.force.x+=o.mass*e.x*r)}},n._bodiesUpdate=function(t,e){for(var r=t.length,n=0;n<r;n++){var i=t[n];i.isStatic||i.isSleeping||f.update(i,e)}},n._bodiesUpdateVelocities=function(t){for(var e=t.length,r=0;r<e;r++)f.updateVelocities(t[r])}},function(t,e,r){var n={};t.exports=n;var i=r(3),o=r(0),a=r(1);n._restingThresh=2,n._restingThreshTangent=Math.sqrt(6),n._positionDampen=.9,n._positionWarming=.8,n._frictionNormalMultiplier=5,n._frictionMaxStatic=Number.MAX_VALUE,n.preSolvePosition=function(t){var e,r,n,i=t.length;for(e=0;e<i;e++)(r=t[e]).isActive&&(n=r.contactCount,r.collision.parentA.totalContacts+=n,r.collision.parentB.totalContacts+=n)},n.solvePosition=function(t,e,r){var i,a,s,u,l,c,h,f,p=n._positionDampen*(r||1),d=o.clamp(e/o._baseDelta,0,1),m=t.length;for(i=0;i<m;i++)(a=t[i]).isActive&&!a.isSensor&&(u=(s=a.collision).parentA,l=s.parentB,c=s.normal,a.separation=s.depth+c.x*(l.positionImpulse.x-u.positionImpulse.x)+c.y*(l.positionImpulse.y-u.positionImpulse.y));for(i=0;i<m;i++)(a=t[i]).isActive&&!a.isSensor&&(u=(s=a.collision).parentA,l=s.parentB,c=s.normal,f=a.separation-a.slop*d,(u.isStatic||l.isStatic)&&(f*=2),u.isStatic||u.isSleeping||(h=p/u.totalContacts,u.positionImpulse.x+=c.x*f*h,u.positionImpulse.y+=c.y*f*h),l.isStatic||l.isSleeping||(h=p/l.totalContacts,l.positionImpulse.x-=c.x*f*h,l.positionImpulse.y-=c.y*f*h))},n.postSolvePosition=function(t){for(var e=n._positionWarming,r=t.length,o=i.translate,s=a.update,u=0;u<r;u++){var l=t[u],c=l.positionImpulse,h=c.x,f=c.y,p=l.velocity;if(l.totalContacts=0,0!==h||0!==f){for(var d=0;d<l.parts.length;d++){var m=l.parts[d];o(m.vertices,c),s(m.bounds,m.vertices,p),m.position.x+=h,m.position.y+=f}l.positionPrev.x+=h,l.positionPrev.y+=f,h*p.x+f*p.y<0?(c.x=0,c.y=0):(c.x*=e,c.y*=e)}}},n.preSolveVelocity=function(t){var e,r,n=t.length;for(e=0;e<n;e++){var i=t[e];if(i.isActive&&!i.isSensor){var o=i.contacts,a=i.contactCount,s=i.collision,u=s.parentA,l=s.parentB,c=s.normal,h=s.tangent;for(r=0;r<a;r++){var f=o[r],p=f.vertex,d=f.normalImpulse,m=f.tangentImpulse;if(0!==d||0!==m){var y=c.x*d+h.x*m,g=c.y*d+h.y*m;u.isStatic||u.isSleeping||(u.positionPrev.x+=y*u.inverseMass,u.positionPrev.y+=g*u.inverseMass,u.anglePrev+=u.inverseInertia*((p.x-u.position.x)*g-(p.y-u.position.y)*y)),l.isStatic||l.isSleeping||(l.positionPrev.x-=y*l.inverseMass,l.positionPrev.y-=g*l.inverseMass,l.anglePrev-=l.inverseInertia*((p.x-l.position.x)*g-(p.y-l.position.y)*y))}}}}},n.solveVelocity=function(t,e){var r,i,a,s,u=e/o._baseDelta,l=u*u*u,c=-n._restingThresh*u,h=n._restingThreshTangent,f=n._frictionNormalMultiplier*u,p=n._frictionMaxStatic,d=t.length;for(a=0;a<d;a++){var m=t[a];if(m.isActive&&!m.isSensor){var y=m.collision,g=y.parentA,v=y.parentB,b=y.normal.x,_=y.normal.y,w=y.tangent.x,x=y.tangent.y,S=m.inverseMass,T=m.friction*m.frictionStatic*f,E=m.contacts,O=m.contactCount,A=1/O,k=g.position.x-g.positionPrev.x,P=g.position.y-g.positionPrev.y,C=g.angle-g.anglePrev,M=v.position.x-v.positionPrev.x,I=v.position.y-v.positionPrev.y,j=v.angle-v.anglePrev;for(s=0;s<O;s++){var B=E[s],L=B.vertex,R=L.x-g.position.x,q=L.y-g.position.y,N=L.x-v.position.x,F=L.y-v.position.y,V=k-q*C-(M-F*j),D=P+R*C-(I+N*j),G=b*V+_*D,z=w*V+x*D,U=m.separation+G,Y=Math.min(U,1),X=(Y=U<0?0:Y)*T;z<-X||z>X?(i=z>0?z:-z,(r=m.friction*(z>0?1:-1)*l)<-i?r=-i:r>i&&(r=i)):(r=z,i=p);var W=R*_-q*b,H=N*_-F*b,Z=A/(S+g.inverseInertia*W*W+v.inverseInertia*H*H),K=(1+m.restitution)*G*Z;if(r*=Z,G<c)B.normalImpulse=0;else{var Q=B.normalImpulse;B.normalImpulse+=K,B.normalImpulse>0&&(B.normalImpulse=0),K=B.normalImpulse-Q}if(z<-h||z>h)B.tangentImpulse=0;else{var J=B.tangentImpulse;B.tangentImpulse+=r,B.tangentImpulse<-i&&(B.tangentImpulse=-i),B.tangentImpulse>i&&(B.tangentImpulse=i),r=B.tangentImpulse-J}var $=b*K+w*r,tt=_*K+x*r;g.isStatic||g.isSleeping||(g.positionPrev.x+=$*g.inverseMass,g.positionPrev.y+=tt*g.inverseMass,g.anglePrev+=(R*tt-q*$)*g.inverseInertia),v.isStatic||v.isSleeping||(v.positionPrev.x-=$*v.inverseMass,v.positionPrev.y-=tt*v.inverseMass,v.anglePrev-=(N*tt-F*$)*v.inverseInertia)}}}}},function(t,e,r){var n={};t.exports=n;var i=r(9),o=r(0);n.create=function(t){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},n.update=function(t,e,r){var n,o,a,s=i.update,u=i.create,l=i.setActive,c=t.table,h=t.list,f=h.length,p=f,d=t.collisionStart,m=t.collisionEnd,y=t.collisionActive,g=e.length,v=0,b=0,_=0;for(a=0;a<g;a++)(o=(n=e[a]).pair)?(o.isActive&&(y[_++]=o),s(o,n,r)):(c[(o=u(n,r)).id]=o,d[v++]=o,h[p++]=o);for(p=0,f=h.length,a=0;a<f;a++)(o=h[a]).timeUpdated>=r?h[p++]=o:(l(o,!1,r),o.collision.bodyA.sleepCounter>0&&o.collision.bodyB.sleepCounter>0?h[p++]=o:(m[b++]=o,delete c[o.id]));h.length!==p&&(h.length=p),d.length!==v&&(d.length=v),m.length!==b&&(m.length=b),y.length!==_&&(y.length=_)},n.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}},function(t,e,r){var n=t.exports=r(21);n.Axes=r(11),n.Bodies=r(12),n.Body=r(4),n.Bounds=r(1),n.Collision=r(8),n.Common=r(0),n.Composite=r(6),n.Composites=r(22),n.Constraint=r(10),n.Contact=r(16),n.Detector=r(13),n.Engine=r(17),n.Events=r(5),n.Grid=r(23),n.Mouse=r(14),n.MouseConstraint=r(24),n.Pair=r(9),n.Pairs=r(19),n.Plugin=r(15),n.Query=r(25),n.Render=r(26),n.Resolver=r(18),n.Runner=r(27),n.SAT=r(28),n.Sleeping=r(7),n.Svg=r(29),n.Vector=r(2),n.Vertices=r(3),n.World=r(30),n.Engine.run=n.Runner.run,n.Common.deprecated(n.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(t,e,r){var n={};t.exports=n;var i=r(15),o=r(0);n.name="matter-js",n.version="0.20.0",n.uses=[],n.used=[],n.use=function(){i.use(n,Array.prototype.slice.call(arguments))},n.before=function(t,e){return t=t.replace(/^Matter./,""),o.chainPathBefore(n,t,e)},n.after=function(t,e){return t=t.replace(/^Matter./,""),o.chainPathAfter(n,t,e)}},function(t,e,r){var n={};t.exports=n;var i=r(6),o=r(10),a=r(0),s=r(4),u=r(12),l=a.deprecated;n.stack=function(t,e,r,n,o,a,u){for(var l,c=i.create({label:"Stack"}),h=t,f=e,p=0,d=0;d<n;d++){for(var m=0,y=0;y<r;y++){var g=u(h,f,y,d,l,p);if(g){var v=g.bounds.max.y-g.bounds.min.y,b=g.bounds.max.x-g.bounds.min.x;v>m&&(m=v),s.translate(g,{x:.5*b,y:.5*v}),h=g.bounds.max.x+o,i.addBody(c,g),l=g,p+=1}else h+=o}f+=m+a,h=t}return c},n.chain=function(t,e,r,n,s,u){for(var l=t.bodies,c=1;c<l.length;c++){var h=l[c-1],f=l[c],p=h.bounds.max.y-h.bounds.min.y,d=h.bounds.max.x-h.bounds.min.x,m=f.bounds.max.y-f.bounds.min.y,y={bodyA:h,pointA:{x:d*e,y:p*r},bodyB:f,pointB:{x:(f.bounds.max.x-f.bounds.min.x)*n,y:m*s}},g=a.extend(y,u);i.addConstraint(t,o.create(g))}return t.label+=" Chain",t},n.mesh=function(t,e,r,n,s){var u,l,c,h,f,p=t.bodies;for(u=0;u<r;u++){for(l=1;l<e;l++)c=p[l-1+u*e],h=p[l+u*e],i.addConstraint(t,o.create(a.extend({bodyA:c,bodyB:h},s)));if(u>0)for(l=0;l<e;l++)c=p[l+(u-1)*e],h=p[l+u*e],i.addConstraint(t,o.create(a.extend({bodyA:c,bodyB:h},s))),n&&l>0&&(f=p[l-1+(u-1)*e],i.addConstraint(t,o.create(a.extend({bodyA:f,bodyB:h},s)))),n&&l<e-1&&(f=p[l+1+(u-1)*e],i.addConstraint(t,o.create(a.extend({bodyA:f,bodyB:h},s))))}return t.label+=" Mesh",t},n.pyramid=function(t,e,r,i,o,a,u){return n.stack(t,e,r,i,o,a,(function(e,n,a,l,c,h){var f=Math.min(i,Math.ceil(r/2)),p=c?c.bounds.max.x-c.bounds.min.x:0;if(!(l>f||a<(l=f-l)||a>r-1-l))return 1===h&&s.translate(c,{x:(a+(r%2==1?1:-1))*p,y:0}),u(t+(c?a*p:0)+a*o,n,a,l,c,h)}))},n.newtonsCradle=function(t,e,r,n,a){for(var s=i.create({label:"Newtons Cradle"}),l=0;l<r;l++){var c=u.circle(t+l*(1.9*n),e+a,n,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),h=o.create({pointA:{x:t+l*(1.9*n),y:e},bodyB:c});i.addBody(s,c),i.addConstraint(s,h)}return s},l(n,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),n.car=function(t,e,r,n,a){var l=s.nextGroup(!0),c=.5*-r+20,h=.5*r-20,f=i.create({label:"Car"}),p=u.rectangle(t,e,r,n,{collisionFilter:{group:l},chamfer:{radius:.5*n},density:2e-4}),d=u.circle(t+c,e+0,a,{collisionFilter:{group:l},friction:.8}),m=u.circle(t+h,e+0,a,{collisionFilter:{group:l},friction:.8}),y=o.create({bodyB:p,pointB:{x:c,y:0},bodyA:d,stiffness:1,length:0}),g=o.create({bodyB:p,pointB:{x:h,y:0},bodyA:m,stiffness:1,length:0});return i.addBody(f,p),i.addBody(f,d),i.addBody(f,m),i.addConstraint(f,y),i.addConstraint(f,g),f},l(n,"car","Composites.car ➤ moved to car example"),n.softBody=function(t,e,r,i,o,s,l,c,h,f){h=a.extend({inertia:1/0},h),f=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},f);var p=n.stack(t,e,r,i,o,s,(function(t,e){return u.circle(t,e,c,h)}));return n.mesh(p,r,i,l,f),p.label="Soft Body",p},l(n,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")},function(t,e,r){var n={};t.exports=n;var i=r(9),o=r(0),a=o.deprecated;n.create=function(t){return o.extend({buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48},t)},n.update=function(t,e,r,i){var o,a,s,u,l,c=r.world,h=t.buckets,f=!1;for(o=0;o<e.length;o++){var p=e[o];if((!p.isSleeping||i)&&(!c.bounds||!(p.bounds.max.x<c.bounds.min.x||p.bounds.min.x>c.bounds.max.x||p.bounds.max.y<c.bounds.min.y||p.bounds.min.y>c.bounds.max.y))){var d=n._getRegion(t,p);if(!p.region||d.id!==p.region.id||i){p.region&&!i||(p.region=d);var m=n._regionUnion(d,p.region);for(a=m.startCol;a<=m.endCol;a++)for(s=m.startRow;s<=m.endRow;s++){u=h[l=n._getBucketId(a,s)];var y=a>=d.startCol&&a<=d.endCol&&s>=d.startRow&&s<=d.endRow,g=a>=p.region.startCol&&a<=p.region.endCol&&s>=p.region.startRow&&s<=p.region.endRow;!y&&g&&g&&u&&n._bucketRemoveBody(t,u,p),(p.region===d||y&&!g||i)&&(u||(u=n._createBucket(h,l)),n._bucketAddBody(t,u,p))}p.region=d,f=!0}}}f&&(t.pairsList=n._createActivePairsList(t))},a(n,"update","Grid.update ➤ replaced by Matter.Detector"),n.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]},a(n,"clear","Grid.clear ➤ replaced by Matter.Detector"),n._regionUnion=function(t,e){var r=Math.min(t.startCol,e.startCol),i=Math.max(t.endCol,e.endCol),o=Math.min(t.startRow,e.startRow),a=Math.max(t.endRow,e.endRow);return n._createRegion(r,i,o,a)},n._getRegion=function(t,e){var r=e.bounds,i=Math.floor(r.min.x/t.bucketWidth),o=Math.floor(r.max.x/t.bucketWidth),a=Math.floor(r.min.y/t.bucketHeight),s=Math.floor(r.max.y/t.bucketHeight);return n._createRegion(i,o,a,s)},n._createRegion=function(t,e,r,n){return{id:t+","+e+","+r+","+n,startCol:t,endCol:e,startRow:r,endRow:n}},n._getBucketId=function(t,e){return"C"+t+"R"+e},n._createBucket=function(t,e){return t[e]=[]},n._bucketAddBody=function(t,e,r){var n,o=t.pairs,a=i.id,s=e.length;for(n=0;n<s;n++){var u=e[n];if(!(r.id===u.id||r.isStatic&&u.isStatic)){var l=a(r,u),c=o[l];c?c[2]+=1:o[l]=[r,u,1]}}e.push(r)},n._bucketRemoveBody=function(t,e,r){var n,a=t.pairs,s=i.id;e.splice(o.indexOf(e,r),1);var u=e.length;for(n=0;n<u;n++){var l=a[s(r,e[n])];l&&(l[2]-=1)}},n._createActivePairsList=function(t){var e,r,n=t.pairs,i=o.keys(n),a=i.length,s=[];for(r=0;r<a;r++)(e=n[i[r]])[2]>0?s.push(e):delete n[i[r]];return s}},function(t,e,r){var n={};t.exports=n;var i=r(3),o=r(7),a=r(14),s=r(5),u=r(13),l=r(10),c=r(6),h=r(0),f=r(1);n.create=function(t,e){var r=(t?t.mouse:null)||(e?e.mouse:null);r||(t&&t.render&&t.render.canvas?r=a.create(t.render.canvas):e&&e.element?r=a.create(e.element):(r=a.create(),h.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var i={type:"mouseConstraint",mouse:r,element:null,body:null,constraint:l.create({label:"Mouse Constraint",pointA:r.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},o=h.extend(i,e);return s.on(t,"beforeUpdate",(function(){var e=c.allBodies(t.world);n.update(o,e),n._triggerEvents(o)})),o},n.update=function(t,e){var r=t.mouse,n=t.constraint,a=t.body;if(0===r.button){if(n.bodyB)o.set(n.bodyB,!1),n.pointA=r.position;else for(var l=0;l<e.length;l++)if(a=e[l],f.contains(a.bounds,r.position)&&u.canCollide(a.collisionFilter,t.collisionFilter))for(var c=a.parts.length>1?1:0;c<a.parts.length;c++){var h=a.parts[c];if(i.contains(h.vertices,r.position)){n.pointA=r.position,n.bodyB=t.body=a,n.pointB={x:r.position.x-a.position.x,y:r.position.y-a.position.y},n.angleB=a.angle,o.set(a,!1),s.trigger(t,"startdrag",{mouse:r,body:a});break}}}else n.bodyB=t.body=null,n.pointB=null,a&&s.trigger(t,"enddrag",{mouse:r,body:a})},n._triggerEvents=function(t){var e=t.mouse,r=e.sourceEvents;r.mousemove&&s.trigger(t,"mousemove",{mouse:e}),r.mousedown&&s.trigger(t,"mousedown",{mouse:e}),r.mouseup&&s.trigger(t,"mouseup",{mouse:e}),a.clearSourceEvents(e)}},function(t,e,r){var n={};t.exports=n;var i=r(2),o=r(8),a=r(1),s=r(12),u=r(3);n.collides=function(t,e){for(var r=[],n=e.length,i=t.bounds,s=o.collides,u=a.overlaps,l=0;l<n;l++){var c=e[l],h=c.parts.length,f=1===h?0:1;if(u(c.bounds,i))for(var p=f;p<h;p++){var d=c.parts[p];if(u(d.bounds,i)){var m=s(d,t);if(m){r.push(m);break}}}}return r},n.ray=function(t,e,r,o){o=o||1e-100;for(var a=i.angle(e,r),u=i.magnitude(i.sub(e,r)),l=.5*(r.x+e.x),c=.5*(r.y+e.y),h=s.rectangle(l,c,u,o,{angle:a}),f=n.collides(h,t),p=0;p<f.length;p+=1){var d=f[p];d.body=d.bodyB=d.bodyA}return f},n.region=function(t,e,r){for(var n=[],i=0;i<t.length;i++){var o=t[i],s=a.overlaps(o.bounds,e);(s&&!r||!s&&r)&&n.push(o)}return n},n.point=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=t[n];if(a.contains(i.bounds,e))for(var o=1===i.parts.length?0:1;o<i.parts.length;o++){var s=i.parts[o];if(a.contains(s.bounds,e)&&u.contains(s.vertices,e)){r.push(i);break}}}return r}},function(t,e,r){var n={};t.exports=n;var i=r(4),o=r(0),a=r(6),s=r(1),u=r(5),l=r(2),c=r(14);!function(){var t,e;"undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout((function(){t(o.now())}),1e3/60)},e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),n._goodFps=30,n._goodDelta=1e3/60,n.create=function(t){var e={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!t.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},r=o.extend(e,t);return r.canvas&&(r.canvas.width=r.options.width||r.canvas.width,r.canvas.height=r.options.height||r.canvas.height),r.mouse=t.mouse,r.engine=t.engine,r.canvas=r.canvas||f(r.options.width,r.options.height),r.context=r.canvas.getContext("2d"),r.textures={},r.bounds=r.bounds||{min:{x:0,y:0},max:{x:r.canvas.width,y:r.canvas.height}},r.controller=n,r.options.showBroadphase=!1,1!==r.options.pixelRatio&&n.setPixelRatio(r,r.options.pixelRatio),o.isElement(r.element)&&r.element.appendChild(r.canvas),r},n.run=function(e){!function i(o){e.frameRequestId=t(i),r(e,o),n.world(e,o),e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0),(e.options.showStats||e.options.showDebug)&&n.stats(e,e.context,o),(e.options.showPerformance||e.options.showDebug)&&n.performance(e,e.context,o),e.context.setTransform(1,0,0,1,0,0)}()},n.stop=function(t){e(t.frameRequestId)},n.setPixelRatio=function(t,e){var r=t.options,n=t.canvas;"auto"===e&&(e=p(n)),r.pixelRatio=e,n.setAttribute("data-pixel-ratio",e),n.width=r.width*e,n.height=r.height*e,n.style.width=r.width+"px",n.style.height=r.height+"px"},n.setSize=function(t,e,r){t.options.width=e,t.options.height=r,t.bounds.max.x=t.bounds.min.x+e,t.bounds.max.y=t.bounds.min.y+r,1!==t.options.pixelRatio?n.setPixelRatio(t,t.options.pixelRatio):(t.canvas.width=e,t.canvas.height=r)},n.lookAt=function(t,e,r,n){n=void 0===n||n,e=o.isArray(e)?e:[e],r=r||{x:0,y:0};for(var i={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},a=0;a<e.length;a+=1){var s=e[a],u=s.bounds?s.bounds.min:s.min||s.position||s,l=s.bounds?s.bounds.max:s.max||s.position||s;u&&l&&(u.x<i.min.x&&(i.min.x=u.x),l.x>i.max.x&&(i.max.x=l.x),u.y<i.min.y&&(i.min.y=u.y),l.y>i.max.y&&(i.max.y=l.y))}var h=i.max.x-i.min.x+2*r.x,f=i.max.y-i.min.y+2*r.y,p=t.canvas.height,d=t.canvas.width/p,m=h/f,y=1,g=1;m>d?g=m/d:y=d/m,t.options.hasBounds=!0,t.bounds.min.x=i.min.x,t.bounds.max.x=i.min.x+h*y,t.bounds.min.y=i.min.y,t.bounds.max.y=i.min.y+f*g,n&&(t.bounds.min.x+=.5*h-h*y*.5,t.bounds.max.x+=.5*h-h*y*.5,t.bounds.min.y+=.5*f-f*g*.5,t.bounds.max.y+=.5*f-f*g*.5),t.bounds.min.x-=r.x,t.bounds.max.x-=r.x,t.bounds.min.y-=r.y,t.bounds.max.y-=r.y,t.mouse&&(c.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.canvas.width,y:(t.bounds.max.y-t.bounds.min.y)/t.canvas.height}),c.setOffset(t.mouse,t.bounds.min))},n.startViewTransform=function(t){var e=t.bounds.max.x-t.bounds.min.x,r=t.bounds.max.y-t.bounds.min.y,n=e/t.options.width,i=r/t.options.height;t.context.setTransform(t.options.pixelRatio/n,0,0,t.options.pixelRatio/i,0,0),t.context.translate(-t.bounds.min.x,-t.bounds.min.y)},n.endViewTransform=function(t){t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0)},n.world=function(t,e){var r,i=o.now(),h=t.engine,f=h.world,p=t.canvas,d=t.context,y=t.options,g=t.timing,v=a.allBodies(f),b=a.allConstraints(f),_=y.wireframes?y.wireframeBackground:y.background,w=[],x=[],S={timestamp:h.timing.timestamp};if(u.trigger(t,"beforeRender",S),t.currentBackground!==_&&m(t,_),d.globalCompositeOperation="source-in",d.fillStyle="transparent",d.fillRect(0,0,p.width,p.height),d.globalCompositeOperation="source-over",y.hasBounds){for(r=0;r<v.length;r++){var T=v[r];s.overlaps(T.bounds,t.bounds)&&w.push(T)}for(r=0;r<b.length;r++){var E=b[r],O=E.bodyA,A=E.bodyB,k=E.pointA,P=E.pointB;O&&(k=l.add(O.position,E.pointA)),A&&(P=l.add(A.position,E.pointB)),k&&P&&(s.contains(t.bounds,k)||s.contains(t.bounds,P))&&x.push(E)}n.startViewTransform(t),t.mouse&&(c.setScale(t.mouse,{x:(t.bounds.max.x-t.bounds.min.x)/t.options.width,y:(t.bounds.max.y-t.bounds.min.y)/t.options.height}),c.setOffset(t.mouse,t.bounds.min))}else x=b,w=v,1!==t.options.pixelRatio&&t.context.setTransform(t.options.pixelRatio,0,0,t.options.pixelRatio,0,0);!y.wireframes||h.enableSleeping&&y.showSleeping?n.bodies(t,w,d):(y.showConvexHulls&&n.bodyConvexHulls(t,w,d),n.bodyWireframes(t,w,d)),y.showBounds&&n.bodyBounds(t,w,d),(y.showAxes||y.showAngleIndicator)&&n.bodyAxes(t,w,d),y.showPositions&&n.bodyPositions(t,w,d),y.showVelocity&&n.bodyVelocity(t,w,d),y.showIds&&n.bodyIds(t,w,d),y.showSeparations&&n.separations(t,h.pairs.list,d),y.showCollisions&&n.collisions(t,h.pairs.list,d),y.showVertexNumbers&&n.vertexNumbers(t,w,d),y.showMousePosition&&n.mousePosition(t,t.mouse,d),n.constraints(x,d),y.hasBounds&&n.endViewTransform(t),u.trigger(t,"afterRender",S),g.lastElapsed=o.now()-i},n.stats=function(t,e,r){for(var n=t.engine,i=n.world,o=a.allBodies(i),s=0,u=0,l=0;l<o.length;l+=1)s+=o[l].parts.length;var c={Part:s,Body:o.length,Cons:a.allConstraints(i).length,Comp:a.allComposites(i).length,Pair:n.pairs.list.length};for(var h in e.fillStyle="#0e0f19",e.fillRect(u,0,302.5,44),e.font="12px Arial",e.textBaseline="top",e.textAlign="right",c){var f=c[h];e.fillStyle="#aaa",e.fillText(h,u+55,8),e.fillStyle="#eee",e.fillText(f,u+55,26),u+=55}},n.performance=function(t,e){var r=t.engine,i=t.timing,a=i.deltaHistory,s=i.elapsedHistory,u=i.timestampElapsedHistory,l=i.engineDeltaHistory,c=i.engineUpdatesHistory,f=i.engineElapsedHistory,p=r.timing.lastUpdatesPerFrame,d=r.timing.lastDelta,m=h(a),y=h(s),g=h(l),v=h(c),b=h(f),_=h(u)/m||0,w=Math.round(m/d),x=1e3/m||0,S=60,T=10,E=69;e.fillStyle="#0e0f19",e.fillRect(0,50,442,34),n.status(e,T,E,S,4,a.length,Math.round(x)+" fps",x/n._goodFps,(function(t){return a[t]/m-1})),n.status(e,82,E,S,4,l.length,d.toFixed(2)+" dt",n._goodDelta/d,(function(t){return l[t]/g-1})),n.status(e,154,E,S,4,c.length,p+" upf",Math.pow(o.clamp(v/w||1,0,1),4),(function(t){return c[t]/v-1})),n.status(e,226,E,S,4,f.length,b.toFixed(2)+" ut",1-p*b/n._goodFps,(function(t){return f[t]/b-1})),n.status(e,298,E,S,4,s.length,y.toFixed(2)+" rt",1-y/n._goodFps,(function(t){return s[t]/y-1})),n.status(e,370,E,S,4,u.length,_.toFixed(2)+" x",_*_*_,(function(t){return(u[t]/a[t]/_||0)-1}))},n.status=function(t,e,r,n,i,a,s,u,l){t.strokeStyle="#888",t.fillStyle="#444",t.lineWidth=1,t.fillRect(e,r+7,n,1),t.beginPath(),t.moveTo(e,r+7-i*o.clamp(.4*l(0),-2,2));for(var c=0;c<n;c+=1)t.lineTo(e+c,r+7-(c<a?i*o.clamp(.4*l(c),-2,2):0));t.stroke(),t.fillStyle="hsl("+o.clamp(25+95*u,0,120)+",100%,60%)",t.fillRect(e,r-7,4,4),t.font="12px Arial",t.textBaseline="middle",t.textAlign="right",t.fillStyle="#eee",t.fillText(s,e+n,r-5)},n.constraints=function(t,e){for(var r=e,n=0;n<t.length;n++){var i=t[n];if(i.render.visible&&i.pointA&&i.pointB){var a,s,u=i.bodyA,c=i.bodyB;if(a=u?l.add(u.position,i.pointA):i.pointA,"pin"===i.render.type)r.beginPath(),r.arc(a.x,a.y,3,0,2*Math.PI),r.closePath();else{if(s=c?l.add(c.position,i.pointB):i.pointB,r.beginPath(),r.moveTo(a.x,a.y),"spring"===i.render.type)for(var h,f=l.sub(s,a),p=l.perp(l.normalise(f)),d=Math.ceil(o.clamp(i.length/5,12,20)),m=1;m<d;m+=1)h=m%2==0?1:-1,r.lineTo(a.x+f.x*(m/d)+p.x*h*4,a.y+f.y*(m/d)+p.y*h*4);r.lineTo(s.x,s.y)}i.render.lineWidth&&(r.lineWidth=i.render.lineWidth,r.strokeStyle=i.render.strokeStyle,r.stroke()),i.render.anchors&&(r.fillStyle=i.render.strokeStyle,r.beginPath(),r.arc(a.x,a.y,3,0,2*Math.PI),r.arc(s.x,s.y,3,0,2*Math.PI),r.closePath(),r.fill())}}},n.bodies=function(t,e,r){var n,i,o,a,s=r,u=(t.engine,t.options),l=u.showInternalEdges||!u.wireframes;for(o=0;o<e.length;o++)if((n=e[o]).render.visible)for(a=n.parts.length>1?1:0;a<n.parts.length;a++)if((i=n.parts[a]).render.visible){if(u.showSleeping&&n.isSleeping?s.globalAlpha=.5*i.render.opacity:1!==i.render.opacity&&(s.globalAlpha=i.render.opacity),i.render.sprite&&i.render.sprite.texture&&!u.wireframes){var c=i.render.sprite,h=d(t,c.texture);s.translate(i.position.x,i.position.y),s.rotate(i.angle),s.drawImage(h,h.width*-c.xOffset*c.xScale,h.height*-c.yOffset*c.yScale,h.width*c.xScale,h.height*c.yScale),s.rotate(-i.angle),s.translate(-i.position.x,-i.position.y)}else{if(i.circleRadius)s.beginPath(),s.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{s.beginPath(),s.moveTo(i.vertices[0].x,i.vertices[0].y);for(var f=1;f<i.vertices.length;f++)!i.vertices[f-1].isInternal||l?s.lineTo(i.vertices[f].x,i.vertices[f].y):s.moveTo(i.vertices[f].x,i.vertices[f].y),i.vertices[f].isInternal&&!l&&s.moveTo(i.vertices[(f+1)%i.vertices.length].x,i.vertices[(f+1)%i.vertices.length].y);s.lineTo(i.vertices[0].x,i.vertices[0].y),s.closePath()}u.wireframes?(s.lineWidth=1,s.strokeStyle=t.options.wireframeStrokeStyle,s.stroke()):(s.fillStyle=i.render.fillStyle,i.render.lineWidth&&(s.lineWidth=i.render.lineWidth,s.strokeStyle=i.render.strokeStyle,s.stroke()),s.fill())}s.globalAlpha=1}},n.bodyWireframes=function(t,e,r){var n,i,o,a,s,u=r,l=t.options.showInternalEdges;for(u.beginPath(),o=0;o<e.length;o++)if((n=e[o]).render.visible)for(s=n.parts.length>1?1:0;s<n.parts.length;s++){for(i=n.parts[s],u.moveTo(i.vertices[0].x,i.vertices[0].y),a=1;a<i.vertices.length;a++)!i.vertices[a-1].isInternal||l?u.lineTo(i.vertices[a].x,i.vertices[a].y):u.moveTo(i.vertices[a].x,i.vertices[a].y),i.vertices[a].isInternal&&!l&&u.moveTo(i.vertices[(a+1)%i.vertices.length].x,i.vertices[(a+1)%i.vertices.length].y);u.lineTo(i.vertices[0].x,i.vertices[0].y)}u.lineWidth=1,u.strokeStyle=t.options.wireframeStrokeStyle,u.stroke()},n.bodyConvexHulls=function(t,e,r){var n,i,o,a=r;for(a.beginPath(),i=0;i<e.length;i++)if((n=e[i]).render.visible&&1!==n.parts.length){for(a.moveTo(n.vertices[0].x,n.vertices[0].y),o=1;o<n.vertices.length;o++)a.lineTo(n.vertices[o].x,n.vertices[o].y);a.lineTo(n.vertices[0].x,n.vertices[0].y)}a.lineWidth=1,a.strokeStyle="rgba(255,255,255,0.2)",a.stroke()},n.vertexNumbers=function(t,e,r){var n,i,o,a=r;for(n=0;n<e.length;n++){var s=e[n].parts;for(o=s.length>1?1:0;o<s.length;o++){var u=s[o];for(i=0;i<u.vertices.length;i++)a.fillStyle="rgba(255,255,255,0.2)",a.fillText(n+"_"+i,u.position.x+.8*(u.vertices[i].x-u.position.x),u.position.y+.8*(u.vertices[i].y-u.position.y))}}},n.mousePosition=function(t,e,r){var n=r;n.fillStyle="rgba(255,255,255,0.8)",n.fillText(e.position.x+"  "+e.position.y,e.position.x+5,e.position.y-5)},n.bodyBounds=function(t,e,r){var n=r,i=(t.engine,t.options);n.beginPath();for(var o=0;o<e.length;o++)if(e[o].render.visible)for(var a=e[o].parts,s=a.length>1?1:0;s<a.length;s++){var u=a[s];n.rect(u.bounds.min.x,u.bounds.min.y,u.bounds.max.x-u.bounds.min.x,u.bounds.max.y-u.bounds.min.y)}i.wireframes?n.strokeStyle="rgba(255,255,255,0.08)":n.strokeStyle="rgba(0,0,0,0.1)",n.lineWidth=1,n.stroke()},n.bodyAxes=function(t,e,r){var n,i,o,a,s=r,u=(t.engine,t.options);for(s.beginPath(),i=0;i<e.length;i++){var l=e[i],c=l.parts;if(l.render.visible)if(u.showAxes)for(o=c.length>1?1:0;o<c.length;o++)for(n=c[o],a=0;a<n.axes.length;a++){var h=n.axes[a];s.moveTo(n.position.x,n.position.y),s.lineTo(n.position.x+20*h.x,n.position.y+20*h.y)}else for(o=c.length>1?1:0;o<c.length;o++)for(n=c[o],a=0;a<n.axes.length;a++)s.moveTo(n.position.x,n.position.y),s.lineTo((n.vertices[0].x+n.vertices[n.vertices.length-1].x)/2,(n.vertices[0].y+n.vertices[n.vertices.length-1].y)/2)}u.wireframes?(s.strokeStyle="indianred",s.lineWidth=1):(s.strokeStyle="rgba(255, 255, 255, 0.4)",s.globalCompositeOperation="overlay",s.lineWidth=2),s.stroke(),s.globalCompositeOperation="source-over"},n.bodyPositions=function(t,e,r){var n,i,o,a,s=r,u=(t.engine,t.options);for(s.beginPath(),o=0;o<e.length;o++)if((n=e[o]).render.visible)for(a=0;a<n.parts.length;a++)i=n.parts[a],s.arc(i.position.x,i.position.y,3,0,2*Math.PI,!1),s.closePath();for(u.wireframes?s.fillStyle="indianred":s.fillStyle="rgba(0,0,0,0.5)",s.fill(),s.beginPath(),o=0;o<e.length;o++)(n=e[o]).render.visible&&(s.arc(n.positionPrev.x,n.positionPrev.y,2,0,2*Math.PI,!1),s.closePath());s.fillStyle="rgba(255,165,0,0.8)",s.fill()},n.bodyVelocity=function(t,e,r){var n=r;n.beginPath();for(var o=0;o<e.length;o++){var a=e[o];if(a.render.visible){var s=i.getVelocity(a);n.moveTo(a.position.x,a.position.y),n.lineTo(a.position.x+s.x,a.position.y+s.y)}}n.lineWidth=3,n.strokeStyle="cornflowerblue",n.stroke()},n.bodyIds=function(t,e,r){var n,i,o=r;for(n=0;n<e.length;n++)if(e[n].render.visible){var a=e[n].parts;for(i=a.length>1?1:0;i<a.length;i++){var s=a[i];o.font="12px Arial",o.fillStyle="rgba(255,255,255,0.5)",o.fillText(s.id,s.position.x+10,s.position.y-10)}}},n.collisions=function(t,e,r){var n,i,o,a,s=r,u=t.options;for(s.beginPath(),o=0;o<e.length;o++)if((n=e[o]).isActive)for(i=n.collision,a=0;a<n.contactCount;a++){var l=n.contacts[a].vertex;s.rect(l.x-1.5,l.y-1.5,3.5,3.5)}for(u.wireframes?s.fillStyle="rgba(255,255,255,0.7)":s.fillStyle="orange",s.fill(),s.beginPath(),o=0;o<e.length;o++)if((n=e[o]).isActive&&(i=n.collision,n.contactCount>0)){var c=n.contacts[0].vertex.x,h=n.contacts[0].vertex.y;2===n.contactCount&&(c=(n.contacts[0].vertex.x+n.contacts[1].vertex.x)/2,h=(n.contacts[0].vertex.y+n.contacts[1].vertex.y)/2),i.bodyB===i.supports[0].body||!0===i.bodyA.isStatic?s.moveTo(c-8*i.normal.x,h-8*i.normal.y):s.moveTo(c+8*i.normal.x,h+8*i.normal.y),s.lineTo(c,h)}u.wireframes?s.strokeStyle="rgba(255,165,0,0.7)":s.strokeStyle="orange",s.lineWidth=1,s.stroke()},n.separations=function(t,e,r){var n,i,o,a,s,u=r,l=t.options;for(u.beginPath(),s=0;s<e.length;s++)if((n=e[s]).isActive){o=(i=n.collision).bodyA;var c=1;(a=i.bodyB).isStatic||o.isStatic||(c=.5),a.isStatic&&(c=0),u.moveTo(a.position.x,a.position.y),u.lineTo(a.position.x-i.penetration.x*c,a.position.y-i.penetration.y*c),c=1,a.isStatic||o.isStatic||(c=.5),o.isStatic&&(c=0),u.moveTo(o.position.x,o.position.y),u.lineTo(o.position.x+i.penetration.x*c,o.position.y+i.penetration.y*c)}l.wireframes?u.strokeStyle="rgba(255,165,0,0.5)":u.strokeStyle="orange",u.stroke()},n.inspector=function(t,e){t.engine;var r,n=t.selected,i=t.render,o=i.options;if(o.hasBounds){var a=i.bounds.max.x-i.bounds.min.x,s=i.bounds.max.y-i.bounds.min.y,u=a/i.options.width,l=s/i.options.height;e.scale(1/u,1/l),e.translate(-i.bounds.min.x,-i.bounds.min.y)}for(var c=0;c<n.length;c++){var h=n[c].data;switch(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.9)",e.setLineDash([1,2]),h.type){case"body":r=h.bounds,e.beginPath(),e.rect(Math.floor(r.min.x-3),Math.floor(r.min.y-3),Math.floor(r.max.x-r.min.x+6),Math.floor(r.max.y-r.min.y+6)),e.closePath(),e.stroke();break;case"constraint":var f=h.pointA;h.bodyA&&(f=h.pointB),e.beginPath(),e.arc(f.x,f.y,10,0,2*Math.PI),e.closePath(),e.stroke()}e.setLineDash([]),e.translate(-.5,-.5)}null!==t.selectStart&&(e.translate(.5,.5),e.lineWidth=1,e.strokeStyle="rgba(255,165,0,0.6)",e.fillStyle="rgba(255,165,0,0.1)",r=t.selectBounds,e.beginPath(),e.rect(Math.floor(r.min.x),Math.floor(r.min.y),Math.floor(r.max.x-r.min.x),Math.floor(r.max.y-r.min.y)),e.closePath(),e.stroke(),e.fill(),e.translate(-.5,-.5)),o.hasBounds&&e.setTransform(1,0,0,1,0,0)};var r=function(t,e){var r=t.engine,i=t.timing,o=i.historySize,a=r.timing.timestamp;i.delta=e-i.lastTime||n._goodDelta,i.lastTime=e,i.timestampElapsed=a-i.lastTimestamp||0,i.lastTimestamp=a,i.deltaHistory.unshift(i.delta),i.deltaHistory.length=Math.min(i.deltaHistory.length,o),i.engineDeltaHistory.unshift(r.timing.lastDelta),i.engineDeltaHistory.length=Math.min(i.engineDeltaHistory.length,o),i.timestampElapsedHistory.unshift(i.timestampElapsed),i.timestampElapsedHistory.length=Math.min(i.timestampElapsedHistory.length,o),i.engineUpdatesHistory.unshift(r.timing.lastUpdatesPerFrame),i.engineUpdatesHistory.length=Math.min(i.engineUpdatesHistory.length,o),i.engineElapsedHistory.unshift(r.timing.lastElapsed),i.engineElapsedHistory.length=Math.min(i.engineElapsedHistory.length,o),i.elapsedHistory.unshift(i.lastElapsed),i.elapsedHistory.length=Math.min(i.elapsedHistory.length,o)},h=function(t){for(var e=0,r=0;r<t.length;r+=1)e+=t[r];return e/t.length||0},f=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r.oncontextmenu=function(){return!1},r.onselectstart=function(){return!1},r},p=function(t){var e=t.getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},d=function(t,e){var r=t.textures[e];return r||((r=t.textures[e]=new Image).src=e,r)},m=function(t,e){var r=e;/(jpg|gif|png)$/.test(e)&&(r="url("+e+")"),t.canvas.style.background=r,t.canvas.style.backgroundSize="contain",t.currentBackground=e}}()},function(t,e,r){var n={};t.exports=n;var i=r(5),o=r(17),a=r(0);!function(){n._maxFrameDelta=1e3/15,n._frameDeltaFallback=1e3/60,n._timeBufferMargin=1.5,n._elapsedNextEstimate=1,n._smoothingLowerBound=.1,n._smoothingUpperBound=.9,n.create=function(t){var e=a.extend({delta:1e3/60,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:1e3/30,lastUpdatesDeferred:0,enabled:!0},t);return e.fps=0,e},n.run=function(t,e){return t.timeBuffer=n._frameDeltaFallback,function r(i){t.frameRequestId=n._onNextFrame(t,r),i&&t.enabled&&n.tick(t,e,i)}(),t},n.tick=function(e,r,s){var u=a.now(),l=e.delta,c=0,h=s-e.timeLastTick;if((!h||!e.timeLastTick||h>Math.max(n._maxFrameDelta,e.maxFrameTime))&&(h=e.frameDelta||n._frameDeltaFallback),e.frameDeltaSmoothing){e.frameDeltaHistory.push(h),e.frameDeltaHistory=e.frameDeltaHistory.slice(-e.frameDeltaHistorySize);var f=e.frameDeltaHistory.slice(0).sort(),p=e.frameDeltaHistory.slice(f.length*n._smoothingLowerBound,f.length*n._smoothingUpperBound);h=t(p)||h}e.frameDeltaSnapping&&(h=1e3/Math.round(1e3/h)),e.frameDelta=h,e.timeLastTick=s,e.timeBuffer+=e.frameDelta,e.timeBuffer=a.clamp(e.timeBuffer,0,e.frameDelta+l*n._timeBufferMargin),e.lastUpdatesDeferred=0;var d=e.maxUpdates||Math.ceil(e.maxFrameTime/l),m={timestamp:r.timing.timestamp};i.trigger(e,"beforeTick",m),i.trigger(e,"tick",m);for(var y=a.now();l>0&&e.timeBuffer>=l*n._timeBufferMargin;){i.trigger(e,"beforeUpdate",m),o.update(r,l),i.trigger(e,"afterUpdate",m),e.timeBuffer-=l,c+=1;var g=a.now()-u,v=a.now()-y,b=g+n._elapsedNextEstimate*v/c;if(c>=d||b>e.maxFrameTime){e.lastUpdatesDeferred=Math.round(Math.max(0,e.timeBuffer/l-n._timeBufferMargin));break}}r.timing.lastUpdatesPerFrame=c,i.trigger(e,"afterTick",m),e.frameDeltaHistory.length>=100&&(e.lastUpdatesDeferred&&Math.round(e.frameDelta/l)>d?a.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):e.lastUpdatesDeferred&&a.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),void 0!==e.isFixed&&a.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(e.deltaMin||e.deltaMax)&&a.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),0!==e.fps&&a.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},n.stop=function(t){n._cancelNextFrame(t)},n._onNextFrame=function(t,e){if("undefined"==typeof window||!window.requestAnimationFrame)throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return t.frameRequestId=window.requestAnimationFrame(e),t.frameRequestId},n._cancelNextFrame=function(t){if("undefined"==typeof window||!window.cancelAnimationFrame)throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.");window.cancelAnimationFrame(t.frameRequestId)};var t=function(t){for(var e=0,r=t.length,n=0;n<r;n+=1)e+=t[n];return e/r||0}}()},function(t,e,r){var n={};t.exports=n;var i=r(8),o=r(0).deprecated;n.collides=function(t,e){return i.collides(t,e)},o(n,"collides","SAT.collides ➤ replaced by Collision.collides")},function(t,e,r){var n={};t.exports=n,r(1);var i=r(0);n.pathToVertices=function(t,e){"undefined"==typeof window||"SVGPathSeg"in window||i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var r,o,a,s,u,l,c,h,f,p,d,m=[],y=0,g=0,v=0;e=e||15;var b=function(t,e,r){var n=r%2==1&&r>1;if(!f||t!=f.x||e!=f.y){f&&n?(p=f.x,d=f.y):(p=0,d=0);var i={x:p+t,y:d+e};!n&&f||(f=i),m.push(i),g=p+t,v=d+e}},_=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":g=t.x,v=t.y;break;case"H":g=t.x;break;case"V":v=t.y}b(g,v,t.pathSegType)}};for(n._svgPathToAbsolute(t),a=t.getTotalLength(),l=[],r=0;r<t.pathSegList.numberOfItems;r+=1)l.push(t.pathSegList.getItem(r));for(c=l.concat();y<a;){if((u=l[t.getPathSegAtLength(y)])!=h){for(;c.length&&c[0]!=u;)_(c.shift());h=u}switch(u.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":s=t.getPointAtLength(y),b(s.x,s.y,0)}y+=e}for(r=0,o=c.length;r<o;++r)_(c[r]);return m},n._svgPathToAbsolute=function(t){for(var e,r,n,i,o,a,s=t.pathSegList,u=0,l=0,c=s.numberOfItems,h=0;h<c;++h){var f=s.getItem(h),p=f.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in f&&(u=f.x),"y"in f&&(l=f.y);else switch("x1"in f&&(n=u+f.x1),"x2"in f&&(o=u+f.x2),"y1"in f&&(i=l+f.y1),"y2"in f&&(a=l+f.y2),"x"in f&&(u+=f.x),"y"in f&&(l+=f.y),p){case"m":s.replaceItem(t.createSVGPathSegMovetoAbs(u,l),h);break;case"l":s.replaceItem(t.createSVGPathSegLinetoAbs(u,l),h);break;case"h":s.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(u),h);break;case"v":s.replaceItem(t.createSVGPathSegLinetoVerticalAbs(l),h);break;case"c":s.replaceItem(t.createSVGPathSegCurvetoCubicAbs(u,l,n,i,o,a),h);break;case"s":s.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(u,l,o,a),h);break;case"q":s.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(u,l,n,i),h);break;case"t":s.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(u,l),h);break;case"a":s.replaceItem(t.createSVGPathSegArcAbs(u,l,f.r1,f.r2,f.angle,f.largeArcFlag,f.sweepFlag),h);break;case"z":case"Z":u=e,l=r}"M"!=p&&"m"!=p||(e=u,r=l)}}},function(t,e,r){var n={};t.exports=n;var i=r(6);r(0),n.create=i.create,n.add=i.add,n.remove=i.remove,n.clear=i.clear,n.addComposite=i.addComposite,n.addBody=i.addBody,n.addConstraint=i.addConstraint}])},t.exports=n()},2940:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){n(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof i))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new i(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new i(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof i))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=i,e.default=a,t.exports=e.default},8949:(t,e,r)=>{"use strict";r.d(e,{EH:()=>Ne,Fl:()=>Nt,LO:()=>Bt,U5:()=>De,aD:()=>Le,jQ:()=>Xe});function n(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw new Error("number"==typeof t?"[MobX] minified error nr: "+t+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var i={};function o(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:i}var a=Object.assign,s=Object.getOwnPropertyDescriptor,u=Object.defineProperty,l=Object.prototype,c=[];Object.freeze(c);var h={};Object.freeze(h);var f="undefined"!=typeof Proxy,p=Object.toString();function d(){f||n("Proxy not available")}function m(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var y=function(){};function g(t){return"function"==typeof t}function v(t){switch(typeof t){case"string":case"symbol":case"number":return!0}return!1}function b(t){return null!==t&&"object"==typeof t}function _(t){if(!b(t))return!1;var e=Object.getPrototypeOf(t);if(null==e)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r.toString()===p}function w(t){var e=null==t?void 0:t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName)}function x(t,e,r){u(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}function S(t,e,r){u(t,e,{enumerable:!1,writable:!1,configurable:!0,value:r})}function T(t,e){var r="isMobX"+t;return e.prototype[r]=!0,function(t){return b(t)&&!0===t[r]}}function E(t){return null!=t&&"[object Map]"===Object.prototype.toString.call(t)}function O(t){return null!=t&&"[object Set]"===Object.prototype.toString.call(t)}var A=void 0!==Object.getOwnPropertySymbols;var k="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:A?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function P(t){return null===t?null:"object"==typeof t?""+t:t}function C(t,e){return l.hasOwnProperty.call(t,e)}var M=Object.getOwnPropertyDescriptors||function(t){var e={};return k(t).forEach((function(r){e[r]=s(t,r)})),e};function I(t,e){return!!(t&e)}function j(t,e,r){return r?t|=e:t&=~e,t}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D(n.key),n)}}function R(t,e,r){return e&&L(t.prototype,e),r&&L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function q(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return B(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(){return N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N.apply(null,arguments)}function F(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,V(t,e)}function V(t,e){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},V(t,e)}function D(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}var G=Symbol("mobx-stored-annotations");function z(t){return Object.assign((function(e,r){if(Y(r))return t.decorate_20223_(e,r);U(e,r,t)}),t)}function U(t,e,r){C(t,G)||x(t,G,N({},t[G])),function(t){return t.annotationType_===$}(r)||(t[G][e]=r)}function Y(t){return"object"==typeof t&&"string"==typeof t.kind}var X=Symbol("mobx administration"),W=function(){function t(t){void 0===t&&(t="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Kt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach((function(t){return t()}))},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(t){return t()}))},e.reportObserved=function(){return _e(this)},e.reportChanged=function(){ve(),we(this),be()},e.toString=function(){return this.name_},R(t,[{key:"isBeingObserved",get:function(){return I(this.flags_,t.isBeingObservedMask_)},set:function(e){this.flags_=j(this.flags_,t.isBeingObservedMask_,e)}},{key:"isPendingUnobservation",get:function(){return I(this.flags_,t.isPendingUnobservationMask_)},set:function(e){this.flags_=j(this.flags_,t.isPendingUnobservationMask_,e)}},{key:"diffValue",get:function(){return I(this.flags_,t.diffValueMask_)?1:0},set:function(e){this.flags_=j(this.flags_,t.diffValueMask_,1===e)}}])}();W.isBeingObservedMask_=1,W.isPendingUnobservationMask_=2,W.diffValueMask_=4;var H=T("Atom",W);function Z(t,e,r){void 0===e&&(e=y),void 0===r&&(r=y);var n,i=new W(t);return e!==y&&Ue(Ge,i,e,n),r!==y&&ze(i,r),i}var K={identity:function(t,e){return t===e},structural:function(t,e){return sn(t,e)},default:function(t,e){return Object.is?Object.is(t,e):t===e?0!==t||1/t==1/e:t!=t&&e!=e},shallow:function(t,e){return sn(t,e,1)}};function Q(t,e,r){return rr(t)?t:Array.isArray(t)?Bt.array(t,{name:r}):_(t)?Bt.object(t,void 0,{name:r}):E(t)?Bt.map(t,{name:r}):O(t)?Bt.set(t,{name:r}):"function"!=typeof t||qe(t)||tr(t)?t:w(t)?Je(t):Re(r,t)}function J(t){return t}var $="override";function tt(t,e){return{annotationType_:t,options_:e,make_:et,extend_:rt,decorate_20223_:nt}}function et(t,e,r,n){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(t,e,r,!1)?0:1;if(n===t.target_)return null===this.extend_(t,e,r,!1)?0:2;if(qe(r.value))return 1;var o=it(t,this,e,r,!1);return u(n,e,o),2}function rt(t,e,r,n){var i=it(t,this,e,r);return t.defineProperty_(e,i,n)}function nt(t,e){var r,i=e.kind,o=e.name,a=e.addInitializer,s=this,u=function(t){var e,r,n,i;return zt(null!=(e=null==(r=s.options_)?void 0:r.name)?e:o.toString(),t,null!=(n=null==(i=s.options_)?void 0:i.autoAction)&&n)};return"field"==i?function(t){var e,r=t;return qe(r)||(r=u(r)),null!=(e=s.options_)&&e.bound&&((r=r.bind(this)).isMobxAction=!0),r}:"method"==i?(qe(t)||(t=u(t)),null!=(r=this.options_)&&r.bound&&a((function(){var t=this,e=t[o].bind(t);e.isMobxAction=!0,t[o]=e})),t):void n("Cannot apply '"+s.annotationType_+"' to '"+String(o)+"' (kind: "+i+"):\n'"+s.annotationType_+"' can only be used on properties with a function value.")}function it(t,e,r,n,i){var o,a,s,u,l,c,h,f;void 0===i&&(i=de.safeDescriptors),f=n,e.annotationType_,f.value;var p,d=n.value;null!=(o=e.options_)&&o.bound&&(d=d.bind(null!=(p=t.proxy_)?p:t.target_));return{value:zt(null!=(a=null==(s=e.options_)?void 0:s.name)?a:r.toString(),d,null!=(u=null==(l=e.options_)?void 0:l.autoAction)&&u,null!=(c=e.options_)&&c.bound?null!=(h=t.proxy_)?h:t.target_:void 0),configurable:!i||t.isPlainObject_,enumerable:!1,writable:!i}}function ot(t,e){return{annotationType_:t,options_:e,make_:at,extend_:st,decorate_20223_:ut}}function at(t,e,r,n){var i;if(n===t.target_)return null===this.extend_(t,e,r,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!C(t.target_,e)||!tr(t.target_[e]))&&null===this.extend_(t,e,r,!1))return 0;if(tr(r.value))return 1;var o=lt(t,this,e,r,!1,!1);return u(n,e,o),2}function st(t,e,r,n){var i,o=lt(t,this,e,r,null==(i=this.options_)?void 0:i.bound);return t.defineProperty_(e,o,n)}function ut(t,e){var r;var n=e.name,i=e.addInitializer;return tr(t)||(t=Je(t)),null!=(r=this.options_)&&r.bound&&i((function(){var t=this,e=t[n].bind(t);e.isMobXFlow=!0,t[n]=e})),t}function lt(t,e,r,n,i,o){var a;void 0===o&&(o=de.safeDescriptors),a=n,e.annotationType_,a.value;var s,u=n.value;(tr(u)||(u=Je(u)),i)&&((u=u.bind(null!=(s=t.proxy_)?s:t.target_)).isMobXFlow=!0);return{value:u,configurable:!o||t.isPlainObject_,enumerable:!1,writable:!o}}function ct(t,e){return{annotationType_:t,options_:e,make_:ht,extend_:ft,decorate_20223_:pt}}function ht(t,e,r){return null===this.extend_(t,e,r,!1)?0:1}function ft(t,e,r,n){return function(t,e,r,n){e.annotationType_,n.get;0}(0,this,0,r),t.defineComputedProperty_(e,N({},this.options_,{get:r.get,set:r.set}),n)}function pt(t,e){var r=this,n=e.name;return(0,e.addInitializer)((function(){var e=qr(this)[X],i=N({},r.options_,{get:t,context:this});i.name||(i.name="ObservableObject."+n.toString()),e.values_.set(n,new Zt(i))})),function(){return this[X].getObservablePropValue_(n)}}function dt(t,e){return{annotationType_:t,options_:e,make_:mt,extend_:yt,decorate_20223_:gt}}function mt(t,e,r){return null===this.extend_(t,e,r,!1)?0:1}function yt(t,e,r,n){var i,o;return function(t,e,r,n){e.annotationType_;0}(0,this),t.defineObservableProperty_(e,r.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:Q,n)}function gt(t,e){var r=this,n=e.kind,i=e.name,o=new WeakSet;function a(t,e){var n,a,s=qr(t)[X],u=new Ht(e,null!=(n=null==(a=r.options_)?void 0:a.enhancer)?n:Q,"ObservableObject."+i.toString(),!1);s.values_.set(i,u),o.add(t)}if("accessor"==n)return{get:function(){return o.has(this)||a(this,t.get.call(this)),this[X].getObservablePropValue_(i)},set:function(t){return o.has(this)||a(this,t),this[X].setObservablePropValue_(i,t)},init:function(t){return o.has(this)||a(this,t),t}}}var vt=bt();function bt(t){return{annotationType_:"true",options_:t,make_:_t,extend_:wt,decorate_20223_:xt}}function _t(t,e,r,n){var i,o,a,s;if(r.get)return Nt.make_(t,e,r,n);if(r.set){var l=zt(e.toString(),r.set);return n===t.target_?null===t.defineProperty_(e,{configurable:!de.safeDescriptors||t.isPlainObject_,set:l})?0:2:(u(n,e,{configurable:!0,set:l}),2)}if(n!==t.target_&&"function"==typeof r.value)return w(r.value)?(null!=(s=this.options_)&&s.autoBind?Je.bound:Je).make_(t,e,r,n):(null!=(a=this.options_)&&a.autoBind?Re.bound:Re).make_(t,e,r,n);var c,h=!1===(null==(i=this.options_)?void 0:i.deep)?Bt.ref:Bt;"function"==typeof r.value&&null!=(o=this.options_)&&o.autoBind&&(r.value=r.value.bind(null!=(c=t.proxy_)?c:t.target_));return h.make_(t,e,r,n)}function wt(t,e,r,n){var i,o,a;if(r.get)return Nt.extend_(t,e,r,n);if(r.set)return t.defineProperty_(e,{configurable:!de.safeDescriptors||t.isPlainObject_,set:zt(e.toString(),r.set)},n);"function"==typeof r.value&&null!=(i=this.options_)&&i.autoBind&&(r.value=r.value.bind(null!=(a=t.proxy_)?a:t.target_));return(!1===(null==(o=this.options_)?void 0:o.deep)?Bt.ref:Bt).extend_(t,e,r,n)}function xt(t,e){n("'"+this.annotationType_+"' cannot be used as a decorator")}var St={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Tt(t){return t||St}Object.freeze(St);var Et=dt("observable"),Ot=dt("observable.ref",{enhancer:J}),At=dt("observable.shallow",{enhancer:function(t,e,r){return null==t||Vr(t)||Sr(t)||kr(t)||Ir(t)?t:Array.isArray(t)?Bt.array(t,{name:r,deep:!1}):_(t)?Bt.object(t,void 0,{name:r,deep:!1}):E(t)?Bt.map(t,{name:r,deep:!1}):O(t)?Bt.set(t,{name:r,deep:!1}):void 0}}),kt=dt("observable.struct",{enhancer:function(t,e){return sn(t,e)?e:t}}),Pt=z(Et);function Ct(t){return!0===t.deep?Q:!1===t.deep?J:(e=t.defaultDecorator)&&null!=(r=null==(n=e.options_)?void 0:n.enhancer)?r:Q;var e,r,n}function Mt(t,e,r){return Y(e)?Et.decorate_20223_(t,e):v(e)?void U(t,e,Et):rr(t)?t:_(t)?Bt.object(t,e,r):Array.isArray(t)?Bt.array(t,e):E(t)?Bt.map(t,e):O(t)?Bt.set(t,e):"object"==typeof t&&null!==t?t:Bt.box(t,e)}a(Mt,Pt);var It,jt,Bt=a(Mt,{box:function(t,e){var r=Tt(e);return new Ht(t,Ct(r),r.name,!0,r.equals)},array:function(t,e){var r=Tt(e);return(!1===de.useProxies||!1===r.proxy?$r:yr)(t,Ct(r),r.name)},map:function(t,e){var r=Tt(e);return new Ar(t,Ct(r),r.name)},set:function(t,e){var r=Tt(e);return new Mr(t,Ct(r),r.name)},object:function(t,e,r){return nn((function(){return We(!1===de.useProxies||!1===(null==r?void 0:r.proxy)?qr({},r):function(t,e){var r,n;return d(),t=qr(t,e),null!=(n=(r=t[X]).proxy_)?n:r.proxy_=new Proxy(t,or)}({},r),t,e)}))},ref:z(Ot),shallow:z(At),deep:Pt,struct:z(kt)}),Lt="computed",Rt=ct(Lt),qt=ct("computed.struct",{equals:K.structural}),Nt=function(t,e){if(Y(e))return Rt.decorate_20223_(t,e);if(v(e))return U(t,e,Rt);if(_(t))return z(ct(Lt,t));var r=_(e)?e:{};return r.get=t,r.name||(r.name=t.name||""),new Zt(r)};Object.assign(Nt,Rt),Nt.struct=z(qt);var Ft=0,Vt=1,Dt=null!=(It=null==(jt=s((function(){}),"name"))?void 0:jt.configurable)&&It,Gt={value:"action",configurable:!0,writable:!1,enumerable:!1};function zt(t,e,r,n){function i(){return Ut(t,r,e,n||this,arguments)}return void 0===r&&(r=!1),i.isMobxAction=!0,i.toString=function(){return e.toString()},Dt&&(Gt.value=t,u(i,"name",Gt)),i}function Ut(t,e,r,i,o){var a=function(t,e,r,n){var i=!1,o=0;0;var a=de.trackingDerivation,s=!e||!a;ve();var u=de.allowStateChanges;s&&(ae(),u=Xt(!0));var l=ue(!0),c={runAsAction_:s,prevDerivation_:a,prevAllowStateChanges_:u,prevAllowStateReads_:l,notifySpy_:i,startTime_:o,actionId_:Vt++,parentActionId_:Ft};return Ft=c.actionId_,c}(0,e);try{return r.apply(i,o)}catch(t){throw a.error_=t,t}finally{!function(t){Ft!==t.actionId_&&n(30);Ft=t.parentActionId_,void 0!==t.error_&&(de.suppressReactionErrors=!0);Wt(t.prevAllowStateChanges_),le(t.prevAllowStateReads_),be(),t.runAsAction_&&se(t.prevDerivation_);0;de.suppressReactionErrors=!1}(a)}}function Yt(t,e){var r=Xt(t);try{return e()}finally{Wt(r)}}function Xt(t){var e=de.allowStateChanges;return de.allowStateChanges=t,e}function Wt(t){de.allowStateChanges=t}var Ht=function(t){function e(e,r,n,i,o){var a;return void 0===n&&(n="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=K.default),(a=t.call(this,n)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=r,a.name_=n,a.equals=o,a.value_=r(e,void 0,n),a}F(e,t);var r=e.prototype;return r.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},r.set=function(t){this.value_;if((t=this.prepareNewValue_(t))!==de.UNCHANGED){0,this.setNewValue_(t)}},r.prepareNewValue_=function(t){if(re(this),ar(this)){var e=ur(this,{object:this,type:pr,newValue:t});if(!e)return de.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?de.UNCHANGED:t},r.setNewValue_=function(t){var e=this.value_;this.value_=t,this.reportChanged(),lr(this)&&hr(this,{type:pr,object:this,newValue:t,oldValue:e})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(t){return sr(this,t)},r.observe_=function(t,e){return e&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:pr,newValue:this.value_,oldValue:void 0}),cr(this,t)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return P(this.get())},r[Symbol.toPrimitive]=function(){return this.valueOf()},e}(W),Zt=function(){function t(t){this.dependenciesState_=Kt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Kt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new $t(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Qt.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||n(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=zt("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?K.structural:K.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){!function(t){if(t.lowestObserverState_!==Kt.UP_TO_DATE_)return;t.lowestObserverState_=Kt.POSSIBLY_STALE_,t.observers_.forEach((function(t){t.dependenciesState_===Kt.UP_TO_DATE_&&(t.dependenciesState_=Kt.POSSIBLY_STALE_,t.onBecomeStale_())}))}(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach((function(t){return t()}))},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(t){return t()}))},e.get=function(){if(this.isComputing&&n(32,this.name_,this.derivation),0!==de.inBatch||0!==this.observers_.size||this.keepAlive_){if(_e(this),ee(this)){var t=de.trackingContext;this.keepAlive_&&!t&&(de.trackingContext=this),this.trackAndCompute()&&function(t){if(t.lowestObserverState_===Kt.STALE_)return;t.lowestObserverState_=Kt.STALE_,t.observers_.forEach((function(e){e.dependenciesState_===Kt.POSSIBLY_STALE_?e.dependenciesState_=Kt.STALE_:e.dependenciesState_===Kt.UP_TO_DATE_&&(t.lowestObserverState_=Kt.UP_TO_DATE_)}))}(this),de.trackingContext=t}}else ee(this)&&(this.warnAboutUntrackedRead_(),ve(),this.value_=this.computeValue_(!1),be());var e=this.value_;if(te(e))throw e.cause;return e},e.set=function(t){if(this.setter_){this.isRunningSetter&&n(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter=!1}}else n(34,this.name_)},e.trackAndCompute=function(){var t=this.value_,e=this.dependenciesState_===Kt.NOT_TRACKING_,r=this.computeValue_(!0),n=e||te(t)||te(r)||!this.equals_(t,r);return n&&(this.value_=r),n},e.computeValue_=function(t){this.isComputing=!0;var e,r=Xt(!1);if(t)e=ne(this,this.derivation,this.scope_);else if(!0===de.disableErrorBoundaries)e=this.derivation.call(this.scope_);else try{e=this.derivation.call(this.scope_)}catch(t){e=new $t(t)}return Wt(r),this.isComputing=!1,e},e.suspend_=function(){this.keepAlive_||(ie(this),this.value_=void 0)},e.observe_=function(t,e){var r=this,n=!0,i=void 0;return Ne((function(){var o=r.get();if(!n||e){var a=ae();t({observableKind:"computed",debugObjectName:r.name_,type:pr,object:r,newValue:o,oldValue:i}),se(a)}n=!1,i=o}))},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return P(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},R(t,[{key:"isComputing",get:function(){return I(this.flags_,t.isComputingMask_)},set:function(e){this.flags_=j(this.flags_,t.isComputingMask_,e)}},{key:"isRunningSetter",get:function(){return I(this.flags_,t.isRunningSetterMask_)},set:function(e){this.flags_=j(this.flags_,t.isRunningSetterMask_,e)}},{key:"isBeingObserved",get:function(){return I(this.flags_,t.isBeingObservedMask_)},set:function(e){this.flags_=j(this.flags_,t.isBeingObservedMask_,e)}},{key:"isPendingUnobservation",get:function(){return I(this.flags_,t.isPendingUnobservationMask_)},set:function(e){this.flags_=j(this.flags_,t.isPendingUnobservationMask_,e)}},{key:"diffValue",get:function(){return I(this.flags_,t.diffValueMask_)?1:0},set:function(e){this.flags_=j(this.flags_,t.diffValueMask_,1===e)}}])}();Zt.isComputingMask_=1,Zt.isRunningSetterMask_=2,Zt.isBeingObservedMask_=4,Zt.isPendingUnobservationMask_=8,Zt.diffValueMask_=16;var Kt,Qt,Jt=T("ComputedValue",Zt);!function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"}(Kt||(Kt={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(Qt||(Qt={}));var $t=function(t){this.cause=void 0,this.cause=t};function te(t){return t instanceof $t}function ee(t){switch(t.dependenciesState_){case Kt.UP_TO_DATE_:return!1;case Kt.NOT_TRACKING_:case Kt.STALE_:return!0;case Kt.POSSIBLY_STALE_:for(var e=ue(!0),r=ae(),n=t.observing_,i=n.length,o=0;o<i;o++){var a=n[o];if(Jt(a)){if(de.disableErrorBoundaries)a.get();else try{a.get()}catch(t){return se(r),le(e),!0}if(t.dependenciesState_===Kt.STALE_)return se(r),le(e),!0}}return ce(t),se(r),le(e),!1}}function re(t){}function ne(t,e,r){var n=ue(!0);ce(t),t.newObserving_=new Array(0===t.runId_?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++de.runId;var i,o=de.trackingDerivation;if(de.trackingDerivation=t,de.inBatch++,!0===de.disableErrorBoundaries)i=e.call(r);else try{i=e.call(r)}catch(t){i=new $t(t)}return de.inBatch--,de.trackingDerivation=o,function(t){for(var e=t.observing_,r=t.observing_=t.newObserving_,n=Kt.UP_TO_DATE_,i=0,o=t.unboundDepsCount_,a=0;a<o;a++){var s=r[a];0===s.diffValue&&(s.diffValue=1,i!==a&&(r[i]=s),i++),s.dependenciesState_>n&&(n=s.dependenciesState_)}r.length=i,t.newObserving_=null,o=e.length;for(;o--;){var u=e[o];0===u.diffValue&&ye(u,t),u.diffValue=0}for(;i--;){var l=r[i];1===l.diffValue&&(l.diffValue=0,me(l,t))}n!==Kt.UP_TO_DATE_&&(t.dependenciesState_=n,t.onBecomeStale_())}(t),le(n),i}function ie(t){var e=t.observing_;t.observing_=[];for(var r=e.length;r--;)ye(e[r],t);t.dependenciesState_=Kt.NOT_TRACKING_}function oe(t){var e=ae();try{return t()}finally{se(e)}}function ae(){var t=de.trackingDerivation;return de.trackingDerivation=null,t}function se(t){de.trackingDerivation=t}function ue(t){var e=de.allowStateReads;return de.allowStateReads=t,e}function le(t){de.allowStateReads=t}function ce(t){if(t.dependenciesState_!==Kt.UP_TO_DATE_){t.dependenciesState_=Kt.UP_TO_DATE_;for(var e=t.observing_,r=e.length;r--;)e[r].lowestObserverState_=Kt.UP_TO_DATE_}}var he=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},fe=!0,pe=!1,de=function(){var t=o();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(fe=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new he).version&&(fe=!1),fe?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new he):(setTimeout((function(){pe||n(35)}),1),new he)}();function me(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function ye(t,e){t.observers_.delete(e),0===t.observers_.size&&ge(t)}function ge(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,de.pendingUnobservations.push(t))}function ve(){de.inBatch++}function be(){if(0==--de.inBatch){Te();for(var t=de.pendingUnobservations,e=0;e<t.length;e++){var r=t[e];r.isPendingUnobservation=!1,0===r.observers_.size&&(r.isBeingObserved&&(r.isBeingObserved=!1,r.onBUO()),r instanceof Zt&&r.suspend_())}de.pendingUnobservations=[]}}function _e(t){var e=de.trackingDerivation;return null!==e?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&de.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(0===t.observers_.size&&de.inBatch>0&&ge(t),!1)}function we(t){t.lowestObserverState_!==Kt.STALE_&&(t.lowestObserverState_=Kt.STALE_,t.observers_.forEach((function(t){t.dependenciesState_===Kt.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=Kt.STALE_})))}var xe=function(){function t(t,e,r,n){void 0===t&&(t="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Kt.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Qt.NONE,this.name_=t,this.onInvalidate_=e,this.errorHandler_=r,this.requiresObservable_=n}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,de.pendingReactions.push(this),Te())},e.runReaction_=function(){if(!this.isDisposed){ve(),this.isScheduled=!1;var t=de.trackingContext;if(de.trackingContext=this,ee(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(t){this.reportExceptionInDerivation_(t)}}de.trackingContext=t,be()}},e.track=function(t){if(!this.isDisposed){ve();0,this.isRunning=!0;var e=de.trackingContext;de.trackingContext=this;var r=ne(this,t,void 0);de.trackingContext=e,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&ie(this),te(r)&&this.reportExceptionInDerivation_(r.cause),be()}},e.reportExceptionInDerivation_=function(t){var e=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(de.disableErrorBoundaries)throw t;var r="[mobx] uncaught error in '"+this+"'";de.suppressReactionErrors||console.error(r,t),de.globalReactionErrorHandlers.forEach((function(r){return r(t,e)}))}},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(ve(),ie(this),be()))},e.getDisposer_=function(t){var e=this,r=function r(){e.dispose(),null==t||null==t.removeEventListener||t.removeEventListener("abort",r)};return null==t||null==t.addEventListener||t.addEventListener("abort",r),r[X]=this,r},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(t){void 0===t&&(t=!1)},R(t,[{key:"isDisposed",get:function(){return I(this.flags_,t.isDisposedMask_)},set:function(e){this.flags_=j(this.flags_,t.isDisposedMask_,e)}},{key:"isScheduled",get:function(){return I(this.flags_,t.isScheduledMask_)},set:function(e){this.flags_=j(this.flags_,t.isScheduledMask_,e)}},{key:"isTrackPending",get:function(){return I(this.flags_,t.isTrackPendingMask_)},set:function(e){this.flags_=j(this.flags_,t.isTrackPendingMask_,e)}},{key:"isRunning",get:function(){return I(this.flags_,t.isRunningMask_)},set:function(e){this.flags_=j(this.flags_,t.isRunningMask_,e)}},{key:"diffValue",get:function(){return I(this.flags_,t.diffValueMask_)?1:0},set:function(e){this.flags_=j(this.flags_,t.diffValueMask_,1===e)}}])}();xe.isDisposedMask_=1,xe.isScheduledMask_=2,xe.isTrackPendingMask_=4,xe.isRunningMask_=8,xe.diffValueMask_=16;var Se=function(t){return t()};function Te(){de.inBatch>0||de.isRunningReactions||Se(Ee)}function Ee(){de.isRunningReactions=!0;for(var t=de.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var r=t.splice(0),n=0,i=r.length;n<i;n++)r[n].runReaction_()}de.isRunningReactions=!1}var Oe=T("Reaction",xe);var Ae="action",ke="autoAction",Pe="<unnamed action>",Ce=tt(Ae),Me=tt("action.bound",{bound:!0}),Ie=tt(ke,{autoAction:!0}),je=tt("autoAction.bound",{autoAction:!0,bound:!0});function Be(t){return function(e,r){return g(e)?zt(e.name||Pe,e,t):g(r)?zt(e,r,t):Y(r)?(t?Ie:Ce).decorate_20223_(e,r):v(r)?U(e,r,t?Ie:Ce):v(e)?z(tt(t?ke:Ae,{name:e,autoAction:t})):void 0}}var Le=Be(!1);Object.assign(Le,Ce);var Re=Be(!0);function qe(t){return g(t)&&!0===t.isMobxAction}function Ne(t,e){var r,n,i,o;void 0===e&&(e=h);var a,s=null!=(r=null==(n=e)?void 0:n.name)?r:"Autorun";if(!e.scheduler&&!e.delay)a=new xe(s,(function(){this.track(c)}),e.onError,e.requiresObservable);else{var u=Ve(e),l=!1;a=new xe(s,(function(){l||(l=!0,u((function(){l=!1,a.isDisposed||a.track(c)})))}),e.onError,e.requiresObservable)}function c(){t(a)}return null!=(i=e)&&null!=(i=i.signal)&&i.aborted||a.schedule_(),a.getDisposer_(null==(o=e)?void 0:o.signal)}Object.assign(Re,Ie),Le.bound=z(Me),Re.bound=z(je);var Fe=function(t){return t()};function Ve(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:Fe}function De(t,e,r){var n,i,o;void 0===r&&(r=h);var a,s,u,l=null!=(n=r.name)?n:"Reaction",c=Le(l,r.onError?(a=r.onError,s=e,function(){try{return s.apply(this,arguments)}catch(t){a.call(this,t)}}):e),f=!r.scheduler&&!r.delay,p=Ve(r),d=!0,m=!1,y=r.compareStructural?K.structural:r.equals||K.default,g=new xe(l,(function(){d||f?v():m||(m=!0,p(v))}),r.onError,r.requiresObservable);function v(){if(m=!1,!g.isDisposed){var e=!1,n=u;g.track((function(){var r=Yt(!1,(function(){return t(g)}));e=d||!y(u,r),u=r})),(d&&r.fireImmediately||!d&&e)&&c(u,n,g),d=!1}}return null!=(i=r)&&null!=(i=i.signal)&&i.aborted||g.schedule_(),g.getDisposer_(null==(o=r)?void 0:o.signal)}var Ge="onBO";function ze(t,e,r){return Ue("onBUO",t,e,r)}function Ue(t,e,r,n){var i="function"==typeof n?tn(e,r):tn(e),o=g(n)?n:r,a=t+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var t=i[a];t&&(t.delete(o),0===t.size&&delete i[a])}}var Ye="always";function Xe(t){!0===t.isolateGlobalState&&function(){if((de.pendingReactions.length||de.inBatch||de.isRunningReactions)&&n(36),pe=!0,fe){var t=o();0==--t.__mobxInstanceCount&&(t.__mobxGlobals=void 0),de=new he}}();var e,r,i=t.useProxies,a=t.enforceActions;if(void 0!==i&&(de.useProxies=i===Ye||"never"!==i&&"undefined"!=typeof Proxy),"ifavailable"===i&&(de.verifyProxies=!0),void 0!==a){var s=a===Ye?Ye:"observed"===a;de.enforceActions=s,de.allowStateChanges=!0!==s&&s!==Ye}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(e){e in t&&(de[e]=!!t[e])})),de.allowStateReads=!de.observableRequiresReaction,t.reactionScheduler&&(e=t.reactionScheduler,r=Se,Se=function(t){return e((function(){return r(t)}))})}function We(t,e,r,n){var i=M(e);return nn((function(){var e=qr(t,n)[X];k(i).forEach((function(t){e.extend_(t,i[t],!r||(!(t in r)||r[t]))}))})),t}var He=0;function Ze(){this.message="FLOW_CANCELLED"}Ze.prototype=Object.create(Error.prototype);var Ke=ot("flow"),Qe=ot("flow.bound",{bound:!0}),Je=Object.assign((function(t,e){if(Y(e))return Ke.decorate_20223_(t,e);if(v(e))return U(t,e,Ke);var r=t,n=r.name||"<unnamed flow>",i=function(){var t,e=this,i=arguments,o=++He,a=Le(n+" - runid: "+o+" - init",r).apply(e,i),s=void 0,u=new Promise((function(e,r){var i=0;function u(t){var e;s=void 0;try{e=Le(n+" - runid: "+o+" - yield "+i++,a.next).call(a,t)}catch(t){return r(t)}c(e)}function l(t){var e;s=void 0;try{e=Le(n+" - runid: "+o+" - yield "+i++,a.throw).call(a,t)}catch(t){return r(t)}c(e)}function c(t){if(!g(null==t?void 0:t.then))return t.done?e(t.value):(s=Promise.resolve(t.value)).then(u,l);t.then(c,r)}t=r,u(void 0)}));return u.cancel=Le(n+" - runid: "+o+" - cancel",(function(){try{s&&$e(s);var e=a.return(void 0),r=Promise.resolve(e.value);r.then(y,y),$e(r),t(new Ze)}catch(e){t(e)}})),u};return i.isMobXFlow=!0,i}),Ke);function $e(t){g(t.cancel)&&t.cancel()}function tr(t){return!0===(null==t?void 0:t.isMobXFlow)}function er(t,e){return!!t&&(void 0!==e?!!Vr(t)&&t[X].values_.has(e):Vr(t)||!!t[X]||H(t)||Oe(t)||Jt(t))}function rr(t){return er(t)}function nr(t,e){void 0===e&&(e=void 0),ve();try{return t.apply(e)}finally{be()}}function ir(t){return t[X]}Je.bound=z(Qe);var or={has:function(t,e){return ir(t).has_(e)},get:function(t,e){return ir(t).get_(e)},set:function(t,e,r){var n;return!!v(e)&&(null==(n=ir(t).set_(e,r,!0))||n)},deleteProperty:function(t,e){var r;return!!v(e)&&(null==(r=ir(t).delete_(e,!0))||r)},defineProperty:function(t,e,r){var n;return null==(n=ir(t).defineProperty_(e,r))||n},ownKeys:function(t){return ir(t).ownKeys_()},preventExtensions:function(t){n(13)}};function ar(t){return void 0!==t.interceptors_&&t.interceptors_.length>0}function sr(t,e){var r=t.interceptors_||(t.interceptors_=[]);return r.push(e),m((function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}))}function ur(t,e){var r=ae();try{for(var i=[].concat(t.interceptors_||[]),o=0,a=i.length;o<a&&((e=i[o](e))&&!e.type&&n(14),e);o++);return e}finally{se(r)}}function lr(t){return void 0!==t.changeListeners_&&t.changeListeners_.length>0}function cr(t,e){var r=t.changeListeners_||(t.changeListeners_=[]);return r.push(e),m((function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}))}function hr(t,e){var r=ae(),n=t.changeListeners_;if(n){for(var i=0,o=(n=n.slice()).length;i<o;i++)n[i](e);se(r)}}var fr="splice",pr="update",dr={get:function(t,e){var r=t[X];return e===X?r:"length"===e?r.getArrayLength_():"string"!=typeof e||isNaN(e)?C(gr,e)?gr[e]:t[e]:r.get_(parseInt(e))},set:function(t,e,r){var n=t[X];return"length"===e&&n.setArrayLength_(r),"symbol"==typeof e||isNaN(e)?t[e]=r:n.set_(parseInt(e),r),!0},preventExtensions:function(){n(15)}},mr=function(){function t(t,e,r,n){void 0===t&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=n,this.atom_=new W(t),this.enhancer_=function(t,r){return e(t,r,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.dehanceValues_=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},e.intercept_=function(t){return sr(this,t)},e.observe_=function(t,e){return void 0===e&&(e=!1),e&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),cr(this,t)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(t){("number"!=typeof t||isNaN(t)||t<0)&&n("Out of range: "+t);var e=this.values_.length;if(t!==e)if(t>e){for(var r=new Array(t-e),i=0;i<t-e;i++)r[i]=void 0;this.spliceWithArray_(e,0,r)}else this.spliceWithArray_(t,e-t)},e.updateArrayLength_=function(t,e){t!==this.lastKnownLength_&&n(16),this.lastKnownLength_+=e,this.legacyMode_&&e>0&&Jr(t+e+1)},e.spliceWithArray_=function(t,e,r){var n=this;this.atom_;var i=this.values_.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===r&&(r=c),ar(this)){var o=ur(this,{object:this.proxy_,type:fr,index:t,removedCount:e,added:r});if(!o)return c;e=o.removedCount,r=o.added}if(r=0===r.length?r:r.map((function(t){return n.enhancer_(t,void 0)})),this.legacyMode_){var a=r.length-e;this.updateArrayLength_(i,a)}var s=this.spliceItemsIntoValues_(t,e,r);return 0===e&&0===r.length||this.notifyArraySplice_(t,r,s),this.dehanceValues_(s)},e.spliceItemsIntoValues_=function(t,e,r){var n;if(r.length<1e4)return(n=this.values_).splice.apply(n,[t,e].concat(r));var i=this.values_.slice(t,t+e),o=this.values_.slice(t+e);this.values_.length+=r.length-e;for(var a=0;a<r.length;a++)this.values_[t+a]=r[a];for(var s=0;s<o.length;s++)this.values_[t+r.length+s]=o[s];return i},e.notifyArrayChildUpdate_=function(t,e,r){var n=!this.owned_&&!1,i=lr(this),o=i||n?{observableKind:"array",object:this.proxy_,type:pr,debugObjectName:this.atom_.name_,index:t,newValue:e,oldValue:r}:null;this.atom_.reportChanged(),i&&hr(this,o)},e.notifyArraySplice_=function(t,e,r){var n=!this.owned_&&!1,i=lr(this),o=i||n?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:fr,index:t,removed:r,added:e,removedCount:r.length,addedCount:e.length}:null;this.atom_.reportChanged(),i&&hr(this,o)},e.get_=function(t){if(!(this.legacyMode_&&t>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("[mobx] Out of bounds read: "+t)},e.set_=function(t,e){var r=this.values_;if(this.legacyMode_&&t>r.length&&n(17,t,r.length),t<r.length){this.atom_;var i=r[t];if(ar(this)){var o=ur(this,{type:pr,object:this.proxy_,index:t,newValue:e});if(!o)return;e=o.newValue}(e=this.enhancer_(e,i))!==i&&(r[t]=e,this.notifyArrayChildUpdate_(t,e,i))}else{for(var a=new Array(t+1-r.length),s=0;s<a.length-1;s++)a[s]=void 0;a[a.length-1]=e,this.spliceWithArray_(r.length,0,a)}},t}();function yr(t,e,r,n){return void 0===r&&(r="ObservableArray"),void 0===n&&(n=!1),d(),nn((function(){var i=new mr(r,e,n,!1);S(i.values_,X,i);var o=new Proxy(i.values_,dr);return i.proxy_=o,t&&t.length&&i.spliceWithArray_(0,0,t),o}))}var gr={clear:function(){return this.splice(0)},replace:function(t){var e=this[X];return e.spliceWithArray_(0,e.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var o=this[X];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(t);case 2:return o.spliceWithArray_(t,e)}return o.spliceWithArray_(t,e,n)},spliceWithArray:function(t,e,r){return this[X].spliceWithArray_(t,e,r)},push:function(){for(var t=this[X],e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[X].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[X],e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return de.trackingDerivation&&n(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){de.trackingDerivation&&n(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var e=this[X],r=e.dehanceValues_(e.values_).indexOf(t);return r>-1&&(this.splice(r,1),!0)}};function vr(t,e){"function"==typeof Array.prototype[t]&&(gr[t]=e(t))}function br(t){return function(){var e=this[X];e.atom_.reportObserved();var r=e.dehanceValues_(e.values_);return r[t].apply(r,arguments)}}function _r(t){return function(e,r){var n=this,i=this[X];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[t]((function(t,i){return e.call(r,t,i,n)}))}}function wr(t){return function(){var e=this,r=this[X];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),i=arguments[0];return arguments[0]=function(t,r,n){return i(t,r,n,e)},n[t].apply(n,arguments)}}vr("at",br),vr("concat",br),vr("flat",br),vr("includes",br),vr("indexOf",br),vr("join",br),vr("lastIndexOf",br),vr("slice",br),vr("toString",br),vr("toLocaleString",br),vr("toSorted",br),vr("toSpliced",br),vr("with",br),vr("every",_r),vr("filter",_r),vr("find",_r),vr("findIndex",_r),vr("findLast",_r),vr("findLastIndex",_r),vr("flatMap",_r),vr("forEach",_r),vr("map",_r),vr("some",_r),vr("toReversed",_r),vr("reduce",wr),vr("reduceRight",wr);var xr=T("ObservableArrayAdministration",mr);function Sr(t){return b(t)&&xr(t[X])}var Tr={},Er="add",Or="delete",Ar=function(){function t(t,e,r){var i=this;void 0===e&&(e=Q),void 0===r&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[X]=Tr,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=e,this.name_=r,g(Map)||n(18),nn((function(){i.keysAtom_=Z("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,t&&i.merge(t)}))}var e=t.prototype;return e.has_=function(t){return this.data_.has(t)},e.has=function(t){var e=this;if(!de.trackingDerivation)return this.has_(t);var r=this.hasMap_.get(t);if(!r){var n=r=new Ht(this.has_(t),J,"ObservableMap.key?",!1);this.hasMap_.set(t,n),ze(n,(function(){return e.hasMap_.delete(t)}))}return r.get()},e.set=function(t,e){var r=this.has_(t);if(ar(this)){var n=ur(this,{type:r?pr:Er,object:this,newValue:e,name:t});if(!n)return this;e=n.newValue}return r?this.updateValue_(t,e):this.addValue_(t,e),this},e.delete=function(t){var e=this;if((this.keysAtom_,ar(this))&&!ur(this,{type:Or,object:this,name:t}))return!1;if(this.has_(t)){var r=lr(this),n=r?{observableKind:"map",debugObjectName:this.name_,type:Or,object:this,oldValue:this.data_.get(t).value_,name:t}:null;return nr((function(){var r;e.keysAtom_.reportChanged(),null==(r=e.hasMap_.get(t))||r.setNewValue_(!1),e.data_.get(t).setNewValue_(void 0),e.data_.delete(t)})),r&&hr(this,n),!0}return!1},e.updateValue_=function(t,e){var r=this.data_.get(t);if((e=r.prepareNewValue_(e))!==de.UNCHANGED){var n=lr(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:pr,object:this,oldValue:r.value_,name:t,newValue:e}:null;0,r.setNewValue_(e),n&&hr(this,i)}},e.addValue_=function(t,e){var r=this;this.keysAtom_,nr((function(){var n,i=new Ht(e,r.enhancer_,"ObservableMap.key",!1);r.data_.set(t,i),e=i.value_,null==(n=r.hasMap_.get(t))||n.setNewValue_(!0),r.keysAtom_.reportChanged()}));var n=lr(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:Er,object:this,name:t,newValue:e}:null;n&&hr(this,i)},e.get=function(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var t=this,e=this.keys();return Pr({next:function(){var r=e.next(),n=r.done,i=r.value;return{done:n,value:n?void 0:t.get(i)}}})},e.entries=function(){var t=this,e=this.keys();return Pr({next:function(){var r=e.next(),n=r.done,i=r.value;return{done:n,value:n?void 0:[i,t.get(i)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(t,e){for(var r,n=q(this);!(r=n()).done;){var i=r.value,o=i[0],a=i[1];t.call(e,a,o,this)}},e.merge=function(t){var e=this;return kr(t)&&(t=new Map(t)),nr((function(){var r,i,o;_(t)?function(t){var e=Object.keys(t);if(!A)return e;var r=Object.getOwnPropertySymbols(t);return r.length?[].concat(e,r.filter((function(e){return l.propertyIsEnumerable.call(t,e)}))):e}(t).forEach((function(r){return e.set(r,t[r])})):Array.isArray(t)?t.forEach((function(t){var r=t[0],n=t[1];return e.set(r,n)})):E(t)?(r=t,i=Object.getPrototypeOf(r),o=Object.getPrototypeOf(i),null!==Object.getPrototypeOf(o)&&n(19,t),t.forEach((function(t,r){return e.set(r,t)}))):null!=t&&n(20,t)})),this},e.clear=function(){var t=this;nr((function(){oe((function(){for(var e,r=q(t.keys());!(e=r()).done;){var n=e.value;t.delete(n)}}))}))},e.replace=function(t){var e=this;return nr((function(){for(var r,i=function(t){if(E(t)||kr(t))return t;if(Array.isArray(t))return new Map(t);if(_(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}return n(21,t)}(t),o=new Map,a=!1,s=q(e.data_.keys());!(r=s()).done;){var u=r.value;if(!i.has(u))if(e.delete(u))a=!0;else{var l=e.data_.get(u);o.set(u,l)}}for(var c,h=q(i.entries());!(c=h()).done;){var f=c.value,p=f[0],d=f[1],m=e.data_.has(p);if(e.set(p,d),e.data_.has(p)){var y=e.data_.get(p);o.set(p,y),m||(a=!0)}}if(!a)if(e.data_.size!==o.size)e.keysAtom_.reportChanged();else for(var g=e.data_.keys(),v=o.keys(),b=g.next(),w=v.next();!b.done;){if(b.value!==w.value){e.keysAtom_.reportChanged();break}b=g.next(),w=v.next()}e.data_=o})),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(t,e){return cr(this,t)},e.intercept_=function(t){return sr(this,t)},R(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),kr=T("ObservableMap",Ar);function Pr(t){return t[Symbol.toStringTag]="MapIterator",hn(t)}var Cr={},Mr=function(){function t(t,e,r){var i=this;void 0===e&&(e=Q),void 0===r&&(r="ObservableSet"),this.name_=void 0,this[X]=Cr,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,g(Set)||n(22),this.enhancer_=function(t,n){return e(t,n,r)},nn((function(){i.atom_=Z(i.name_),t&&i.replace(t)}))}var e=t.prototype;return e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.clear=function(){var t=this;nr((function(){oe((function(){for(var e,r=q(t.data_.values());!(e=r()).done;){var n=e.value;t.delete(n)}}))}))},e.forEach=function(t,e){for(var r,n=q(this);!(r=n()).done;){var i=r.value;t.call(e,i,i,this)}},e.add=function(t){var e=this;if(this.atom_,ar(this)){var r=ur(this,{type:Er,object:this,newValue:t});if(!r)return this;t=r.newValue}if(!this.has(t)){nr((function(){e.data_.add(e.enhancer_(t,void 0)),e.atom_.reportChanged()}));var n=!1,i=lr(this),o=i?{observableKind:"set",debugObjectName:this.name_,type:Er,object:this,newValue:t}:null;n,i&&hr(this,o)}return this},e.delete=function(t){var e=this;if(ar(this)&&!ur(this,{type:Or,object:this,oldValue:t}))return!1;if(this.has(t)){var r=lr(this),n=r?{observableKind:"set",debugObjectName:this.name_,type:Or,object:this,oldValue:t}:null;return nr((function(){e.atom_.reportChanged(),e.data_.delete(t)})),r&&hr(this,n),!0}return!1},e.has=function(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},e.entries=function(){var t=this.values();return jr({next:function(){var e=t.next(),r=e.value,n=e.done;return n?{value:void 0,done:n}:{value:[r,r],done:n}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var t=this,e=this.data_.values();return jr({next:function(){var r=e.next(),n=r.value,i=r.done;return i?{value:void 0,done:i}:{value:t.dehanceValue_(n),done:i}}})},e.intersection=function(t){return O(t)&&!Ir(t)?t.intersection(this):new Set(this).intersection(t)},e.union=function(t){return O(t)&&!Ir(t)?t.union(this):new Set(this).union(t)},e.difference=function(t){return new Set(this).difference(t)},e.symmetricDifference=function(t){return O(t)&&!Ir(t)?t.symmetricDifference(this):new Set(this).symmetricDifference(t)},e.isSubsetOf=function(t){return new Set(this).isSubsetOf(t)},e.isSupersetOf=function(t){return new Set(this).isSupersetOf(t)},e.isDisjointFrom=function(t){return O(t)&&!Ir(t)?t.isDisjointFrom(this):new Set(this).isDisjointFrom(t)},e.replace=function(t){var e=this;return Ir(t)&&(t=new Set(t)),nr((function(){Array.isArray(t)||O(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&n("Cannot initialize set from "+t)})),this},e.observe_=function(t,e){return cr(this,t)},e.intercept_=function(t){return sr(this,t)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},R(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Ir=T("ObservableSet",Mr);function jr(t){return t[Symbol.toStringTag]="SetIterator",hn(t)}var Br=Object.create(null),Lr="remove",Rr=function(){function t(t,e,r,n){void 0===e&&(e=new Map),void 0===n&&(n=vt),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=e,this.name_=r,this.defaultAnnotation_=n,this.keysAtom_=new W("ObservableObject.keys"),this.isPlainObject_=_(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(t){return this.values_.get(t).get()},e.setObservablePropValue_=function(t,e){var r=this.values_.get(t);if(r instanceof Zt)return r.set(e),!0;if(ar(this)){var n=ur(this,{type:pr,object:this.proxy_||this.target_,name:t,newValue:e});if(!n)return null;e=n.newValue}if((e=r.prepareNewValue_(e))!==de.UNCHANGED){var i=lr(this),o=i?{type:pr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:r.value_,name:t,newValue:e}:null;0,r.setNewValue_(e),i&&hr(this,o)}return!0},e.get_=function(t){return de.trackingDerivation&&!C(this.target_,t)&&this.has_(t),this.target_[t]},e.set_=function(t,e,r){return void 0===r&&(r=!1),C(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,e):r?Reflect.set(this.target_,t,e):(this.target_[t]=e,!0):this.extend_(t,{value:e,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,r)},e.has_=function(t){if(!de.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var e=this.pendingKeys_.get(t);return e||(e=new Ht(t in this.target_,J,"ObservableObject.key?",!1),this.pendingKeys_.set(t,e)),e.get()},e.make_=function(t,e){if(!0===e&&(e=this.defaultAnnotation_),!1!==e){if(Gr(this,e,t),!(t in this.target_)){var r;if(null!=(r=this.target_[G])&&r[t])return;n(1,e.annotationType_,this.name_+"."+t.toString())}for(var i=this.target_;i&&i!==l;){var o=s(i,t);if(o){var a=e.make_(this,t,o,i);if(0===a)return;if(1===a)break}i=Object.getPrototypeOf(i)}Dr(this,e,t)}},e.extend_=function(t,e,r,n){if(void 0===n&&(n=!1),!0===r&&(r=this.defaultAnnotation_),!1===r)return this.defineProperty_(t,e,n);Gr(this,r,t);var i=r.extend_(this,t,e,n);return i&&Dr(this,r,t),i},e.defineProperty_=function(t,e,r){void 0===r&&(r=!1),this.keysAtom_;try{ve();var n=this.delete_(t);if(!n)return n;if(ar(this)){var i=ur(this,{object:this.proxy_||this.target_,name:t,type:Er,newValue:e.value});if(!i)return null;var o=i.newValue;e.value!==o&&(e=N({},e,{value:o}))}if(r){if(!Reflect.defineProperty(this.target_,t,e))return!1}else u(this.target_,t,e);this.notifyPropertyAddition_(t,e.value)}finally{be()}return!0},e.defineObservableProperty_=function(t,e,r,n){void 0===n&&(n=!1),this.keysAtom_;try{ve();var i=this.delete_(t);if(!i)return i;if(ar(this)){var o=ur(this,{object:this.proxy_||this.target_,name:t,type:Er,newValue:e});if(!o)return null;e=o.newValue}var a=Fr(t),s={configurable:!de.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(n){if(!Reflect.defineProperty(this.target_,t,s))return!1}else u(this.target_,t,s);var l=new Ht(e,r,"ObservableObject.key",!1);this.values_.set(t,l),this.notifyPropertyAddition_(t,l.value_)}finally{be()}return!0},e.defineComputedProperty_=function(t,e,r){void 0===r&&(r=!1),this.keysAtom_;try{ve();var n=this.delete_(t);if(!n)return n;if(ar(this))if(!ur(this,{object:this.proxy_||this.target_,name:t,type:Er,newValue:void 0}))return null;e.name||(e.name="ObservableObject.key"),e.context=this.proxy_||this.target_;var i=Fr(t),o={configurable:!de.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(r){if(!Reflect.defineProperty(this.target_,t,o))return!1}else u(this.target_,t,o);this.values_.set(t,new Zt(e)),this.notifyPropertyAddition_(t,void 0)}finally{be()}return!0},e.delete_=function(t,e){if(void 0===e&&(e=!1),this.keysAtom_,!C(this.target_,t))return!0;if(ar(this)&&!ur(this,{object:this.proxy_||this.target_,name:t,type:Lr}))return null;try{var r;ve();var n,i=lr(this),o=this.values_.get(t),a=void 0;if(!o&&i)a=null==(n=s(this.target_,t))?void 0:n.value;if(e){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if(o&&(this.values_.delete(t),o instanceof Ht&&(a=o.value_),we(o)),this.keysAtom_.reportChanged(),null==(r=this.pendingKeys_)||null==(r=r.get(t))||r.set(t in this.target_),i){var u={type:Lr,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:a,name:t};0,i&&hr(this,u)}}finally{be()}return!0},e.observe_=function(t,e){return cr(this,t)},e.intercept_=function(t){return sr(this,t)},e.notifyPropertyAddition_=function(t,e){var r,n=lr(this);if(n){var i=n?{type:Er,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:e}:null;0,n&&hr(this,i)}null==(r=this.pendingKeys_)||null==(r=r.get(t))||r.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),k(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function qr(t,e){var r;if(C(t,X))return t;var n=null!=(r=null==e?void 0:e.name)?r:"ObservableObject",i=new Rr(t,new Map,String(n),function(t){var e;return t?null!=(e=t.defaultDecorator)?e:bt(t):void 0}(e));return x(t,X,i),t}var Nr=T("ObservableObjectAdministration",Rr);function Fr(t){return Br[t]||(Br[t]={get:function(){return this[X].getObservablePropValue_(t)},set:function(e){return this[X].setObservablePropValue_(t,e)}})}function Vr(t){return!!b(t)&&Nr(t[X])}function Dr(t,e,r){var n;null==(n=t.target_[G])||delete n[r]}function Gr(t,e,r){}var zr,Ur,Yr=Kr(0),Xr=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,!1===t}(),Wr=0,Hr=function(){};zr=Hr,Ur=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(zr.prototype,Ur):void 0!==zr.prototype.__proto__?zr.prototype.__proto__=Ur:zr.prototype=Ur;var Zr=function(t){function e(e,r,n,i){var o;return void 0===n&&(n="ObservableArray"),void 0===i&&(i=!1),o=t.call(this)||this,nn((function(){var t=new mr(n,r,i,!0);t.proxy_=o,S(o,X,t),e&&e.length&&o.spliceWithArray(0,0,e),Xr&&Object.defineProperty(o,"0",Yr)})),o}F(e,t);var r=e.prototype;return r.concat=function(){this[X].atom_.reportObserved();for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Array.prototype.concat.apply(this.slice(),e.map((function(t){return Sr(t)?t.slice():t})))},r[Symbol.iterator]=function(){var t=this,e=0;return hn({next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0,value:void 0}}})},R(e,[{key:"length",get:function(){return this[X].getArrayLength_()},set:function(t){this[X].setArrayLength_(t)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Hr);function Kr(t){return{enumerable:!1,configurable:!0,get:function(){return this[X].get_(t)},set:function(e){this[X].set_(t,e)}}}function Qr(t){u(Zr.prototype,""+t,Kr(t))}function Jr(t){if(t>Wr){for(var e=Wr;e<t+100;e++)Qr(e);Wr=t}}function $r(t,e,r){return new Zr(t,e,r)}function tn(t,e){if("object"==typeof t&&null!==t){if(Sr(t))return void 0!==e&&n(23),t[X].atom_;if(Ir(t))return t.atom_;if(kr(t)){if(void 0===e)return t.keysAtom_;var r=t.data_.get(e)||t.hasMap_.get(e);return r||n(25,e,rn(t)),r}if(Vr(t)){if(!e)return n(26);var i=t[X].values_.get(e);return i||n(27,e,rn(t)),i}if(H(t)||Jt(t)||Oe(t))return t}else if(g(t)&&Oe(t[X]))return t[X];n(28)}function en(t,e){return t||n(29),void 0!==e?en(tn(t,e)):H(t)||Jt(t)||Oe(t)||kr(t)||Ir(t)?t:t[X]?t[X]:void n(24,t)}function rn(t,e){var r;if(void 0!==e)r=tn(t,e);else{if(qe(t))return t.name;r=Vr(t)||kr(t)||Ir(t)?en(t):tn(t)}return r.name_}function nn(t){var e=ae(),r=Xt(!0);ve();try{return t()}finally{be(),Wt(r),se(e)}}Object.entries(gr).forEach((function(t){var e=t[0],r=t[1];"concat"!==e&&x(Zr.prototype,e,r)})),Jr(1e3);var on,an=l.toString;function sn(t,e,r){return void 0===r&&(r=-1),un(t,e,r)}function un(t,e,r,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;if("function"!==o&&"object"!==o&&"object"!=typeof e)return!1;var a=an.call(t);if(a!==an.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":r>=0&&r++}t=ln(t),e=ln(e);var s="[object Array]"===a;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var u=t.constructor,l=e.constructor;if(u!==l&&!(g(u)&&u instanceof u&&g(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}if(0===r)return!1;r<0&&(r=-1),i=i||[];for(var c=(n=n||[]).length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),s){if((c=t.length)!==e.length)return!1;for(;c--;)if(!un(t[c],e[c],r-1,n,i))return!1}else{var h=Object.keys(t),f=h.length;if(Object.keys(e).length!==f)return!1;for(var p=0;p<f;p++){var d=h[p];if(!C(e,d)||!un(t[d],e[d],r-1,n,i))return!1}}return n.pop(),i.pop(),!0}function ln(t){return Sr(t)?t.slice():E(t)||kr(t)||O(t)||Ir(t)?Array.from(t.entries()):t}var cn=(null==(on=o().Iterator)?void 0:on.prototype)||{};function hn(t){return t[Symbol.iterator]=fn,Object.assign(Object.create(cn),t)}function fn(){return this}["Symbol","Map","Set"].forEach((function(t){void 0===o()[t]&&n("MobX requires global '"+t+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:rn},$mobx:X})},7418:t=>{"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var a,s,u=i(t),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))r.call(a,c)&&(u[c]=a[c]);if(e){s=e(a);for(var h=0;h<s.length;h++)n.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},9571:t=>{"use strict";t.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,(function(t,e,n){e&&(i[r.q.name][e]=n)})),i}},8629:(t,e,r)=>{"use strict";r.d(e,{PY:()=>Di,Ww:()=>Q});var n={};r.r(n),r.d(n,{Animation:()=>pt,AnimationState:()=>It,AnimationStateAdapter:()=>Rt,AnimationStateData:()=>qt,AtlasAttachmentLoader:()=>Nt,Attachment:()=>nt,AttachmentTimeline:()=>xt,Bone:()=>Ft,BoneData:()=>Vt,BoundingBoxAttachment:()=>ot,ClippingAttachment:()=>at,ColorTimeline:()=>_t,ConstraintData:()=>Dt,CurveTimeline:()=>mt,DeformTimeline:()=>Tt,DrawOrderTimeline:()=>Ot,Event:()=>Gt,EventData:()=>zt,EventQueue:()=>Bt,EventTimeline:()=>Et,EventType:()=>dt,IkConstraint:()=>Ut,IkConstraintData:()=>Yt,IkConstraintTimeline:()=>At,JitterEffect:()=>ht,MeshAttachment:()=>st,PathAttachment:()=>ut,PathConstraint:()=>Wt,PathConstraintData:()=>Xt,PathConstraintMixTimeline:()=>Mt,PathConstraintPositionTimeline:()=>Pt,PathConstraintSpacingTimeline:()=>Ct,PointAttachment:()=>lt,RegionAttachment:()=>ct,RotateTimeline:()=>yt,ScaleTimeline:()=>vt,ShearTimeline:()=>bt,Skeleton:()=>Kt,SkeletonBinary:()=>re,SkeletonBounds:()=>oe,SkeletonData:()=>Qt,SkeletonJson:()=>ae,Skin:()=>ee,SkinEntry:()=>te,Slot:()=>Ht,SlotData:()=>Jt,SpacingMode:()=>Lt,Spine:()=>ue,SwirlEffect:()=>ft,TimelineType:()=>rt,TrackEntry:()=>jt,TransformConstraint:()=>Zt,TransformConstraintData:()=>$t,TransformConstraintTimeline:()=>kt,TranslateTimeline:()=>gt,TwoColorTimeline:()=>wt,VertexAttachment:()=>it});var i={};r.r(i),r.d(i,{Animation:()=>xe,AnimationState:()=>De,AnimationStateAdapter2:()=>Ye,AnimationStateData:()=>Xe,AtlasAttachmentLoader:()=>We,Attachment:()=>fe,AttachmentTimeline:()=>Me,Bone:()=>He,BoneData:()=>Ze,BoundingBoxAttachment:()=>de,ClippingAttachment:()=>me,ColorTimeline:()=>Pe,CurveTimeline:()=>Te,DeformTimeline:()=>je,DrawOrderTimeline:()=>Le,Event:()=>Ke,EventData:()=>Qe,EventQueue:()=>ze,EventTimeline:()=>Be,EventType:()=>Se,IkConstraint:()=>Je,IkConstraintData:()=>$e,IkConstraintTimeline:()=>Re,JitterEffect:()=>_e,MeshAttachment:()=>ye,PathAttachment:()=>ge,PathConstraint:()=>er,PathConstraintData:()=>tr,PathConstraintMixTimeline:()=>Ve,PathConstraintPositionTimeline:()=>Ne,PathConstraintSpacingTimeline:()=>Fe,PointAttachment:()=>ve,RegionAttachment:()=>be,RotateTimeline:()=>Ee,ScaleTimeline:()=>Ae,ShearTimeline:()=>ke,Skeleton:()=>ir,SkeletonBounds:()=>or,SkeletonData:()=>ar,SkeletonJson:()=>cr,Skin:()=>lr,Slot:()=>rr,SlotData:()=>sr,SpacingMode:()=>Ue,Spine:()=>fr,SwirlEffect:()=>we,TimelineType:()=>he,TrackEntry:()=>Ge,TransformConstraint:()=>nr,TransformConstraintData:()=>ur,TransformConstraintTimeline:()=>qe,TranslateTimeline:()=>Oe,TwoColorTimeline:()=>Ce,VertexAttachment:()=>pe});var o={};r.r(o),r.d(o,{AlphaTimeline:()=>ln,Animation:()=>Or,AnimationState:()=>wn,AnimationStateAdapter:()=>En,AnimationStateData:()=>Bn,AtlasAttachmentLoader:()=>Ln,Attachment:()=>yr,AttachmentTimeline:()=>fn,Bone:()=>Rn,BoneData:()=>qn,BoundingBoxAttachment:()=>vr,ClippingAttachment:()=>br,ConstraintData:()=>Nn,CurveTimeline:()=>Wr,CurveTimeline1:()=>Hr,CurveTimeline2:()=>Zr,DeformTimeline:()=>pn,DrawOrderTimeline:()=>mn,Event:()=>Fn,EventData:()=>Vn,EventQueue:()=>Sn,EventTimeline:()=>dn,EventType:()=>mr,IkConstraint:()=>Dn,IkConstraintData:()=>Gn,IkConstraintTimeline:()=>yn,JitterEffect:()=>Tr,MeshAttachment:()=>_r,PathAttachment:()=>wr,PathConstraint:()=>Un,PathConstraintData:()=>zn,PathConstraintMixTimeline:()=>_n,PathConstraintPositionTimeline:()=>vn,PathConstraintSpacingTimeline:()=>bn,PointAttachment:()=>xr,RGB2Timeline:()=>hn,RGBA2Timeline:()=>cn,RGBATimeline:()=>sn,RGBTimeline:()=>un,RegionAttachment:()=>Sr,RotateTimeline:()=>Kr,ScaleTimeline:()=>tn,ScaleXTimeline:()=>en,ScaleYTimeline:()=>rn,ShearTimeline:()=>nn,ShearXTimeline:()=>on,ShearYTimeline:()=>an,Skeleton:()=>Wn,SkeletonBinary:()=>$n,SkeletonBounds:()=>Oi,SkeletonData:()=>Hn,SkeletonJson:()=>Ai,Skin:()=>Jn,SkinEntry:()=>Qn,Slot:()=>Yn,SlotData:()=>Zn,SpacingMode:()=>Tn,Spine:()=>Bi,SwirlEffect:()=>Er,Timeline:()=>Xr,TrackEntry:()=>xn,TransformConstraint:()=>Xn,TransformConstraintData:()=>Kn,TransformConstraintTimeline:()=>gn,TranslateTimeline:()=>Qr,TranslateXTimeline:()=>Jr,TranslateYTimeline:()=>$r,VertexAttachment:()=>gr});var a,s=r(9148),u=r(5307),l=r(7054),c=r(4295),h=r(29),f=r(9038),p=r(9773),d=r(426),m=r(5323);!function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"}(a||(a={}));var y,g,v,b,_,w=function(){function t(t,e,r,n){void 0===e&&(e=new Array),void 0===r&&(r=0),void 0===n&&(n=new DataView(t.buffer)),this.strings=e,this.index=r,this.buffer=n}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readUnsignedByte=function(){return this.buffer.getUint8(this.index++)},t.prototype.readShort=function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t},t.prototype.readInt32=function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t},t.prototype.readInt=function(t){var e=this.readByte(),r=127&e;return 0!=(128&e)&&(r|=(127&(e=this.readByte()))<<7,0!=(128&e)&&(r|=(127&(e=this.readByte()))<<14,0!=(128&e)&&(r|=(127&(e=this.readByte()))<<21,0!=(128&e)&&(r|=(127&(e=this.readByte()))<<28)))),t?r:r>>>1^-(1&r)},t.prototype.readStringRef=function(){var t=this.readInt(!0);return 0==t?null:this.strings[t-1]},t.prototype.readString=function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",r=0;r<t;){var n=this.readByte();switch(n>>4){case 12:case 13:e+=String.fromCharCode((31&n)<<6|63&this.readByte()),r+=2;break;case 14:e+=String.fromCharCode((15&n)<<12|(63&this.readByte())<<6|63&this.readByte()),r+=3;break;default:e+=String.fromCharCode(n),r++}}return e},t.prototype.readFloat=function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t},t.prototype.readBoolean=function(){return 0!=this.readByte()},t}();!function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"}(y||(y={})),function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"}(g||(g={})),function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"}(v||(v={})),function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"}(b||(b={})),function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(_||(_={}));var x,S,T=function(t,e){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},T(t,e)};function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function O(t){switch(t.toLowerCase()){case"nearest":return x.Nearest;case"linear":return x.Linear;case"mipmap":return x.MipMap;case"mipmapnearestnearest":return x.MipMapNearestNearest;case"mipmaplinearnearest":return x.MipMapLinearNearest;case"mipmapnearestlinear":return x.MipMapNearestLinear;case"mipmaplinearlinear":return x.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}}!function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(x||(x={})),function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"}(S||(S={}));var A,k=function(){function t(){this.size=null,this.names=null,this.values=null}return Object.defineProperty(t.prototype,"width",{get:function(){var t=this.texture;return t.trim?t.trim.width:t.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t=this.texture;return t.trim?t.trim.height:t.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var t=this.texture;return t.trim?t.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var t=this.texture;return t.trim?t.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){return this.texture.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){return this.texture.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"degrees",{get:function(){return(360-45*this.texture.rotate)%360},enumerable:!1,configurable:!0}),t}(),P=function(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0},C=function(){function t(t,e,r){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,r)}return t.prototype.addTexture=function(t,e){for(var r=this.pages,n=null,i=0;i<r.length;i++)if(r[i].baseTexture===e.baseTexture){n=r[i];break}if(null===n){(n=new I).name="texturePage";var o=e.baseTexture;n.width=o.realWidth,n.height=o.realHeight,n.baseTexture=o,n.minFilter=n.magFilter=x.Nearest,n.uWrap=S.ClampToEdge,n.vWrap=S.ClampToEdge,r.push(n)}var a=new j;return a.name=t,a.page=n,a.texture=e,a.index=-1,this.regions.push(a),a},t.prototype.addTextureHash=function(t,e){for(var r in t)t.hasOwnProperty(r)&&this.addTexture(e&&-1!==r.indexOf(".")?r.substr(0,r.lastIndexOf(".")):r,t[r])},t.prototype.addSpineAtlas=function(t,e,r){return this.load(t,e,r)},t.prototype.load=function(t,e,r){var n=this;if(null==e)throw new Error("textureLoader cannot be null.");var i=new M(t),o=new Array(4),a=null,s={},h=null;s.size=function(){a.width=parseInt(o[1]),a.height=parseInt(o[2])},s.format=function(){},s.filter=function(){a.minFilter=O(o[1]),a.magFilter=O(o[2])},s.repeat=function(){-1!=o[1].indexOf("x")&&(a.uWrap=S.Repeat),-1!=o[1].indexOf("y")&&(a.vWrap=S.Repeat)},s.pma=function(){a.pma="true"==o[1]};for(var f={xy:function(){h.x=parseInt(o[1]),h.y=parseInt(o[2])},size:function(){h.width=parseInt(o[1]),h.height=parseInt(o[2])},bounds:function(){h.x=parseInt(o[1]),h.y=parseInt(o[2]),h.width=parseInt(o[3]),h.height=parseInt(o[4])},offset:function(){h.offsetX=parseInt(o[1]),h.offsetY=parseInt(o[2])},orig:function(){h.originalWidth=parseInt(o[1]),h.originalHeight=parseInt(o[2])},offsets:function(){h.offsetX=parseInt(o[1]),h.offsetY=parseInt(o[2]),h.originalWidth=parseInt(o[3]),h.originalHeight=parseInt(o[4])},rotate:function(){var t=o[1],e=0;e="true"==t.toLocaleLowerCase()?6:"false"==t.toLocaleLowerCase()?0:(720-parseFloat(t))%360/45,h.rotate=e},index:function(){h.index=parseInt(o[1])}},p=i.readLine();null!=p&&0==p.trim().length;)p=i.readLine();for(;null!=p&&0!=p.trim().length&&0!=i.readEntry(o,p);)p=i.readLine();var d=function(){for(;;){if(null==p)return r&&r(n);if(0==p.trim().length)a=null,p=i.readLine();else{if(null===a){for((a=new I).name=p.trim();0!=i.readEntry(o,p=i.readLine());){(g=s[o[0]])&&g()}n.pages.push(a),e(a.name,(function(t){if(null===t)return n.pages.splice(n.pages.indexOf(a),1),r&&r(null);a.baseTexture=t,a.pma&&(t.alphaMode=l.iw.PMA),t.valid||t.setSize(a.width,a.height),n.pages.push(a),a.setFilters(),a.width&&a.height||(a.width=t.realWidth,a.height=t.realHeight,a.width&&a.height||console.log("ERROR spine atlas page "+a.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),d()})),n.pages.push(a);break}h=new P;var t=new j;t.name=p,t.page=a;for(var m=null,y=null;;){var g,v=i.readEntry(o,p=i.readLine());if(0==v)break;if(g=f[o[0]])g();else{null==m&&(m=[],y=[]),m.push(o[0]);for(var b=[],_=0;_<v;_++)b.push(parseInt(o[_+1]));y.push(b)}}0==h.originalWidth&&0==h.originalHeight&&(h.originalWidth=h.width,h.originalHeight=h.height);var w=a.baseTexture.resolution;h.x/=w,h.y/=w,h.width/=w,h.height/=w,h.originalWidth/=w,h.originalHeight/=w,h.offsetX/=w,h.offsetY/=w;var x=h.rotate%4!=0,S=new c.Ae(h.x,h.y,x?h.height:h.width,x?h.width:h.height),T=new c.Ae(0,0,h.originalWidth,h.originalHeight),E=new c.Ae(h.offsetX,h.originalHeight-h.height-h.offsetY,h.width,h.height);t.texture=new u.xE(t.page.baseTexture,S,T,E,h.rotate),t.index=h.index,t.texture.updateUvs(),n.regions.push(t)}}};d()},t.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},t.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()},t}(),M=function(){function t(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readEntry=function(t,e){if(null==e)return 0;if(0==(e=e.trim()).length)return 0;var r=e.indexOf(":");if(-1==r)return 0;t[0]=e.substr(0,r).trim();for(var n=1,i=r+1;;n++){var o=e.indexOf(",",i);if(-1==o)return t[n]=e.substr(i).trim(),n;if(t[n]=e.substr(i,o-i).trim(),i=o+1,4==n)return 4}},t}(),I=function(){function t(){this.minFilter=x.Nearest,this.magFilter=x.Nearest,this.uWrap=S.ClampToEdge,this.vWrap=S.ClampToEdge}return t.prototype.setFilters=function(){var t=this.baseTexture,e=this.minFilter;e==x.Linear?t.scaleMode=l.aH.LINEAR:this.minFilter==x.Nearest?t.scaleMode=l.aH.NEAREST:(t.mipmap=l.WB.POW2,e==x.MipMapNearestNearest?t.scaleMode=l.aH.NEAREST:t.scaleMode=l.aH.LINEAR)},t}(),j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e}(k),B=(A=new Float32Array(1),function(t){return A[0]=t,A[0]}),L=Math.fround||B,R=function(){function t(){this.array=new Array}return t.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},t.prototype.contains=function(t){return null!=this.array[0|t]},t.prototype.remove=function(t){this.array[0|t]=void 0},t.prototype.clear=function(){this.array.length=0},t}(),q=function(){function t(){this.entries={},this.size=0}return t.prototype.add=function(t){var e=this.entries[t];return this.entries[t]=!0,!e&&(this.size++,!0)},t.prototype.addAll=function(t){for(var e=this.size,r=0,n=t.length;r<n;r++)this.add(t[r]);return e!=this.size},t.prototype.contains=function(t){return this.entries[t]},t.prototype.clear=function(){this.entries={},this.size=0},t}(),N=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.r=t,this.g=e,this.b=r,this.a=n}return t.prototype.set=function(t,e,r,n){return this.r=t,this.g=e,this.b=r,this.a=n,this.clamp()},t.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=8!=t.length?1:parseInt(t.substr(6,2),16)/255,this},t.prototype.add=function(t,e,r,n){return this.r+=t,this.g+=e,this.b+=r,this.a+=n,this.clamp()},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255},t.rgb888ToColor=function(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255},t.fromString=function(e){return(new t).setFromString(e)},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}(),F=function(){function t(){}return t.clamp=function(t,e,r){return t<e?e:t>r?r:t},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(t){return t>0?1:t<0?-1:0},t.toInt=function(t){return t>0?Math.floor(t):Math.ceil(t)},t.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},t.randomTriangular=function(e,r){return t.randomTriangularWith(e,r,.5*(e+r))},t.randomTriangularWith=function(t,e,r){var n=Math.random(),i=e-t;return n<=(r-t)/i?t+Math.sqrt(n*i*(r-t)):e-Math.sqrt((1-n)*i*(e-r))},t.PI=3.1415927,t.PI2=2*t.PI,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}(),V=function(t){function e(e){return t.call(this,e)||this}return E(e,t),e.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1},e}(function(t){function e(e){var r=t.call(this)||this;return r.power=2,r.power=e,r}return E(e,t),e.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},e}(function(){function t(){}return t.prototype.apply=function(t,e,r){return t+(e-t)*this.applyInternal(r)},t}())),D=function(){function t(){}return t.arrayCopy=function(t,e,r,n,i){for(var o=e,a=n;o<e+i;o++,a++)r[a]=t[o]},t.arrayFill=function(t,e,r,n){for(var i=e;i<r;i++)t[i]=n},t.setArraySize=function(t,e,r){void 0===r&&(r=0);var n=t.length;if(n==e)return t;if(t.length=e,n<e)for(var i=n;i<e;i++)t[i]=r;return t},t.ensureArrayCapacity=function(e,r,n){return void 0===n&&(n=0),e.length>=r?e:t.setArraySize(e,r,n)},t.newArray=function(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var r=new Array(e),n=0;n<r.length;n++)r[n]=0;return r},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?L(e):e},t.webkit602BugfixHelper=function(t,e){},t.contains=function(t,e,r){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},t.enumValue=function(t,e){return t[e[0].toUpperCase()+e.slice(1)]},t.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,t}(),G=(function(){function t(){}t.logBones=function(t){for(var e=0;e<t.bones.length;e++){var r=t.bones[e],n=r.matrix;console.log(r.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.tx+", "+n.ty)}}}(),function(){function t(t){this.items=new Array,this.instantiator=t}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},t.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)this.free(t[e])},t.prototype.clear=function(){this.items.length=0},t}()),z=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},t.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},t}(),U=(function(){function t(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}t.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)}}(),function(){function t(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}t.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},t.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},t.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0}}(),!0),Y=!1,X=!0,W=0,H=[0,0,0],Z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.region=null,e.attachment=null,e}return E(e,t),e}(f.j),K=function(t){function e(e,r,n,i,o){var a=t.call(this,e,r,n,i,o)||this;return a.region=null,a.attachment=null,a}return E(e,t),e}(p.AL),Q=function(t){function e(e){var r=t.call(this)||this;if(!e)throw new Error("The spineData param is required.");if("string"==typeof e)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');r.spineData=e,r.createSkeleton(e),r.slotContainers=[],r.tempClipContainers=[];for(var n=0,i=r.skeleton.slots.length;n<i;n++){var o=r.skeleton.slots[n],s=o.getAttachment(),u=r.newContainer();if(r.slotContainers.push(u),r.addChild(u),r.tempClipContainers.push(null),s)if(s.type===a.Region){var l=s.region.name,c=r.createSprite(o,s,l);o.currentSprite=c,o.currentSpriteName=l,u.addChild(c)}else if(s.type===a.Mesh){var h=r.createMesh(o,s);o.currentMesh=h,o.currentMeshId=s.id,o.currentMeshName=s.name,u.addChild(h)}else s.type===a.Clipping&&(r.createGraphics(o,s),u.addChild(o.clippingContainer),u.addChild(o.currentGraphics))}return r.tintRgb=new Float32Array([1,1,1]),r.autoUpdate=!0,r.visible=!0,r}return E(e,t),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,this.updateTransform=t?e.prototype.autoUpdateTransform:h.W2.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return(0,m.rgb2hex)(this.tintRgb)},set:function(t){this.tintRgb=(0,m.hex2rgb)(t,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"delayLimit",{get:function(){return(void 0!==this.localDelayLimit?this.localDelayLimit:W)||Number.MAX_VALUE},enumerable:!1,configurable:!0}),e.prototype.update=function(t){var e=this.delayLimit;if(t>e&&(t=e),this.state.update(t),this.state.apply(this.skeleton),this.skeleton){this.skeleton.updateWorldTransform();var r=this.skeleton.slots,n=this.color,i=null,o=null;n?(i=n.light,o=n.dark):i=this.tintRgb;for(var s=0,u=r.length;s<u;s++){var l=(P=r[s]).getAttachment(),h=this.slotContainers[s];if(l){var f=null,p=l.color;switch(l.type){case a.Region:var d=l.region;if(d){P.currentMesh&&(P.currentMesh.visible=!1,P.currentMesh=null,P.currentMeshId=void 0,P.currentMeshName=void 0);var y=d;if(P.currentSpriteName&&P.currentSpriteName===y.name)P.currentSpriteName!==y.name||P.hackRegion||this.setSpriteRegion(l,P.currentSprite,d);else{var g=y.name;if(P.currentSprite&&(P.currentSprite.visible=!1),P.sprites=P.sprites||{},void 0!==P.sprites[g])P.sprites[g].visible=!0;else{var v=this.createSprite(P,l,g);h.addChild(v)}P.currentSprite=P.sprites[g],P.currentSpriteName=g}}h.transform.setFromMatrix(P.bone.matrix),P.currentSprite.color?f=P.currentSprite.color:(H[0]=i[0]*P.color.r*p.r,H[1]=i[1]*P.color.g*p.g,H[2]=i[2]*P.color.b*p.b,P.currentSprite.tint=(0,m.rgb2hex)(H)),P.currentSprite.blendMode=P.blendMode;break;case a.Mesh:if(P.currentSprite){P.currentSprite.visible=!1,P.currentSprite=null,P.currentSpriteName=void 0;var b=new c.wx;b._parentID=-1,b._worldID=h.transform._worldID,h.transform=b}var _=l.id;if(!P.currentMeshId||P.currentMeshId!==_){var w=_;if(P.currentMesh&&(P.currentMesh.visible=!1),P.meshes=P.meshes||{},void 0!==P.meshes[w])P.meshes[w].visible=!0;else{var x=this.createMesh(P,l);h.addChild(x)}P.currentMesh=P.meshes[w],P.currentMeshName=l.name,P.currentMeshId=w}l.computeWorldVerticesOld(P,P.currentMesh.vertices),P.currentMesh.color?f=P.currentMesh.color:(H[0]=i[0]*P.color.r*p.r,H[1]=i[1]*P.color.g*p.g,H[2]=i[2]*P.color.b*p.b,P.currentMesh.tint=(0,m.rgb2hex)(H)),P.currentMesh.blendMode=P.blendMode;break;case a.Clipping:P.currentGraphics||(this.createGraphics(P,l),h.addChild(P.clippingContainer),h.addChild(P.currentGraphics)),this.updateGraphics(P,l),h.alpha=1,h.visible=!0;continue;default:h.visible=!1;continue}if(h.visible=!0,f){var S=P.color.r*p.r,T=P.color.g*p.g,E=P.color.b*p.b;f.setLight(i[0]*S+o[0]*(1-S),i[1]*T+o[1]*(1-T),i[2]*E+o[2]*(1-E)),P.darkColor?(S=P.darkColor.r,T=P.darkColor.g,E=P.darkColor.b):(S=0,T=0,E=0),f.setDark(i[0]*S+o[0]*(1-S),i[1]*T+o[1]*(1-T),i[2]*E+o[2]*(1-E))}h.alpha=P.color.a}else h.visible=!1}var O=this.skeleton.drawOrder,A=null,k=null;for(s=0,u=O.length;s<u;s++){var P=r[O[s].data.index];h=this.slotContainers[O[s].data.index];if(k||null!==h.parent&&h.parent!==this&&(h.parent.removeChild(h),h.parent=this),P.currentGraphics&&P.getAttachment())k=P.clippingContainer,A=P.getAttachment(),k.children.length=0,this.children[s]=h,A.endSlot===P.data&&(A.endSlot=null);else if(k){var C=this.tempClipContainers[s];C||((C=this.tempClipContainers[s]=this.newContainer()).visible=!1),this.children[s]=C,h.parent=null,k.addChild(h),A.endSlot==P.data&&(k.renderable=!0,k=null,A=null)}else this.children[s]=h}}},e.prototype.setSpriteRegion=function(t,e,r){e.attachment===t&&e.region===r||(e.region=r,e.attachment=t,e.texture=r.texture,e.rotation=t.rotation*F.degRad,e.position.x=t.x,e.position.y=t.y,e.alpha=t.color.a,r.size?(e.scale.x=r.size.width/r.originalWidth,e.scale.y=-r.size.height/r.originalHeight):(e.scale.x=t.scaleX*t.width/r.originalWidth,e.scale.y=-t.scaleY*t.height/r.originalHeight))},e.prototype.setMeshRegion=function(t,e,r){e.attachment===t&&e.region===r||(e.region=r,e.attachment=t,e.texture=r.texture,r.texture.updateUvs(),e.uvBuffer.update(t.regionUVs))},e.prototype.autoUpdateTransform=function(){if(X){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(t)}else this.lastTime=0;h.W2.prototype.updateTransform.call(this)},e.prototype.createSprite=function(t,e,r){var n=e.region;t.hackAttachment===e&&(n=t.hackRegion);var i=n.texture,o=this.newSprite(i);return o.anchor.set(.5),this.setSpriteRegion(e,o,e.region),t.sprites=t.sprites||{},t.sprites[r]=o,o},e.prototype.createMesh=function(t,e){var r=e.region;t.hackAttachment===e&&(r=t.hackRegion,t.hackAttachment=null,t.hackRegion=null);var n=this.newMesh(r.texture,new Float32Array(e.regionUVs.length),e.regionUVs,new Uint16Array(e.triangles),l.lg.TRIANGLES);return void 0!==n._canvasPadding&&(n._canvasPadding=1.5),n.alpha=e.color.a,n.region=e.region,this.setMeshRegion(e,n,r),t.meshes=t.meshes||{},t.meshes[e.id]=n,n},e.prototype.createGraphics=function(t,e){var r=this.newGraphics(),n=new c.mg([]);return r.clear(),r.beginFill(16777215,1),r.drawPolygon(n),r.renderable=!1,t.currentGraphics=r,t.clippingContainer=this.newContainer(),t.clippingContainer.mask=t.currentGraphics,r},e.prototype.updateGraphics=function(t,e){var r=t.currentGraphics.geometry,n=r.graphicsData[0].shape.points,i=e.worldVerticesLength;n.length=i,e.computeWorldVertices(t,0,i,n,0,2),r.invalidate()},e.prototype.hackTextureBySlotIndex=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=null);var n=this.skeleton.slots[t];if(!n)return!1;var i=n.getAttachment(),o=i.region;return e?((o=new k).texture=e,o.size=r,n.hackRegion=o,n.hackAttachment=i):(n.hackRegion=null,n.hackAttachment=null),n.currentSprite&&n.currentSprite.region!=o?(this.setSpriteRegion(i,n.currentSprite,o),n.currentSprite.region=o):n.currentMesh&&n.currentMesh.region!=o&&this.setMeshRegion(i,n.currentMesh,o),!0},e.prototype.hackTextureBySlotName=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=null);var n=this.skeleton.findSlotIndex(t);return-1!=n&&this.hackTextureBySlotIndex(n,e,r)},e.prototype.hackTextureAttachment=function(t,e,r,n){void 0===n&&(n=null);var i=this.skeleton.findSlotIndex(t),o=this.skeleton.getAttachmentByName(t,e);o.region.texture=r;var a=this.skeleton.slots[i];if(!a)return!1;var s=a.getAttachment();if(e===s.name){var u=o.region;return r?((u=new k).texture=r,u.size=n,a.hackRegion=u,a.hackAttachment=s):(a.hackRegion=null,a.hackAttachment=null),a.currentSprite&&a.currentSprite.region!=u?(this.setSpriteRegion(s,a.currentSprite,u),a.currentSprite.region=u):a.currentMesh&&a.currentMesh.region!=u&&this.setMeshRegion(s,a.currentMesh,u),!0}return!1},e.prototype.newContainer=function(){return new h.W2},e.prototype.newSprite=function(t){return new Z(t)},e.prototype.newGraphics=function(){return new d.TC},e.prototype.newMesh=function(t,e,r,n,i){return new K(t,e,r,n,i)},e.prototype.transformHack=function(){return 1},e.prototype.hackAttachmentGroups=function(t,e,r){if(t){for(var n=[],i=[],o=0,a=this.skeleton.slots.length;o<a;o++){var s=this.skeleton.slots[o],u=s.currentSpriteName||s.currentMeshName||"",l=s.currentSprite||s.currentMesh;u.endsWith(t)?(l.parentGroup=e,i.push(l)):r&&l&&(l.parentGroup=r,n.push(l))}return[n,i]}},e.prototype.destroy=function(e){for(var r=0,n=this.skeleton.slots.length;r<n;r++){var i=this.skeleton.slots[r];for(var o in i.meshes)i.meshes[o].destroy(e);for(var a in i.meshes=null,i.sprites)i.sprites[a].destroy(e);i.sprites=null}for(r=0,n=this.slotContainers.length;r<n;r++)this.slotContainers[r].destroy(e);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,t.prototype.destroy.call(this,e)},e.clippingPolygon=[],e}(h.W2);Object.defineProperty(Q.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))}}),s.kC.setExtensionXhrType("skel",s.kC.XHR_RESPONSE_TYPE.BUFFER);var J=function(){function t(){}return t.prototype.genMiddleware=function(){var t=this;return{use:function(e,r){if(!e.data)return r();var n=function(t){return t.type===s.kC.TYPE.JSON}(e)&&e.data.bones,i=function(t){return t.xhrType===s.kC.XHR_RESPONSE_TYPE.BUFFER}(e)&&("skel"===e.extension||e.metadata&&e.metadata.spineMetadata);if(!n&&!i)return r();var o=null,a=e.data;n?o=t.createJsonParser():(o=t.createBinaryParser(),e.data instanceof ArrayBuffer&&(a=new Uint8Array(e.data)));var u=e.metadata||{},c=u?u.spineSkeletonScale:null;c&&(o.scale=c);var h=u.spineAtlas;if(!1===h)return r();if(h&&h.pages)return t.parseData(e,o,h,a),r();var f=u.spineAtlasSuffix||".atlas",p=e.url,d=p.indexOf("?");d>0&&(p=p.substr(0,d)),p=p.substr(0,p.lastIndexOf("."))+f,u.spineAtlasFile&&(p=u.spineAtlasFile),p=p.replace(this.baseUrl,"");var m={crossOrigin:e.crossOrigin,xhrType:s.kC.XHR_RESPONSE_TYPE.TEXT,metadata:u.spineMetadata||null,parentResource:e},y={crossOrigin:e.crossOrigin,metadata:u.imageMetadata||null,parentResource:e},g=e.url.substr(0,e.url.lastIndexOf("/")+1);g=g.replace(this.baseUrl,"");var v=u.imageNamePrefix||e.name+"_atlas_page_",b=u.images?$(u.images):u.image?$({default:u.image}):u.imageLoader?u.imageLoader(this,v,g,y):function(t,e,r,n){r&&r.lastIndexOf("/")!==r.length-1&&(r+="/");return function(i,o){var a=e+i,s=r+i,u=t.resources[a];if(u){var c=function(){o(u.texture.baseTexture)};u.texture?c():u.onAfterMiddleware.add(c)}else t.add(a,s,n,(function(t){t.error?o(null):(i.indexOf("-pma.")>=0&&(t.texture.baseTexture.alphaMode=l.iw.PMA),o(t.texture.baseTexture))}))}}(this,v,g,y);function _(n){new C(n,b,(function(n){n&&t.parseData(e,o,n,a),r()}))}u.atlasRawData?_(u.atlasRawData):this.add(e.name+"_atlas",p,m,(function(t){t.error?r():_(t.data)}))}}},t}();function $(t){return function(e,r){var n=t[e]||t.default;n&&n.baseTexture?r(n.baseTexture):r(n)}}var tt=function(t,e){return tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},tt(t,e)};function et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}tt(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var rt,nt=function(t){if(null==t)throw new Error("name cannot be null.");this.name=t},it=function(t){function e(r){var n=t.call(this,r)||this;return n.id=(65535&e.nextID++)<<11,n.worldVerticesLength=0,n.deformAttachment=n,n}return et(e,t),e.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},e.prototype.computeWorldVertices=function(t,e,r,n,i,o){r=i+(r>>1)*o;var a=t.bone.skeleton,s=t.deform,u=this.vertices,l=this.bones;if(null!=l){for(var c=0,h=0,f=0;f<e;f+=2){c+=(y=l[c])+1,h+=y}var p=a.bones;if(0==s.length)for(k=i,T=3*h;k<r;k+=o){var d=0,m=0,y=l[c++];for(y+=c;c<y;c++,T+=3){_=p[l[c]].matrix,P=u[T],C=u[T+1];var g=u[T+2];d+=(P*_.a+C*_.c+_.tx)*g,m+=(P*_.b+C*_.d+_.ty)*g}n[k]=d,n[k+1]=m}else for(var v=s,b=(k=i,T=3*h,h<<1);k<r;k+=o){d=0,m=0,y=l[c++];for(y+=c;c<y;c++,T+=3,b+=2){_=p[l[c]].matrix,P=u[T]+v[b],C=u[T+1]+v[b+1],g=u[T+2];d+=(P*_.a+C*_.c+_.tx)*g,m+=(P*_.b+C*_.d+_.ty)*g}n[k]=d,n[k+1]=m}}else{s.length>0&&(u=s);for(var _,w=(_=t.bone.matrix).tx,x=_.ty,S=_.a,T=_.c,E=_.b,O=_.d,A=e,k=i;k<r;A+=2,k+=o){var P=u[A],C=u[A+1];n[k]=P*S+C*T+w,n[k+1]=P*E+C*O+x}}},e.prototype.copyTo=function(t){null!=this.bones?(t.bones=new Array(this.bones.length),D.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,null!=this.vertices?(t.vertices=D.newFloatArray(this.vertices.length),D.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment},e.nextID=0,e}(nt),ot=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.BoundingBox,r.color=new N(1,1,1,1),r}return et(e,t),e.prototype.copy=function(){var t=new e(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t},e}(it),at=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.Clipping,r.color=new N(.2275,.2275,.8078,1),r}return et(e,t),e.prototype.copy=function(){var t=new e(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t},e}(it),st=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.Mesh,r.color=new N(1,1,1,1),r.tempColor=new N(0,0,0,0),r}return et(e,t),e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},e.prototype.copy=function(){if(null!=this.parentMesh)return this.newLinkedMesh();var t=new e(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Float32Array(this.regionUVs.length),D.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.triangles=new Array(this.triangles.length),D.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,null!=this.edges&&(t.edges=new Array(this.edges.length),D.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t},e.prototype.newLinkedMesh=function(){var t=new e(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t},e}(it),ut=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.Path,r.closed=!1,r.constantSpeed=!1,r.color=new N(1,1,1,1),r}return et(e,t),e.prototype.copy=function(){var t=new e(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),D.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t},e}(it),lt=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.Point,r.color=new N(.38,.94,0,1),r}return et(e,t),e.prototype.computeWorldPosition=function(t,e){var r=t.matrix;return e.x=this.x*r.a+this.y*r.c+t.worldX,e.y=this.x*r.b+this.y*r.d+t.worldY,e},e.prototype.computeWorldRotation=function(t){var e=t.matrix,r=F.cosDeg(this.rotation),n=F.sinDeg(this.rotation),i=r*e.a+n*e.c,o=r*e.b+n*e.d;return Math.atan2(o,i)*F.radDeg},e.prototype.copy=function(){var t=new e(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t},e}(it),ct=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.Region,r.x=0,r.y=0,r.scaleX=1,r.scaleY=1,r.rotation=0,r.width=0,r.height=0,r.color=new N(1,1,1,1),r.offset=D.newFloatArray(8),r.uvs=D.newFloatArray(8),r.tempColor=new N(1,1,1,1),r}return et(e,t),e.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,r=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*r,o=n+this.region.width*t,a=i+this.region.height*r,s=this.rotation*Math.PI/180,u=Math.cos(s),l=Math.sin(s),c=n*u+this.x,h=n*l,f=i*u+this.y,p=i*l,d=o*u+this.x,m=o*l,y=a*u+this.y,g=a*l,v=this.offset;v[e.OX1]=c-p,v[e.OY1]=f+h,v[e.OX2]=c-g,v[e.OY2]=y+h,v[e.OX3]=d-g,v[e.OY3]=y+m,v[e.OX4]=d-p,v[e.OY4]=f+m},e.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},e.prototype.computeWorldVertices=function(t,r,n,i){var o=this.offset,a=t.matrix,s=a.tx,u=a.ty,l=a.a,c=a.c,h=a.b,f=a.d,p=0,d=0;p=o[e.OX1],d=o[e.OY1],r[n]=p*l+d*c+s,r[n+1]=p*h+d*f+u,n+=i,p=o[e.OX2],d=o[e.OY2],r[n]=p*l+d*c+s,r[n+1]=p*h+d*f+u,n+=i,p=o[e.OX3],d=o[e.OY3],r[n]=p*l+d*c+s,r[n+1]=p*h+d*f+u,n+=i,p=o[e.OX4],d=o[e.OY4],r[n]=p*l+d*c+s,r[n+1]=p*h+d*f+u},e.prototype.copy=function(){var t=new e(this.name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,D.arrayCopy(this.uvs,0,t.uvs,0,8),D.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(nt),ht=function(){function t(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}return t.prototype.begin=function(t){},t.prototype.transform=function(t,e,r,n){t.x+=F.randomTriangular(-this.jitterX,this.jitterY),t.y+=F.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),ft=function(){function t(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}return t.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},t.prototype.transform=function(e,r,n,i){var o=this.angle*F.degreesToRadians,a=e.x-this.worldX,s=e.y-this.worldY,u=Math.sqrt(a*a+s*s);if(u<this.radius){var l=t.interpolation.apply(0,o,(this.radius-u)/this.radius),c=Math.cos(l),h=Math.sin(l);e.x=c*a-h*s+this.worldX,e.y=h*a+c*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new V(2),t}(),pt=function(){function t(t,e,r){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.timelineIds=[];for(var n=0;n<e.length;n++)this.timelineIds[e[n].getPropertyId()]=!0;this.duration=r}return t.prototype.hasTimeline=function(t){return 1==this.timelineIds[t]},t.prototype.apply=function(t,e,r,n,i,o,a,s){if(null==t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(r%=this.duration,e>0&&(e%=this.duration));for(var u=this.timelines,l=0,c=u.length;l<c;l++)u[l].apply(t,e,r,i,o,a,s)},t.binarySearch=function(t,e,r){void 0===r&&(r=1);var n=0,i=t.length/r-2;if(0==i)return r;for(var o=i>>>1;;){if(t[(o+1)*r]<=e?n=o+1:i=o,n==i)return(n+1)*r;o=n+i>>>1}},t.linearSearch=function(t,e,r){for(var n=0,i=t.length-r;n<=i;n+=r)if(t[n]>e)return n;return-1},t}();!function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"}(rt||(rt={}));var dt,mt=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=D.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,o){var a=.03*(2*-r+i),s=.03*(2*-n+o),u=.006*(3*(r-i)+1),l=.006*(3*(n-o)+1),c=2*a+u,h=2*s+l,f=.3*r+a+.16666667*u,p=.3*n+s+.16666667*l,d=e*t.BEZIER_SIZE,m=this.curves;m[d++]=t.BEZIER;for(var y=f,g=p,v=d+t.BEZIER_SIZE-1;d<v;d+=2)m[d]=y,m[d+1]=g,f+=c,p+=h,c+=u,h+=l,y+=f,g+=p},t.prototype.getCurvePercent=function(e,r){r=F.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,o=n[i];if(o==t.LINEAR)return r;if(o==t.STEPPED)return 0;for(var a=0,s=++i,u=i+t.BEZIER_SIZE-1;i<u;i+=2)if((a=n[i])>=r){var l=void 0,c=void 0;return i==s?(l=0,c=0):(l=n[i-2],c=n[i-1]),c+(n[i+1]-c)*(r-l)/(a-l)}var h=n[i-1];return h+(1-h)*(r-a)/(1-a)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=19,t}(),yt=function(t){function e(e){var r=t.call(this,e)||this;return r.frames=D.newFloatArray(e<<1),r}return et(e,t),e.prototype.getPropertyId=function(){return(rt.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(t,r,n){t<<=1,this.frames[t]=r,this.frames[t+e.ROTATION]=n},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.bones[this.boneIndex];if(l.active)if(n<u[0])switch(a){case y.setup:return void(l.rotation=l.data.rotation);case y.first:var c=l.data.rotation-l.rotation;l.rotation+=(c-360*(16384-(16384.499999999996-c/360|0)))*o}else if(n>=u[u.length-e.ENTRIES]){var h=u[u.length+e.PREV_ROTATION];switch(a){case y.setup:l.rotation=l.data.rotation+h*o;break;case y.first:case y.replace:h+=l.data.rotation-l.rotation,h-=360*(16384-(16384.499999999996-h/360|0));case y.add:l.rotation+=h*o}}else{var f=pt.binarySearch(u,n,e.ENTRIES),p=u[f+e.PREV_ROTATION],d=u[f],m=this.getCurvePercent((f>>1)-1,1-(n-d)/(u[f+e.PREV_TIME]-d)),g=u[f+e.ROTATION]-p;switch(g=p+(g-360*(16384-(16384.499999999996-g/360|0)))*m,a){case y.setup:l.rotation=l.data.rotation+(g-360*(16384-(16384.499999999996-g/360|0)))*o;break;case y.first:case y.replace:g+=l.data.rotation-l.rotation;case y.add:l.rotation+=(g-360*(16384-(16384.499999999996-g/360|0)))*o}}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(mt),gt=function(t){function e(r){var n=t.call(this,r)||this;return n.frames=D.newFloatArray(r*e.ENTRIES),n}return et(e,t),e.prototype.getPropertyId=function(){return(rt.translate<<24)+this.boneIndex},e.prototype.setFrame=function(t,r,n,i){t*=e.ENTRIES,this.frames[t]=r,this.frames[t+e.X]=n,this.frames[t+e.Y]=i},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.bones[this.boneIndex];if(l.active)if(n<u[0])switch(a){case y.setup:return l.x=l.data.x,void(l.y=l.data.y);case y.first:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}else{var c=0,h=0;if(n>=u[u.length-e.ENTRIES])c=u[u.length+e.PREV_X],h=u[u.length+e.PREV_Y];else{var f=pt.binarySearch(u,n,e.ENTRIES);c=u[f+e.PREV_X],h=u[f+e.PREV_Y];var p=u[f],d=this.getCurvePercent(f/e.ENTRIES-1,1-(n-p)/(u[f+e.PREV_TIME]-p));c+=(u[f+e.X]-c)*d,h+=(u[f+e.Y]-h)*d}switch(a){case y.setup:l.x=l.data.x+c*o,l.y=l.data.y+h*o;break;case y.first:case y.replace:l.x+=(l.data.x+c-l.x)*o,l.y+=(l.data.y+h-l.y)*o;break;case y.add:l.x+=c*o,l.y+=h*o}}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(mt),vt=function(t){function e(e){return t.call(this,e)||this}return et(e,t),e.prototype.getPropertyId=function(){return(rt.scale<<24)+this.boneIndex},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.bones[this.boneIndex];if(l.active)if(n<u[0])switch(a){case y.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case y.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}else{var c=0,h=0;if(n>=u[u.length-e.ENTRIES])c=u[u.length+e.PREV_X]*l.data.scaleX,h=u[u.length+e.PREV_Y]*l.data.scaleY;else{var f=pt.binarySearch(u,n,e.ENTRIES);c=u[f+e.PREV_X],h=u[f+e.PREV_Y];var p=u[f],d=this.getCurvePercent(f/e.ENTRIES-1,1-(n-p)/(u[f+e.PREV_TIME]-p));c=(c+(u[f+e.X]-c)*d)*l.data.scaleX,h=(h+(u[f+e.Y]-h)*d)*l.data.scaleY}if(1==o)a==y.add?(l.scaleX+=c-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=c,l.scaleY=h);else{var m=0,v=0;if(s==g.mixOut)switch(a){case y.setup:m=l.data.scaleX,v=l.data.scaleY,l.scaleX=m+(Math.abs(c)*F.signum(m)-m)*o,l.scaleY=v+(Math.abs(h)*F.signum(v)-v)*o;break;case y.first:case y.replace:m=l.scaleX,v=l.scaleY,l.scaleX=m+(Math.abs(c)*F.signum(m)-m)*o,l.scaleY=v+(Math.abs(h)*F.signum(v)-v)*o;break;case y.add:m=l.scaleX,v=l.scaleY,l.scaleX=m+(Math.abs(c)*F.signum(m)-l.data.scaleX)*o,l.scaleY=v+(Math.abs(h)*F.signum(v)-l.data.scaleY)*o}else switch(a){case y.setup:m=Math.abs(l.data.scaleX)*F.signum(c),v=Math.abs(l.data.scaleY)*F.signum(h),l.scaleX=m+(c-m)*o,l.scaleY=v+(h-v)*o;break;case y.first:case y.replace:m=Math.abs(l.scaleX)*F.signum(c),v=Math.abs(l.scaleY)*F.signum(h),l.scaleX=m+(c-m)*o,l.scaleY=v+(h-v)*o;break;case y.add:m=F.signum(c),v=F.signum(h),l.scaleX=Math.abs(l.scaleX)*m+(c-Math.abs(l.data.scaleX)*m)*o,l.scaleY=Math.abs(l.scaleY)*v+(h-Math.abs(l.data.scaleY)*v)*o}}}},e}(gt),bt=function(t){function e(e){return t.call(this,e)||this}return et(e,t),e.prototype.getPropertyId=function(){return(rt.shear<<24)+this.boneIndex},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.bones[this.boneIndex];if(l.active)if(n<u[0])switch(a){case y.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case y.first:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}else{var c=0,h=0;if(n>=u[u.length-e.ENTRIES])c=u[u.length+e.PREV_X],h=u[u.length+e.PREV_Y];else{var f=pt.binarySearch(u,n,e.ENTRIES);c=u[f+e.PREV_X],h=u[f+e.PREV_Y];var p=u[f],d=this.getCurvePercent(f/e.ENTRIES-1,1-(n-p)/(u[f+e.PREV_TIME]-p));c+=(u[f+e.X]-c)*d,h+=(u[f+e.Y]-h)*d}switch(a){case y.setup:l.shearX=l.data.shearX+c*o,l.shearY=l.data.shearY+h*o;break;case y.first:case y.replace:l.shearX+=(l.data.shearX+c-l.shearX)*o,l.shearY+=(l.data.shearY+h-l.shearY)*o;break;case y.add:l.shearX+=c*o,l.shearY+=h*o}}},e}(gt),_t=function(t){function e(r){var n=t.call(this,r)||this;return n.frames=D.newFloatArray(r*e.ENTRIES),n}return et(e,t),e.prototype.getPropertyId=function(){return(rt.color<<24)+this.slotIndex},e.prototype.setFrame=function(t,r,n,i,o,a){t*=e.ENTRIES,this.frames[t]=r,this.frames[t+e.R]=n,this.frames[t+e.G]=i,this.frames[t+e.B]=o,this.frames[t+e.A]=a},e.prototype.apply=function(t,r,n,i,o,a,s){var u=t.slots[this.slotIndex];if(u.bone.active){var l=this.frames;if(n<l[0])switch(a){case y.setup:return void u.color.setFromColor(u.data.color);case y.first:var c=u.color,h=u.data.color;c.add((h.r-c.r)*o,(h.g-c.g)*o,(h.b-c.b)*o,(h.a-c.a)*o)}else{var f=0,p=0,d=0,m=0;if(n>=l[l.length-e.ENTRIES]){var g=l.length;f=l[g+e.PREV_R],p=l[g+e.PREV_G],d=l[g+e.PREV_B],m=l[g+e.PREV_A]}else{var v=pt.binarySearch(l,n,e.ENTRIES);f=l[v+e.PREV_R],p=l[v+e.PREV_G],d=l[v+e.PREV_B],m=l[v+e.PREV_A];var b=l[v],_=this.getCurvePercent(v/e.ENTRIES-1,1-(n-b)/(l[v+e.PREV_TIME]-b));f+=(l[v+e.R]-f)*_,p+=(l[v+e.G]-p)*_,d+=(l[v+e.B]-d)*_,m+=(l[v+e.A]-m)*_}if(1==o)u.color.set(f,p,d,m);else{c=u.color;a==y.setup&&c.setFromColor(u.data.color),c.add((f-c.r)*o,(p-c.g)*o,(d-c.b)*o,(m-c.a)*o)}}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(mt),wt=function(t){function e(r){var n=t.call(this,r)||this;return n.frames=D.newFloatArray(r*e.ENTRIES),n}return et(e,t),e.prototype.getPropertyId=function(){return(rt.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(t,r,n,i,o,a,s,u,l){t*=e.ENTRIES,this.frames[t]=r,this.frames[t+e.R]=n,this.frames[t+e.G]=i,this.frames[t+e.B]=o,this.frames[t+e.A]=a,this.frames[t+e.R2]=s,this.frames[t+e.G2]=u,this.frames[t+e.B2]=l},e.prototype.apply=function(t,r,n,i,o,a,s){var u=t.slots[this.slotIndex];if(u.bone.active){var l=this.frames;if(n<l[0])switch(a){case y.setup:return u.color.setFromColor(u.data.color),void u.darkColor.setFromColor(u.data.darkColor);case y.first:var c=u.color,h=u.darkColor,f=u.data.color,p=u.data.darkColor;c.add((f.r-c.r)*o,(f.g-c.g)*o,(f.b-c.b)*o,(f.a-c.a)*o),h.add((p.r-h.r)*o,(p.g-h.g)*o,(p.b-h.b)*o,0)}else{var d=0,m=0,g=0,v=0,b=0,_=0,w=0;if(n>=l[l.length-e.ENTRIES]){var x=l.length;d=l[x+e.PREV_R],m=l[x+e.PREV_G],g=l[x+e.PREV_B],v=l[x+e.PREV_A],b=l[x+e.PREV_R2],_=l[x+e.PREV_G2],w=l[x+e.PREV_B2]}else{var S=pt.binarySearch(l,n,e.ENTRIES);d=l[S+e.PREV_R],m=l[S+e.PREV_G],g=l[S+e.PREV_B],v=l[S+e.PREV_A],b=l[S+e.PREV_R2],_=l[S+e.PREV_G2],w=l[S+e.PREV_B2];var T=l[S],E=this.getCurvePercent(S/e.ENTRIES-1,1-(n-T)/(l[S+e.PREV_TIME]-T));d+=(l[S+e.R]-d)*E,m+=(l[S+e.G]-m)*E,g+=(l[S+e.B]-g)*E,v+=(l[S+e.A]-v)*E,b+=(l[S+e.R2]-b)*E,_+=(l[S+e.G2]-_)*E,w+=(l[S+e.B2]-w)*E}if(1==o)u.color.set(d,m,g,v),u.darkColor.set(b,_,w,1);else{c=u.color,h=u.darkColor;a==y.setup&&(c.setFromColor(u.data.color),h.setFromColor(u.data.darkColor)),c.add((d-c.r)*o,(m-c.g)*o,(g-c.b)*o,(v-c.a)*o),h.add((b-h.r)*o,(_-h.g)*o,(w-h.b)*o,0)}}}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(mt),xt=function(){function t(t){this.frames=D.newFloatArray(t),this.attachmentNames=new Array(t)}return t.prototype.getPropertyId=function(){return(rt.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.attachmentNames[t]=r},t.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(s.bone.active)if(a!=g.mixOut){var u=this.frames;if(r<u[0])o!=y.setup&&o!=y.first||this.setAttachment(t,s,s.data.attachmentName);else{var l=0;l=r>=u[u.length-1]?u.length-1:pt.binarySearch(u,r,1)-1;var c=this.attachmentNames[l];t.slots[this.slotIndex].setAttachment(null==c?null:t.getAttachment(this.slotIndex,c))}}else o==y.setup&&this.setAttachment(t,s,s.data.attachmentName)},t.prototype.setAttachment=function(t,e,r){e.setAttachment(null==r?null:t.getAttachment(this.slotIndex,r))},t}(),St=null,Tt=function(t){function e(e){var r=t.call(this,e)||this;return r.frames=D.newFloatArray(e),r.frameVertices=new Array(e),null==St&&(St=D.newFloatArray(64)),r}return et(e,t),e.prototype.getPropertyId=function(){return(rt.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.frameVertices[t]=r},e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(s.bone.active){var u=s.getAttachment();if(u instanceof it&&u.deformAttachment==this.attachment){var l=s.deform;0==l.length&&(o=y.setup);var c=this.frameVertices,h=c[0].length,f=this.frames;if(r<f[0]){var p=u;switch(o){case y.setup:return void(l.length=0);case y.first:if(1==i){l.length=0;break}var d=D.setArraySize(l,h);if(null==p.bones)for(var m=p.vertices,g=0;g<h;g++)d[g]+=(m[g]-d[g])*i;else{i=1-i;for(g=0;g<h;g++)d[g]*=i}}}else{var v=D.setArraySize(l,h);if(r>=f[f.length-1]){var b=c[f.length-1];if(1==i)if(o==y.add)if(null==(p=u).bones){m=p.vertices;for(var _=0;_<h;_++)v[_]+=b[_]-m[_]}else for(var w=0;w<h;w++)v[w]+=b[w];else D.arrayCopy(b,0,v,0,h);else switch(o){case y.setup:var x=u;if(null==x.bones){m=x.vertices;for(var S=0;S<h;S++){var T=m[S];v[S]=T+(b[S]-T)*i}}else for(var E=0;E<h;E++)v[E]=b[E]*i;break;case y.first:case y.replace:for(var O=0;O<h;O++)v[O]+=(b[O]-v[O])*i;break;case y.add:if(null==(p=u).bones){m=p.vertices;for(var A=0;A<h;A++)v[A]+=(b[A]-m[A])*i}else for(var k=0;k<h;k++)v[k]+=b[k]*i}}else{var P=pt.binarySearch(f,r),C=c[P-1],M=c[P],I=f[P],j=this.getCurvePercent(P-1,1-(r-I)/(f[P-1]-I));if(1==i)if(o==y.add)if(null==(p=u).bones){m=p.vertices;for(var B=0;B<h;B++){var L=C[B];v[B]+=L+(M[B]-L)*j-m[B]}}else for(var R=0;R<h;R++){L=C[R];v[R]+=L+(M[R]-L)*j}else for(var q=0;q<h;q++){L=C[q];v[q]=L+(M[q]-L)*j}else switch(o){case y.setup:var N=u;if(null==N.bones){m=N.vertices;for(var F=0;F<h;F++){L=C[F],T=m[F];v[F]=T+(L+(M[F]-L)*j-T)*i}}else for(var V=0;V<h;V++){L=C[V];v[V]=(L+(M[V]-L)*j)*i}break;case y.first:case y.replace:for(var G=0;G<h;G++){L=C[G];v[G]+=(L+(M[G]-L)*j-v[G])*i}break;case y.add:if(null==(p=u).bones){m=p.vertices;for(var z=0;z<h;z++){L=C[z];v[z]+=(L+(M[z]-L)*j-m[z])*i}}else for(var U=0;U<h;U++){L=C[U];v[U]+=(L+(M[U]-L)*j)*i}}}}}}},e}(mt),Et=function(){function t(t){this.frames=D.newFloatArray(t),this.events=new Array(t)}return t.prototype.getPropertyId=function(){return rt.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},t.prototype.apply=function(t,e,r,n,i,o,a){if(null!=n){var s=this.frames,u=this.frames.length;if(e>r)this.apply(t,e,Number.MAX_VALUE,n,i,o,a),e=-1;else if(e>=s[u-1])return;if(!(r<s[0])){var l=0;if(e<s[0])l=0;else for(var c=s[l=pt.binarySearch(s,e)];l>0&&s[l-1]==c;)l--;for(;l<u&&r>=s[l];l++)n.push(this.events[l])}}},t}(),Ot=function(){function t(t){this.frames=D.newFloatArray(t),this.drawOrders=new Array(t)}return t.prototype.getPropertyId=function(){return rt.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.drawOrders[t]=r},t.prototype.apply=function(t,e,r,n,i,o,a){var s=t.drawOrder,u=t.slots;if(a!=g.mixOut||o!=y.setup){var l=this.frames;if(r<l[0])o!=y.setup&&o!=y.first||D.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var c=0;c=r>=l[l.length-1]?l.length-1:pt.binarySearch(l,r)-1;var h=this.drawOrders[c];if(null==h)D.arrayCopy(u,0,s,0,u.length);else for(var f=0,p=h.length;f<p;f++)s[f]=u[h[f]]}}else D.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},t}(),At=function(t){function e(r){var n=t.call(this,r)||this;return n.frames=D.newFloatArray(r*e.ENTRIES),n}return et(e,t),e.prototype.getPropertyId=function(){return(rt.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(t,r,n,i,o,a,s){t*=e.ENTRIES,this.frames[t]=r,this.frames[t+e.MIX]=n,this.frames[t+e.SOFTNESS]=i,this.frames[t+e.BEND_DIRECTION]=o,this.frames[t+e.COMPRESS]=a?1:0,this.frames[t+e.STRETCH]=s?1:0},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.ikConstraints[this.ikConstraintIndex];if(l.active)if(n<u[0])switch(a){case y.setup:return l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,void(l.stretch=l.data.stretch);case y.first:l.mix+=(l.data.mix-l.mix)*o,l.softness+=(l.data.softness-l.softness)*o,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}else if(n>=u[u.length-e.ENTRIES])a==y.setup?(l.mix=l.data.mix+(u[u.length+e.PREV_MIX]-l.data.mix)*o,l.softness=l.data.softness+(u[u.length+e.PREV_SOFTNESS]-l.data.softness)*o,s==g.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[u.length+e.PREV_BEND_DIRECTION],l.compress=0!=u[u.length+e.PREV_COMPRESS],l.stretch=0!=u[u.length+e.PREV_STRETCH])):(l.mix+=(u[u.length+e.PREV_MIX]-l.mix)*o,l.softness+=(u[u.length+e.PREV_SOFTNESS]-l.softness)*o,s==g.mixIn&&(l.bendDirection=u[u.length+e.PREV_BEND_DIRECTION],l.compress=0!=u[u.length+e.PREV_COMPRESS],l.stretch=0!=u[u.length+e.PREV_STRETCH]));else{var c=pt.binarySearch(u,n,e.ENTRIES),h=u[c+e.PREV_MIX],f=u[c+e.PREV_SOFTNESS],p=u[c],d=this.getCurvePercent(c/e.ENTRIES-1,1-(n-p)/(u[c+e.PREV_TIME]-p));a==y.setup?(l.mix=l.data.mix+(h+(u[c+e.MIX]-h)*d-l.data.mix)*o,l.softness=l.data.softness+(f+(u[c+e.SOFTNESS]-f)*d-l.data.softness)*o,s==g.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[c+e.PREV_BEND_DIRECTION],l.compress=0!=u[c+e.PREV_COMPRESS],l.stretch=0!=u[c+e.PREV_STRETCH])):(l.mix+=(h+(u[c+e.MIX]-h)*d-l.mix)*o,l.softness+=(f+(u[c+e.SOFTNESS]-f)*d-l.softness)*o,s==g.mixIn&&(l.bendDirection=u[c+e.PREV_BEND_DIRECTION],l.compress=0!=u[c+e.PREV_COMPRESS],l.stretch=0!=u[c+e.PREV_STRETCH]))}},e.ENTRIES=6,e.PREV_TIME=-6,e.PREV_MIX=-5,e.PREV_SOFTNESS=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.SOFTNESS=2,e.BEND_DIRECTION=3,e.COMPRESS=4,e.STRETCH=5,e}(mt),kt=function(t){function e(r){var n=t.call(this,r)||this;return n.frames=D.newFloatArray(r*e.ENTRIES),n}return et(e,t),e.prototype.getPropertyId=function(){return(rt.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(t,r,n,i,o,a){t*=e.ENTRIES,this.frames[t]=r,this.frames[t+e.ROTATE]=n,this.frames[t+e.TRANSLATE]=i,this.frames[t+e.SCALE]=o,this.frames[t+e.SHEAR]=a},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.transformConstraints[this.transformConstraintIndex];if(l.active)if(n<u[0]){var c=l.data;switch(a){case y.setup:return l.rotateMix=c.rotateMix,l.translateMix=c.translateMix,l.scaleMix=c.scaleMix,void(l.shearMix=c.shearMix);case y.first:l.rotateMix+=(c.rotateMix-l.rotateMix)*o,l.translateMix+=(c.translateMix-l.translateMix)*o,l.scaleMix+=(c.scaleMix-l.scaleMix)*o,l.shearMix+=(c.shearMix-l.shearMix)*o}}else{var h=0,f=0,p=0,d=0;if(n>=u[u.length-e.ENTRIES]){var m=u.length;h=u[m+e.PREV_ROTATE],f=u[m+e.PREV_TRANSLATE],p=u[m+e.PREV_SCALE],d=u[m+e.PREV_SHEAR]}else{var g=pt.binarySearch(u,n,e.ENTRIES);h=u[g+e.PREV_ROTATE],f=u[g+e.PREV_TRANSLATE],p=u[g+e.PREV_SCALE],d=u[g+e.PREV_SHEAR];var v=u[g],b=this.getCurvePercent(g/e.ENTRIES-1,1-(n-v)/(u[g+e.PREV_TIME]-v));h+=(u[g+e.ROTATE]-h)*b,f+=(u[g+e.TRANSLATE]-f)*b,p+=(u[g+e.SCALE]-p)*b,d+=(u[g+e.SHEAR]-d)*b}if(a==y.setup){c=l.data;l.rotateMix=c.rotateMix+(h-c.rotateMix)*o,l.translateMix=c.translateMix+(f-c.translateMix)*o,l.scaleMix=c.scaleMix+(p-c.scaleMix)*o,l.shearMix=c.shearMix+(d-c.shearMix)*o}else l.rotateMix+=(h-l.rotateMix)*o,l.translateMix+=(f-l.translateMix)*o,l.scaleMix+=(p-l.scaleMix)*o,l.shearMix+=(d-l.shearMix)*o}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(mt),Pt=function(t){function e(r){var n=t.call(this,r)||this;return n.frames=D.newFloatArray(r*e.ENTRIES),n}return et(e,t),e.prototype.getPropertyId=function(){return(rt.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(t,r,n){t*=e.ENTRIES,this.frames[t]=r,this.frames[t+e.VALUE]=n},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<u[0])switch(a){case y.setup:return void(l.position=l.data.position);case y.first:l.position+=(l.data.position-l.position)*o}else{var c=0;if(n>=u[u.length-e.ENTRIES])c=u[u.length+e.PREV_VALUE];else{var h=pt.binarySearch(u,n,e.ENTRIES);c=u[h+e.PREV_VALUE];var f=u[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(n-f)/(u[h+e.PREV_TIME]-f));c+=(u[h+e.VALUE]-c)*p}a==y.setup?l.position=l.data.position+(c-l.data.position)*o:l.position+=(c-l.position)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(mt),Ct=function(t){function e(e){return t.call(this,e)||this}return et(e,t),e.prototype.getPropertyId=function(){return(rt.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<u[0])switch(a){case y.setup:return void(l.spacing=l.data.spacing);case y.first:l.spacing+=(l.data.spacing-l.spacing)*o}else{var c=0;if(n>=u[u.length-e.ENTRIES])c=u[u.length+e.PREV_VALUE];else{var h=pt.binarySearch(u,n,e.ENTRIES);c=u[h+e.PREV_VALUE];var f=u[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(n-f)/(u[h+e.PREV_TIME]-f));c+=(u[h+e.VALUE]-c)*p}a==y.setup?l.spacing=l.data.spacing+(c-l.data.spacing)*o:l.spacing+=(c-l.spacing)*o}},e}(Pt),Mt=function(t){function e(r){var n=t.call(this,r)||this;return n.frames=D.newFloatArray(r*e.ENTRIES),n}return et(e,t),e.prototype.getPropertyId=function(){return(rt.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(t,r,n,i){t*=e.ENTRIES,this.frames[t]=r,this.frames[t+e.ROTATE]=n,this.frames[t+e.TRANSLATE]=i},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(n<u[0])switch(a){case y.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case y.first:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*o,l.translateMix+=(l.data.translateMix-l.translateMix)*o}else{var c=0,h=0;if(n>=u[u.length-e.ENTRIES])c=u[u.length+e.PREV_ROTATE],h=u[u.length+e.PREV_TRANSLATE];else{var f=pt.binarySearch(u,n,e.ENTRIES);c=u[f+e.PREV_ROTATE],h=u[f+e.PREV_TRANSLATE];var p=u[f],d=this.getCurvePercent(f/e.ENTRIES-1,1-(n-p)/(u[f+e.PREV_TIME]-p));c+=(u[f+e.ROTATE]-c)*d,h+=(u[f+e.TRANSLATE]-h)*d}a==y.setup?(l.rotateMix=l.data.rotateMix+(c-l.data.rotateMix)*o,l.translateMix=l.data.translateMix+(h-l.data.translateMix)*o):(l.rotateMix+=(c-l.rotateMix)*o,l.translateMix+=(h-l.translateMix)*o)}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(mt),It=function(){function t(t){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new Bt(this),this.propertyIDs=new R,this.animationsChanged=!1,this.trackEntryPool=new G((function(){return new jt})),this.data=t}return t.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=t*i.timeScale;if(i.delay>0){if(i.delay-=o,i.delay>0)continue;o=-i.delay,i.delay=0}var a=i.next;if(null!=a){var s=i.trackLast-a.delay;if(s>=0){for(a.delay=0,a.trackTime+=0==i.timeScale?0:(s/i.timeScale+t)*a.timeScale,i.trackTime+=o,this.setCurrent(r,a,!0);null!=a.mixingFrom;)a.mixTime+=t,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){e[r]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,t)){var u=i.mixingFrom;for(i.mixingFrom=null,null!=u&&(u.mixingTo=null);null!=u;)this.queue.end(u),u=u.mixingFrom}i.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(t,e){var r=t.mixingFrom;if(null==r)return!0;var n=this.updateMixingFrom(r,e);return r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=r.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=r.mixingFrom,null!=r.mixingFrom&&(r.mixingFrom.mixingTo=t),t.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=e*r.timeScale,t.mixTime+=e,!1)},t.prototype.apply=function(e){if(null==e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,o=0,a=n.length;o<a;o++){var s=n[o];if(!(null==s||s.delay>0)){i=!0;var u=0==o?y.first:s.mixBlend,l=s.alpha;null!=s.mixingFrom?l*=this.applyMixingFrom(s,e,u):s.trackTime>=s.trackEnd&&null==s.next&&(l=0);var c=s.animationLast,h=s.getAnimationTime(),f=s.animation.timelines.length,p=s.animation.timelines;if(0==o&&1==l||u==y.add)for(var d=0;d<f;d++){D.webkit602BugfixHelper(l,u);var m=p[d];m instanceof xt?this.applyAttachmentTimeline(m,e,h,u,!0):m.apply(e,c,h,r,l,u,g.mixIn)}else{var v=s.timelineMode,b=0==s.timelinesRotation.length;b&&D.setArraySize(s.timelinesRotation,f<<1,null);var _=s.timelinesRotation;for(d=0;d<f;d++){var w=p[d],x=v[d]==t.SUBSEQUENT?u:y.setup;w instanceof yt?this.applyRotateTimeline(w,e,h,l,x,_,d<<1,b):w instanceof xt?this.applyAttachmentTimeline(w,e,h,u,!0):(D.webkit602BugfixHelper(l,u),w.apply(e,c,h,r,l,x,g.mixIn))}}this.queueEvents(s,h),r.length=0,s.nextAnimationLast=h,s.nextTrackLast=s.trackTime}}for(var S=this.unkeyedState+t.SETUP,T=e.slots,E=0,O=e.slots.length;E<O;E++){var A=T[E];if(A.attachmentState==S){var k=A.data.attachmentName;A.setAttachment(null==k?null:e.getAttachment(A.data.index,k))}}return this.unkeyedState+=2,this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;null!=i.mixingFrom&&this.applyMixingFrom(i,r,n);var o=0;0==e.mixDuration?(o=1,n==y.first&&(n=y.setup)):((o=e.mixTime/e.mixDuration)>1&&(o=1),n!=y.first&&(n=i.mixBlend));var a=o<i.eventThreshold?this.events:null,s=o<i.attachmentThreshold,u=o<i.drawOrderThreshold,l=i.animationLast,c=i.getAnimationTime(),h=i.animation.timelines.length,f=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-o);if(n==y.add)for(var m=0;m<h;m++)f[m].apply(r,l,c,a,d,n,g.mixOut);else{var v=i.timelineMode,b=i.timelineHoldMix,_=0==i.timelinesRotation.length;_&&D.setArraySize(i.timelinesRotation,h<<1,null);var w=i.timelinesRotation;i.totalAlpha=0;for(m=0;m<h;m++){var x=f[m],S=g.mixOut,T=void 0,E=0;switch(v[m]){case t.SUBSEQUENT:if(!u&&x instanceof Ot)continue;T=n,E=d;break;case t.FIRST:T=y.setup,E=d;break;case t.HOLD_SUBSEQUENT:T=n,E=p;break;case t.HOLD_FIRST:T=y.setup,E=p;break;default:T=y.setup;var O=b[m];E=p*Math.max(0,1-O.mixTime/O.mixDuration)}i.totalAlpha+=E,x instanceof yt?this.applyRotateTimeline(x,r,c,E,T,w,m<<1,_):x instanceof xt?this.applyAttachmentTimeline(x,r,c,T,s):(D.webkit602BugfixHelper(E,n),u&&x instanceof Ot&&T==y.setup&&(S=g.mixIn),x.apply(r,l,c,a,E,T,S))}}return e.mixDuration>0&&this.queueEvents(i,c),this.events.length=0,i.nextAnimationLast=c,i.nextTrackLast=i.trackTime,o},t.prototype.applyAttachmentTimeline=function(e,r,n,i,o){var a=r.slots[e.slotIndex];if(a.bone.active){var s,u=e.frames;if(n<u[0])i!=y.setup&&i!=y.first||this.setAttachment(r,a,a.data.attachmentName,o);else s=n>=u[u.length-1]?u.length-1:pt.binarySearch(u,n)-1,this.setAttachment(r,a,e.attachmentNames[s],o);a.attachmentState<=this.unkeyedState&&(a.attachmentState=this.unkeyedState+t.SETUP)}},t.prototype.setAttachment=function(e,r,n,i){r.setAttachment(null==n?null:e.getAttachment(r.data.index,n)),i&&(r.attachmentState=this.unkeyedState+t.CURRENT)},t.prototype.applyRotateTimeline=function(t,e,r,n,i,o,a,s){if(s&&(o[a]=0),1!=n){var u=t,l=u.frames,c=e.bones[u.boneIndex];if(c.active){var h=0,f=0;if(r<l[0])switch(i){case y.setup:c.rotation=c.data.rotation;default:return;case y.first:h=c.rotation,f=c.data.rotation}else if(h=i==y.setup?c.data.rotation:c.rotation,r>=l[l.length-yt.ENTRIES])f=c.data.rotation+l[l.length+yt.PREV_ROTATION];else{var p=pt.binarySearch(l,r,yt.ENTRIES),d=l[p+yt.PREV_ROTATION],m=l[p],v=u.getCurvePercent((p>>1)-1,1-(r-m)/(l[p+yt.PREV_TIME]-m));f=l[p+yt.ROTATION]-d,f=d+(f-=360*(16384-(16384.499999999996-f/360|0)))*v+c.data.rotation,f-=360*(16384-(16384.499999999996-f/360|0))}var b=0,_=f-h;if(0==(_-=360*(16384-(16384.499999999996-_/360|0))))b=o[a];else{var w=0,x=0;s?(w=0,x=_):(w=o[a],x=o[a+1]);var S=_>0,T=w>=0;F.signum(x)!=F.signum(_)&&Math.abs(x)<=90&&(Math.abs(w)>180&&(w+=360*F.signum(w)),T=S),b=_+w-w%360,T!=S&&(b+=360*F.signum(w)),o[a]=b}o[a+1]=_,h+=b*n,c.rotation=h-360*(16384-(16384.499999999996-h/360|0))}}else t.apply(e,0,r,null,1,i,g.mixIn)},t.prototype.queueEvents=function(t,e){for(var r=t.animationStart,n=t.animationEnd,i=n-r,o=t.trackLast%i,a=this.events,s=0,u=a.length;s<u;s++){var l=a[s];if(l.time<o)break;l.time>n||this.queue.event(t,l)}for((t.loop?0==i||o>t.trackTime%i:e>=n&&t.animationLast<n)&&this.queue.complete(t);s<u;s++){a[s].time<r||this.queue.event(t,a[s])}},t.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,r=this.tracks.length;e<r;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},t.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var r=e;;){var n=r.mixingFrom;if(null==n)break;this.queue.end(n),r.mixingFrom=null,r.mixingTo=null,r=n}this.tracks[e.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(t,e,r){var n=this.expandToIndex(t);this.tracks[t]=e,null!=n&&(r&&this.queue.interrupt(n),e.mixingFrom=n,n.mixingTo=e,e.mixTime=0,null!=n.mixingFrom&&n.mixDuration>0&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)},t.prototype.setAnimation=function(t,e,r){var n=this.data.skeletonData.findAnimation(e);if(null==n)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,n,r)},t.prototype.setAnimationWith=function(t,e,r){if(null==e)throw new Error("animation cannot be null.");var n=!0,i=this.expandToIndex(t);null!=i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,n=!1):this.disposeNext(i));var o=this.trackEntry(t,e,r,i);return this.setCurrent(t,o,n),this.queue.drain(),o},t.prototype.addAnimation=function(t,e,r,n){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,i,r,n)},t.prototype.addAnimationWith=function(t,e,r,n){if(null==e)throw new Error("animation cannot be null.");var i=this.expandToIndex(t);if(null!=i)for(;null!=i.next;)i=i.next;var o=this.trackEntry(t,e,r,i);if(null==i)this.setCurrent(t,o,!0),this.queue.drain();else if(i.next=o,n<=0){var a=i.animationEnd-i.animationStart;0!=a?(i.loop?n+=a*(1+(i.trackTime/a|0)):n+=Math.max(a,i.trackTime),n-=this.data.getMix(i.animation,e)):n=i.trackTime}return o.delay=n,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++){var i=this.tracks[r];null!=i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},t.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(D.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)},t.prototype.trackEntry=function(t,e,r,n){var i=this.trackEntryPool.obtain();return i.trackIndex=t,i.animation=e,i.loop=r,i.holdPrevious=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=e.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=null==n?0:this.data.getMix(n.animation,e),i.mixBlend=y.replace,i},t.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++){var r=this.tracks[t];if(null!=r){for(;null!=r.mixingFrom;)r=r.mixingFrom;do{null!=r.mixingFrom&&r.mixBlend==y.add||this.computeHold(r),r=r.mixingTo}while(null!=r)}}},t.prototype.computeHold=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,o=D.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var a=D.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(null!=r&&r.holdPrevious)for(var u=0;u<i;u++)o[u]=s.add(n[u].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;else t:for(u=0;u<i;u++){var l=n[u],c=l.getPropertyId();if(s.add(c))if(null==r||l instanceof xt||l instanceof Ot||l instanceof Et||!r.animation.hasTimeline(c))o[u]=t.FIRST;else{for(var h=r.mixingTo;null!=h;h=h.mixingTo)if(!h.animation.hasTimeline(c)){if(e.mixDuration>0){o[u]=t.HOLD_MIX,a[u]=h;continue t}break}o[u]=t.HOLD_FIRST}else o[u]=t.SUBSEQUENT}},t.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},t.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},t.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new pt("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD_SUBSEQUENT=2,t.HOLD_FIRST=3,t.HOLD_MIX=4,t.SETUP=1,t.CURRENT=2,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),jt=function(){function t(){this.mixBlend=y.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),Bt=function(){function t(t){this.objects=[],this.drainDisabled=!1,this.animState=t}return t.prototype.start=function(t){this.objects.push(dt.start),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.interrupt=function(t){this.objects.push(dt.interrupt),this.objects.push(t)},t.prototype.end=function(t){this.objects.push(dt.end),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.dispose=function(t){this.objects.push(dt.dispose),this.objects.push(t)},t.prototype.complete=function(t){this.objects.push(dt.complete),this.objects.push(t)},t.prototype.event=function(t,e){this.objects.push(dt.event),this.objects.push(t),this.objects.push(e)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];switch(n){case dt.start:null!=i.listener&&i.listener.start&&i.listener.start(i);for(var o=0;o<e.length;o++)e[o].start&&e[o].start(i);i.onStart&&this.deprecateStuff()&&i.onStart(i.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(i.trackIndex);break;case dt.interrupt:null!=i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(o=0;o<e.length;o++)e[o].interrupt&&e[o].interrupt(i);break;case dt.end:null!=i.listener&&i.listener.end&&i.listener.end(i);for(o=0;o<e.length;o++)e[o].end&&e[o].end(i);i.onEnd&&this.deprecateStuff()&&i.onEnd(i.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(i.trackIndex);case dt.dispose:null!=i.listener&&i.listener.dispose&&i.listener.dispose(i);for(o=0;o<e.length;o++)e[o].dispose&&e[o].dispose(i);this.animState.trackEntryPool.free(i);break;case dt.complete:null!=i.listener&&i.listener.complete&&i.listener.complete(i);for(o=0;o<e.length;o++)e[o].complete&&e[o].complete(i);var a=F.toInt(i.loopsCount());i.onComplete&&this.deprecateStuff()&&i.onComplete(i.trackIndex,a),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(i.trackIndex,a);break;case dt.event:var s=t[2+r++];null!=i.listener&&i.listener.event&&i.listener.event(i,s);for(o=0;o<e.length;o++)e[o].event&&e[o].event(i,s);i.onEvent&&this.deprecateStuff()&&i.onEvent(i.trackIndex,s),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(i.trackIndex,s)}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}();!function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(dt||(dt={}));var Lt,Rt=function(){function t(){}return t.prototype.start=function(t){},t.prototype.interrupt=function(t){},t.prototype.end=function(t){},t.prototype.dispose=function(t){},t.prototype.complete=function(t){},t.prototype.event=function(t,e){},t}(),qt=function(){function t(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return t.prototype.setMix=function(t,e,r){var n=this.skeletonData.findAnimation(t);if(null==n)throw new Error("Animation not found: "+t);var i=this.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);this.setMixWith(n,i,r)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(t,e,r){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var n=t.name+"."+e.name;this.animationToMixTime[n]=r},t.prototype.getMix=function(t,e){var r=t.name+"."+e.name,n=this.animationToMixTime[r];return void 0===n?this.defaultMix:n},t.deprecatedWarning1=!1,t}(),Nt=function(){function t(t){this.atlas=t}return t.prototype.newRegionAttachment=function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: "+r+" (region attachment: "+e+")");var i=new ct(e);return i.region=n,i},t.prototype.newMeshAttachment=function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: "+r+" (mesh attachment: "+e+")");var i=new st(e);return i.region=n,i},t.prototype.newBoundingBoxAttachment=function(t,e){return new ot(e)},t.prototype.newPathAttachment=function(t,e){return new ut(e)},t.prototype.newPointAttachment=function(t,e){return new lt(e)},t.prototype.newClippingAttachment=function(t,e){return new at(e)},t}(),Ft=function(){function t(t,e,r){if(this.matrix=new c.y3,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=r,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(t,e,r,n,i,o,a){this.ax=t,this.ay=e,this.arotation=r,this.ascaleX=n,this.ascaleY=i,this.ashearX=o,this.ashearY=a,this.appliedValid=!0;var s=this.parent,u=this.matrix,l=this.skeleton.scaleX,c=U?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==s){var h=this.skeleton,f=r+90+a;return u.a=F.cosDeg(r+o)*n*l,u.c=F.cosDeg(f)*i*l,u.b=F.sinDeg(r+o)*n*c,u.d=F.sinDeg(f)*i*c,u.tx=t*l+h.x,void(u.ty=e*c+h.y)}var p=s.matrix.a,d=s.matrix.c,m=s.matrix.b,y=s.matrix.d;switch(u.tx=p*t+d*e+s.matrix.tx,u.ty=m*t+y*e+s.matrix.ty,this.data.transformMode){case _.Normal:f=r+90+a;var g=F.cosDeg(r+o)*n,v=F.cosDeg(f)*i,b=F.sinDeg(r+o)*n,w=F.sinDeg(f)*i;return u.a=p*g+d*b,u.c=p*v+d*w,u.b=m*g+y*b,void(u.d=m*v+y*w);case _.OnlyTranslation:f=r+90+a;u.a=F.cosDeg(r+o)*n,u.c=F.cosDeg(f)*i,u.b=F.sinDeg(r+o)*n,u.d=F.sinDeg(f)*i;break;case _.NoRotationOrReflection:var x=0;(E=p*p+m*m)>1e-4?(E=Math.abs(p*y-d*m)/E,p/=this.skeleton.scaleX,d=(m/=this.skeleton.scaleY)*E,y=p*E,x=Math.atan2(m,p)*F.radDeg):(p=0,m=0,x=90-Math.atan2(y,d)*F.radDeg);var S=r+o-x,T=r+a-x+90;g=F.cosDeg(S)*n,v=F.cosDeg(T)*i,b=F.sinDeg(S)*n,w=F.sinDeg(T)*i;u.a=p*g-d*b,u.c=p*v-d*w,u.b=m*g+y*b,u.d=m*v+y*w;break;case _.NoScale:case _.NoScaleOrReflection:var E,O=F.cosDeg(r),A=F.sinDeg(r),k=(p*O+d*A)/l,P=(m*O+y*A)/c;(E=Math.sqrt(k*k+P*P))>1e-5&&(E=1/E),k*=E,P*=E,E=Math.sqrt(k*k+P*P),this.data.transformMode==_.NoScale&&p*y-d*m<0!=(U?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(E=-E);var C=Math.PI/2+Math.atan2(P,k),M=Math.cos(C)*E,I=Math.sin(C)*E;g=F.cosDeg(o)*n,v=F.cosDeg(90+a)*i,b=F.sinDeg(o)*n,w=F.sinDeg(90+a)*i;u.a=k*g+M*b,u.c=k*v+M*w,u.b=P*g+I*b,u.d=P*v+I*w}u.a*=l,u.c*=l,u.b*=c,u.d*=c},t.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*F.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*F.radDeg},t.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},t.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*F.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*F.radDeg);var r=t.matrix,n=1/(r.a*r.d-r.b*r.c),i=e.tx-r.tx,o=e.ty-r.ty;this.ax=i*r.d*n-o*r.c*n,this.ay=o*r.a*n-i*r.b*n;var a=n*r.d,s=n*r.a,u=n*r.c,l=n*r.b,c=a*e.a-u*e.b,h=a*e.c-u*e.d,f=s*e.b-l*e.a,p=s*e.d-l*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+f*f),this.ascaleX>1e-4){var d=c*p-h*f;this.ascaleY=d/this.ascaleX,this.ashearY=Math.atan2(c*h+f*p,d)*F.radDeg,this.arotation=Math.atan2(f,c)*F.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,h)*F.radDeg},t.prototype.worldToLocal=function(t){var e=this.matrix,r=e.a,n=e.c,i=e.b,o=e.d,a=1/(r*o-n*i),s=t.x-e.tx,u=t.y-e.ty;return t.x=s*o*a-u*n*a,t.y=u*r*a-s*i*a,t},t.prototype.localToWorld=function(t){var e=this.matrix,r=t.x,n=t.y;return t.x=r*e.a+n*e.c+e.tx,t.y=r*e.b+n*e.d+e.ty,t},t.prototype.worldToLocalRotation=function(t){var e=F.sinDeg(t),r=F.cosDeg(t),n=this.matrix;return Math.atan2(n.a*e-n.b*r,n.d*r-n.c*e)*F.radDeg},t.prototype.localToWorldRotation=function(t){var e=F.sinDeg(t),r=F.cosDeg(t),n=this.matrix;return Math.atan2(r*n.b+e*n.d,r*n.a+e*n.c)*F.radDeg},t.prototype.rotateWorld=function(t){var e=this.matrix,r=e.a,n=e.c,i=e.b,o=e.d,a=F.cosDeg(t),s=F.sinDeg(t);e.a=a*r-s*i,e.c=a*n-s*o,e.b=s*r+a*i,e.d=s*n+a*o,this.appliedValid=!1},t}(),Vt=function(t,e,r){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=_.Normal,this.skinRequired=!1,this.color=new N,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=r},Dt=function(t,e,r){this.name=t,this.order=e,this.skinRequired=r},Gt=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e},zt=function(t){this.name=t},Ut=function(){function t(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findBone(t.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}},t.prototype.apply1=function(t,e,r,n,i,o,a){t.appliedValid||t.updateAppliedTransform();var s=t.parent.matrix,u=s.a,l=s.c,c=s.b,h=s.d,f=-t.ashearX-t.arotation,p=0,d=0;switch(t.data.transformMode){case _.OnlyTranslation:p=e-t.worldX,d=r-t.worldY;break;case _.NoRotationOrReflection:var m=Math.abs(u*h-l*c)/(u*u+c*c),y=u/t.skeleton.scaleX,g=c/t.skeleton.scaleY;l=-g*m*t.skeleton.scaleX,h=y*m*t.skeleton.scaleY,f+=Math.atan2(g,y)*F.radDeg;default:var v=e-s.tx,b=r-s.ty,w=u*h-l*c;p=(v*h-b*l)/w-t.ax,d=(b*u-v*c)/w-t.ay}f+=Math.atan2(d,p)*F.radDeg,t.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);var x=t.ascaleX,S=t.ascaleY;if(n||i){switch(t.data.transformMode){case _.NoScale:case _.NoScaleOrReflection:p=e-t.worldX,d=r-t.worldY}var T=t.data.length*x,E=Math.sqrt(p*p+d*d);if(n&&E<T||i&&E>T&&T>1e-4)x*=m=(E/T-1)*a+1,o&&(S*=m)}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+f*a,x,S,t.ashearX,t.ashearY)},t.prototype.apply2=function(t,e,r,n,i,o,a,s){if(0!=s){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var u=t.ax,l=t.ay,c=t.ascaleX,h=c,f=t.ascaleY,p=e.ascaleX,d=t.matrix,m=0,y=0,g=0;c<0?(c=-c,m=180,g=-1):(m=0,g=1),f<0&&(f=-f,g=-g),p<0?(p=-p,y=180):y=0;var v=e.ax,b=0,_=0,w=0,x=d.a,S=d.c,T=d.b,E=d.d,O=Math.abs(c-f)<=1e-4;O?(_=x*v+S*(b=e.ay)+d.tx,w=T*v+E*b+d.ty):(b=0,_=x*v+d.tx,w=T*v+d.ty);var A=t.parent.matrix;x=A.a,S=A.c,T=A.b;var k,P,C=1/(x*(E=A.d)-S*T),M=_-A.tx,I=w-A.ty,j=(M*E-I*S)*C-u,B=(I*x-M*T)*C-l,L=Math.sqrt(j*j+B*B),R=e.data.length*p;if(L<1e-4)return this.apply1(t,r,n,!1,o,!1,s),void e.updateWorldTransformWith(v,b,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var q=((M=r-A.tx)*E-(I=n-A.ty)*S)*C-u,N=(I*x-M*T)*C-l,V=q*q+N*N;if(0!=a){a*=c*(p+1)/2;var D=Math.sqrt(V),G=D-L-R*c+a;if(G>0){var z=Math.min(1,G/(2*a))-1;V=(q-=(z=(G-a*(1-z*z))/D)*q)*q+(N-=z*N)*N}}t:if(O){var U=(V-L*L-(R*=c)*R)/(2*L*R);U<-1?U=-1:U>1&&(U=1,o&&(h*=(Math.sqrt(V)/(L+R)-1)*s+1)),P=Math.acos(U)*i,x=L+R*U,S=R*Math.sin(P),k=Math.atan2(N*x-q*S,q*x+N*S)}else{var Y=(x=c*R)*x,X=(S=f*R)*S,W=Math.atan2(N,q),H=-2*X*L,Z=X-Y;if((E=H*H-4*Z*(T=X*L*L+Y*V-Y*X))>=0){var K=Math.sqrt(E);H<0&&(K=-K);var Q=(K=-(H+K)/2)/Z,J=T/K,$=Math.abs(Q)<Math.abs(J)?Q:J;if($*$<=V){I=Math.sqrt(V-$*$)*i,k=W-Math.atan2(I,$),P=Math.atan2(I/f,($-L)/c);break t}}var tt=F.PI,et=L-x,rt=et*et,nt=0,it=0,ot=L+x,at=ot*ot,st=0;(T=-x*L/(Y-X))>=-1&&T<=1&&(T=Math.acos(T),(E=(M=x*Math.cos(T)+L)*M+(I=S*Math.sin(T))*I)<rt&&(tt=T,rt=E,et=M,nt=I),E>at&&(it=T,at=E,ot=M,st=I)),V<=(rt+at)/2?(k=W-Math.atan2(nt*i,et),P=tt*i):(k=W-Math.atan2(st*i,ot),P=it*i)}var ut=Math.atan2(b,v)*g,lt=t.arotation;(k=(k-ut)*F.radDeg+m-lt)>180?k-=360:k<-180&&(k+=360),t.updateWorldTransformWith(u,l,lt+k*s,h,t.ascaleY,0,0),lt=e.arotation,(P=((P+ut)*F.radDeg-e.ashearX)*g+y-lt)>180?P-=360:P<-180&&(P+=360),e.updateWorldTransformWith(v,b,lt+P*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()},t}(),Yt=function(t){function e(e){var r=t.call(this,e,0,!1)||this;return r.bones=new Array,r.bendDirection=1,r.compress=!1,r.stretch=!1,r.uniform=!1,r.mix=1,r.softness=0,r}return et(e,t),e}(Dt),Xt=function(t){function e(e){var r=t.call(this,e,0,!1)||this;return r.bones=new Array,r}return et(e,t),e}(Dt);!function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"}(Lt||(Lt={}));var Wt=function(){function t(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var r=0,n=t.bones.length;r<n;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof ut){var r=this.rotateMix,n=this.translateMix,i=r>0;if(n>0||i){var o=this.data,a=o.spacingMode,s=a==Lt.Length,u=o.rotateMode,l=u==b.Tangent,c=u==b.ChainScale,h=this.bones.length,f=l?h:h+1,p=this.bones,d=D.setArraySize(this.spaces,f),m=null,y=this.spacing;if(c||s){c&&(m=D.setArraySize(this.lengths,h));for(var g=0,_=f-1;g<_;){var w=(M=p[g]).data.length;if(w<t.epsilon)c&&(m[g]=0),d[++g]=0;else{var x=w*M.matrix.a,S=w*M.matrix.b,T=Math.sqrt(x*x+S*S);c&&(m[g]=T),d[++g]=(s?w+y:y)*T/w}}}else for(g=1;g<f;g++)d[g]=y;var E=this.computeWorldPositions(e,f,l,o.positionMode==v.Percent,a==Lt.Percent),O=E[0],A=E[1],k=o.offsetRotation,P=!1;if(0==k)P=u==b.Chain;else P=!1,k*=(C=this.target.bone.matrix).a*C.d-C.b*C.c>0?F.degRad:-F.degRad;g=0;for(var C=3;g<h;g++,C+=3){var M,I=(M=p[g]).matrix;I.tx+=(O-I.tx)*n,I.ty+=(A-I.ty)*n;var j=(x=E[C])-O,B=(S=E[C+1])-A;if(c){var L=m[g];if(0!=L){var R=(Math.sqrt(j*j+B*B)/L-1)*r+1;I.a*=R,I.b*=R}}if(O=x,A=S,i){var q=I.a,N=I.c,V=I.b,G=I.d,z=0,U=0,Y=0;if(z=l?E[C-1]:0==d[g+1]?E[C+2]:Math.atan2(B,j),z-=Math.atan2(V,q),P){U=Math.cos(z),Y=Math.sin(z);var X=M.data.length;O+=(X*(U*q-Y*V)-j)*r,A+=(X*(Y*q+U*V)-B)*r}else z+=k;z>F.PI?z-=F.PI2:z<-F.PI&&(z+=F.PI2),z*=r,U=Math.cos(z),Y=Math.sin(z),I.a=U*q-Y*V,I.c=U*N-Y*G,I.b=Y*q+U*V,I.d=Y*N+U*G}M.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,o){var a=this.target,s=this.position,u=this.spaces,l=D.setArraySize(this.positions,3*r+2),c=null,h=e.closed,f=e.worldVerticesLength,p=f/6,d=t.NONE;if(!e.constantSpeed){var m=e.lengths,y=m[p-=h?1:2];if(i&&(s*=y),o)for(var g=0;g<r;g++)u[g]*=y;c=D.setArraySize(this.world,8);g=0;for(var v=0,b=0;g<r;g++,v+=3){var _=s+=Y=u[g];if(h)(_%=y)<0&&(_+=y),b=0;else{if(_<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(a,2,4,c,0,2)),this.addBeforePosition(_,c,0,l,v);continue}if(_>y){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(a,f-6,4,c,0,2)),this.addAfterPosition(_-y,c,0,l,v);continue}}for(;;b++){var w=m[b];if(!(_>w)){if(0==b)_/=w;else _=(_-(Z=m[b-1]))/(w-Z);break}}b!=d&&(d=b,h&&b==p?(e.computeWorldVertices(a,f-4,4,c,0,2),e.computeWorldVertices(a,0,4,c,4,2)):e.computeWorldVertices(a,6*b+2,8,c,0,2)),this.addCurvePosition(_,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],l,v,n||g>0&&0==Y)}return l}h?(f+=2,c=D.setArraySize(this.world,f),e.computeWorldVertices(a,2,f-4,c,0,2),e.computeWorldVertices(a,0,2,c,f-4,2),c[f-2]=c[0],c[f-1]=c[1]):(p--,f-=4,c=D.setArraySize(this.world,f),e.computeWorldVertices(a,2,f,c,0,2));for(var x=D.setArraySize(this.curves,p),S=0,T=c[0],E=c[1],O=0,A=0,k=0,P=0,C=0,M=0,I=0,j=0,B=0,L=0,R=0,q=0,N=0,F=0,V=(g=0,2);g<p;g++,V+=6)O=c[V],A=c[V+1],k=c[V+2],P=c[V+3],R=2*(I=.1875*(T-2*O+k))+(B=.09375*(3*(O-k)-T+(C=c[V+4]))),q=2*(j=.1875*(E-2*A+P))+(L=.09375*(3*(A-P)-E+(M=c[V+5]))),N=.75*(O-T)+I+.16666667*B,F=.75*(A-E)+j+.16666667*L,S+=Math.sqrt(N*N+F*F),N+=R,F+=q,R+=B,q+=L,S+=Math.sqrt(N*N+F*F),N+=R,F+=q,S+=Math.sqrt(N*N+F*F),N+=R+B,F+=q+L,S+=Math.sqrt(N*N+F*F),x[g]=S,T=C,E=M;if(i&&(s*=S),o)for(g=0;g<r;g++)u[g]*=S;for(var G=this.segments,z=0,U=(g=0,v=0,b=0,0);g<r;g++,v+=3){var Y;_=s+=Y=u[g];if(h)(_%=S)<0&&(_+=S),b=0;else{if(_<0){this.addBeforePosition(_,c,0,l,v);continue}if(_>S){this.addAfterPosition(_-S,c,f-4,l,v);continue}}for(;;b++){var X=x[b];if(!(_>X)){if(0==b)_/=X;else _=(_-(Z=x[b-1]))/(X-Z);break}}if(b!=d){d=b;var W=6*b;for(T=c[W],E=c[W+1],O=c[W+2],A=c[W+3],k=c[W+4],P=c[W+5],R=2*(I=.03*(T-2*O+k))+(B=.006*(3*(O-k)-T+(C=c[W+6]))),q=2*(j=.03*(E-2*A+P))+(L=.006*(3*(A-P)-E+(M=c[W+7]))),N=.3*(O-T)+I+.16666667*B,F=.3*(A-E)+j+.16666667*L,z=Math.sqrt(N*N+F*F),G[0]=z,W=1;W<8;W++)N+=R,F+=q,R+=B,q+=L,z+=Math.sqrt(N*N+F*F),G[W]=z;N+=R,F+=q,z+=Math.sqrt(N*N+F*F),G[8]=z,N+=R+B,F+=q+L,z+=Math.sqrt(N*N+F*F),G[9]=z,U=0}for(_*=z;;U++){var H=G[U];if(!(_>H)){var Z;if(0==U)_/=H;else _=U+(_-(Z=G[U-1]))/(H-Z);break}}this.addCurvePosition(.1*_,T,E,O,A,k,P,C,M,l,v,n||g>0&&0==Y)}return l},t.prototype.addBeforePosition=function(t,e,r,n,i){var o=e[r],a=e[r+1],s=e[r+2]-o,u=e[r+3]-a,l=Math.atan2(u,s);n[i]=o+t*Math.cos(l),n[i+1]=a+t*Math.sin(l),n[i+2]=l},t.prototype.addAfterPosition=function(t,e,r,n,i){var o=e[r+2],a=e[r+3],s=o-e[r],u=a-e[r+1],l=Math.atan2(u,s);n[i]=o+t*Math.cos(l),n[i+1]=a+t*Math.sin(l),n[i+2]=l},t.prototype.addCurvePosition=function(t,e,r,n,i,o,a,s,u,l,c,h){(0==t||isNaN(t))&&(t=1e-4);var f=t*t,p=f*t,d=1-t,m=d*d,y=m*d,g=d*t,v=3*g,b=d*v,_=v*t,w=e*y+n*b+o*_+s*p,x=r*y+i*b+a*_+u*p;l[c]=w,l[c+1]=x,h&&(l[c+2]=Math.atan2(x-(r*m+i*g*2+a*f),w-(e*m+n*g*2+o*f)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),Ht=function(){function t(t,e){if(this.deform=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new N,this.darkColor=null==t.darkColor?null:new N,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),Zt=function(){function t(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new z,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findBone(t.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,u=o.b,l=o.d,c=a*l-s*u>0?F.degRad:-F.degRad,h=this.data.offsetRotation*c,f=this.data.offsetShearY*c,p=this.bones,d=0,m=p.length;d<m;d++){var y=p[d],g=!1,v=y.matrix;if(0!=t){var b=v.a,_=v.c,w=v.b,x=v.d;(k=Math.atan2(u,a)-Math.atan2(w,b)+h)>F.PI?k-=F.PI2:k<-F.PI&&(k+=F.PI2),k*=t;var S=Math.cos(k),T=Math.sin(k);v.a=S*b-T*w,v.c=S*_-T*x,v.b=T*b+S*w,v.d=T*_+S*x,g=!0}if(0!=e){var E=this.temp;i.localToWorld(E.set(this.data.offsetX,this.data.offsetY)),v.tx+=(E.x-v.tx)*e,v.ty+=(E.y-v.ty)*e,g=!0}if(r>0){var O=Math.sqrt(v.a*v.a+v.b*v.b),A=Math.sqrt(a*a+u*u);O>1e-5&&(O=(O+(A-O+this.data.offsetScaleX)*r)/O),v.a*=O,v.b*=O,O=Math.sqrt(v.c*v.c+v.d*v.d),A=Math.sqrt(s*s+l*l),O>1e-5&&(O=(O+(A-O+this.data.offsetScaleY)*r)/O),v.c*=O,v.d*=O,g=!0}if(n>0){_=v.c,x=v.d;var k,P=Math.atan2(x,_);(k=Math.atan2(l,s)-Math.atan2(u,a)-(P-Math.atan2(v.b,v.a)))>F.PI?k-=F.PI2:k<-F.PI&&(k+=F.PI2),k=P+(k+f)*n;O=Math.sqrt(_*_+x*x);v.c=Math.cos(k)*O,v.d=Math.sin(k)*O,g=!0}g&&(y.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,u=o.b,l=o.d,c=a*l-s*u>0?F.degRad:-F.degRad,h=this.data.offsetRotation*c,f=this.data.offsetShearY*c,p=this.bones,d=0,m=p.length;d<m;d++){var y=p[d],g=!1,v=y.matrix;if(0!=t){var b=v.a,_=v.c,w=v.b,x=v.d;(A=Math.atan2(u,a)+h)>F.PI?A-=F.PI2:A<-F.PI&&(A+=F.PI2),A*=t;var S=Math.cos(A),T=Math.sin(A);v.a=S*b-T*w,v.c=S*_-T*x,v.b=T*b+S*w,v.d=T*_+S*x,g=!0}if(0!=e){var E=this.temp;i.localToWorld(E.set(this.data.offsetX,this.data.offsetY)),v.tx+=E.x*e,v.ty+=E.y*e,g=!0}if(r>0){var O=(Math.sqrt(a*a+u*u)-1+this.data.offsetScaleX)*r+1;v.a*=O,v.b*=O,O=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleY)*r+1,v.c*=O,v.d*=O,g=!0}if(n>0){var A;(A=Math.atan2(l,s)-Math.atan2(u,a))>F.PI?A-=F.PI2:A<-F.PI&&(A+=F.PI2);_=v.c,x=v.d;A=Math.atan2(x,_)+(A-F.PI/2+f)*n;O=Math.sqrt(_*_+x*x);v.c=Math.cos(A)*O,v.d=Math.sin(A)*O,g=!0}g&&(y.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var o=this.bones,a=0,s=o.length;a<s;a++){var u=o[a];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;if(0!=t){var c=i.arotation-l+this.data.offsetRotation;l+=(c-=360*(16384-(16384.499999999996-c/360|0)))*t}var h=u.ax,f=u.ay;0!=e&&(h+=(i.ax-h+this.data.offsetX)*e,f+=(i.ay-f+this.data.offsetY)*e);var p=u.ascaleX,d=u.ascaleY;r>0&&(p>1e-5&&(p=(p+(i.ascaleX-p+this.data.offsetScaleX)*r)/p),d>1e-5&&(d=(d+(i.ascaleY-d+this.data.offsetScaleY)*r)/d));var m=u.ashearY;if(n>0){c=i.ashearY-m+this.data.offsetShearY;c-=360*(16384-(16384.499999999996-c/360|0)),u.shearY+=c*n}u.updateWorldTransformWith(h,f,l,p,d,u.ashearX,m)}},t.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var o=this.bones,a=0,s=o.length;a<s;a++){var u=o[a];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;0!=t&&(l+=(i.arotation+this.data.offsetRotation)*t);var c=u.ax,h=u.ay;0!=e&&(c+=(i.ax+this.data.offsetX)*e,h+=(i.ay+this.data.offsetY)*e);var f=u.ascaleX,p=u.ascaleY;r>0&&(f>1e-5&&(f*=(i.ascaleX-1+this.data.offsetScaleX)*r+1),p>1e-5&&(p*=(i.ascaleY-1+this.data.offsetScaleY)*r+1));var d=u.ashearY;n>0&&(d+=(i.ashearY+this.data.offsetShearY)*n),u.updateWorldTransformWith(c,h,l,f,p,u.ashearX,d)}},t}(),Kt=function(){function t(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var r=t.bones[e],n=void 0;if(null==r.parent)n=new Ft(r,this,null);else{var i=this.bones[r.parent.index];n=new Ft(r,this,i),i.children.push(n)}this.bones.push(n)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var o=t.slots[e],a=(n=this.bones[o.boneData.index],new Ht(o,n));this.slots.push(a),this.drawOrder.push(a)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var s=t.ikConstraints[e];this.ikConstraints.push(new Ut(s,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var u=t.transformConstraints[e];this.transformConstraints.push(new Zt(u,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var l=t.pathConstraints[e];this.pathConstraints.push(new Wt(l,this))}this.color=new N(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,r=t.length;e<r;e++){(i=t[e]).sorted=i.data.skinRequired,i.active=!i.sorted}if(null!=this.skin){var n=this.skin.bones;for(e=0,r=this.skin.bones.length;e<r;e++){var i=this.bones[n[e].index];do{i.sorted=!1,i.active=!0,i=i.parent}while(null!=i)}}var o=this.ikConstraints,a=this.transformConstraints,s=this.pathConstraints,u=o.length,l=a.length,c=s.length,h=u+l+c;t:for(e=0;e<h;e++){for(var f=0;f<u;f++){if((p=o[f]).data.order==e){this.sortIkConstraint(p);continue t}}for(f=0;f<l;f++){if((p=a[f]).data.order==e){this.sortTransformConstraint(p);continue t}}for(f=0;f<c;f++){var p;if((p=s[f]).data.order==e){this.sortPathConstraint(p);continue t}}}for(e=0,r=t.length;e<r;e++)this.sortBone(t[e])},t.prototype.sortIkConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&D.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target;this.sortBone(e);var r=t.bones,n=r[0];if(this.sortBone(n),r.length>1){var i=r[r.length-1];this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}this._updateCache.push(t),this.sortReset(n.children),r[r.length-1].sorted=!0}},t.prototype.sortPathConstraint=function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||null!=this.skin&&D.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,r=e.data.index,n=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,r,n),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,n);for(var i=0,o=this.data.skins.length;i<o;i++)this.sortPathConstraintAttachment(this.data.skins[i],r,n);var a=e.getAttachment();a instanceof ut&&this.sortPathConstraintAttachmentWith(a,n);var s=t.bones,u=s.length;for(i=0;i<u;i++)this.sortBone(s[i]);this._updateCache.push(t);for(i=0;i<u;i++)this.sortReset(s[i].children);for(i=0;i<u;i++)s[i].sorted=!0}},t.prototype.sortTransformConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&D.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,r=e.length;if(t.data.local)for(var n=0;n<r;n++){var i=e[n];this.sortBone(i.parent),this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}else for(n=0;n<r;n++)this.sortBone(e[n]);this._updateCache.push(t);for(var o=0;o<r;o++)this.sortReset(e[o].children);for(o=0;o<r;o++)e[o].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(t,e,r){var n=t.attachments[e];if(n)for(var i in n)this.sortPathConstraintAttachmentWith(n[i],r)},t.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof ut){var r=t.bones;if(null==r)this.sortBone(e);else for(var n=this.bones,i=0;i<r.length;)for(var o=r[i++],a=i+o;i<a;i++){var s=r[i];this.sortBone(n[s])}}},t.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},t.prototype.sortReset=function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];n.active&&(n.sorted&&this.sortReset(n.children),n.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,r=t.length;e<r;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY,n.appliedValid=!0}var i=this._updateCache;for(e=0,r=i.length;e<r;e++)i[e].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,r=t.length;e<r;e++)t[e].setToSetupPose();var n=this.ikConstraints;for(e=0,r=n.length;e<r;e++){(s=n[e]).mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch}var i=this.transformConstraints;for(e=0,r=i.length;e<r;e++){var o=(s=i[e]).data;s.rotateMix=o.rotateMix,s.translateMix=o.translateMix,s.scaleMix=o.scaleMix,s.shearMix=o.shearMix}var a=this.pathConstraints;for(e=0,r=a.length;e<r;e++){var s;o=(s=a[e]).data;s.position=o.position,s.spacing=o.spacing,s.rotateMix=o.rotateMix,s.translateMix=o.translateMix}},t.prototype.setSlotsToSetupPose=function(){var t=this.slots;D.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,r=t.length;e<r;e++)t[e].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1},t.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},t.prototype.setSkin=function(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r],o=i.data.attachmentName;if(null!=o){var a=t.getAttachment(r,o);null!=a&&i.setAttachment(a)}}this.skin=t,this.updateCache()}},t.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},t.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var r=this.skin.getAttachment(t,e);if(null!=r)return r}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},t.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var o=r[n];if(o.data.name==t){var a=null;if(null!=e&&null==(a=this.getAttachment(n,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void o.setAttachment(a)}}throw new Error("Slot not found: "+t)},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},t.prototype.getBounds=function(t,e,r){if(void 0===r&&(r=new Array(2)),null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var n=this.drawOrder,i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=0,l=n.length;u<l;u++){var c=n[u];if(c.bone.active){var h=0,f=null,p=c.getAttachment();if(p instanceof ct)h=8,f=D.setArraySize(r,h,0),p.computeWorldVertices(c.bone,f,0,2);else if(p instanceof st){var d=p;h=d.worldVerticesLength,f=D.setArraySize(r,h,0),d.computeWorldVertices(c,0,h,f,0,2)}if(null!=f)for(var m=0,y=f.length;m<y;m+=2){var g=f[m],v=f[m+1];i=Math.min(i,g),o=Math.min(o,v),a=Math.max(a,g),s=Math.max(s,v)}}}t.set(i,o),e.set(a-i,s-o)},t.prototype.update=function(t){this.time+=t},Object.defineProperty(t.prototype,"flipX",{get:function(){return-1==this.scaleX},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return-1==this.scaleY},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),Qt=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},t.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},t}(),Jt=function(t,e,r){if(this.color=new N(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==r)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=r},$t=function(t){function e(e){var r=t.call(this,e,0,!1)||this;return r.bones=new Array,r.rotateMix=0,r.translateMix=0,r.scaleMix=0,r.shearMix=0,r.offsetRotation=0,r.offsetX=0,r.offsetY=0,r.offsetScaleX=0,r.offsetScaleY=0,r.offsetShearY=0,r.relative=!1,r.local=!1,r}return et(e,t),e}(Dt),te=function(t,e,r){this.slotIndex=t,this.name=e,this.attachment=r},ee=function(){function t(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==t)throw new Error("name cannot be null.");this.name=t}return t.prototype.setAttachment=function(t,e,r){if(null==r)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=r},t.prototype.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var r=t.bones[e],n=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==r){n=!0;break}n||this.bones.push(r)}for(e=0;e<t.constraints.length;e++){var o=t.constraints[e];for(n=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==o){n=!0;break}n||this.constraints.push(o)}var a=t.getAttachments();for(e=0;e<a.length;e++){var s=a[e];this.setAttachment(s.slotIndex,s.name,s.attachment)}},t.prototype.copySkin=function(t){for(var e=0;e<t.bones.length;e++){for(var r=t.bones[e],n=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==r){n=!0;break}n||this.bones.push(r)}for(e=0;e<t.constraints.length;e++){var o=t.constraints[e];for(n=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==o){n=!0;break}n||this.constraints.push(o)}var a=t.getAttachments();for(e=0;e<a.length;e++){var s=a[e];null!=s.attachment&&(s.attachment instanceof st?(s.attachment=s.attachment.newLinkedMesh(),this.setAttachment(s.slotIndex,s.name,s.attachment)):(s.attachment=s.attachment.copy(),this.setAttachment(s.slotIndex,s.name,s.attachment)))}},t.prototype.getAttachment=function(t,e){var r=this.attachments[t];return r?r[e]:null},t.prototype.removeAttachment=function(t,e){var r=this.attachments[t];r&&(r[e]=null)},t.prototype.getAttachments=function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var r=this.attachments[e];if(r)for(var n in r){var i=r[n];i&&t.push(new te(e,n,i))}}return t},t.prototype.getAttachmentsForSlot=function(t,e){var r=this.attachments[t];if(r)for(var n in r){var i=r[n];i&&e.push(new te(t,n,i))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(t,e){for(var r=0,n=0;n<t.slots.length;n++){var i=t.slots[n],o=i.getAttachment();if(o&&r<e.attachments.length){var a=e.attachments[r];for(var s in a){if(o==a[s]){var u=this.getAttachment(r,s);null!=u&&i.setAttachment(u);break}}}r++}},t}(),re=function(){function t(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new Qt;n.name="";var i=new w(e);if(n.hash=i.readString(),n.version=i.readString(),"3.8.75"===n.version){console.error("Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.")}n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var o=i.readBoolean();o&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var a=0;a=i.readInt(!0);for(var s=0;s<a;s++)i.strings.push(i.readString());a=i.readInt(!0);for(s=0;s<a;s++){var u=i.readString(),l=0==s?null:n.bones[i.readInt(!0)];(f=new Vt(s,u,l)).rotation=i.readFloat(),f.x=i.readFloat()*r,f.y=i.readFloat()*r,f.scaleX=i.readFloat(),f.scaleY=i.readFloat(),f.shearX=i.readFloat(),f.shearY=i.readFloat(),f.length=i.readFloat()*r,f.transformMode=t.TransformModeValues[i.readInt(!0)],f.skinRequired=i.readBoolean(),o&&N.rgba8888ToColor(f.color,i.readInt32()),n.bones.push(f)}a=i.readInt(!0);for(s=0;s<a;s++){var c=i.readString(),h=n.bones[i.readInt(!0)],f=new Jt(s,c,h);N.rgba8888ToColor(f.color,i.readInt32());var p=i.readInt32();-1!=p&&N.rgb888ToColor(f.darkColor=new N,p),f.attachmentName=i.readStringRef(),f.blendMode=t.BlendModeValues[i.readInt(!0)],n.slots.push(f)}a=i.readInt(!0);s=0;for(var d=void 0;s<a;s++){(f=new Yt(i.readString())).order=i.readInt(!0),f.skinRequired=i.readBoolean(),d=i.readInt(!0);for(var m=0;m<d;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.mix=i.readFloat(),f.softness=i.readFloat()*r,f.bendDirection=i.readByte(),f.compress=i.readBoolean(),f.stretch=i.readBoolean(),f.uniform=i.readBoolean(),n.ikConstraints.push(f)}a=i.readInt(!0);for(s=0,d=void 0;s<a;s++){(f=new $t(i.readString())).order=i.readInt(!0),f.skinRequired=i.readBoolean(),d=i.readInt(!0);for(m=0;m<d;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.bones[i.readInt(!0)],f.local=i.readBoolean(),f.relative=i.readBoolean(),f.offsetRotation=i.readFloat(),f.offsetX=i.readFloat()*r,f.offsetY=i.readFloat()*r,f.offsetScaleX=i.readFloat(),f.offsetScaleY=i.readFloat(),f.offsetShearY=i.readFloat(),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),f.scaleMix=i.readFloat(),f.shearMix=i.readFloat(),n.transformConstraints.push(f)}a=i.readInt(!0);for(s=0,d=void 0;s<a;s++){(f=new Xt(i.readString())).order=i.readInt(!0),f.skinRequired=i.readBoolean(),d=i.readInt(!0);for(m=0;m<d;m++)f.bones.push(n.bones[i.readInt(!0)]);f.target=n.slots[i.readInt(!0)],f.positionMode=t.PositionModeValues[i.readInt(!0)],f.spacingMode=t.SpacingModeValues[i.readInt(!0)],f.rotateMode=t.RotateModeValues[i.readInt(!0)],f.offsetRotation=i.readFloat(),f.position=i.readFloat(),f.positionMode==v.Fixed&&(f.position*=r),f.spacing=i.readFloat(),f.spacingMode!=Lt.Length&&f.spacingMode!=Lt.Fixed||(f.spacing*=r),f.rotateMix=i.readFloat(),f.translateMix=i.readFloat(),n.pathConstraints.push(f)}var y=this.readSkin(i,n,!0,o);null!=y&&(n.defaultSkin=y,n.skins.push(y));s=n.skins.length;for(D.setArraySize(n.skins,a=s+i.readInt(!0));s<a;s++)n.skins[s]=this.readSkin(i,n,!1,o);a=this.linkedMeshes.length;for(s=0;s<a;s++){var g=this.linkedMeshes[s],b=null==g.skin?n.defaultSkin:n.findSkin(g.skin);if(null==b)throw new Error("Skin not found: "+g.skin);var _=b.getAttachment(g.slotIndex,g.parent);if(null==_)throw new Error("Parent mesh not found: "+g.parent);g.mesh.deformAttachment=g.inheritDeform?_:g.mesh,g.mesh.setParentMesh(_)}this.linkedMeshes.length=0,a=i.readInt(!0);for(s=0;s<a;s++){(f=new zt(i.readStringRef())).intValue=i.readInt(!1),f.floatValue=i.readFloat(),f.stringValue=i.readString(),f.audioPath=i.readString(),null!=f.audioPath&&(f.volume=i.readFloat(),f.balance=i.readFloat()),n.events.push(f)}a=i.readInt(!0);for(s=0;s<a;s++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},t.prototype.readSkin=function(t,e,r,n){var i=null,o=0;if(r){if(0==(o=t.readInt(!0)))return null;i=new ee("default")}else{(i=new ee(t.readStringRef())).bones.length=t.readInt(!0);for(var a=0,s=i.bones.length;a<s;a++)i.bones[a]=e.bones[t.readInt(!0)];for(a=0,s=t.readInt(!0);a<s;a++)i.constraints.push(e.ikConstraints[t.readInt(!0)]);for(a=0,s=t.readInt(!0);a<s;a++)i.constraints.push(e.transformConstraints[t.readInt(!0)]);for(a=0,s=t.readInt(!0);a<s;a++)i.constraints.push(e.pathConstraints[t.readInt(!0)]);o=t.readInt(!0)}for(a=0;a<o;a++)for(var u=t.readInt(!0),l=0,c=t.readInt(!0);l<c;l++){var h=t.readStringRef(),f=this.readAttachment(t,e,i,u,h,n);null!=f&&i.setAttachment(u,h,f)}return i},t.prototype.readAttachment=function(e,r,n,i,o,s){var u=this.scale,l=e.readStringRef();null==l&&(l=o);var c=e.readByte();switch(t.AttachmentTypeValues[c]){case a.Region:var h=e.readStringRef(),f=e.readFloat(),p=e.readFloat(),d=e.readFloat(),m=e.readFloat(),y=e.readFloat(),g=e.readFloat(),v=e.readFloat(),b=e.readInt32();null==h&&(h=l);var _=this.attachmentLoader.newRegionAttachment(n,l,h);return null==_?null:(_.path=h,_.x=p*u,_.y=d*u,_.scaleX=m,_.scaleY=y,_.rotation=f,_.width=g*u,_.height=v*u,N.rgba8888ToColor(_.color,b),_);case a.BoundingBox:var w=e.readInt(!0),x=this.readVertices(e,w),S=(b=s?e.readInt32():0,this.attachmentLoader.newBoundingBoxAttachment(n,l));return null==S?null:(S.worldVerticesLength=w<<1,S.vertices=x.vertices,S.bones=x.bones,s&&N.rgba8888ToColor(S.color,b),S);case a.Mesh:h=e.readStringRef(),b=e.readInt32(),w=e.readInt(!0);var T=this.readFloatArray(e,w<<1,1),E=this.readShortArray(e),O=(x=this.readVertices(e,w),e.readInt(!0)),A=null;g=0,v=0;return s&&(A=this.readShortArray(e),g=e.readFloat(),v=e.readFloat()),null==h&&(h=l),null==(k=this.attachmentLoader.newMeshAttachment(n,l,h))?null:(k.path=h,N.rgba8888ToColor(k.color,b),k.bones=x.bones,k.vertices=x.vertices,k.worldVerticesLength=w<<1,k.triangles=E,k.regionUVs=new Float32Array(T),k.hullLength=O<<1,s&&(k.edges=A,k.width=g*u,k.height=v*u),k);case a.LinkedMesh:h=e.readStringRef(),b=e.readInt32();var k,P=e.readStringRef(),C=e.readStringRef(),M=e.readBoolean();g=0,v=0;return s&&(g=e.readFloat(),v=e.readFloat()),null==h&&(h=l),null==(k=this.attachmentLoader.newMeshAttachment(n,l,h))?null:(k.path=h,N.rgba8888ToColor(k.color,b),s&&(k.width=g*u,k.height=v*u),this.linkedMeshes.push(new ne(k,P,i,C,M)),k);case a.Path:for(var I=e.readBoolean(),j=e.readBoolean(),B=(w=e.readInt(!0),x=this.readVertices(e,w),D.newArray(w/3,0)),L=0,R=B.length;L<R;L++)B[L]=e.readFloat()*u;b=s?e.readInt32():0;return null==(h=this.attachmentLoader.newPathAttachment(n,l))?null:(h.closed=I,h.constantSpeed=j,h.worldVerticesLength=w<<1,h.vertices=x.vertices,h.bones=x.bones,h.lengths=B,s&&N.rgba8888ToColor(h.color,b),h);case a.Point:f=e.readFloat(),p=e.readFloat(),d=e.readFloat(),b=s?e.readInt32():0;var q=this.attachmentLoader.newPointAttachment(n,l);return null==q?null:(q.x=p*u,q.y=d*u,q.rotation=f,s&&N.rgba8888ToColor(q.color,b),q);case a.Clipping:var F=e.readInt(!0),V=(w=e.readInt(!0),x=this.readVertices(e,w),b=s?e.readInt32():0,this.attachmentLoader.newClippingAttachment(n,l));return null==V?null:(V.endSlot=r.slots[F],V.worldVerticesLength=w<<1,V.vertices=x.vertices,V.bones=x.bones,s&&N.rgba8888ToColor(V.color,b),V)}return null},t.prototype.readVertices=function(t,e){var r=e<<1,n=new ie,i=this.scale;if(!t.readBoolean())return n.vertices=this.readFloatArray(t,r,i),n;for(var o=new Array,a=new Array,s=0;s<e;s++){var u=t.readInt(!0);a.push(u);for(var l=0;l<u;l++)a.push(t.readInt(!0)),o.push(t.readFloat()*i),o.push(t.readFloat()*i),o.push(t.readFloat())}return n.vertices=D.toFloatArray(o),n.bones=a,n},t.prototype.readFloatArray=function(t,e,r){var n=new Array(e);if(1==r)for(var i=0;i<e;i++)n[i]=t.readFloat();else for(i=0;i<e;i++)n[i]=t.readFloat()*r;return n},t.prototype.readShortArray=function(t){for(var e=t.readInt(!0),r=new Array(e),n=0;n<e;n++)r[n]=t.readShort();return r},t.prototype.readAnimation=function(e,r,n){for(var i=new Array,o=this.scale,a=0,s=new N,u=new N,l=0,c=e.readInt(!0);l<c;l++)for(var h=e.readInt(!0),f=0,p=e.readInt(!0);f<p;f++){var d=e.readByte(),m=e.readInt(!0);switch(d){case t.SLOT_ATTACHMENT:(_=new xt(m)).slotIndex=h;for(var y=0;y<m;y++)_.setFrame(y,e.readFloat(),e.readStringRef());i.push(_),a=Math.max(a,_.frames[m-1]);break;case t.SLOT_COLOR:(_=new _t(m)).slotIndex=h;for(y=0;y<m;y++){var g=e.readFloat();N.rgba8888ToColor(s,e.readInt32()),_.setFrame(y,g,s.r,s.g,s.b,s.a),y<m-1&&this.readCurve(e,y,_)}i.push(_),a=Math.max(a,_.frames[(m-1)*_t.ENTRIES]);break;case t.SLOT_TWO_COLOR:(_=new wt(m)).slotIndex=h;for(y=0;y<m;y++){g=e.readFloat();N.rgba8888ToColor(s,e.readInt32()),N.rgb888ToColor(u,e.readInt32()),_.setFrame(y,g,s.r,s.g,s.b,s.a,u.r,u.g,u.b),y<m-1&&this.readCurve(e,y,_)}i.push(_),a=Math.max(a,_.frames[(m-1)*wt.ENTRIES])}}for(l=0,c=e.readInt(!0);l<c;l++){var b=e.readInt(!0);for(f=0,p=e.readInt(!0);f<p;f++){d=e.readByte(),m=e.readInt(!0);switch(d){case t.BONE_ROTATE:(_=new yt(m)).boneIndex=b;for(y=0;y<m;y++)_.setFrame(y,e.readFloat(),e.readFloat()),y<m-1&&this.readCurve(e,y,_);i.push(_),a=Math.max(a,_.frames[(m-1)*yt.ENTRIES]);break;case t.BONE_TRANSLATE:case t.BONE_SCALE:case t.BONE_SHEAR:var _=void 0,w=1;d==t.BONE_SCALE?_=new vt(m):d==t.BONE_SHEAR?_=new bt(m):(_=new gt(m),w=o),_.boneIndex=b;for(y=0;y<m;y++)_.setFrame(y,e.readFloat(),e.readFloat()*w,e.readFloat()*w),y<m-1&&this.readCurve(e,y,_);i.push(_),a=Math.max(a,_.frames[(m-1)*gt.ENTRIES])}}}for(l=0,c=e.readInt(!0);l<c;l++){var x=e.readInt(!0);m=e.readInt(!0);(_=new At(m)).ikConstraintIndex=x;for(y=0;y<m;y++)_.setFrame(y,e.readFloat(),e.readFloat(),e.readFloat()*o,e.readByte(),e.readBoolean(),e.readBoolean()),y<m-1&&this.readCurve(e,y,_);i.push(_),a=Math.max(a,_.frames[(m-1)*At.ENTRIES])}for(l=0,c=e.readInt(!0);l<c;l++){x=e.readInt(!0),m=e.readInt(!0);(_=new kt(m)).transformConstraintIndex=x;for(y=0;y<m;y++)_.setFrame(y,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),y<m-1&&this.readCurve(e,y,_);i.push(_),a=Math.max(a,_.frames[(m-1)*kt.ENTRIES])}for(l=0,c=e.readInt(!0);l<c;l++){x=e.readInt(!0);var S=n.pathConstraints[x];for(f=0,p=e.readInt(!0);f<p;f++){d=e.readByte(),m=e.readInt(!0);switch(d){case t.PATH_POSITION:case t.PATH_SPACING:_=void 0,w=1;d==t.PATH_SPACING?(_=new Ct(m),S.spacingMode!=Lt.Length&&S.spacingMode!=Lt.Fixed||(w=o)):(_=new Pt(m),S.positionMode==v.Fixed&&(w=o)),_.pathConstraintIndex=x;for(y=0;y<m;y++)_.setFrame(y,e.readFloat(),e.readFloat()*w),y<m-1&&this.readCurve(e,y,_);i.push(_),a=Math.max(a,_.frames[(m-1)*Pt.ENTRIES]);break;case t.PATH_MIX:(_=new Mt(m)).pathConstraintIndex=x;for(y=0;y<m;y++)_.setFrame(y,e.readFloat(),e.readFloat(),e.readFloat()),y<m-1&&this.readCurve(e,y,_);i.push(_),a=Math.max(a,_.frames[(m-1)*Mt.ENTRIES])}}}for(l=0,c=e.readInt(!0);l<c;l++){var T=n.skins[e.readInt(!0)];for(f=0,p=e.readInt(!0);f<p;f++){h=e.readInt(!0);for(var E=0,O=e.readInt(!0);E<O;E++){var A=T.getAttachment(h,e.readStringRef()),k=null!=A.bones,P=A.vertices,C=k?P.length/3*2:P.length;m=e.readInt(!0);(_=new Tt(m)).slotIndex=h,_.attachment=A;for(y=0;y<m;y++){g=e.readFloat();var M=void 0,I=e.readInt(!0);if(0==I)M=k?D.newFloatArray(C):P;else{M=D.newFloatArray(C);var j=e.readInt(!0);if(I+=j,1==o)for(var B=j;B<I;B++)M[B]=e.readFloat();else for(B=j;B<I;B++)M[B]=e.readFloat()*o;if(!k){B=0;for(var L=M.length;B<L;B++)M[B]+=P[B]}}_.setFrame(y,g,M),y<m-1&&this.readCurve(e,y,_)}i.push(_),a=Math.max(a,_.frames[m-1])}}}var R=e.readInt(!0);if(R>0){_=new Ot(R);var q=n.slots.length;for(l=0;l<R;l++){g=e.readFloat();var F=e.readInt(!0),V=D.newArray(q,0);for(f=q-1;f>=0;f--)V[f]=-1;var G=D.newArray(q-F,0),z=0,U=0;for(f=0;f<F;f++){for(h=e.readInt(!0);z!=h;)G[U++]=z++;V[z+e.readInt(!0)]=z++}for(;z<q;)G[U++]=z++;for(f=q-1;f>=0;f--)-1==V[f]&&(V[f]=G[--U]);_.setFrame(l,g,V)}i.push(_),a=Math.max(a,_.frames[R-1])}var Y=e.readInt(!0);if(Y>0){for(_=new Et(Y),l=0;l<Y;l++){g=e.readFloat();var X=n.events[e.readInt(!0)],W=new Gt(g,X);W.intValue=e.readInt(!1),W.floatValue=e.readFloat(),W.stringValue=e.readBoolean()?e.readString():X.stringValue,null!=W.data.audioPath&&(W.volume=e.readFloat(),W.balance=e.readFloat()),_.setFrame(l,W)}i.push(_),a=Math.max(a,_.frames[Y-1])}return new pt(r,i,a)},t.prototype.readCurve=function(e,r,n){switch(e.readByte()){case t.CURVE_STEPPED:n.setStepped(r);break;case t.CURVE_BEZIER:this.setCurve(n,r,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat())}},t.prototype.setCurve=function(t,e,r,n,i,o){t.setCurve(e,r,n,i,o)},t.AttachmentTypeValues=[0,1,2,3,4,5,6],t.TransformModeValues=[_.Normal,_.OnlyTranslation,_.NoRotationOrReflection,_.NoScale,_.NoScaleOrReflection],t.PositionModeValues=[v.Fixed,v.Percent],t.SpacingModeValues=[Lt.Length,Lt.Fixed,Lt.Percent],t.RotateModeValues=[b.Tangent,b.Chain,b.ChainScale],t.BlendModeValues=[l.T$.NORMAL,l.T$.ADD,l.T$.MULTIPLY,l.T$.SCREEN],t.BONE_ROTATE=0,t.BONE_TRANSLATE=1,t.BONE_SCALE=2,t.BONE_SHEAR=3,t.SLOT_ATTACHMENT=0,t.SLOT_COLOR=1,t.SLOT_TWO_COLOR=2,t.PATH_POSITION=0,t.PATH_SPACING=1,t.PATH_MIX=2,t.CURVE_LINEAR=0,t.CURVE_STEPPED=1,t.CURVE_BEZIER=2,t}(),ne=function(t,e,r,n,i){this.mesh=t,this.skin=e,this.slotIndex=r,this.parent=n,this.inheritDeform=i},ie=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.bones=t,this.vertices=e},oe=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new G((function(){return D.newFloatArray(16)}))}return t.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var r=this.boundingBoxes,n=this.polygons,i=this.polygonPool,o=t.slots,a=o.length;r.length=0,i.freeAll(n),n.length=0;for(var s=0;s<a;s++){var u=o[s];if(u.bone.active){var l=u.getAttachment();if(l instanceof ot){var c=l;r.push(c);var h=i.obtain();h.length!=c.worldVerticesLength&&(h=D.newFloatArray(c.worldVerticesLength)),n.push(h),c.computeWorldVertices(u,0,c.worldVerticesLength,h,0,2)}}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=this.polygons,o=0,a=i.length;o<a;o++)for(var s=i[o],u=s,l=0,c=s.length;l<c;l+=2){var h=u[l],f=u[l+1];t=Math.min(t,h),e=Math.min(e,f),r=Math.max(r,h),n=Math.max(n,f)}this.minX=t,this.minY=e,this.maxX=r,this.maxY=n},t.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},t.prototype.aabbIntersectsSegment=function(t,e,r,n){var i=this.minX,o=this.minY,a=this.maxX,s=this.maxY;if(t<=i&&r<=i||e<=o&&n<=o||t>=a&&r>=a||e>=s&&n>=s)return!1;var u=(n-e)/(r-t),l=u*(i-t)+e;if(l>o&&l<s)return!0;if((l=u*(a-t)+e)>o&&l<s)return!0;var c=(o-e)/u+t;return c>i&&c<a||(c=(s-e)/u+t)>i&&c<a},t.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.containsPoint=function(t,e){for(var r=this.polygons,n=0,i=r.length;n<i;n++)if(this.containsPointPolygon(r[n],t,e))return this.boundingBoxes[n];return null},t.prototype.containsPointPolygon=function(t,e,r){for(var n=t,i=t.length,o=i-2,a=!1,s=0;s<i;s+=2){var u=n[s+1],l=n[o+1];if(u<r&&l>=r||l<r&&u>=r){var c=n[s];c+(r-u)/(l-u)*(n[o]-c)<e&&(a=!a)}o=s}return a},t.prototype.intersectsSegment=function(t,e,r,n){for(var i=this.polygons,o=0,a=i.length;o<a;o++)if(this.intersectsSegmentPolygon(i[o],t,e,r,n))return this.boundingBoxes[o];return null},t.prototype.intersectsSegmentPolygon=function(t,e,r,n,i){for(var o=t,a=t.length,s=e-n,u=r-i,l=e*i-r*n,c=o[a-2],h=o[a-1],f=0;f<a;f+=2){var p=o[f],d=o[f+1],m=c*d-h*p,y=c-p,g=h-d,v=s*g-u*y,b=(l*y-s*m)/v;if((b>=c&&b<=p||b>=p&&b<=c)&&(b>=e&&b<=n||b>=n&&b<=e)){var _=(l*g-u*m)/v;if((_>=h&&_<=d||_>=d&&_<=h)&&(_>=r&&_<=i||_>=i&&_<=r))return!0}c=p,h=d}return!1},t.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),ae=function(){function t(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new Qt,i="string"==typeof e?JSON.parse(e):e,o=i.skeleton;if(null!=o){if(n.hash=o.hash,n.version=o.spine,"3.8"!==n.version.substr(0,3)){var a="Spine 3.8 loader cant load version "+o.spine+". Please configure your pixi-spine bundle";console.error(a)}if("3.8.75"===n.version){a="Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine.";console.error(a)}n.x=o.x,n.y=o.y,n.width=o.width,n.height=o.height,n.fps=o.fps,n.imagesPath=o.images}if(i.bones)for(var s=0;s<i.bones.length;s++){var u=i.bones[s],l=null,c=this.getValue(u,"parent",null);if(null!=c&&null==(l=n.findBone(c)))throw new Error("Parent bone not found: "+c);(d=new Vt(n.bones.length,u.name,l)).length=this.getValue(u,"length",0)*r,d.x=this.getValue(u,"x",0)*r,d.y=this.getValue(u,"y",0)*r,d.rotation=this.getValue(u,"rotation",0),d.scaleX=this.getValue(u,"scaleX",1),d.scaleY=this.getValue(u,"scaleY",1),d.shearX=this.getValue(u,"shearX",0),d.shearY=this.getValue(u,"shearY",0),d.transformMode=t.transformModeFromString(this.getValue(u,"transform","normal")),d.skinRequired=this.getValue(u,"skin",!1),n.bones.push(d)}if(i.slots)for(s=0;s<i.slots.length;s++){var h=(A=i.slots[s]).name,f=A.bone,p=n.findBone(f);if(null==p)throw new Error("Slot bone not found: "+f);var d=new Jt(n.slots.length,h,p),m=this.getValue(A,"color",null);null!=m&&d.color.setFromString(m);var y=this.getValue(A,"dark",null);null!=y&&(d.darkColor=new N(1,1,1,1),d.darkColor.setFromString(y)),d.attachmentName=this.getValue(A,"attachment",null),d.blendMode=t.blendModeFromString(this.getValue(A,"blend","normal")),n.slots.push(d)}if(i.ik)for(s=0;s<i.ik.length;s++){var g=i.ik[s];(d=new Yt(g.name)).order=this.getValue(g,"order",0),d.skinRequired=this.getValue(g,"skin",!1);for(var b=0;b<g.bones.length;b++){f=g.bones[b];if(null==(T=n.findBone(f)))throw new Error("IK bone not found: "+f);d.bones.push(T)}var _=g.target;if(d.target=n.findBone(_),null==d.target)throw new Error("IK target bone not found: "+_);d.mix=this.getValue(g,"mix",1),d.softness=this.getValue(g,"softness",0)*r,d.bendDirection=this.getValue(g,"bendPositive",!0)?1:-1,d.compress=this.getValue(g,"compress",!1),d.stretch=this.getValue(g,"stretch",!1),d.uniform=this.getValue(g,"uniform",!1),n.ikConstraints.push(d)}if(i.transform)for(s=0;s<i.transform.length;s++){g=i.transform[s];(d=new $t(g.name)).order=this.getValue(g,"order",0),d.skinRequired=this.getValue(g,"skin",!1);for(b=0;b<g.bones.length;b++){f=g.bones[b];if(null==(T=n.findBone(f)))throw new Error("Transform constraint bone not found: "+f);d.bones.push(T)}_=g.target;if(d.target=n.findBone(_),null==d.target)throw new Error("Transform constraint target bone not found: "+_);d.local=this.getValue(g,"local",!1),d.relative=this.getValue(g,"relative",!1),d.offsetRotation=this.getValue(g,"rotation",0),d.offsetX=this.getValue(g,"x",0)*r,d.offsetY=this.getValue(g,"y",0)*r,d.offsetScaleX=this.getValue(g,"scaleX",0),d.offsetScaleY=this.getValue(g,"scaleY",0),d.offsetShearY=this.getValue(g,"shearY",0),d.rotateMix=this.getValue(g,"rotateMix",1),d.translateMix=this.getValue(g,"translateMix",1),d.scaleMix=this.getValue(g,"scaleMix",1),d.shearMix=this.getValue(g,"shearMix",1),n.transformConstraints.push(d)}if(i.path)for(s=0;s<i.path.length;s++){g=i.path[s];(d=new Xt(g.name)).order=this.getValue(g,"order",0),d.skinRequired=this.getValue(g,"skin",!1);for(b=0;b<g.bones.length;b++){f=g.bones[b];if(null==(T=n.findBone(f)))throw new Error("Transform constraint bone not found: "+f);d.bones.push(T)}_=g.target;if(d.target=n.findSlot(_),null==d.target)throw new Error("Path target slot not found: "+_);d.positionMode=t.positionModeFromString(this.getValue(g,"positionMode","percent")),d.spacingMode=t.spacingModeFromString(this.getValue(g,"spacingMode","length")),d.rotateMode=t.rotateModeFromString(this.getValue(g,"rotateMode","tangent")),d.offsetRotation=this.getValue(g,"rotation",0),d.position=this.getValue(g,"position",0),d.positionMode==v.Fixed&&(d.position*=r),d.spacing=this.getValue(g,"spacing",0),d.spacingMode!=Lt.Length&&d.spacingMode!=Lt.Fixed||(d.spacing*=r),d.rotateMix=this.getValue(g,"rotateMix",1),d.translateMix=this.getValue(g,"translateMix",1),n.pathConstraints.push(d)}if(i.skins)for(s=0;s<i.skins.length;s++){var w=i.skins[s],x=new ee(w.name);if(w.bones)for(var S=0;S<w.bones.length;S++){var T;if(null==(T=n.findBone(w.bones[S])))throw new Error("Skin bone not found: "+w.bones[s]);x.bones.push(T)}if(w.ik)for(S=0;S<w.ik.length;S++){if(null==(E=n.findIkConstraint(w.ik[S])))throw new Error("Skin IK constraint not found: "+w.ik[s]);x.constraints.push(E)}if(w.transform)for(S=0;S<w.transform.length;S++){if(null==(E=n.findTransformConstraint(w.transform[S])))throw new Error("Skin transform constraint not found: "+w.transform[s]);x.constraints.push(E)}if(w.path)for(S=0;S<w.path.length;S++){var E;if(null==(E=n.findPathConstraint(w.path[S])))throw new Error("Skin path constraint not found: "+w.path[s]);x.constraints.push(E)}for(var h in w.attachments){var O=n.findSlot(h);if(null==O)throw new Error("Slot not found: "+h);var A=w.attachments[h];for(var k in A){var P=this.readAttachment(A[k],x,O.index,k,n);null!=P&&x.setAttachment(O.index,k,P)}}n.skins.push(x),"default"==x.name&&(n.defaultSkin=x)}s=0;for(var C=this.linkedMeshes.length;s<C;s++){var M=this.linkedMeshes[s];if(null==(x=null==M.skin?n.defaultSkin:n.findSkin(M.skin)))throw new Error("Skin not found: "+M.skin);var I=x.getAttachment(M.slotIndex,M.parent);if(null==I)throw new Error("Parent mesh not found: "+M.parent);M.mesh.deformAttachment=M.inheritDeform?I:M.mesh,M.mesh.setParentMesh(I)}if(this.linkedMeshes.length=0,i.events)for(var j in i.events){var B=i.events[j];(d=new zt(j)).intValue=this.getValue(B,"int",0),d.floatValue=this.getValue(B,"float",0),d.stringValue=this.getValue(B,"string",""),d.audioPath=this.getValue(B,"audio",null),null!=d.audioPath&&(d.volume=this.getValue(B,"volume",1),d.balance=this.getValue(B,"balance",0)),n.events.push(d)}if(i.animations)for(var L in i.animations){var R=i.animations[L];this.readAnimation(R,L,n)}return n},t.prototype.readAttachment=function(t,e,r,n,i){var o=this.scale;switch(n=this.getValue(t,"name",n),this.getValue(t,"type","region")){case"region":var a=this.getValue(t,"path",n),s=this.attachmentLoader.newRegionAttachment(e,n,a);return null==s?null:(s.path=a,s.x=this.getValue(t,"x",0)*o,s.y=this.getValue(t,"y",0)*o,s.scaleX=this.getValue(t,"scaleX",1),s.scaleY=this.getValue(t,"scaleY",1),s.rotation=this.getValue(t,"rotation",0),s.width=t.width*o,s.height=t.height*o,null!=(b=this.getValue(t,"color",null))&&s.color.setFromString(b),s);case"boundingbox":var u=this.attachmentLoader.newBoundingBoxAttachment(e,n);return null==u?null:(this.readVertices(t,u,t.vertexCount<<1),null!=(b=this.getValue(t,"color",null))&&u.color.setFromString(b),u);case"mesh":case"linkedmesh":a=this.getValue(t,"path",n);var l=this.attachmentLoader.newMeshAttachment(e,n,a);if(null==l)return null;l.path=a,null!=(b=this.getValue(t,"color",null))&&l.color.setFromString(b),l.width=this.getValue(t,"width",0)*o,l.height=this.getValue(t,"height",0)*o;var c=this.getValue(t,"parent",null);if(null!=c)return this.linkedMeshes.push(new se(l,this.getValue(t,"skin",null),r,c,this.getValue(t,"deform",!0))),l;var h=t.uvs;return this.readVertices(t,l,h.length),l.triangles=t.triangles,l.regionUVs=new Float32Array(h),l.edges=this.getValue(t,"edges",null),l.hullLength=2*this.getValue(t,"hull",0),l;case"path":if(null==(a=this.attachmentLoader.newPathAttachment(e,n)))return null;a.closed=this.getValue(t,"closed",!1),a.constantSpeed=this.getValue(t,"constantSpeed",!0);var f=t.vertexCount;this.readVertices(t,a,f<<1);for(var p=D.newArray(f/3,0),d=0;d<t.lengths.length;d++)p[d]=t.lengths[d]*o;return a.lengths=p,null!=(b=this.getValue(t,"color",null))&&a.color.setFromString(b),a;case"point":var m=this.attachmentLoader.newPointAttachment(e,n);return null==m?null:(m.x=this.getValue(t,"x",0)*o,m.y=this.getValue(t,"y",0)*o,m.rotation=this.getValue(t,"rotation",0),null!=(b=this.getValue(t,"color",null))&&m.color.setFromString(b),m);case"clipping":var y=this.attachmentLoader.newClippingAttachment(e,n);if(null==y)return null;var g=this.getValue(t,"end",null);if(null!=g){var v=i.findSlot(g);if(null==v)throw new Error("Clipping end slot not found: "+g);y.endSlot=v}var b;f=t.vertexCount;return this.readVertices(t,y,f<<1),null!=(b=this.getValue(t,"color",null))&&y.color.setFromString(b),y}return null},t.prototype.readVertices=function(t,e,r){var n=this.scale;e.worldVerticesLength=r;var i=t.vertices;if(r!=i.length){var o=new Array,a=new Array;for(c=0,h=i.length;c<h;){var s=i[c++];a.push(s);for(var u=c+4*s;c<u;c+=4)a.push(i[c]),o.push(i[c+1]*n),o.push(i[c+2]*n),o.push(i[c+3])}e.bones=a,e.vertices=D.toFloatArray(o)}else{var l=D.toFloatArray(i);if(1!=n)for(var c=0,h=i.length;c<h;c++)l[c]*=n;e.vertices=l}},t.prototype.readAnimation=function(t,e,r){var n=this.scale,i=new Array,o=0;if(t.slots)for(var a in t.slots){var s=t.slots[a];if(-1==($=r.findSlotIndex(a)))throw new Error("Slot not found: "+a);for(var u in s){var l=s[u];if("attachment"==u){(_=new xt(l.length)).slotIndex=$;for(var c=0,h=0;h<l.length;h++){var f=l[h];_.setFrame(c++,this.getValue(f,"time",0),f.name)}i.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}else if("color"==u){(_=new _t(l.length)).slotIndex=$;for(c=0,h=0;h<l.length;h++){f=l[h];var p=new N;p.setFromString(f.color||"ffffffff"),_.setFrame(c,this.getValue(f,"time",0),p.r,p.g,p.b,p.a),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*_t.ENTRIES])}else{if("twoColor"!=u)throw new Error("Invalid timeline type for a slot: "+u+" ("+a+")");(_=new wt(l.length)).slotIndex=$;for(c=0,h=0;h<l.length;h++){f=l[h];var d=new N,m=new N;d.setFromString(f.light),m.setFromString(f.dark),_.setFrame(c,this.getValue(f,"time",0),d.r,d.g,d.b,d.a,m.r,m.g,m.b),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*wt.ENTRIES])}}}if(t.bones)for(var y in t.bones){var g=t.bones[y],b=r.findBoneIndex(y);if(-1==b)throw new Error("Bone not found: "+y);for(var u in g){l=g[u];if("rotate"===u){(_=new yt(l.length)).boneIndex=b;for(c=0,h=0;h<l.length;h++){f=l[h];_.setFrame(c,this.getValue(f,"time",0),this.getValue(f,"angle",0)),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*yt.ENTRIES])}else{if("translate"!==u&&"scale"!==u&&"shear"!==u)throw new Error("Invalid timeline type for a bone: "+u+" ("+y+")");var _=null,w=1,x=0;"scale"===u?(_=new vt(l.length),x=1):"shear"===u?_=new bt(l.length):(_=new gt(l.length),w=n),_.boneIndex=b;for(c=0,h=0;h<l.length;h++){f=l[h];var S=this.getValue(f,"x",x),T=this.getValue(f,"y",x);_.setFrame(c,this.getValue(f,"time",0),S*w,T*w),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*gt.ENTRIES])}}}if(t.ik)for(var E in t.ik){var O=t.ik[E],A=r.findIkConstraint(E);(_=new At(O.length)).ikConstraintIndex=r.ikConstraints.indexOf(A);for(c=0,h=0;h<O.length;h++){f=O[h];_.setFrame(c,this.getValue(f,"time",0),this.getValue(f,"mix",1),this.getValue(f,"softness",0)*n,this.getValue(f,"bendPositive",!0)?1:-1,this.getValue(f,"compress",!1),this.getValue(f,"stretch",!1)),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*At.ENTRIES])}if(t.transform)for(var E in t.transform){O=t.transform[E],A=r.findTransformConstraint(E);(_=new kt(O.length)).transformConstraintIndex=r.transformConstraints.indexOf(A);for(c=0,h=0;h<O.length;h++){f=O[h];_.setFrame(c,this.getValue(f,"time",0),this.getValue(f,"rotateMix",1),this.getValue(f,"translateMix",1),this.getValue(f,"scaleMix",1),this.getValue(f,"shearMix",1)),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*kt.ENTRIES])}if(t.path)for(var E in t.path){O=t.path[E];var k=r.findPathConstraintIndex(E);if(-1==k)throw new Error("Path constraint not found: "+E);var P=r.pathConstraints[k];for(var u in O){l=O[u];if("position"===u||"spacing"===u){_=null,w=1;"spacing"===u?(_=new Ct(l.length),P.spacingMode!=Lt.Length&&P.spacingMode!=Lt.Fixed||(w=n)):(_=new Pt(l.length),P.positionMode==v.Fixed&&(w=n)),_.pathConstraintIndex=k;for(c=0,h=0;h<l.length;h++){f=l[h];_.setFrame(c,this.getValue(f,"time",0),this.getValue(f,u,0)*w),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*Pt.ENTRIES])}else if("mix"===u){(_=new Mt(l.length)).pathConstraintIndex=k;for(c=0,h=0;h<l.length;h++){f=l[h];_.setFrame(c,this.getValue(f,"time",0),this.getValue(f,"rotateMix",1),this.getValue(f,"translateMix",1)),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*Mt.ENTRIES])}}}if(t.deform)for(var C in t.deform){var M=t.deform[C],I=r.findSkin(C);if(null!=I)for(var a in M){s=M[a];if(-1==($=r.findSlotIndex(a)))throw new Error("Slot not found: "+s.name);for(var u in s){l=s[u];var j=I.getAttachment($,u);if(null==j)throw new Error("Deform attachment not found: "+l.name);var B=null!=j.bones,L=j.vertices,R=B?L.length/3*2:L.length;(_=new Tt(l.length)).slotIndex=$,_.attachment=j;c=0;for(var q=0;q<l.length;q++){f=l[q];var F=void 0,V=this.getValue(f,"vertices",null);if(null==V)F=B?D.newFloatArray(R):L;else{F=D.newFloatArray(R);var G=this.getValue(f,"offset",0);if(D.arrayCopy(V,0,F,G,V.length),1!=n)for(var z=(h=G)+V.length;h<z;h++)F[h]*=n;if(!B)for(h=0;h<R;h++)F[h]+=L[h]}_.setFrame(c,this.getValue(f,"time",0),F),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}}else if(Y)throw new Error("Skin not found: "+C)}var U=t.drawOrder;if(null==U&&(U=t.draworder),null!=U){_=new Ot(U.length);var X=r.slots.length;for(c=0,q=0;q<U.length;q++){var W=U[q],H=null,Z=this.getValue(W,"offsets",null);if(null!=Z){H=D.newArray(X,-1);var K=D.newArray(X-Z.length,0),Q=0,J=0;for(h=0;h<Z.length;h++){var $,tt=Z[h];if(-1==($=r.findSlotIndex(tt.slot)))throw new Error("Slot not found: "+tt.slot);for(;Q!=$;)K[J++]=Q++;H[Q+tt.offset]=Q++}for(;Q<X;)K[J++]=Q++;for(h=X-1;h>=0;h--)-1==H[h]&&(H[h]=K[--J])}_.setFrame(c++,this.getValue(W,"time",0),H)}i.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}if(t.events){for(_=new Et(t.events.length),c=0,h=0;h<t.events.length;h++){var et=t.events[h],rt=r.findEvent(et.name);if(null==rt)throw new Error("Event not found: "+et.name);var nt=new Gt(D.toSinglePrecision(this.getValue(et,"time",0)),rt);nt.intValue=this.getValue(et,"int",rt.intValue),nt.floatValue=this.getValue(et,"float",rt.floatValue),nt.stringValue=this.getValue(et,"string",rt.stringValue),null!=nt.data.audioPath&&(nt.volume=this.getValue(et,"volume",1),nt.balance=this.getValue(et,"balance",0)),_.setFrame(c++,nt)}i.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new pt(e,i,o))},t.prototype.readCurve=function(t,e,r){if(t.hasOwnProperty("curve"))if("stepped"===t.curve)e.setStepped(r);else{var n=t.curve;e.setCurve(r,n,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))}},t.prototype.getValue=function(t,e,r){return void 0!==t[e]?t[e]:r},t.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return l.T$.NORMAL;if("additive"==t)return l.T$.ADD;if("multiply"==t)return l.T$.MULTIPLY;if("screen"==t)return l.T$.SCREEN;throw new Error("Unknown blend mode: "+t)},t.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return v.Fixed;if("percent"==t)return v.Percent;throw new Error("Unknown position mode: "+t)},t.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return Lt.Length;if("fixed"==t)return Lt.Fixed;if("percent"==t)return Lt.Percent;throw new Error("Unknown position mode: "+t)},t.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return b.Tangent;if("chain"==t)return b.Chain;if("chainscale"==t)return b.ChainScale;throw new Error("Unknown rotate mode: "+t)},t.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return _.Normal;if("onlytranslation"==t)return _.OnlyTranslation;if("norotationorreflection"==t)return _.NoRotationOrReflection;if("noscale"==t)return _.NoScale;if("noscaleorreflection"==t)return _.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},t}(),se=function(t,e,r,n,i){this.mesh=t,this.skin=e,this.slotIndex=r,this.parent=n,this.inheritDeform=i},ue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return et(e,t),e.prototype.createSkeleton=function(t){this.skeleton=new Kt(t),this.skeleton.updateWorldTransform(),this.stateData=new qt(t),this.state=new It(this.stateData)},e}(Q),le=function(t,e){return le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},le(t,e)};function ce(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}le(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var he,fe=function(t){if(null==t)throw new Error("name cannot be null.");this.name=t},pe=function(t){function e(r){var n=t.call(this,r)||this;return n.id=(65535&e.nextID++)<<11,n.worldVerticesLength=0,n}return ce(e,t),e.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},e.prototype.computeWorldVertices=function(t,e,r,n,i,o){r=i+(r>>1)*o;var a=t.bone.skeleton,s=t.attachmentVertices,u=this.vertices,l=this.bones;if(null!=l){for(var c=0,h=0,f=0;f<e;f+=2){c+=(y=l[c])+1,h+=y}var p=a.bones;if(0==s.length)for(k=i,T=3*h;k<r;k+=o){var d=0,m=0,y=l[c++];for(y+=c;c<y;c++,T+=3){_=p[l[c]].matrix,P=u[T],C=u[T+1];var g=u[T+2];d+=(P*_.a+C*_.c+_.tx)*g,m+=(P*_.b+C*_.d+_.ty)*g}n[k]=d,n[k+1]=m}else for(var v=s,b=(k=i,T=3*h,h<<1);k<r;k+=o){d=0,m=0,y=l[c++];for(y+=c;c<y;c++,T+=3,b+=2){_=p[l[c]].matrix,P=u[T]+v[b],C=u[T+1]+v[b+1],g=u[T+2];d+=(P*_.a+C*_.c+_.tx)*g,m+=(P*_.b+C*_.d+_.ty)*g}n[k]=d,n[k+1]=m}}else{s.length>0&&(u=s);for(var _,w=(_=t.bone.matrix).tx,x=_.ty,S=_.a,T=_.c,E=_.b,O=_.d,A=e,k=i;k<r;A+=2,k+=o){var P=u[A],C=u[A+1];n[k]=P*S+C*T+w,n[k+1]=P*E+C*O+x}}},e.prototype.applyDeform=function(t){return this==t},e.nextID=0,e}(fe),de=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.BoundingBox,r.color=new N(1,1,1,1),r}return ce(e,t),e}(pe),me=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.Clipping,r.color=new N(.2275,.2275,.8078,1),r}return ce(e,t),e}(pe),ye=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.Mesh,r.color=new N(1,1,1,1),r.inheritDeform=!1,r.tempColor=new N(0,0,0,0),r}return ce(e,t),e.prototype.applyDeform=function(t){return this==t||this.inheritDeform&&this.parentMesh==t},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},e}(pe),ge=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.Path,r.closed=!1,r.constantSpeed=!1,r.color=new N(1,1,1,1),r}return ce(e,t),e}(pe),ve=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.Point,r.color=new N(.38,.94,0,1),r}return ce(e,t),e.prototype.computeWorldPosition=function(t,e){var r=t.matrix;return e.x=this.x*r.a+this.y*r.c+t.worldX,e.y=this.x*r.b+this.y*r.d+t.worldY,e},e.prototype.computeWorldRotation=function(t){var e=t.matrix,r=F.cosDeg(this.rotation),n=F.sinDeg(this.rotation),i=r*e.a+n*e.c,o=r*e.b+n*e.d;return Math.atan2(o,i)*F.radDeg},e}(pe),be=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.Region,r.x=0,r.y=0,r.scaleX=1,r.scaleY=1,r.rotation=0,r.width=0,r.height=0,r.color=new N(1,1,1,1),r.offset=D.newFloatArray(8),r.uvs=D.newFloatArray(8),r.tempColor=new N(1,1,1,1),r}return ce(e,t),e.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,r=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*r,o=n+this.region.width*t,a=i+this.region.height*r,s=this.rotation*Math.PI/180,u=Math.cos(s),l=Math.sin(s),c=n*u+this.x,h=n*l,f=i*u+this.y,p=i*l,d=o*u+this.x,m=o*l,y=a*u+this.y,g=a*l,v=this.offset;v[e.OX1]=c-p,v[e.OY1]=f+h,v[e.OX2]=c-g,v[e.OY2]=y+h,v[e.OX3]=d-g,v[e.OY3]=y+m,v[e.OX4]=d-p,v[e.OY4]=f+m},e.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},e.prototype.computeWorldVertices=function(t,r,n,i){var o=this.offset,a=t.matrix,s=a.tx,u=a.ty,l=a.a,c=a.c,h=a.b,f=a.d,p=0,d=0;p=o[e.OX1],d=o[e.OY1],r[n]=p*l+d*c+s,r[n+1]=p*h+d*f+u,n+=i,p=o[e.OX2],d=o[e.OY2],r[n]=p*l+d*c+s,r[n+1]=p*h+d*f+u,n+=i,p=o[e.OX3],d=o[e.OY3],r[n]=p*l+d*c+s,r[n+1]=p*h+d*f+u,n+=i,p=o[e.OX4],d=o[e.OY4],r[n]=p*l+d*c+s,r[n+1]=p*h+d*f+u},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(fe),_e=function(){function t(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}return t.prototype.begin=function(t){},t.prototype.transform=function(t,e,r,n){t.x+=F.randomTriangular(-this.jitterX,this.jitterY),t.y+=F.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),we=function(){function t(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}return t.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},t.prototype.transform=function(e,r,n,i){var o=this.angle*F.degreesToRadians,a=e.x-this.worldX,s=e.y-this.worldY,u=Math.sqrt(a*a+s*s);if(u<this.radius){var l=t.interpolation.apply(0,o,(this.radius-u)/this.radius),c=Math.cos(l),h=Math.sin(l);e.x=c*a-h*s+this.worldX,e.y=h*a+c*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new V(2),t}(),xe=function(){function t(t,e,r){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=r}return t.prototype.apply=function(t,e,r,n,i,o,a,s){if(null==t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(r%=this.duration,e>0&&(e%=this.duration));for(var u=this.timelines,l=0,c=u.length;l<c;l++)u[l].apply(t,e,r,i,o,a,s)},t.binarySearch=function(t,e,r){void 0===r&&(r=1);var n=0,i=t.length/r-2;if(0==i)return r;for(var o=i>>>1;;){if(t[(o+1)*r]<=e?n=o+1:i=o,n==i)return(n+1)*r;o=n+i>>>1}},t.linearSearch=function(t,e,r){for(var n=0,i=t.length-r;n<=i;n+=r)if(t[n]>e)return n;return-1},t}();!function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"}(he||(he={}));var Se,Te=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=D.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var r=e*t.BEZIER_SIZE;if(r==this.curves.length)return t.LINEAR;var n=this.curves[r];return n==t.LINEAR?t.LINEAR:n==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,r,n,i,o){var a=.03*(2*-r+i),s=.03*(2*-n+o),u=.006*(3*(r-i)+1),l=.006*(3*(n-o)+1),c=2*a+u,h=2*s+l,f=.3*r+a+.16666667*u,p=.3*n+s+.16666667*l,d=e*t.BEZIER_SIZE,m=this.curves;m[d++]=t.BEZIER;for(var y=f,g=p,v=d+t.BEZIER_SIZE-1;d<v;d+=2)m[d]=y,m[d+1]=g,f+=c,p+=h,c+=u,h+=l,y+=f,g+=p},t.prototype.getCurvePercent=function(e,r){r=F.clamp(r,0,1);var n=this.curves,i=e*t.BEZIER_SIZE,o=n[i];if(o==t.LINEAR)return r;if(o==t.STEPPED)return 0;for(var a=0,s=++i,u=i+t.BEZIER_SIZE-1;i<u;i+=2)if((a=n[i])>=r){var l=void 0,c=void 0;return i==s?(l=0,c=0):(l=n[i-2],c=n[i-1]),c+(n[i+1]-c)*(r-l)/(a-l)}var h=n[i-1];return h+(1-h)*(r-a)/(1-a)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=19,t}(),Ee=function(t){function e(e){var r=t.call(this,e)||this;return r.frames=D.newFloatArray(e<<1),r}return ce(e,t),e.prototype.getPropertyId=function(){return(he.rotate<<24)+this.boneIndex},e.prototype.setFrame=function(t,r,n){t<<=1,this.frames[t]=r,this.frames[t+e.ROTATION]=n},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.bones[this.boneIndex];if(n<u[0])switch(a){case y.setup:return void(l.rotation=l.data.rotation);case y.first:var c=l.data.rotation-l.rotation;l.rotation+=(c-360*(16384-(16384.499999999996-c/360|0)))*o}else if(n>=u[u.length-e.ENTRIES]){var h=u[u.length+e.PREV_ROTATION];switch(a){case y.setup:l.rotation=l.data.rotation+h*o;break;case y.first:case y.replace:h+=l.data.rotation-l.rotation,h-=360*(16384-(16384.499999999996-h/360|0));case y.add:l.rotation+=h*o}}else{var f=xe.binarySearch(u,n,e.ENTRIES),p=u[f+e.PREV_ROTATION],d=u[f],m=this.getCurvePercent((f>>1)-1,1-(n-d)/(u[f+e.PREV_TIME]-d)),g=u[f+e.ROTATION]-p;switch(g=p+(g-360*(16384-(16384.499999999996-g/360|0)))*m,a){case y.setup:l.rotation=l.data.rotation+(g-360*(16384-(16384.499999999996-g/360|0)))*o;break;case y.first:case y.replace:g+=l.data.rotation-l.rotation;case y.add:l.rotation+=(g-360*(16384-(16384.499999999996-g/360|0)))*o}}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(Te),Oe=function(t){function e(r){var n=t.call(this,r)||this;return n.frames=D.newFloatArray(r*e.ENTRIES),n}return ce(e,t),e.prototype.getPropertyId=function(){return(he.translate<<24)+this.boneIndex},e.prototype.setFrame=function(t,r,n,i){t*=e.ENTRIES,this.frames[t]=r,this.frames[t+e.X]=n,this.frames[t+e.Y]=i},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.bones[this.boneIndex];if(n<u[0])switch(a){case y.setup:return l.x=l.data.x,void(l.y=l.data.y);case y.first:l.x+=(l.data.x-l.x)*o,l.y+=(l.data.y-l.y)*o}else{var c=0,h=0;if(n>=u[u.length-e.ENTRIES])c=u[u.length+e.PREV_X],h=u[u.length+e.PREV_Y];else{var f=xe.binarySearch(u,n,e.ENTRIES);c=u[f+e.PREV_X],h=u[f+e.PREV_Y];var p=u[f],d=this.getCurvePercent(f/e.ENTRIES-1,1-(n-p)/(u[f+e.PREV_TIME]-p));c+=(u[f+e.X]-c)*d,h+=(u[f+e.Y]-h)*d}switch(a){case y.setup:l.x=l.data.x+c*o,l.y=l.data.y+h*o;break;case y.first:case y.replace:l.x+=(l.data.x+c-l.x)*o,l.y+=(l.data.y+h-l.y)*o;break;case y.add:l.x+=c*o,l.y+=h*o}}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(Te),Ae=function(t){function e(e){return t.call(this,e)||this}return ce(e,t),e.prototype.getPropertyId=function(){return(he.scale<<24)+this.boneIndex},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.bones[this.boneIndex];if(n<u[0])switch(a){case y.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case y.first:l.scaleX+=(l.data.scaleX-l.scaleX)*o,l.scaleY+=(l.data.scaleY-l.scaleY)*o}else{var c=0,h=0;if(n>=u[u.length-e.ENTRIES])c=u[u.length+e.PREV_X]*l.data.scaleX,h=u[u.length+e.PREV_Y]*l.data.scaleY;else{var f=xe.binarySearch(u,n,e.ENTRIES);c=u[f+e.PREV_X],h=u[f+e.PREV_Y];var p=u[f],d=this.getCurvePercent(f/e.ENTRIES-1,1-(n-p)/(u[f+e.PREV_TIME]-p));c=(c+(u[f+e.X]-c)*d)*l.data.scaleX,h=(h+(u[f+e.Y]-h)*d)*l.data.scaleY}if(1==o)a==y.add?(l.scaleX+=c-l.data.scaleX,l.scaleY+=h-l.data.scaleY):(l.scaleX=c,l.scaleY=h);else{var m=0,v=0;if(s==g.mixOut)switch(a){case y.setup:m=l.data.scaleX,v=l.data.scaleY,l.scaleX=m+(Math.abs(c)*F.signum(m)-m)*o,l.scaleY=v+(Math.abs(h)*F.signum(v)-v)*o;break;case y.first:case y.replace:m=l.scaleX,v=l.scaleY,l.scaleX=m+(Math.abs(c)*F.signum(m)-m)*o,l.scaleY=v+(Math.abs(h)*F.signum(v)-v)*o;break;case y.add:m=l.scaleX,v=l.scaleY,l.scaleX=m+(Math.abs(c)*F.signum(m)-l.data.scaleX)*o,l.scaleY=v+(Math.abs(h)*F.signum(v)-l.data.scaleY)*o}else switch(a){case y.setup:m=Math.abs(l.data.scaleX)*F.signum(c),v=Math.abs(l.data.scaleY)*F.signum(h),l.scaleX=m+(c-m)*o,l.scaleY=v+(h-v)*o;break;case y.first:case y.replace:m=Math.abs(l.scaleX)*F.signum(c),v=Math.abs(l.scaleY)*F.signum(h),l.scaleX=m+(c-m)*o,l.scaleY=v+(h-v)*o;break;case y.add:m=F.signum(c),v=F.signum(h),l.scaleX=Math.abs(l.scaleX)*m+(c-Math.abs(l.data.scaleX)*m)*o,l.scaleY=Math.abs(l.scaleY)*v+(h-Math.abs(l.data.scaleY)*v)*o}}}},e}(Oe),ke=function(t){function e(e){return t.call(this,e)||this}return ce(e,t),e.prototype.getPropertyId=function(){return(he.shear<<24)+this.boneIndex},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.bones[this.boneIndex];if(n<u[0])switch(a){case y.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case y.first:l.shearX+=(l.data.shearX-l.shearX)*o,l.shearY+=(l.data.shearY-l.shearY)*o}else{var c=0,h=0;if(n>=u[u.length-e.ENTRIES])c=u[u.length+e.PREV_X],h=u[u.length+e.PREV_Y];else{var f=xe.binarySearch(u,n,e.ENTRIES);c=u[f+e.PREV_X],h=u[f+e.PREV_Y];var p=u[f],d=this.getCurvePercent(f/e.ENTRIES-1,1-(n-p)/(u[f+e.PREV_TIME]-p));c+=(u[f+e.X]-c)*d,h+=(u[f+e.Y]-h)*d}switch(a){case y.setup:l.shearX=l.data.shearX+c*o,l.shearY=l.data.shearY+h*o;break;case y.first:case y.replace:l.shearX+=(l.data.shearX+c-l.shearX)*o,l.shearY+=(l.data.shearY+h-l.shearY)*o;break;case y.add:l.shearX+=c*o,l.shearY+=h*o}}},e}(Oe),Pe=function(t){function e(r){var n=t.call(this,r)||this;return n.frames=D.newFloatArray(r*e.ENTRIES),n}return ce(e,t),e.prototype.getPropertyId=function(){return(he.color<<24)+this.slotIndex},e.prototype.setFrame=function(t,r,n,i,o,a){t*=e.ENTRIES,this.frames[t]=r,this.frames[t+e.R]=n,this.frames[t+e.G]=i,this.frames[t+e.B]=o,this.frames[t+e.A]=a},e.prototype.apply=function(t,r,n,i,o,a,s){var u=t.slots[this.slotIndex],l=this.frames;if(n<l[0])switch(a){case y.setup:return void u.color.setFromColor(u.data.color);case y.first:var c=u.color,h=u.data.color;c.add((h.r-c.r)*o,(h.g-c.g)*o,(h.b-c.b)*o,(h.a-c.a)*o)}else{var f=0,p=0,d=0,m=0;if(n>=l[l.length-e.ENTRIES]){var g=l.length;f=l[g+e.PREV_R],p=l[g+e.PREV_G],d=l[g+e.PREV_B],m=l[g+e.PREV_A]}else{var v=xe.binarySearch(l,n,e.ENTRIES);f=l[v+e.PREV_R],p=l[v+e.PREV_G],d=l[v+e.PREV_B],m=l[v+e.PREV_A];var b=l[v],_=this.getCurvePercent(v/e.ENTRIES-1,1-(n-b)/(l[v+e.PREV_TIME]-b));f+=(l[v+e.R]-f)*_,p+=(l[v+e.G]-p)*_,d+=(l[v+e.B]-d)*_,m+=(l[v+e.A]-m)*_}if(1==o)u.color.set(f,p,d,m);else{c=u.color;a==y.setup&&c.setFromColor(u.data.color),c.add((f-c.r)*o,(p-c.g)*o,(d-c.b)*o,(m-c.a)*o)}}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(Te),Ce=function(t){function e(r){var n=t.call(this,r)||this;return n.frames=D.newFloatArray(r*e.ENTRIES),n}return ce(e,t),e.prototype.getPropertyId=function(){return(he.twoColor<<24)+this.slotIndex},e.prototype.setFrame=function(t,r,n,i,o,a,s,u,l){t*=e.ENTRIES,this.frames[t]=r,this.frames[t+e.R]=n,this.frames[t+e.G]=i,this.frames[t+e.B]=o,this.frames[t+e.A]=a,this.frames[t+e.R2]=s,this.frames[t+e.G2]=u,this.frames[t+e.B2]=l},e.prototype.apply=function(t,r,n,i,o,a,s){var u=t.slots[this.slotIndex],l=this.frames;if(n<l[0])switch(a){case y.setup:return u.color.setFromColor(u.data.color),void u.darkColor.setFromColor(u.data.darkColor);case y.first:var c=u.color,h=u.darkColor,f=u.data.color,p=u.data.darkColor;c.add((f.r-c.r)*o,(f.g-c.g)*o,(f.b-c.b)*o,(f.a-c.a)*o),h.add((p.r-h.r)*o,(p.g-h.g)*o,(p.b-h.b)*o,0)}else{var d=0,m=0,g=0,v=0,b=0,_=0,w=0;if(n>=l[l.length-e.ENTRIES]){var x=l.length;d=l[x+e.PREV_R],m=l[x+e.PREV_G],g=l[x+e.PREV_B],v=l[x+e.PREV_A],b=l[x+e.PREV_R2],_=l[x+e.PREV_G2],w=l[x+e.PREV_B2]}else{var S=xe.binarySearch(l,n,e.ENTRIES);d=l[S+e.PREV_R],m=l[S+e.PREV_G],g=l[S+e.PREV_B],v=l[S+e.PREV_A],b=l[S+e.PREV_R2],_=l[S+e.PREV_G2],w=l[S+e.PREV_B2];var T=l[S],E=this.getCurvePercent(S/e.ENTRIES-1,1-(n-T)/(l[S+e.PREV_TIME]-T));d+=(l[S+e.R]-d)*E,m+=(l[S+e.G]-m)*E,g+=(l[S+e.B]-g)*E,v+=(l[S+e.A]-v)*E,b+=(l[S+e.R2]-b)*E,_+=(l[S+e.G2]-_)*E,w+=(l[S+e.B2]-w)*E}if(1==o)u.color.set(d,m,g,v),u.darkColor.set(b,_,w,1);else{c=u.color,h=u.darkColor;a==y.setup&&(c.setFromColor(u.data.color),h.setFromColor(u.data.darkColor)),c.add((d-c.r)*o,(m-c.g)*o,(g-c.b)*o,(v-c.a)*o),h.add((b-h.r)*o,(_-h.g)*o,(w-h.b)*o,0)}}},e.ENTRIES=8,e.PREV_TIME=-8,e.PREV_R=-7,e.PREV_G=-6,e.PREV_B=-5,e.PREV_A=-4,e.PREV_R2=-3,e.PREV_G2=-2,e.PREV_B2=-1,e.R=1,e.G=2,e.B=3,e.A=4,e.R2=5,e.G2=6,e.B2=7,e}(Te),Me=function(){function t(t){this.frames=D.newFloatArray(t),this.attachmentNames=new Array(t)}return t.prototype.getPropertyId=function(){return(he.attachment<<24)+this.slotIndex},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.attachmentNames[t]=r},t.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(a!=g.mixOut||o!=y.setup){var u=this.frames;if(r<u[0]){if(o==y.setup||o==y.first){var l=s.data.attachmentName;s.setAttachment(null==l?null:t.getAttachment(this.slotIndex,l))}}else{var c=0;c=r>=u[u.length-1]?u.length-1:xe.binarySearch(u,r,1)-1;var h=this.attachmentNames[c];t.slots[this.slotIndex].setAttachment(null==h?null:t.getAttachment(this.slotIndex,h))}}else{var f=s.data.attachmentName;s.setAttachment(null==f?null:t.getAttachment(this.slotIndex,f))}},t}(),Ie=null,je=function(t){function e(e){var r=t.call(this,e)||this;return r.frames=D.newFloatArray(e),r.frameVertices=new Array(e),null==Ie&&(Ie=D.newFloatArray(64)),r}return ce(e,t),e.prototype.getPropertyId=function(){return(he.deform<<27)+ +this.attachment.id+this.slotIndex},e.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.frameVertices[t]=r},e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex],u=s.getAttachment();if(u instanceof pe&&u.applyDeform(this.attachment)){var l=s.attachmentVertices;0==l.length&&(o=y.setup);var c=this.frameVertices,h=c[0].length,f=this.frames;if(r<f[0]){var p=u;switch(o){case y.setup:return void(l.length=0);case y.first:if(1==i){l.length=0;break}var d=D.setArraySize(l,h);if(null==p.bones)for(var m=p.vertices,g=0;g<h;g++)d[g]+=(m[g]-d[g])*i;else{i=1-i;for(g=0;g<h;g++)d[g]*=i}}}else{var v=D.setArraySize(l,h);if(r>=f[f.length-1]){var b=c[f.length-1];if(1==i)if(o==y.add)if(null==(p=u).bones)for(m=p.vertices,g=0;g<h;g++)v[g]+=b[g]-m[g];else for(g=0;g<h;g++)v[g]+=b[g];else D.arrayCopy(b,0,v,0,h);else switch(o){case y.setup:var _=u;if(null==_.bones)for(m=_.vertices,g=0;g<h;g++){var w=m[g];v[g]=w+(b[g]-w)*i}else for(g=0;g<h;g++)v[g]=b[g]*i;break;case y.first:case y.replace:for(g=0;g<h;g++)v[g]+=(b[g]-v[g])*i;case y.add:if(null==(p=u).bones)for(m=p.vertices,g=0;g<h;g++)v[g]+=(b[g]-m[g])*i;else for(g=0;g<h;g++)v[g]+=b[g]*i}}else{var x=xe.binarySearch(f,r),S=c[x-1],T=c[x],E=f[x],O=this.getCurvePercent(x-1,1-(r-E)/(f[x-1]-E));if(1==i)if(o==y.add)if(null==(p=u).bones)for(m=p.vertices,g=0;g<h;g++){var A=S[g];v[g]+=A+(T[g]-A)*O-m[g]}else for(g=0;g<h;g++){A=S[g];v[g]+=A+(T[g]-A)*O}else for(g=0;g<h;g++){A=S[g];v[g]=A+(T[g]-A)*O}else switch(o){case y.setup:var k=u;if(null==k.bones)for(m=k.vertices,g=0;g<h;g++){A=S[g],w=m[g];v[g]=w+(A+(T[g]-A)*O-w)*i}else for(g=0;g<h;g++){A=S[g];v[g]=(A+(T[g]-A)*O)*i}break;case y.first:case y.replace:for(g=0;g<h;g++){A=S[g];v[g]+=(A+(T[g]-A)*O-v[g])*i}break;case y.add:if(null==(p=u).bones)for(m=p.vertices,g=0;g<h;g++){A=S[g];v[g]+=(A+(T[g]-A)*O-m[g])*i}else for(g=0;g<h;g++){A=S[g];v[g]+=(A+(T[g]-A)*O)*i}}}}}},e}(Te),Be=function(){function t(t){this.frames=D.newFloatArray(t),this.events=new Array(t)}return t.prototype.getPropertyId=function(){return he.event<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},t.prototype.apply=function(t,e,r,n,i,o,a){if(null!=n){var s=this.frames,u=this.frames.length;if(e>r)this.apply(t,e,Number.MAX_VALUE,n,i,o,a),e=-1;else if(e>=s[u-1])return;if(!(r<s[0])){var l=0;if(e<s[0])l=0;else for(var c=s[l=xe.binarySearch(s,e)];l>0&&s[l-1]==c;)l--;for(;l<u&&r>=s[l];l++)n.push(this.events[l])}}},t}(),Le=function(){function t(t){this.frames=D.newFloatArray(t),this.drawOrders=new Array(t)}return t.prototype.getPropertyId=function(){return he.drawOrder<<24},t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.drawOrders[t]=r},t.prototype.apply=function(t,e,r,n,i,o,a){var s=t.drawOrder,u=t.slots;if(a!=g.mixOut||o!=y.setup){var l=this.frames;if(r<l[0])o!=y.setup&&o!=y.first||D.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var c=0;c=r>=l[l.length-1]?l.length-1:xe.binarySearch(l,r)-1;var h=this.drawOrders[c];if(null==h)D.arrayCopy(u,0,s,0,u.length);else for(var f=0,p=h.length;f<p;f++)s[f]=u[h[f]]}}else D.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},t}(),Re=function(t){function e(r){var n=t.call(this,r)||this;return n.frames=D.newFloatArray(r*e.ENTRIES),n}return ce(e,t),e.prototype.getPropertyId=function(){return(he.ikConstraint<<24)+this.ikConstraintIndex},e.prototype.setFrame=function(t,r,n,i,o,a){t*=e.ENTRIES,this.frames[t]=r,this.frames[t+e.MIX]=n,this.frames[t+e.BEND_DIRECTION]=i,this.frames[t+e.COMPRESS]=o?1:0,this.frames[t+e.STRETCH]=a?1:0},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.ikConstraints[this.ikConstraintIndex];if(n<u[0])switch(a){case y.setup:return l.mix=l.data.mix,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,void(l.stretch=l.data.stretch);case y.first:l.mix+=(l.data.mix-l.mix)*o,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}else if(n>=u[u.length-e.ENTRIES])a==y.setup?(l.mix=l.data.mix+(u[u.length+e.PREV_MIX]-l.data.mix)*o,s==g.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[u.length+e.PREV_BEND_DIRECTION],l.compress=0!=u[u.length+e.PREV_COMPRESS],l.stretch=0!=u[u.length+e.PREV_STRETCH])):(l.mix+=(u[u.length+e.PREV_MIX]-l.mix)*o,s==g.mixIn&&(l.bendDirection=u[u.length+e.PREV_BEND_DIRECTION],l.compress=0!=u[u.length+e.PREV_COMPRESS],l.stretch=0!=u[u.length+e.PREV_STRETCH]));else{var c=xe.binarySearch(u,n,e.ENTRIES),h=u[c+e.PREV_MIX],f=u[c],p=this.getCurvePercent(c/e.ENTRIES-1,1-(n-f)/(u[c+e.PREV_TIME]-f));a==y.setup?(l.mix=l.data.mix+(h+(u[c+e.MIX]-h)*p-l.data.mix)*o,s==g.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[c+e.PREV_BEND_DIRECTION],l.compress=0!=u[c+e.PREV_COMPRESS],l.stretch=0!=u[c+e.PREV_STRETCH])):(l.mix+=(h+(u[c+e.MIX]-h)*p-l.mix)*o,s==g.mixIn&&(l.bendDirection=u[c+e.PREV_BEND_DIRECTION],l.compress=0!=u[c+e.PREV_COMPRESS],l.stretch=0!=u[c+e.PREV_STRETCH]))}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_MIX=-4,e.PREV_BEND_DIRECTION=-3,e.PREV_COMPRESS=-2,e.PREV_STRETCH=-1,e.MIX=1,e.BEND_DIRECTION=2,e.COMPRESS=3,e.STRETCH=4,e}(Te),qe=function(t){function e(r){var n=t.call(this,r)||this;return n.frames=D.newFloatArray(r*e.ENTRIES),n}return ce(e,t),e.prototype.getPropertyId=function(){return(he.transformConstraint<<24)+this.transformConstraintIndex},e.prototype.setFrame=function(t,r,n,i,o,a){t*=e.ENTRIES,this.frames[t]=r,this.frames[t+e.ROTATE]=n,this.frames[t+e.TRANSLATE]=i,this.frames[t+e.SCALE]=o,this.frames[t+e.SHEAR]=a},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.transformConstraints[this.transformConstraintIndex];if(n<u[0]){var c=l.data;switch(a){case y.setup:return l.rotateMix=c.rotateMix,l.translateMix=c.translateMix,l.scaleMix=c.scaleMix,void(l.shearMix=c.shearMix);case y.first:l.rotateMix+=(c.rotateMix-l.rotateMix)*o,l.translateMix+=(c.translateMix-l.translateMix)*o,l.scaleMix+=(c.scaleMix-l.scaleMix)*o,l.shearMix+=(c.shearMix-l.shearMix)*o}}else{var h=0,f=0,p=0,d=0;if(n>=u[u.length-e.ENTRIES]){var m=u.length;h=u[m+e.PREV_ROTATE],f=u[m+e.PREV_TRANSLATE],p=u[m+e.PREV_SCALE],d=u[m+e.PREV_SHEAR]}else{var g=xe.binarySearch(u,n,e.ENTRIES);h=u[g+e.PREV_ROTATE],f=u[g+e.PREV_TRANSLATE],p=u[g+e.PREV_SCALE],d=u[g+e.PREV_SHEAR];var v=u[g],b=this.getCurvePercent(g/e.ENTRIES-1,1-(n-v)/(u[g+e.PREV_TIME]-v));h+=(u[g+e.ROTATE]-h)*b,f+=(u[g+e.TRANSLATE]-f)*b,p+=(u[g+e.SCALE]-p)*b,d+=(u[g+e.SHEAR]-d)*b}if(a==y.setup){c=l.data;l.rotateMix=c.rotateMix+(h-c.rotateMix)*o,l.translateMix=c.translateMix+(f-c.translateMix)*o,l.scaleMix=c.scaleMix+(p-c.scaleMix)*o,l.shearMix=c.shearMix+(d-c.shearMix)*o}else l.rotateMix+=(h-l.rotateMix)*o,l.translateMix+=(f-l.translateMix)*o,l.scaleMix+=(p-l.scaleMix)*o,l.shearMix+=(d-l.shearMix)*o}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(Te),Ne=function(t){function e(r){var n=t.call(this,r)||this;return n.frames=D.newFloatArray(r*e.ENTRIES),n}return ce(e,t),e.prototype.getPropertyId=function(){return(he.pathConstraintPosition<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(t,r,n){t*=e.ENTRIES,this.frames[t]=r,this.frames[t+e.VALUE]=n},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(n<u[0])switch(a){case y.setup:return void(l.position=l.data.position);case y.first:l.position+=(l.data.position-l.position)*o}else{var c=0;if(n>=u[u.length-e.ENTRIES])c=u[u.length+e.PREV_VALUE];else{var h=xe.binarySearch(u,n,e.ENTRIES);c=u[h+e.PREV_VALUE];var f=u[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(n-f)/(u[h+e.PREV_TIME]-f));c+=(u[h+e.VALUE]-c)*p}a==y.setup?l.position=l.data.position+(c-l.data.position)*o:l.position+=(c-l.position)*o}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(Te),Fe=function(t){function e(e){return t.call(this,e)||this}return ce(e,t),e.prototype.getPropertyId=function(){return(he.pathConstraintSpacing<<24)+this.pathConstraintIndex},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(n<u[0])switch(a){case y.setup:return void(l.spacing=l.data.spacing);case y.first:l.spacing+=(l.data.spacing-l.spacing)*o}else{var c=0;if(n>=u[u.length-e.ENTRIES])c=u[u.length+e.PREV_VALUE];else{var h=xe.binarySearch(u,n,e.ENTRIES);c=u[h+e.PREV_VALUE];var f=u[h],p=this.getCurvePercent(h/e.ENTRIES-1,1-(n-f)/(u[h+e.PREV_TIME]-f));c+=(u[h+e.VALUE]-c)*p}a==y.setup?l.spacing=l.data.spacing+(c-l.data.spacing)*o:l.spacing+=(c-l.spacing)*o}},e}(Ne),Ve=function(t){function e(r){var n=t.call(this,r)||this;return n.frames=D.newFloatArray(r*e.ENTRIES),n}return ce(e,t),e.prototype.getPropertyId=function(){return(he.pathConstraintMix<<24)+this.pathConstraintIndex},e.prototype.setFrame=function(t,r,n,i){t*=e.ENTRIES,this.frames[t]=r,this.frames[t+e.ROTATE]=n,this.frames[t+e.TRANSLATE]=i},e.prototype.apply=function(t,r,n,i,o,a,s){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(n<u[0])switch(a){case y.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case y.first:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*o,l.translateMix+=(l.data.translateMix-l.translateMix)*o}else{var c=0,h=0;if(n>=u[u.length-e.ENTRIES])c=u[u.length+e.PREV_ROTATE],h=u[u.length+e.PREV_TRANSLATE];else{var f=xe.binarySearch(u,n,e.ENTRIES);c=u[f+e.PREV_ROTATE],h=u[f+e.PREV_TRANSLATE];var p=u[f],d=this.getCurvePercent(f/e.ENTRIES-1,1-(n-p)/(u[f+e.PREV_TIME]-p));c+=(u[f+e.ROTATE]-c)*d,h+=(u[f+e.TRANSLATE]-h)*d}a==y.setup?(l.rotateMix=l.data.rotateMix+(c-l.data.rotateMix)*o,l.translateMix=l.data.translateMix+(h-l.data.translateMix)*o):(l.rotateMix+=(c-l.rotateMix)*o,l.translateMix+=(h-l.translateMix)*o)}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(Te),De=function(){function t(t){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new ze(this),this.propertyIDs=new R,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new G((function(){return new Ge})),this.data=t}return t.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=t*i.timeScale;if(i.delay>0){if(i.delay-=o,i.delay>0)continue;o=-i.delay,i.delay=0}var a=i.next;if(null!=a){var s=i.trackLast-a.delay;if(s>=0){for(a.delay=0,a.trackTime=0==i.timeScale?0:(s/i.timeScale+t)*a.timeScale,i.trackTime+=o,this.setCurrent(r,a,!0);null!=a.mixingFrom;)a.mixTime+=t,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){e[r]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,t)){var u=i.mixingFrom;for(i.mixingFrom=null,null!=u&&(u.mixingTo=null);null!=u;)this.queue.end(u),u=u.mixingFrom}i.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(t,e){var r=t.mixingFrom;if(null==r)return!0;var n=this.updateMixingFrom(r,e);return r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=r.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=r.mixingFrom,null!=r.mixingFrom&&(r.mixingFrom.mixingTo=t),t.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=e*r.timeScale,t.mixTime+=e,!1)},t.prototype.apply=function(e){if(null==e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,n=this.tracks,i=!1,o=0,a=n.length;o<a;o++){var s=n[o];if(!(null==s||s.delay>0)){i=!0;var u=0==o?y.first:s.mixBlend,l=s.alpha;null!=s.mixingFrom?l*=this.applyMixingFrom(s,e,u):s.trackTime>=s.trackEnd&&null==s.next&&(l=0);var c=s.animationLast,h=s.getAnimationTime(),f=s.animation.timelines.length,p=s.animation.timelines;if(0==o&&1==l||u==y.add)for(var d=0;d<f;d++)D.webkit602BugfixHelper(l,u),p[d].apply(e,c,h,r,l,u,g.mixIn);else{var m=s.timelineMode,v=0==s.timelinesRotation.length;v&&D.setArraySize(s.timelinesRotation,f<<1,null);var b=s.timelinesRotation;for(d=0;d<f;d++){var _=p[d],w=m[d]==t.SUBSEQUENT?u:y.setup;_ instanceof Ee?this.applyRotateTimeline(_,e,h,l,w,b,d<<1,v):(D.webkit602BugfixHelper(l,u),_.apply(e,c,h,r,l,w,g.mixIn))}}this.queueEvents(s,h),r.length=0,s.nextAnimationLast=h,s.nextTrackLast=s.trackTime}}return this.queue.drain(),i},t.prototype.applyMixingFrom=function(e,r,n){var i=e.mixingFrom;null!=i.mixingFrom&&this.applyMixingFrom(i,r,n);var o=0;0==e.mixDuration?(o=1,n==y.first&&(n=y.setup)):((o=e.mixTime/e.mixDuration)>1&&(o=1),n!=y.first&&(n=i.mixBlend));var a=o<i.eventThreshold?this.events:null,s=o<i.attachmentThreshold,u=o<i.drawOrderThreshold,l=i.animationLast,c=i.getAnimationTime(),h=i.animation.timelines.length,f=i.animation.timelines,p=i.alpha*e.interruptAlpha,d=p*(1-o);if(n==y.add)for(var m=0;m<h;m++)f[m].apply(r,l,c,a,d,n,g.mixOut);else{var v=i.timelineMode,b=i.timelineHoldMix,_=0==i.timelinesRotation.length;_&&D.setArraySize(i.timelinesRotation,h<<1,null);var w=i.timelinesRotation;i.totalAlpha=0;for(m=0;m<h;m++){var x=f[m],S=g.mixOut,T=void 0,E=0;switch(v[m]){case t.SUBSEQUENT:if(!s&&x instanceof Me)continue;if(!u&&x instanceof Le)continue;T=n,E=d;break;case t.FIRST:T=y.setup,E=d;break;case t.HOLD:T=y.setup,E=p;break;default:T=y.setup;var O=b[m];E=p*Math.max(0,1-O.mixTime/O.mixDuration)}i.totalAlpha+=E,x instanceof Ee?this.applyRotateTimeline(x,r,c,E,T,w,m<<1,_):(D.webkit602BugfixHelper(E,n),T==y.setup&&(x instanceof Me?s&&(S=g.mixOut):x instanceof Le&&u&&(S=g.mixOut)),x.apply(r,l,c,a,E,T,S))}}return e.mixDuration>0&&this.queueEvents(i,c),this.events.length=0,i.nextAnimationLast=c,i.nextTrackLast=i.trackTime,o},t.prototype.applyRotateTimeline=function(t,e,r,n,i,o,a,s){if(s&&(o[a]=0),1!=n){var u=t,l=u.frames,c=e.bones[u.boneIndex],h=0,f=0;if(r<l[0])switch(i){case y.setup:c.rotation=c.data.rotation;default:return;case y.first:h=c.rotation,f=c.data.rotation}else if(h=i==y.setup?c.data.rotation:c.rotation,r>=l[l.length-Ee.ENTRIES])f=c.data.rotation+l[l.length+Ee.PREV_ROTATION];else{var p=xe.binarySearch(l,r,Ee.ENTRIES),d=l[p+Ee.PREV_ROTATION],m=l[p],v=u.getCurvePercent((p>>1)-1,1-(r-m)/(l[p+Ee.PREV_TIME]-m));f=l[p+Ee.ROTATION]-d,f=d+(f-=360*(16384-(16384.499999999996-f/360|0)))*v+c.data.rotation,f-=360*(16384-(16384.499999999996-f/360|0))}var b=0,_=f-h;if(0==(_-=360*(16384-(16384.499999999996-_/360|0))))b=o[a];else{var w=0,x=0;s?(w=0,x=_):(w=o[a],x=o[a+1]);var S=_>0,T=w>=0;F.signum(x)!=F.signum(_)&&Math.abs(x)<=90&&(Math.abs(w)>180&&(w+=360*F.signum(w)),T=S),b=_+w-w%360,T!=S&&(b+=360*F.signum(w)),o[a]=b}o[a+1]=_,h+=b*n,c.rotation=h-360*(16384-(16384.499999999996-h/360|0))}else t.apply(e,0,r,null,1,i,g.mixIn)},t.prototype.queueEvents=function(t,e){for(var r=t.animationStart,n=t.animationEnd,i=n-r,o=t.trackLast%i,a=this.events,s=0,u=a.length;s<u;s++){var l=a[s];if(l.time<o)break;l.time>n||this.queue.event(t,l)}for((t.loop?0==i||o>t.trackTime%i:e>=n&&t.animationLast<n)&&this.queue.complete(t);s<u;s++){a[s].time<r||this.queue.event(t,a[s])}},t.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,r=this.tracks.length;e<r;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},t.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var r=e;;){var n=r.mixingFrom;if(null==n)break;this.queue.end(n),r.mixingFrom=null,r.mixingTo=null,r=n}this.tracks[e.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(t,e,r){var n=this.expandToIndex(t);this.tracks[t]=e,null!=n&&(r&&this.queue.interrupt(n),e.mixingFrom=n,n.mixingTo=e,e.mixTime=0,null!=n.mixingFrom&&n.mixDuration>0&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)},t.prototype.setAnimation=function(t,e,r){var n=this.data.skeletonData.findAnimation(e);if(null==n)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,n,r)},t.prototype.setAnimationWith=function(t,e,r){if(null==e)throw new Error("animation cannot be null.");var n=!0,i=this.expandToIndex(t);null!=i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,n=!1):this.disposeNext(i));var o=this.trackEntry(t,e,r,i);return this.setCurrent(t,o,n),this.queue.drain(),o},t.prototype.addAnimation=function(t,e,r,n){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,i,r,n)},t.prototype.addAnimationWith=function(t,e,r,n){if(null==e)throw new Error("animation cannot be null.");var i=this.expandToIndex(t);if(null!=i)for(;null!=i.next;)i=i.next;var o=this.trackEntry(t,e,r,i);if(null==i)this.setCurrent(t,o,!0),this.queue.drain();else if(i.next=o,n<=0){var a=i.animationEnd-i.animationStart;0!=a?(i.loop?n+=a*(1+(i.trackTime/a|0)):n+=Math.max(a,i.trackTime),n-=this.data.getMix(i.animation,e)):n=i.trackTime}return o.delay=n,o},t.prototype.setEmptyAnimation=function(e,r){var n=this.setAnimationWith(e,t.emptyAnimation,!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){n<=0&&(n-=r);var i=this.addAnimationWith(e,t.emptyAnimation,!1,n);return i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++){var i=this.tracks[r];null!=i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},t.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(D.ensureArrayCapacity(this.tracks,t-this.tracks.length+1,null),this.tracks.length=t+1,null)},t.prototype.trackEntry=function(t,e,r,n){var i=this.trackEntryPool.obtain();return i.trackIndex=t,i.animation=e,i.loop=r,i.holdPrevious=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=e.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=null==n?0:this.data.getMix(n.animation,e),i},t.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++){var r=this.tracks[t];if(null!=r){for(;null!=r.mixingFrom;)r=r.mixingFrom;do{null!=r.mixingFrom&&r.mixBlend==y.add||this.setTimelineModes(r),r=r.mixingTo}while(null!=r)}}},t.prototype.setTimelineModes=function(e){var r=e.mixingTo,n=e.animation.timelines,i=e.animation.timelines.length,o=D.setArraySize(e.timelineMode,i);e.timelineHoldMix.length=0;var a=D.setArraySize(e.timelineHoldMix,i),s=this.propertyIDs;if(null!=r&&r.holdPrevious)for(var u=0;u<i;u++)s.add(n[u].getPropertyId()),o[u]=t.HOLD;else t:for(u=0;u<i;u++){var l=n[u].getPropertyId();if(s.add(l))if(null!=r&&this.hasTimeline(r,l)){for(var c=r.mixingTo;null!=c;c=c.mixingTo)if(!this.hasTimeline(c,l)){if(e.mixDuration>0){o[u]=t.HOLD_MIX,a[u]=c;continue t}break}o[u]=t.HOLD}else o[u]=t.FIRST;else o[u]=t.SUBSEQUENT}},t.prototype.hasTimeline=function(t,e){for(var r=t.animation.timelines,n=0,i=r.length;n<i;n++)if(r[n].getPropertyId()==e)return!0;return!1},t.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},t.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},t.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.emptyAnimation=new xe("<empty>",[],0),t.SUBSEQUENT=0,t.FIRST=1,t.HOLD=2,t.HOLD_MIX=3,t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),Ge=function(){function t(){this.mixBlend=y.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),ze=function(){function t(t){this.objects=[],this.drainDisabled=!1,this.animState=t}return t.prototype.start=function(t){this.objects.push(Se.start),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.interrupt=function(t){this.objects.push(Se.interrupt),this.objects.push(t)},t.prototype.end=function(t){this.objects.push(Se.end),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.dispose=function(t){this.objects.push(Se.dispose),this.objects.push(t)},t.prototype.complete=function(t){this.objects.push(Se.complete),this.objects.push(t)},t.prototype.event=function(t,e){this.objects.push(Se.event),this.objects.push(t),this.objects.push(e)},t.prototype.deprecateStuff=function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];switch(n){case Se.start:null!=i.listener&&i.listener.start&&i.listener.start(i);for(var o=0;o<e.length;o++)e[o].start&&e[o].start(i);i.onStart&&this.deprecateStuff()&&i.onStart(i.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(i.trackIndex);break;case Se.interrupt:null!=i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(o=0;o<e.length;o++)e[o].interrupt&&e[o].interrupt(i);break;case Se.end:null!=i.listener&&i.listener.end&&i.listener.end(i);for(o=0;o<e.length;o++)e[o].end&&e[o].end(i);i.onEnd&&this.deprecateStuff()&&i.onEnd(i.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(i.trackIndex);case Se.dispose:null!=i.listener&&i.listener.dispose&&i.listener.dispose(i);for(o=0;o<e.length;o++)e[o].dispose&&e[o].dispose(i);this.animState.trackEntryPool.free(i);break;case Se.complete:null!=i.listener&&i.listener.complete&&i.listener.complete(i);for(o=0;o<e.length;o++)e[o].complete&&e[o].complete(i);var a=F.toInt(i.loopsCount());i.onComplete&&this.deprecateStuff()&&i.onComplete(i.trackIndex,a),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(i.trackIndex,a);break;case Se.event:var s=t[2+r++];null!=i.listener&&i.listener.event&&i.listener.event(i,s);for(o=0;o<e.length;o++)e[o].event&&e[o].event(i,s);i.onEvent&&this.deprecateStuff()&&i.onEvent(i.trackIndex,s),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(i.trackIndex,s)}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t.deprecatedWarning1=!1,t}();!function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(Se||(Se={}));var Ue,Ye=function(){function t(){}return t.prototype.start=function(t){},t.prototype.interrupt=function(t){},t.prototype.end=function(t){},t.prototype.dispose=function(t){},t.prototype.complete=function(t){},t.prototype.event=function(t,e){},t}(),Xe=function(){function t(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return t.prototype.setMix=function(t,e,r){var n=this.skeletonData.findAnimation(t);if(null==n)throw new Error("Animation not found: "+t);var i=this.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);this.setMixWith(n,i,r)},t.prototype.setMixByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,r,n)},t.prototype.setMixWith=function(t,e,r){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var n=t.name+"."+e.name;this.animationToMixTime[n]=r},t.prototype.getMix=function(t,e){var r=t.name+"."+e.name,n=this.animationToMixTime[r];return void 0===n?this.defaultMix:n},t.deprecatedWarning1=!1,t}(),We=function(){function t(t){this.atlas=t}return t.prototype.newRegionAttachment=function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: "+r+" (region attachment: "+e+")");var i=new be(e);return i.region=n,i},t.prototype.newMeshAttachment=function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: "+r+" (mesh attachment: "+e+")");var i=new ye(e);return i.region=n,i},t.prototype.newBoundingBoxAttachment=function(t,e){return new de(e)},t.prototype.newPathAttachment=function(t,e){return new ge(e)},t.prototype.newPointAttachment=function(t,e){return new ve(e)},t.prototype.newClippingAttachment=function(t,e){return new me(e)},t}(),He=function(){function t(t,e,r){if(this.matrix=new c.y3,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=r,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(t,e,r,n,i,o,a){this.ax=t,this.ay=e,this.arotation=r,this.ascaleX=n,this.ascaleY=i,this.ashearX=o,this.ashearY=a,this.appliedValid=!0;var s=this.parent,u=this.matrix,l=this.skeleton.scaleX,c=U?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==s){var h=this.skeleton,f=r+90+a;return u.a=F.cosDeg(r+o)*n*l,u.c=F.cosDeg(f)*i*l,u.b=F.sinDeg(r+o)*n*c,u.d=F.sinDeg(f)*i*c,u.tx=t*l+h.x,void(u.ty=e*c+h.y)}var p=s.matrix.a,d=s.matrix.c,m=s.matrix.b,y=s.matrix.d;switch(u.tx=p*t+d*e+s.matrix.tx,u.ty=m*t+y*e+s.matrix.ty,this.data.transformMode){case _.Normal:f=r+90+a;var g=F.cosDeg(r+o)*n,v=F.cosDeg(f)*i,b=F.sinDeg(r+o)*n,w=F.sinDeg(f)*i;return u.a=p*g+d*b,u.c=p*v+d*w,u.b=m*g+y*b,void(u.d=m*v+y*w);case _.OnlyTranslation:f=r+90+a;u.a=F.cosDeg(r+o)*n,u.c=F.cosDeg(f)*i,u.b=F.sinDeg(r+o)*n,u.d=F.sinDeg(f)*i;break;case _.NoRotationOrReflection:var x=0;(E=p*p+m*m)>1e-4?(d=m*(E=Math.abs(p*y-d*m)/E),y=p*E,x=Math.atan2(m,p)*F.radDeg):(p=0,m=0,x=90-Math.atan2(y,d)*F.radDeg);var S=r+o-x,T=r+a-x+90;g=F.cosDeg(S)*n,v=F.cosDeg(T)*i,b=F.sinDeg(S)*n,w=F.sinDeg(T)*i;u.a=p*g-d*b,u.c=p*v-d*w,u.b=m*g+y*b,u.d=m*v+y*w;break;case _.NoScale:case _.NoScaleOrReflection:var E,O=F.cosDeg(r),A=F.sinDeg(r),k=(p*O+d*A)/l,P=(m*O+y*A)/c;(E=Math.sqrt(k*k+P*P))>1e-5&&(E=1/E),k*=E,P*=E,E=Math.sqrt(k*k+P*P),this.data.transformMode==_.NoScale&&p*y-d*m<0!=(U?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(E=-E);var C=Math.PI/2+Math.atan2(P,k),M=Math.cos(C)*E,I=Math.sin(C)*E;g=F.cosDeg(o)*n,v=F.cosDeg(90+a)*i,b=F.sinDeg(o)*n,w=F.sinDeg(90+a)*i;u.a=k*g+M*b,u.c=k*v+M*w,u.b=P*g+I*b,u.d=P*v+I*w}u.a*=l,u.c*=l,u.b*=c,u.d*=c},t.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*F.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*F.radDeg},t.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},t.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},t.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*F.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*F.radDeg);var r=t.matrix,n=1/(r.a*r.d-r.b*r.c),i=e.tx-r.tx,o=e.ty-r.ty;this.ax=i*r.d*n-o*r.c*n,this.ay=o*r.a*n-i*r.b*n;var a=n*r.d,s=n*r.a,u=n*r.c,l=n*r.b,c=a*e.a-u*e.b,h=a*e.c-u*e.d,f=s*e.b-l*e.a,p=s*e.d-l*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+f*f),this.ascaleX>1e-4){var d=c*p-h*f;this.ascaleY=d/this.ascaleX,this.ashearY=Math.atan2(c*h+f*p,d)*F.radDeg,this.arotation=Math.atan2(f,c)*F.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,h)*F.radDeg},t.prototype.worldToLocal=function(t){var e=this.matrix,r=e.a,n=e.c,i=e.b,o=e.d,a=1/(r*o-n*i),s=t.x-e.tx,u=t.y-e.ty;return t.x=s*o*a-u*n*a,t.y=u*r*a-s*i*a,t},t.prototype.localToWorld=function(t){var e=this.matrix,r=t.x,n=t.y;return t.x=r*e.a+n*e.c+e.tx,t.y=r*e.b+n*e.d+e.ty,t},t.prototype.worldToLocalRotation=function(t){var e=F.sinDeg(t),r=F.cosDeg(t),n=this.matrix;return Math.atan2(n.a*e-n.b*r,n.d*r-n.c*e)*F.radDeg},t.prototype.localToWorldRotation=function(t){var e=F.sinDeg(t),r=F.cosDeg(t),n=this.matrix;return Math.atan2(r*n.b+e*n.d,r*n.a+e*n.c)*F.radDeg},t.prototype.rotateWorld=function(t){var e=this.matrix,r=e.a,n=e.c,i=e.b,o=e.d,a=F.cosDeg(t),s=F.sinDeg(t);e.a=a*r-s*i,e.c=a*n-s*o,e.b=s*r+a*i,e.d=s*n+a*o,this.appliedValid=!1},t}(),Ze=function(t,e,r){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=_.Normal,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=r},Ke=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e},Qe=function(t){this.name=t},Je=function(){function t(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findBone(t.target.name)}return t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.mix)}},t.prototype.apply1=function(t,e,r,n,i,o,a){t.appliedValid||t.updateAppliedTransform();var s=t.parent.matrix,u=1/(s.a*s.d-s.b*s.c),l=e-s.tx,c=r-s.ty,h=(l*s.d-c*s.c)*u-t.ax,f=(c*s.a-l*s.b)*u-t.ay,p=Math.atan2(f,h)*F.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var d=t.ascaleX,m=t.ascaleY;if(n||i){var y=t.data.length*d,g=Math.sqrt(h*h+f*f);if(n&&g<y||i&&g>y&&y>1e-4){var v=(g/y-1)*a+1;d*=v,o&&(m*=v)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+p*a,d,m,t.ashearX,t.ashearY)},t.prototype.apply2=function(t,e,r,n,i,o,a){if(0!=a){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var s=t.ax,u=t.ay,l=t.ascaleX,c=l,h=t.ascaleY,f=e.ascaleX,p=t.matrix,d=0,m=0,y=0;l<0?(l=-l,d=180,y=-1):(d=0,y=1),h<0&&(h=-h,y=-y),f<0?(f=-f,m=180):m=0;var g=e.ax,v=0,b=0,_=0,w=p.a,x=p.c,S=p.b,T=p.d,E=Math.abs(l-h)<=1e-4;E?(b=w*g+x*(v=e.ay)+p.tx,_=S*g+T*v+p.ty):(v=0,b=w*g+p.tx,_=S*g+p.ty);var O=t.parent.matrix;w=O.a,x=O.c,S=O.b;var A=1/(w*(T=O.d)-x*S),k=r-O.tx,P=n-O.ty,C=(k*T-P*x)*A-s,M=(P*w-k*S)*A-u,I=C*C+M*M,j=((k=b-O.tx)*T-(P=_-O.ty)*x)*A-s,B=(P*w-k*S)*A-u,L=Math.sqrt(j*j+B*B),R=e.data.length*f,q=0,N=0;t:if(E){var V=(I-L*L-(R*=l)*R)/(2*L*R);V<-1?V=-1:V>1&&(V=1,o&&L+R>1e-4&&(c*=(Math.sqrt(I)/(L+R)-1)*a+1)),N=Math.acos(V)*i,w=L+R*V,x=R*Math.sin(N),q=Math.atan2(M*w-C*x,C*w+M*x)}else{var D=(w=l*R)*w,G=(x=h*R)*x,z=Math.atan2(M,C),U=-2*G*L,Y=G-D;if((T=U*U-4*Y*(S=G*L*L+D*I-D*G))>=0){var X=Math.sqrt(T);U<0&&(X=-X);var W=(X=-(U+X)/2)/Y,H=S/X,Z=Math.abs(W)<Math.abs(H)?W:H;if(Z*Z<=I){P=Math.sqrt(I-Z*Z)*i,q=z-Math.atan2(P,Z),N=Math.atan2(P/h,(Z-L)/l);break t}}var K=F.PI,Q=L-w,J=Q*Q,$=0,tt=0,et=L+w,rt=et*et,nt=0;(S=-w*L/(D-G))>=-1&&S<=1&&(S=Math.acos(S),(T=(k=w*Math.cos(S)+L)*k+(P=x*Math.sin(S))*P)<J&&(K=S,J=T,Q=k,$=P),T>rt&&(tt=S,rt=T,et=k,nt=P)),I<=(J+rt)/2?(q=z-Math.atan2($*i,Q),N=K*i):(q=z-Math.atan2(nt*i,et),N=tt*i)}var it=Math.atan2(v,g)*y,ot=t.arotation;(q=(q-it)*F.radDeg+d-ot)>180?q-=360:q<-180&&(q+=360),t.updateWorldTransformWith(s,u,ot+q*a,c,t.ascaleY,0,0),ot=e.arotation,(N=((N+it)*F.radDeg-e.ashearX)*y+m-ot)>180?N-=360:N<-180&&(N+=360),e.updateWorldTransformWith(g,v,ot+N*a,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()},t}(),$e=function(t){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=t},tr=function(t){this.order=0,this.bones=new Array,this.name=t};!function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"}(Ue||(Ue={}));var er=function(){function t(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var r=0,n=t.bones.length;r<n;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof ge){var r=this.rotateMix,n=this.translateMix,i=r>0;if(n>0||i){var o=this.data,a=o.spacingMode,s=a==Ue.Length,u=o.rotateMode,l=u==b.Tangent,c=u==b.ChainScale,h=this.bones.length,f=l?h:h+1,p=this.bones,d=D.setArraySize(this.spaces,f),m=null,y=this.spacing;if(c||s){c&&(m=D.setArraySize(this.lengths,h));for(var g=0,_=f-1;g<_;){var w=(M=p[g]).data.length;if(w<t.epsilon)c&&(m[g]=0),d[++g]=0;else{var x=w*M.matrix.a,S=w*M.matrix.b,T=Math.sqrt(x*x+S*S);c&&(m[g]=T),d[++g]=(s?w+y:y)*T/w}}}else for(g=1;g<f;g++)d[g]=y;var E=this.computeWorldPositions(e,f,l,o.positionMode==v.Percent,a==Ue.Percent),O=E[0],A=E[1],k=o.offsetRotation,P=!1;if(0==k)P=u==b.Chain;else P=!1,k*=(C=this.target.bone.matrix).a*C.d-C.b*C.c>0?F.degRad:-F.degRad;g=0;for(var C=3;g<h;g++,C+=3){var M,I=(M=p[g]).matrix;I.tx+=(O-I.tx)*n,I.ty+=(A-I.ty)*n;var j=(x=E[C])-O,B=(S=E[C+1])-A;if(c){var L=m[g];if(0!=L){var R=(Math.sqrt(j*j+B*B)/L-1)*r+1;I.a*=R,I.b*=R}}if(O=x,A=S,i){var q=I.a,N=I.c,V=I.b,G=I.d,z=0,U=0,Y=0;if(z=l?E[C-1]:0==d[g+1]?E[C+2]:Math.atan2(B,j),z-=Math.atan2(V,q),P){U=Math.cos(z),Y=Math.sin(z);var X=M.data.length;O+=(X*(U*q-Y*V)-j)*r,A+=(X*(Y*q+U*V)-B)*r}else z+=k;z>F.PI?z-=F.PI2:z<-F.PI&&(z+=F.PI2),z*=r,U=Math.cos(z),Y=Math.sin(z),I.a=U*q-Y*V,I.c=U*N-Y*G,I.b=Y*q+U*V,I.d=Y*N+U*G}M.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,r,n,i,o){var a=this.target,s=this.position,u=this.spaces,l=D.setArraySize(this.positions,3*r+2),c=null,h=e.closed,f=e.worldVerticesLength,p=f/6,d=t.NONE;if(!e.constantSpeed){var m=e.lengths,y=m[p-=h?1:2];if(i&&(s*=y),o)for(var g=0;g<r;g++)u[g]*=y;c=D.setArraySize(this.world,8);g=0;for(var v=0,b=0;g<r;g++,v+=3){var _=s+=Y=u[g];if(h)(_%=y)<0&&(_+=y),b=0;else{if(_<0){d!=t.BEFORE&&(d=t.BEFORE,e.computeWorldVertices(a,2,4,c,0,2)),this.addBeforePosition(_,c,0,l,v);continue}if(_>y){d!=t.AFTER&&(d=t.AFTER,e.computeWorldVertices(a,f-6,4,c,0,2)),this.addAfterPosition(_-y,c,0,l,v);continue}}for(;;b++){var w=m[b];if(!(_>w)){if(0==b)_/=w;else _=(_-(Z=m[b-1]))/(w-Z);break}}b!=d&&(d=b,h&&b==p?(e.computeWorldVertices(a,f-4,4,c,0,2),e.computeWorldVertices(a,0,4,c,4,2)):e.computeWorldVertices(a,6*b+2,8,c,0,2)),this.addCurvePosition(_,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],l,v,n||g>0&&0==Y)}return l}h?(f+=2,c=D.setArraySize(this.world,f),e.computeWorldVertices(a,2,f-4,c,0,2),e.computeWorldVertices(a,0,2,c,f-4,2),c[f-2]=c[0],c[f-1]=c[1]):(p--,f-=4,c=D.setArraySize(this.world,f),e.computeWorldVertices(a,2,f,c,0,2));for(var x=D.setArraySize(this.curves,p),S=0,T=c[0],E=c[1],O=0,A=0,k=0,P=0,C=0,M=0,I=0,j=0,B=0,L=0,R=0,q=0,N=0,F=0,V=(g=0,2);g<p;g++,V+=6)O=c[V],A=c[V+1],k=c[V+2],P=c[V+3],R=2*(I=.1875*(T-2*O+k))+(B=.09375*(3*(O-k)-T+(C=c[V+4]))),q=2*(j=.1875*(E-2*A+P))+(L=.09375*(3*(A-P)-E+(M=c[V+5]))),N=.75*(O-T)+I+.16666667*B,F=.75*(A-E)+j+.16666667*L,S+=Math.sqrt(N*N+F*F),N+=R,F+=q,R+=B,q+=L,S+=Math.sqrt(N*N+F*F),N+=R,F+=q,S+=Math.sqrt(N*N+F*F),N+=R+B,F+=q+L,S+=Math.sqrt(N*N+F*F),x[g]=S,T=C,E=M;if(i&&(s*=S),o)for(g=0;g<r;g++)u[g]*=S;for(var G=this.segments,z=0,U=(g=0,v=0,b=0,0);g<r;g++,v+=3){var Y;_=s+=Y=u[g];if(h)(_%=S)<0&&(_+=S),b=0;else{if(_<0){this.addBeforePosition(_,c,0,l,v);continue}if(_>S){this.addAfterPosition(_-S,c,f-4,l,v);continue}}for(;;b++){var X=x[b];if(!(_>X)){if(0==b)_/=X;else _=(_-(Z=x[b-1]))/(X-Z);break}}if(b!=d){d=b;var W=6*b;for(T=c[W],E=c[W+1],O=c[W+2],A=c[W+3],k=c[W+4],P=c[W+5],R=2*(I=.03*(T-2*O+k))+(B=.006*(3*(O-k)-T+(C=c[W+6]))),q=2*(j=.03*(E-2*A+P))+(L=.006*(3*(A-P)-E+(M=c[W+7]))),N=.3*(O-T)+I+.16666667*B,F=.3*(A-E)+j+.16666667*L,z=Math.sqrt(N*N+F*F),G[0]=z,W=1;W<8;W++)N+=R,F+=q,R+=B,q+=L,z+=Math.sqrt(N*N+F*F),G[W]=z;N+=R,F+=q,z+=Math.sqrt(N*N+F*F),G[8]=z,N+=R+B,F+=q+L,z+=Math.sqrt(N*N+F*F),G[9]=z,U=0}for(_*=z;;U++){var H=G[U];if(!(_>H)){var Z;if(0==U)_/=H;else _=U+(_-(Z=G[U-1]))/(H-Z);break}}this.addCurvePosition(.1*_,T,E,O,A,k,P,C,M,l,v,n||g>0&&0==Y)}return l},t.prototype.addBeforePosition=function(t,e,r,n,i){var o=e[r],a=e[r+1],s=e[r+2]-o,u=e[r+3]-a,l=Math.atan2(u,s);n[i]=o+t*Math.cos(l),n[i+1]=a+t*Math.sin(l),n[i+2]=l},t.prototype.addAfterPosition=function(t,e,r,n,i){var o=e[r+2],a=e[r+3],s=o-e[r],u=a-e[r+1],l=Math.atan2(u,s);n[i]=o+t*Math.cos(l),n[i+1]=a+t*Math.sin(l),n[i+2]=l},t.prototype.addCurvePosition=function(t,e,r,n,i,o,a,s,u,l,c,h){(0==t||isNaN(t))&&(t=1e-4);var f=t*t,p=f*t,d=1-t,m=d*d,y=m*d,g=d*t,v=3*g,b=d*v,_=v*t,w=e*y+n*b+o*_+s*p,x=r*y+i*b+a*_+u*p;l[c]=w,l[c+1]=x,h&&(l[c+2]=Math.atan2(x-(r*m+i*g*2+a*f),w-(e*m+n*g*2+o*f)))},t.prototype.getOrder=function(){return this.data.order},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),rr=function(){function t(t,e){if(this.attachmentVertices=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new N,this.darkColor=null==t.darkColor?null:new N,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),nr=function(){function t(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new z,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findBone(t.target.name)}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},t.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,u=o.b,l=o.d,c=a*l-s*u>0?F.degRad:-F.degRad,h=this.data.offsetRotation*c,f=this.data.offsetShearY*c,p=this.bones,d=0,m=p.length;d<m;d++){var y=p[d],g=!1,v=y.matrix;if(0!=t){var b=v.a,_=v.c,w=v.b,x=v.d;(k=Math.atan2(u,a)-Math.atan2(w,b)+h)>F.PI?k-=F.PI2:k<-F.PI&&(k+=F.PI2),k*=t;var S=Math.cos(k),T=Math.sin(k);v.a=S*b-T*w,v.c=S*_-T*x,v.b=T*b+S*w,v.d=T*_+S*x,g=!0}if(0!=e){var E=this.temp;i.localToWorld(E.set(this.data.offsetX,this.data.offsetY)),v.tx+=(E.x-v.tx)*e,v.ty+=(E.y-v.ty)*e,g=!0}if(r>0){var O=Math.sqrt(v.a*v.a+v.b*v.b),A=Math.sqrt(a*a+u*u);O>1e-5&&(O=(O+(A-O+this.data.offsetScaleX)*r)/O),v.a*=O,v.b*=O,O=Math.sqrt(v.c*v.c+v.d*v.d),A=Math.sqrt(s*s+l*l),O>1e-5&&(O=(O+(A-O+this.data.offsetScaleY)*r)/O),v.c*=O,v.d*=O,g=!0}if(n>0){_=v.c,x=v.d;var k,P=Math.atan2(x,_);(k=Math.atan2(l,s)-Math.atan2(u,a)-(P-Math.atan2(v.b,v.a)))>F.PI?k-=F.PI2:k<-F.PI&&(k+=F.PI2),k=P+(k+f)*n;O=Math.sqrt(_*_+x*x);v.c=Math.cos(k)*O,v.d=Math.sin(k)*O,g=!0}g&&(y.appliedValid=!1)}},t.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target,o=i.matrix,a=o.a,s=o.c,u=o.b,l=o.d,c=a*l-s*u>0?F.degRad:-F.degRad,h=this.data.offsetRotation*c,f=this.data.offsetShearY*c,p=this.bones,d=0,m=p.length;d<m;d++){var y=p[d],g=!1,v=y.matrix;if(0!=t){var b=v.a,_=v.c,w=v.b,x=v.d;(A=Math.atan2(u,a)+h)>F.PI?A-=F.PI2:A<-F.PI&&(A+=F.PI2),A*=t;var S=Math.cos(A),T=Math.sin(A);v.a=S*b-T*w,v.c=S*_-T*x,v.b=T*b+S*w,v.d=T*_+S*x,g=!0}if(0!=e){var E=this.temp;i.localToWorld(E.set(this.data.offsetX,this.data.offsetY)),v.tx+=E.x*e,v.ty+=E.y*e,g=!0}if(r>0){var O=(Math.sqrt(a*a+u*u)-1+this.data.offsetScaleX)*r+1;v.a*=O,v.b*=O,O=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleY)*r+1,v.c*=O,v.d*=O,g=!0}if(n>0){var A;(A=Math.atan2(l,s)-Math.atan2(u,a))>F.PI?A-=F.PI2:A<-F.PI&&(A+=F.PI2);_=v.c,x=v.d;A=Math.atan2(x,_)+(A-F.PI/2+f)*n;O=Math.sqrt(_*_+x*x);v.c=Math.cos(A)*O,v.d=Math.sin(A)*O,g=!0}g&&(y.appliedValid=!1)}},t.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var o=this.bones,a=0,s=o.length;a<s;a++){var u=o[a];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;if(0!=t){var c=i.arotation-l+this.data.offsetRotation;l+=(c-=360*(16384-(16384.499999999996-c/360|0)))*t}var h=u.ax,f=u.ay;0!=e&&(h+=(i.ax-h+this.data.offsetX)*e,f+=(i.ay-f+this.data.offsetY)*e);var p=u.ascaleX,d=u.ascaleY;r>0&&(p>1e-5&&(p=(p+(i.ascaleX-p+this.data.offsetScaleX)*r)/p),d>1e-5&&(d=(d+(i.ascaleY-d+this.data.offsetScaleY)*r)/d));var m=u.ashearY;if(n>0){c=i.ashearY-m+this.data.offsetShearY;c-=360*(16384-(16384.499999999996-c/360|0)),u.shearY+=c*n}u.updateWorldTransformWith(h,f,l,p,d,u.ashearX,m)}},t.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var o=this.bones,a=0,s=o.length;a<s;a++){var u=o[a];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;0!=t&&(l+=(i.arotation+this.data.offsetRotation)*t);var c=u.ax,h=u.ay;0!=e&&(c+=(i.ax+this.data.offsetX)*e,h+=(i.ay+this.data.offsetY)*e);var f=u.ascaleX,p=u.ascaleY;r>0&&(f>1e-5&&(f*=(i.ascaleX-1+this.data.offsetScaleX)*r+1),p>1e-5&&(p*=(i.ascaleY-1+this.data.offsetScaleY)*r+1));var d=u.ashearY;n>0&&(d+=(i.ashearY+this.data.offsetShearY)*n),u.updateWorldTransformWith(c,h,l,f,p,u.ashearX,d)}},t.prototype.getOrder=function(){return this.data.order},t}(),ir=function(){function t(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var r=t.bones[e],n=void 0;if(null==r.parent)n=new He(r,this,null);else{var i=this.bones[r.parent.index];n=new He(r,this,i),i.children.push(n)}this.bones.push(n)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var o=t.slots[e],a=(n=this.bones[o.boneData.index],new rr(o,n));this.slots.push(a),this.drawOrder.push(a)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var s=t.ikConstraints[e];this.ikConstraints.push(new Je(s,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var u=t.transformConstraints[e];this.transformConstraints.push(new nr(u,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var l=t.pathConstraints[e];this.pathConstraints.push(new er(l,this))}this.color=new N(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,r=t.length;e<r;e++)t[e].sorted=!1;var n=this.ikConstraints,i=this.transformConstraints,o=this.pathConstraints,a=n.length,s=i.length,u=o.length,l=a+s+u;t:for(e=0;e<l;e++){for(var c=0;c<a;c++){if((h=n[c]).data.order==e){this.sortIkConstraint(h);continue t}}for(c=0;c<s;c++){if((h=i[c]).data.order==e){this.sortTransformConstraint(h);continue t}}for(c=0;c<u;c++){var h;if((h=o[c]).data.order==e){this.sortPathConstraint(h);continue t}}}for(e=0,r=t.length;e<r;e++)this.sortBone(t[e])},t.prototype.sortIkConstraint=function(t){var e=t.target;this.sortBone(e);var r=t.bones,n=r[0];if(this.sortBone(n),r.length>1){var i=r[r.length-1];this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}this._updateCache.push(t),this.sortReset(n.children),r[r.length-1].sorted=!0},t.prototype.sortPathConstraint=function(t){var e=t.target,r=e.data.index,n=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,r,n),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,n);for(var i=0,o=this.data.skins.length;i<o;i++)this.sortPathConstraintAttachment(this.data.skins[i],r,n);var a=e.getAttachment();a instanceof ge&&this.sortPathConstraintAttachmentWith(a,n);var s=t.bones,u=s.length;for(i=0;i<u;i++)this.sortBone(s[i]);this._updateCache.push(t);for(i=0;i<u;i++)this.sortReset(s[i].children);for(i=0;i<u;i++)s[i].sorted=!0},t.prototype.sortTransformConstraint=function(t){this.sortBone(t.target);var e=t.bones,r=e.length;if(t.data.local)for(var n=0;n<r;n++){var i=e[n];this.sortBone(i.parent),this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}else for(n=0;n<r;n++)this.sortBone(e[n]);this._updateCache.push(t);for(var o=0;o<r;o++)this.sortReset(e[o].children);for(o=0;o<r;o++)e[o].sorted=!0},t.prototype.sortPathConstraintAttachment=function(t,e,r){var n=t.attachments[e];if(n)for(var i in n)this.sortPathConstraintAttachmentWith(n[i],r)},t.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof ge){var r=t.bones;if(null==r)this.sortBone(e);else for(var n=this.bones,i=0;i<r.length;)for(var o=r[i++],a=i+o;i<a;i++){var s=r[i];this.sortBone(n[s])}}},t.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},t.prototype.sortReset=function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];n.sorted&&this.sortReset(n.children),n.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,r=t.length;e<r;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY,n.appliedValid=!0}var i=this._updateCache;for(e=0,r=i.length;e<r;e++)i[e].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,r=t.length;e<r;e++)t[e].setToSetupPose();var n=this.ikConstraints;for(e=0,r=n.length;e<r;e++){(s=n[e]).bendDirection=s.data.bendDirection,s.mix=s.data.mix}var i=this.transformConstraints;for(e=0,r=i.length;e<r;e++){var o=(s=i[e]).data;s.rotateMix=o.rotateMix,s.translateMix=o.translateMix,s.scaleMix=o.scaleMix,s.shearMix=o.shearMix}var a=this.pathConstraints;for(e=0,r=a.length;e<r;e++){var s;o=(s=a[e]).data;s.position=o.position,s.spacing=o.spacing,s.rotateMix=o.rotateMix,s.translateMix=o.translateMix}},t.prototype.setSlotsToSetupPose=function(){var t=this.slots;D.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,r=t.length;e<r;e++)t[e].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1},t.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},t.prototype.setSkin=function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r],o=i.data.attachmentName;if(null!=o){var a=t.getAttachment(r,o);null!=a&&i.setAttachment(a)}}this.skin=t},t.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},t.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var r=this.skin.getAttachment(t,e);if(null!=r)return r}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},t.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var o=r[n];if(o.data.name==t){var a=null;if(null!=e&&null==(a=this.getAttachment(n,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void o.setAttachment(a)}}throw new Error("Slot not found: "+t)},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},t.prototype.getBounds=function(t,e,r){if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var n=this.drawOrder,i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=0,l=n.length;u<l;u++){var c=n[u],h=0,f=null,p=c.getAttachment();if(p instanceof be)h=8,f=D.setArraySize(r,h,0),p.computeWorldVertices(c.bone,f,0,2);else if(p instanceof ye){var d=p;h=d.worldVerticesLength,f=D.setArraySize(r,h,0),d.computeWorldVertices(c,0,h,f,0,2)}if(null!=f)for(var m=0,y=f.length;m<y;m+=2){var g=f[m],v=f[m+1];i=Math.min(i,g),o=Math.min(o,v),a=Math.max(a,g),s=Math.max(s,v)}}t.set(i,o),e.set(a-i,s-o)},t.prototype.update=function(t){this.time+=t},Object.defineProperty(t.prototype,"flipX",{get:function(){return-1==this.scaleX},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return-1==this.scaleY},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),or=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new G((function(){return D.newFloatArray(16)}))}return t.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var r=this.boundingBoxes,n=this.polygons,i=this.polygonPool,o=t.slots,a=o.length;r.length=0,i.freeAll(n),n.length=0;for(var s=0;s<a;s++){var u=o[s],l=u.getAttachment();if(l instanceof de){var c=l;r.push(c);var h=i.obtain();h.length!=c.worldVerticesLength&&(h=D.newFloatArray(c.worldVerticesLength)),n.push(h),c.computeWorldVertices(u,0,c.worldVerticesLength,h,0,2)}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=this.polygons,o=0,a=i.length;o<a;o++)for(var s=i[o],u=s,l=0,c=s.length;l<c;l+=2){var h=u[l],f=u[l+1];t=Math.min(t,h),e=Math.min(e,f),r=Math.max(r,h),n=Math.max(n,f)}this.minX=t,this.minY=e,this.maxX=r,this.maxY=n},t.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},t.prototype.aabbIntersectsSegment=function(t,e,r,n){var i=this.minX,o=this.minY,a=this.maxX,s=this.maxY;if(t<=i&&r<=i||e<=o&&n<=o||t>=a&&r>=a||e>=s&&n>=s)return!1;var u=(n-e)/(r-t),l=u*(i-t)+e;if(l>o&&l<s)return!0;if((l=u*(a-t)+e)>o&&l<s)return!0;var c=(o-e)/u+t;return c>i&&c<a||(c=(s-e)/u+t)>i&&c<a},t.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.containsPoint=function(t,e){for(var r=this.polygons,n=0,i=r.length;n<i;n++)if(this.containsPointPolygon(r[n],t,e))return this.boundingBoxes[n];return null},t.prototype.containsPointPolygon=function(t,e,r){for(var n=t,i=t.length,o=i-2,a=!1,s=0;s<i;s+=2){var u=n[s+1],l=n[o+1];if(u<r&&l>=r||l<r&&u>=r){var c=n[s];c+(r-u)/(l-u)*(n[o]-c)<e&&(a=!a)}o=s}return a},t.prototype.intersectsSegment=function(t,e,r,n){for(var i=this.polygons,o=0,a=i.length;o<a;o++)if(this.intersectsSegmentPolygon(i[o],t,e,r,n))return this.boundingBoxes[o];return null},t.prototype.intersectsSegmentPolygon=function(t,e,r,n,i){for(var o=t,a=t.length,s=e-n,u=r-i,l=e*i-r*n,c=o[a-2],h=o[a-1],f=0;f<a;f+=2){var p=o[f],d=o[f+1],m=c*d-h*p,y=c-p,g=h-d,v=s*g-u*y,b=(l*y-s*m)/v;if((b>=c&&b<=p||b>=p&&b<=c)&&(b>=e&&b<=n||b>=n&&b<=e)){var _=(l*g-u*m)/v;if((_>=h&&_<=d||_>=d&&_<=h)&&(_>=r&&_<=i||_>=i&&_<=r))return!0}c=p,h=d}return!1},t.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),ar=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},t.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},t}(),sr=function(t,e,r){if(this.color=new N(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==r)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=r},ur=function(t){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,null==t)throw new Error("name cannot be null.");this.name=t},lr=function(){function t(t){if(this.attachments=new Array,null==t)throw new Error("name cannot be null.");this.name=t}return t.prototype.addAttachment=function(t,e,r){if(null==r)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=r},t.prototype.getAttachment=function(t,e){var r=this.attachments[t];return r?r[e]:null},t.prototype.attachAll=function(t,e){for(var r=0,n=0;n<t.slots.length;n++){var i=t.slots[n],o=i.getAttachment();if(o&&r<e.attachments.length){var a=e.attachments[r];for(var s in a){if(o==a[s]){var u=this.getAttachment(r,s);null!=u&&i.setAttachment(u);break}}}r++}},t}(),cr=function(){function t(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new ar,i="string"==typeof e?JSON.parse(e):e,o=i.skeleton;if(null!=o&&(n.hash=o.hash,n.version=o.spine,n.width=o.width,n.height=o.height,n.fps=o.fps,n.imagesPath=o.images),i.bones)for(var a=0;a<i.bones.length;a++){var s=i.bones[a],u=null,l=this.getValue(s,"parent",null);if(null!=l&&null==(u=n.findBone(l)))throw new Error("Parent bone not found: "+l);(p=new Ze(n.bones.length,s.name,u)).length=this.getValue(s,"length",0)*r,p.x=this.getValue(s,"x",0)*r,p.y=this.getValue(s,"y",0)*r,p.rotation=this.getValue(s,"rotation",0),p.scaleX=this.getValue(s,"scaleX",1),p.scaleY=this.getValue(s,"scaleY",1),p.shearX=this.getValue(s,"shearX",0),p.shearY=this.getValue(s,"shearY",0),p.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),n.bones.push(p)}if(i.slots)for(a=0;a<i.slots.length;a++){var c=(E=i.slots[a]).name,h=E.bone,f=n.findBone(h);if(null==f)throw new Error("Slot bone not found: "+h);var p=new sr(n.slots.length,c,f),d=this.getValue(E,"color",null);null!=d&&p.color.setFromString(d);var m=this.getValue(E,"dark",null);null!=m&&(p.darkColor=new N(1,1,1,1),p.darkColor.setFromString(m)),p.attachmentName=this.getValue(E,"attachment",null),p.blendMode=t.blendModeFromString(this.getValue(E,"blend","normal")),n.slots.push(p)}if(i.ik)for(a=0;a<i.ik.length;a++){var y=i.ik[a];(p=new $e(y.name)).order=this.getValue(y,"order",0);for(var g=0;g<y.bones.length;g++){h=y.bones[g];if(null==(_=n.findBone(h)))throw new Error("IK bone not found: "+h);p.bones.push(_)}var b=y.target;if(p.target=n.findBone(b),null==p.target)throw new Error("IK target bone not found: "+b);p.bendDirection=this.getValue(y,"bendPositive",!0)?1:-1,p.mix=this.getValue(y,"mix",1),n.ikConstraints.push(p)}if(i.transform)for(a=0;a<i.transform.length;a++){y=i.transform[a];(p=new ur(y.name)).order=this.getValue(y,"order",0);for(g=0;g<y.bones.length;g++){h=y.bones[g];if(null==(_=n.findBone(h)))throw new Error("Transform constraint bone not found: "+h);p.bones.push(_)}b=y.target;if(p.target=n.findBone(b),null==p.target)throw new Error("Transform constraint target bone not found: "+b);p.local=this.getValue(y,"local",!1),p.relative=this.getValue(y,"relative",!1),p.offsetRotation=this.getValue(y,"rotation",0),p.offsetX=this.getValue(y,"x",0)*r,p.offsetY=this.getValue(y,"y",0)*r,p.offsetScaleX=this.getValue(y,"scaleX",0),p.offsetScaleY=this.getValue(y,"scaleY",0),p.offsetShearY=this.getValue(y,"shearY",0),p.rotateMix=this.getValue(y,"rotateMix",1),p.translateMix=this.getValue(y,"translateMix",1),p.scaleMix=this.getValue(y,"scaleMix",1),p.shearMix=this.getValue(y,"shearMix",1),n.transformConstraints.push(p)}if(i.path)for(a=0;a<i.path.length;a++){y=i.path[a];(p=new tr(y.name)).order=this.getValue(y,"order",0);for(g=0;g<y.bones.length;g++){var _;h=y.bones[g];if(null==(_=n.findBone(h)))throw new Error("Transform constraint bone not found: "+h);p.bones.push(_)}b=y.target;if(p.target=n.findSlot(b),null==p.target)throw new Error("Path target slot not found: "+b);p.positionMode=t.positionModeFromString(this.getValue(y,"positionMode","percent")),p.spacingMode=t.spacingModeFromString(this.getValue(y,"spacingMode","length")),p.rotateMode=t.rotateModeFromString(this.getValue(y,"rotateMode","tangent")),p.offsetRotation=this.getValue(y,"rotation",0),p.position=this.getValue(y,"position",0),p.positionMode==v.Fixed&&(p.position*=r),p.spacing=this.getValue(y,"spacing",0),p.spacingMode!=Ue.Length&&p.spacingMode!=Ue.Fixed||(p.spacing*=r),p.rotateMix=this.getValue(y,"rotateMix",1),p.translateMix=this.getValue(y,"translateMix",1),n.pathConstraints.push(p)}if(i.skins)for(var w in i.skins){var x=i.skins[w],S=new lr(w);for(var c in x){var T=n.findSlotIndex(c);if(-1==T)throw new Error("Slot not found: "+c);var E=x[c];for(var O in E){var A=this.readAttachment(E[O],S,T,O,n);null!=A&&S.addAttachment(T,O,A)}}n.skins.push(S),"default"==S.name&&(n.defaultSkin=S)}a=0;for(var k=this.linkedMeshes.length;a<k;a++){var P=this.linkedMeshes[a];if(null==(S=null==P.skin?n.defaultSkin:n.findSkin(P.skin)))throw new Error("Skin not found: "+P.skin);var C=S.getAttachment(P.slotIndex,P.parent);if(null==C)throw new Error("Parent mesh not found: "+P.parent);P.mesh.setParentMesh(C)}if(this.linkedMeshes.length=0,i.events)for(var M in i.events){var I=i.events[M];(p=new Qe(M)).intValue=this.getValue(I,"int",0),p.floatValue=this.getValue(I,"float",0),p.stringValue=this.getValue(I,"string",""),p.audioPath=this.getValue(I,"audio",null),null!=p.audioPath&&(p.volume=this.getValue(I,"volume",1),p.balance=this.getValue(I,"balance",0)),n.events.push(p)}if(i.animations)for(var j in i.animations){var B=i.animations[j];this.readAnimation(B,j,n)}return n},t.prototype.readAttachment=function(t,e,r,n,i){var o=this.scale;switch(n=this.getValue(t,"name",n),this.getValue(t,"type","region")){case"region":var a=this.getValue(t,"path",n),s=this.attachmentLoader.newRegionAttachment(e,n,a);return null==s?null:(s.path=a,s.x=this.getValue(t,"x",0)*o,s.y=this.getValue(t,"y",0)*o,s.scaleX=this.getValue(t,"scaleX",1),s.scaleY=this.getValue(t,"scaleY",1),s.rotation=this.getValue(t,"rotation",0),s.width=t.width*o,s.height=t.height*o,null!=(b=this.getValue(t,"color",null))&&s.color.setFromString(b),s);case"boundingbox":var u=this.attachmentLoader.newBoundingBoxAttachment(e,n);return null==u?null:(this.readVertices(t,u,t.vertexCount<<1),null!=(b=this.getValue(t,"color",null))&&u.color.setFromString(b),u);case"mesh":case"linkedmesh":a=this.getValue(t,"path",n);var l=this.attachmentLoader.newMeshAttachment(e,n,a);if(null==l)return null;l.path=a,null!=(b=this.getValue(t,"color",null))&&l.color.setFromString(b);var c=this.getValue(t,"parent",null);if(null!=c)return l.inheritDeform=this.getValue(t,"deform",!0),this.linkedMeshes.push(new hr(l,this.getValue(t,"skin",null),r,c)),l;var h=t.uvs;return this.readVertices(t,l,h.length),l.triangles=t.triangles,l.regionUVs=new Float32Array(h),l.hullLength=2*this.getValue(t,"hull",0),l;case"path":if(null==(a=this.attachmentLoader.newPathAttachment(e,n)))return null;a.closed=this.getValue(t,"closed",!1),a.constantSpeed=this.getValue(t,"constantSpeed",!0);var f=t.vertexCount;this.readVertices(t,a,f<<1);for(var p=D.newArray(f/3,0),d=0;d<t.lengths.length;d++)p[d]=t.lengths[d]*o;return a.lengths=p,null!=(b=this.getValue(t,"color",null))&&a.color.setFromString(b),a;case"point":var m=this.attachmentLoader.newPointAttachment(e,n);return null==m?null:(m.x=this.getValue(t,"x",0)*o,m.y=this.getValue(t,"y",0)*o,m.rotation=this.getValue(t,"rotation",0),null!=(b=this.getValue(t,"color",null))&&m.color.setFromString(b),m);case"clipping":var y=this.attachmentLoader.newClippingAttachment(e,n);if(null==y)return null;var g=this.getValue(t,"end",null);if(null!=g){var v=i.findSlot(g);if(null==v)throw new Error("Clipping end slot not found: "+g);y.endSlot=v}var b;f=t.vertexCount;return this.readVertices(t,y,f<<1),null!=(b=this.getValue(t,"color",null))&&y.color.setFromString(b),y}return null},t.prototype.readVertices=function(t,e,r){var n=this.scale;e.worldVerticesLength=r;var i=t.vertices;if(r!=i.length){var o=new Array,a=new Array;for(c=0,h=i.length;c<h;){var s=i[c++];a.push(s);for(var u=c+4*s;c<u;c+=4)a.push(i[c]),o.push(i[c+1]*n),o.push(i[c+2]*n),o.push(i[c+3])}e.bones=a,e.vertices=D.toFloatArray(o)}else{var l=D.toFloatArray(i);if(1!=n)for(var c=0,h=i.length;c<h;c++)l[c]*=n;e.vertices=l}},t.prototype.readAnimation=function(t,e,r){var n=this.scale,i=new Array,o=0;if(t.slots)for(var a in t.slots){var s=t.slots[a];if(-1==(J=r.findSlotIndex(a)))throw new Error("Slot not found: "+a);for(var u in s){var l=s[u];if("attachment"==u){(_=new Me(l.length)).slotIndex=J;for(var c=0,h=0;h<l.length;h++){var f=l[h];_.setFrame(c++,f.time,f.name)}i.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}else if("color"==u){(_=new Pe(l.length)).slotIndex=J;for(c=0,h=0;h<l.length;h++){f=l[h];var p=new N;p.setFromString(f.color||"ffffffff"),_.setFrame(c,f.time,p.r,p.g,p.b,p.a),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*Pe.ENTRIES])}else{if("twoColor"!=u)throw new Error("Invalid timeline type for a slot: "+u+" ("+a+")");(_=new Ce(l.length)).slotIndex=J;for(c=0,h=0;h<l.length;h++){f=l[h];var d=new N,m=new N;d.setFromString(f.light),m.setFromString(f.dark),_.setFrame(c,f.time,d.r,d.g,d.b,d.a,m.r,m.g,m.b),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*Ce.ENTRIES])}}}if(t.bones)for(var y in t.bones){var g=t.bones[y],b=r.findBoneIndex(y);if(-1==b)throw new Error("Bone not found: "+y);for(var u in g){l=g[u];if("rotate"===u){(_=new Ee(l.length)).boneIndex=b;for(c=0,h=0;h<l.length;h++){f=l[h];_.setFrame(c,f.time,f.angle),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*Ee.ENTRIES])}else{if("translate"!==u&&"scale"!==u&&"shear"!==u)throw new Error("Invalid timeline type for a bone: "+u+" ("+y+")");var _=null,w=1;"scale"===u?_=new Ae(l.length):"shear"===u?_=new ke(l.length):(_=new Oe(l.length),w=n),_.boneIndex=b;for(c=0,h=0;h<l.length;h++){f=l[h];var x=this.getValue(f,"x",0),S=this.getValue(f,"y",0);_.setFrame(c,f.time,x*w,S*w),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*Oe.ENTRIES])}}}if(t.ik)for(var T in t.ik){var E=t.ik[T],O=r.findIkConstraint(T);(_=new Re(E.length)).ikConstraintIndex=r.ikConstraints.indexOf(O);for(c=0,h=0;h<E.length;h++){f=E[h];_.setFrame(c,f.time,this.getValue(f,"mix",1),this.getValue(f,"bendPositive",!0)?1:-1,this.getValue(f,"compress",!1),this.getValue(f,"stretch",!1)),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*Re.ENTRIES])}if(t.transform)for(var T in t.transform){E=t.transform[T],O=r.findTransformConstraint(T);(_=new qe(E.length)).transformConstraintIndex=r.transformConstraints.indexOf(O);for(c=0,h=0;h<E.length;h++){f=E[h];_.setFrame(c,f.time,this.getValue(f,"rotateMix",1),this.getValue(f,"translateMix",1),this.getValue(f,"scaleMix",1),this.getValue(f,"shearMix",1)),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*qe.ENTRIES])}if(t.paths)for(var T in t.paths){E=t.paths[T];var A=r.findPathConstraintIndex(T);if(-1==A)throw new Error("Path constraint not found: "+T);var k=r.pathConstraints[A];for(var u in E){l=E[u];if("position"===u||"spacing"===u){_=null,w=1;"spacing"===u?(_=new Fe(l.length),k.spacingMode!=Ue.Length&&k.spacingMode!=Ue.Fixed||(w=n)):(_=new Ne(l.length),k.positionMode==v.Fixed&&(w=n)),_.pathConstraintIndex=A;for(c=0,h=0;h<l.length;h++){f=l[h];_.setFrame(c,f.time,this.getValue(f,u,0)*w),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*Ne.ENTRIES])}else if("mix"===u){(_=new Ve(l.length)).pathConstraintIndex=A;for(c=0,h=0;h<l.length;h++){f=l[h];_.setFrame(c,f.time,this.getValue(f,"rotateMix",1),this.getValue(f,"translateMix",1)),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*Ve.ENTRIES])}}}if(t.deform)for(var P in t.deform){var C=t.deform[P],M=r.findSkin(P);if(null!=M)for(var a in C){s=C[a];if(-1==(J=r.findSlotIndex(a)))throw new Error("Slot not found: "+s.name);for(var u in s){l=s[u];var I=M.getAttachment(J,u);if(null==I)throw new Error("Deform attachment not found: "+l.name);var j=null!=I.bones,B=I.vertices,L=j?B.length/3*2:B.length;(_=new je(l.length)).slotIndex=J,_.attachment=I;c=0;for(var R=0;R<l.length;R++){f=l[R];var q=void 0,F=this.getValue(f,"vertices",null);if(null==F)q=j?D.newFloatArray(L):B;else{q=D.newFloatArray(L);var V=this.getValue(f,"offset",0);if(D.arrayCopy(F,0,q,V,F.length),1!=n)for(var G=(h=V)+F.length;h<G;h++)q[h]*=n;if(!j)for(h=0;h<L;h++)q[h]+=B[h]}_.setFrame(c,f.time,q),this.readCurve(f,_,c),c++}i.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}}else if(Y)throw new Error("Skin not found: "+P)}var z=t.drawOrder;if(null==z&&(z=t.draworder),null!=z){_=new Le(z.length);var U=r.slots.length;for(c=0,R=0;R<z.length;R++){var X=z[R],W=null,H=this.getValue(X,"offsets",null);if(null!=H){W=D.newArray(U,-1);var Z=D.newArray(U-H.length,0),K=0,Q=0;for(h=0;h<H.length;h++){var J,$=H[h];if(-1==(J=r.findSlotIndex($.slot)))throw new Error("Slot not found: "+$.slot);for(;K!=J;)Z[Q++]=K++;W[K+$.offset]=K++}for(;K<U;)Z[Q++]=K++;for(h=U-1;h>=0;h--)-1==W[h]&&(W[h]=Z[--Q])}_.setFrame(c++,X.time,W)}i.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}if(t.events){for(_=new Be(t.events.length),c=0,h=0;h<t.events.length;h++){var tt=t.events[h],et=r.findEvent(tt.name);if(null==et)throw new Error("Event not found: "+tt.name);var rt=new Ke(D.toSinglePrecision(tt.time),et);rt.intValue=this.getValue(tt,"int",et.intValue),rt.floatValue=this.getValue(tt,"float",et.floatValue),rt.stringValue=this.getValue(tt,"string",et.stringValue),null!=rt.data.audioPath&&(rt.volume=this.getValue(tt,"volume",1),rt.balance=this.getValue(tt,"balance",0)),_.setFrame(c++,rt)}i.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new xe(e,i,o))},t.prototype.readCurve=function(t,e,r){if(t.curve)if("stepped"===t.curve)e.setStepped(r);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var n=t.curve;e.setCurve(r,n[0],n[1],n[2],n[3])}},t.prototype.getValue=function(t,e,r){return void 0!==t[e]?t[e]:r},t.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return l.T$.NORMAL;if("additive"==t)return l.T$.ADD;if("multiply"==t)return l.T$.MULTIPLY;if("screen"==t)return l.T$.SCREEN;throw new Error("Unknown blend mode: "+t)},t.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return v.Fixed;if("percent"==t)return v.Percent;throw new Error("Unknown position mode: "+t)},t.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return Ue.Length;if("fixed"==t)return Ue.Fixed;if("percent"==t)return Ue.Percent;throw new Error("Unknown position mode: "+t)},t.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return b.Tangent;if("chain"==t)return b.Chain;if("chainscale"==t)return b.ChainScale;throw new Error("Unknown rotate mode: "+t)},t.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return _.Normal;if("onlytranslation"==t)return _.OnlyTranslation;if("norotationorreflection"==t)return _.NoRotationOrReflection;if("noscale"==t)return _.NoScale;if("noscaleorreflection"==t)return _.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},t}(),hr=function(t,e,r,n){this.mesh=t,this.skin=e,this.slotIndex=r,this.parent=n},fr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ce(e,t),e.prototype.createSkeleton=function(t){this.skeleton=new ir(t),this.skeleton.updateWorldTransform(),this.stateData=new Xe(t),this.state=new De(this.stateData)},e}(Q),pr=function(t,e){return pr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},pr(t,e)};function dr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}pr(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var mr,yr=function(t){if(!t)throw new Error("name cannot be null.");this.name=t},gr=function(t){function e(r){var n=t.call(this,r)||this;return n.id=e.nextID++,n.worldVerticesLength=0,n.deformAttachment=n,n}return dr(e,t),e.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},e.prototype.computeWorldVertices=function(t,e,r,n,i,o){r=i+(r>>1)*o;var a=t.bone.skeleton,s=t.deform,u=this.vertices,l=this.bones;if(l){for(var c=0,h=0,f=0;f<e;f+=2){c+=(y=l[c])+1,h+=y}var p=a.bones;if(0==s.length)for(k=i,T=3*h;k<r;k+=o){var d=0,m=0,y=l[c++];for(y+=c;c<y;c++,T+=3){_=p[l[c]].matrix,P=u[T],C=u[T+1];var g=u[T+2];d+=(P*_.a+C*_.c+_.tx)*g,m+=(P*_.b+C*_.d+_.ty)*g}n[k]=d,n[k+1]=m}else for(var v=s,b=(k=i,T=3*h,h<<1);k<r;k+=o){d=0,m=0,y=l[c++];for(y+=c;c<y;c++,T+=3,b+=2){_=p[l[c]].matrix,P=u[T]+v[b],C=u[T+1]+v[b+1],g=u[T+2];d+=(P*_.a+C*_.c+_.tx)*g,m+=(P*_.b+C*_.d+_.ty)*g}n[k]=d,n[k+1]=m}}else{s.length>0&&(u=s);for(var _,w=(_=t.bone.matrix).tx,x=_.ty,S=_.a,T=_.c,E=_.b,O=_.d,A=e,k=i;k<r;A+=2,k+=o){var P=u[A],C=u[A+1];n[k]=P*S+C*T+w,n[k+1]=P*E+C*O+x}}},e.prototype.copyTo=function(t){this.bones?(t.bones=new Array(this.bones.length),D.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,this.vertices?(t.vertices=D.newFloatArray(this.vertices.length),D.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment},e.nextID=0,e}(yr),vr=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.BoundingBox,r.color=new N(1,1,1,1),r}return dr(e,t),e.prototype.copy=function(){var t=new e(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t},e}(gr),br=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.Clipping,r.color=new N(.2275,.2275,.8078,1),r}return dr(e,t),e.prototype.copy=function(){var t=new e(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t},e}(gr),_r=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.Mesh,r.color=new N(1,1,1,1),r.tempColor=new N(0,0,0,0),r}return dr(e,t),e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(t){this.parentMesh=t,t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},e.prototype.copy=function(){if(this.parentMesh)return this.newLinkedMesh();var t=new e(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Float32Array(this.regionUVs.length),D.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.triangles=new Array(this.triangles.length),D.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,this.edges&&(t.edges=new Array(this.edges.length),D.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t},e.prototype.newLinkedMesh=function(){var t=new e(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(this.parentMesh?this.parentMesh:this),t},e}(gr),wr=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.Path,r.closed=!1,r.constantSpeed=!1,r.color=new N(1,1,1,1),r}return dr(e,t),e.prototype.copy=function(){var t=new e(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),D.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t},e}(gr),xr=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.Point,r.color=new N(.38,.94,0,1),r}return dr(e,t),e.prototype.computeWorldPosition=function(t,e){var r=t.matrix;return e.x=this.x*r.a+this.y*r.c+t.worldX,e.y=this.x*r.b+this.y*r.d+t.worldY,e},e.prototype.computeWorldRotation=function(t){var e=t.matrix,r=F.cosDeg(this.rotation),n=F.sinDeg(this.rotation),i=r*e.a+n*e.c,o=r*e.b+n*e.d;return Math.atan2(o,i)*F.radDeg},e.prototype.copy=function(){var t=new e(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t},e}(gr),Sr=function(t){function e(e){var r=t.call(this,e)||this;return r.type=a.Region,r.x=0,r.y=0,r.scaleX=1,r.scaleY=1,r.rotation=0,r.width=0,r.height=0,r.color=new N(1,1,1,1),r.offset=D.newFloatArray(8),r.uvs=D.newFloatArray(8),r.tempColor=new N(1,1,1,1),r}return dr(e,t),e.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,r=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*r,o=n+this.region.width*t,a=i+this.region.height*r,s=this.rotation*Math.PI/180,u=Math.cos(s),l=Math.sin(s),c=n*u+this.x,h=n*l,f=i*u+this.y,p=i*l,d=o*u+this.x,m=o*l,y=a*u+this.y,g=a*l,v=this.offset;v[e.OX1]=c-p,v[e.OY1]=f+h,v[e.OX2]=c-g,v[e.OY2]=y+h,v[e.OX3]=d-g,v[e.OY3]=y+m,v[e.OX4]=d-p,v[e.OY4]=f+m},e.prototype.setRegion=function(t){this.region=t;var e=this.uvs;90==t.degrees?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},e.prototype.computeWorldVertices=function(t,r,n,i){var o=this.offset,a=t.matrix,s=a.tx,u=a.ty,l=a.a,c=a.c,h=a.b,f=a.d,p=0,d=0;p=o[e.OX1],d=o[e.OY1],r[n]=p*l+d*c+s,r[n+1]=p*h+d*f+u,n+=i,p=o[e.OX2],d=o[e.OY2],r[n]=p*l+d*c+s,r[n+1]=p*h+d*f+u,n+=i,p=o[e.OX3],d=o[e.OY3],r[n]=p*l+d*c+s,r[n+1]=p*h+d*f+u,n+=i,p=o[e.OX4],d=o[e.OY4],r[n]=p*l+d*c+s,r[n+1]=p*h+d*f+u},e.prototype.copy=function(){var t=new e(this.name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,D.arrayCopy(this.uvs,0,t.uvs,0,8),D.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t},e.OX1=0,e.OY1=1,e.OX2=2,e.OY2=3,e.OX3=4,e.OY3=5,e.OX4=6,e.OY4=7,e.X1=0,e.Y1=1,e.C1R=2,e.C1G=3,e.C1B=4,e.C1A=5,e.U1=6,e.V1=7,e.X2=8,e.Y2=9,e.C2R=10,e.C2G=11,e.C2B=12,e.C2A=13,e.U2=14,e.V2=15,e.X3=16,e.Y3=17,e.C3R=18,e.C3G=19,e.C3B=20,e.C3A=21,e.U3=22,e.V3=23,e.X4=24,e.Y4=25,e.C4R=26,e.C4G=27,e.C4B=28,e.C4A=29,e.U4=30,e.V4=31,e}(yr),Tr=function(){function t(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}return t.prototype.begin=function(t){},t.prototype.transform=function(t,e,r,n){t.x+=F.randomTriangular(-this.jitterX,this.jitterY),t.y+=F.randomTriangular(-this.jitterX,this.jitterY)},t.prototype.end=function(){},t}(),Er=function(){function t(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}return t.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},t.prototype.transform=function(e,r,n,i){var o=this.angle*F.degreesToRadians,a=e.x-this.worldX,s=e.y-this.worldY,u=Math.sqrt(a*a+s*s);if(u<this.radius){var l=t.interpolation.apply(0,o,(this.radius-u)/this.radius),c=Math.cos(l),h=Math.sin(l);e.x=c*a-h*s+this.worldX,e.y=h*a+c*s+this.worldY}},t.prototype.end=function(){},t.interpolation=new V(2),t}(),Or=function(){function t(t,e,r){if(!t)throw new Error("name cannot be null.");this.name=t,this.setTimelines(e),this.duration=r}return t.prototype.setTimelines=function(t){if(!t)throw new Error("timelines cannot be null.");this.timelines=t,this.timelineIds=new q;for(var e=0;e<t.length;e++)this.timelineIds.addAll(t[e].getPropertyIds())},t.prototype.hasTimeline=function(t){for(var e=0;e<t.length;e++)if(this.timelineIds.contains(t[e]))return!0;return!1},t.prototype.apply=function(t,e,r,n,i,o,a,s){if(!t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(r%=this.duration,e>0&&(e%=this.duration));for(var u=this.timelines,l=0,c=u.length;l<c;l++)u[l].apply(t,e,r,i,o,a,s)},t}(),Ar=0,kr=1,Pr=2,Cr=3,Mr=4,Ir=5,jr=6,Br=7,Lr=8,Rr=9,qr=10,Nr=11,Fr=12,Vr=13,Dr=14,Gr=15,zr=16,Ur=17,Yr=18,Xr=function(){function t(t,e){this.propertyIds=e,this.frames=D.newFloatArray(t*this.getFrameEntries())}return t.prototype.getPropertyIds=function(){return this.propertyIds},t.prototype.getFrameEntries=function(){return 1},t.prototype.getFrameCount=function(){return this.frames.length/this.getFrameEntries()},t.prototype.getDuration=function(){return this.frames[this.frames.length-this.getFrameEntries()]},t.search1=function(t,e){for(var r=t.length,n=1;n<r;n++)if(t[n]>e)return n-1;return r-1},t.search=function(t,e,r){for(var n=t.length,i=r;i<n;i+=r)if(t[i]>e)return i-r;return n-r},t}(),Wr=function(t){function e(e,r,n){var i=t.call(this,e,n)||this;return i.curves=D.newFloatArray(e+18*r),i.curves[e-1]=1,i}return dr(e,t),e.prototype.setLinear=function(t){this.curves[t]=0},e.prototype.setStepped=function(t){this.curves[t]=1},e.prototype.shrink=function(t){var e=this.getFrameCount()+18*t;if(this.curves.length>e){var r=D.newFloatArray(e);D.arrayCopy(this.curves,0,r,0,e),this.curves=r}},e.prototype.setBezier=function(t,e,r,n,i,o,a,s,u,l,c){var h=this.curves,f=this.getFrameCount()+18*t;0==r&&(h[e]=2+f);for(var p=.03*(n-2*o+s),d=.03*(i-2*a+u),m=.006*(3*(o-s)-n+l),y=.006*(3*(a-u)-i+c),g=2*p+m,v=2*d+y,b=.3*(o-n)+p+.16666667*m,_=.3*(a-i)+d+.16666667*y,w=n+b,x=i+_,S=f+18;f<S;f+=2)h[f]=w,h[f+1]=x,b+=g,_+=v,g+=m,v+=y,w+=b,x+=_},e.prototype.getBezierValue=function(t,e,r,n){var i=this.curves;if(i[n]>t){var o=this.frames[e],a=this.frames[e+r];return a+(t-o)/(i[n]-o)*(i[n+1]-a)}var s=n+18;for(n+=2;n<s;n+=2)if(i[n]>=t){var u=i[n-2],l=i[n-1];return l+(t-u)/(i[n]-u)*(i[n+1]-l)}e+=this.getFrameEntries();var c=i[s-2],h=i[s-1];return h+(t-c)/(this.frames[e]-c)*(this.frames[e+r]-h)},e}(Xr),Hr=function(t){function e(e,r,n){return t.call(this,e,r,[n])||this}return dr(e,t),e.prototype.getFrameEntries=function(){return 2},e.prototype.setFrame=function(t,e,r){t<<=1,this.frames[t]=e,this.frames[t+1]=r},e.prototype.getCurveValue=function(t){for(var e=this.frames,r=e.length-2,n=2;n<=r;n+=2)if(e[n]>t){r=n-2;break}var i=this.curves[r>>1];switch(i){case 0:var o=e[r],a=e[r+1];return a+(t-o)/(e[r+2]-o)*(e[r+2+1]-a);case 1:return e[r+1]}return this.getBezierValue(t,r,1,i-2)},e}(Wr),Zr=function(t){function e(e,r,n,i){return t.call(this,e,r,[n,i])||this}return dr(e,t),e.prototype.getFrameEntries=function(){return 3},e.prototype.setFrame=function(t,e,r,n){t*=3,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n},e}(Wr),Kr=function(t){function e(e,r,n){var i=t.call(this,e,r,Ar+"|"+n)||this;return i.boneIndex=0,i.boneIndex=n,i}return dr(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active)if(r<this.frames[0])switch(o){case y.setup:return void(s.rotation=s.data.rotation);case y.first:s.rotation+=(s.data.rotation-s.rotation)*i}else{var u=this.getCurveValue(r);switch(o){case y.setup:s.rotation=s.data.rotation+u*i;break;case y.first:case y.replace:u+=s.data.rotation-s.rotation;case y.add:s.rotation+=u*i}}},e}(Hr),Qr=function(t){function e(e,r,n){var i=t.call(this,e,r,kr+"|"+n,Pr+"|"+n)||this;return i.boneIndex=0,i.boneIndex=n,i}return dr(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active){var u=this.frames;if(r<u[0])switch(o){case y.setup:return s.x=s.data.x,void(s.y=s.data.y);case y.first:s.x+=(s.data.x-s.x)*i,s.y+=(s.data.y-s.y)*i}else{var l=0,c=0,h=Xr.search(u,r,3),f=this.curves[h/3];switch(f){case 0:var p=u[h];l=u[h+1],c=u[h+2];var d=(r-p)/(u[h+3]-p);l+=(u[h+3+1]-l)*d,c+=(u[h+3+2]-c)*d;break;case 1:l=u[h+1],c=u[h+2];break;default:l=this.getBezierValue(r,h,1,f-2),c=this.getBezierValue(r,h,2,f+18-2)}switch(o){case y.setup:s.x=s.data.x+l*i,s.y=s.data.y+c*i;break;case y.first:case y.replace:s.x+=(s.data.x+l-s.x)*i,s.y+=(s.data.y+c-s.y)*i;break;case y.add:s.x+=l*i,s.y+=c*i}}}},e}(Zr),Jr=function(t){function e(e,r,n){var i=t.call(this,e,r,kr+"|"+n)||this;return i.boneIndex=0,i.boneIndex=n,i}return dr(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active)if(r<this.frames[0])switch(o){case y.setup:return void(s.x=s.data.x);case y.first:s.x+=(s.data.x-s.x)*i}else{var u=this.getCurveValue(r);switch(o){case y.setup:s.x=s.data.x+u*i;break;case y.first:case y.replace:s.x+=(s.data.x+u-s.x)*i;break;case y.add:s.x+=u*i}}},e}(Hr),$r=function(t){function e(e,r,n){var i=t.call(this,e,r,Pr+"|"+n)||this;return i.boneIndex=0,i.boneIndex=n,i}return dr(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active)if(r<this.frames[0])switch(o){case y.setup:return void(s.y=s.data.y);case y.first:s.y+=(s.data.y-s.y)*i}else{var u=this.getCurveValue(r);switch(o){case y.setup:s.y=s.data.y+u*i;break;case y.first:case y.replace:s.y+=(s.data.y+u-s.y)*i;break;case y.add:s.y+=u*i}}},e}(Hr),tn=function(t){function e(e,r,n){var i=t.call(this,e,r,Cr+"|"+n,Mr+"|"+n)||this;return i.boneIndex=0,i.boneIndex=n,i}return dr(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active){var u=this.frames;if(r<u[0])switch(o){case y.setup:return s.scaleX=s.data.scaleX,void(s.scaleY=s.data.scaleY);case y.first:s.scaleX+=(s.data.scaleX-s.scaleX)*i,s.scaleY+=(s.data.scaleY-s.scaleY)*i}else{var l,c,h=Xr.search(u,r,3),f=this.curves[h/3];switch(f){case 0:var p=u[h];l=u[h+1],c=u[h+2];var d=(r-p)/(u[h+3]-p);l+=(u[h+3+1]-l)*d,c+=(u[h+3+2]-c)*d;break;case 1:l=u[h+1],c=u[h+2];break;default:l=this.getBezierValue(r,h,1,f-2),c=this.getBezierValue(r,h,2,f+18-2)}if(l*=s.data.scaleX,c*=s.data.scaleY,1==i)o==y.add?(s.scaleX+=l-s.data.scaleX,s.scaleY+=c-s.data.scaleY):(s.scaleX=l,s.scaleY=c);else{var m=0,v=0;if(a==g.mixOut)switch(o){case y.setup:m=s.data.scaleX,v=s.data.scaleY,s.scaleX=m+(Math.abs(l)*F.signum(m)-m)*i,s.scaleY=v+(Math.abs(c)*F.signum(v)-v)*i;break;case y.first:case y.replace:m=s.scaleX,v=s.scaleY,s.scaleX=m+(Math.abs(l)*F.signum(m)-m)*i,s.scaleY=v+(Math.abs(c)*F.signum(v)-v)*i;break;case y.add:m=s.scaleX,v=s.scaleY,s.scaleX=m+(Math.abs(l)*F.signum(m)-s.data.scaleX)*i,s.scaleY=v+(Math.abs(c)*F.signum(v)-s.data.scaleY)*i}else switch(o){case y.setup:m=Math.abs(s.data.scaleX)*F.signum(l),v=Math.abs(s.data.scaleY)*F.signum(c),s.scaleX=m+(l-m)*i,s.scaleY=v+(c-v)*i;break;case y.first:case y.replace:m=Math.abs(s.scaleX)*F.signum(l),v=Math.abs(s.scaleY)*F.signum(c),s.scaleX=m+(l-m)*i,s.scaleY=v+(c-v)*i;break;case y.add:m=F.signum(l),v=F.signum(c),s.scaleX=Math.abs(s.scaleX)*m+(l-Math.abs(s.data.scaleX)*m)*i,s.scaleY=Math.abs(s.scaleY)*v+(c-Math.abs(s.data.scaleY)*v)*i}}}}},e}(Zr),en=function(t){function e(e,r,n){var i=t.call(this,e,r,Cr+"|"+n)||this;return i.boneIndex=0,i.boneIndex=n,i}return dr(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active)if(r<this.frames[0])switch(o){case y.setup:return void(s.scaleX=s.data.scaleX);case y.first:s.scaleX+=(s.data.scaleX-s.scaleX)*i}else{var u=this.getCurveValue(r)*s.data.scaleX;if(1==i)o==y.add?s.scaleX+=u-s.data.scaleX:s.scaleX=u;else{var l=0;if(a==g.mixOut)switch(o){case y.setup:l=s.data.scaleX,s.scaleX=l+(Math.abs(u)*F.signum(l)-l)*i;break;case y.first:case y.replace:l=s.scaleX,s.scaleX=l+(Math.abs(u)*F.signum(l)-l)*i;break;case y.add:l=s.scaleX,s.scaleX=l+(Math.abs(u)*F.signum(l)-s.data.scaleX)*i}else switch(o){case y.setup:l=Math.abs(s.data.scaleX)*F.signum(u),s.scaleX=l+(u-l)*i;break;case y.first:case y.replace:l=Math.abs(s.scaleX)*F.signum(u),s.scaleX=l+(u-l)*i;break;case y.add:l=F.signum(u),s.scaleX=Math.abs(s.scaleX)*l+(u-Math.abs(s.data.scaleX)*l)*i}}}},e}(Hr),rn=function(t){function e(e,r,n){var i=t.call(this,e,r,Mr+"|"+n)||this;return i.boneIndex=0,i.boneIndex=n,i}return dr(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active)if(r<this.frames[0])switch(o){case y.setup:return void(s.scaleY=s.data.scaleY);case y.first:s.scaleY+=(s.data.scaleY-s.scaleY)*i}else{var u=this.getCurveValue(r)*s.data.scaleY;if(1==i)o==y.add?s.scaleY+=u-s.data.scaleY:s.scaleY=u;else{var l=0;if(a==g.mixOut)switch(o){case y.setup:l=s.data.scaleY,s.scaleY=l+(Math.abs(u)*F.signum(l)-l)*i;break;case y.first:case y.replace:l=s.scaleY,s.scaleY=l+(Math.abs(u)*F.signum(l)-l)*i;break;case y.add:l=s.scaleY,s.scaleY=l+(Math.abs(u)*F.signum(l)-s.data.scaleY)*i}else switch(o){case y.setup:l=Math.abs(s.data.scaleY)*F.signum(u),s.scaleY=l+(u-l)*i;break;case y.first:case y.replace:l=Math.abs(s.scaleY)*F.signum(u),s.scaleY=l+(u-l)*i;break;case y.add:l=F.signum(u),s.scaleY=Math.abs(s.scaleY)*l+(u-Math.abs(s.data.scaleY)*l)*i}}}},e}(Hr),nn=function(t){function e(e,r,n){var i=t.call(this,e,r,Ir+"|"+n,jr+"|"+n)||this;return i.boneIndex=0,i.boneIndex=n,i}return dr(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active){var u=this.frames;if(r<u[0])switch(o){case y.setup:return s.shearX=s.data.shearX,void(s.shearY=s.data.shearY);case y.first:s.shearX+=(s.data.shearX-s.shearX)*i,s.shearY+=(s.data.shearY-s.shearY)*i}else{var l=0,c=0,h=Xr.search(u,r,3),f=this.curves[h/3];switch(f){case 0:var p=u[h];l=u[h+1],c=u[h+2];var d=(r-p)/(u[h+3]-p);l+=(u[h+3+1]-l)*d,c+=(u[h+3+2]-c)*d;break;case 1:l=u[h+1],c=u[h+2];break;default:l=this.getBezierValue(r,h,1,f-2),c=this.getBezierValue(r,h,2,f+18-2)}switch(o){case y.setup:s.shearX=s.data.shearX+l*i,s.shearY=s.data.shearY+c*i;break;case y.first:case y.replace:s.shearX+=(s.data.shearX+l-s.shearX)*i,s.shearY+=(s.data.shearY+c-s.shearY)*i;break;case y.add:s.shearX+=l*i,s.shearY+=c*i}}}},e}(Zr),on=function(t){function e(e,r,n){var i=t.call(this,e,r,Ir+"|"+n)||this;return i.boneIndex=0,i.boneIndex=n,i}return dr(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active)if(r<this.frames[0])switch(o){case y.setup:return void(s.shearX=s.data.shearX);case y.first:s.shearX+=(s.data.shearX-s.shearX)*i}else{var u=this.getCurveValue(r);switch(o){case y.setup:s.shearX=s.data.shearX+u*i;break;case y.first:case y.replace:s.shearX+=(s.data.shearX+u-s.shearX)*i;break;case y.add:s.shearX+=u*i}}},e}(Hr),an=function(t){function e(e,r,n){var i=t.call(this,e,r,jr+"|"+n)||this;return i.boneIndex=0,i.boneIndex=n,i}return dr(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.bones[this.boneIndex];if(s.active)if(r<this.frames[0])switch(o){case y.setup:return void(s.shearY=s.data.shearY);case y.first:s.shearY+=(s.data.shearY-s.shearY)*i}else{var u=this.getCurveValue(r);switch(o){case y.setup:s.shearY=s.data.shearY+u*i;break;case y.first:case y.replace:s.shearY+=(s.data.shearY+u-s.shearY)*i;break;case y.add:s.shearY+=u*i}}},e}(Hr),sn=function(t){function e(e,r,n){var i=t.call(this,e,r,[Br+"|"+n,Lr+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i}return dr(e,t),e.prototype.getFrameEntries=function(){return 5},e.prototype.setFrame=function(t,e,r,n,i,o){t*=5,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i,this.frames[t+4]=o},e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(s.bone.active){var u=this.frames,l=s.color;if(r<u[0]){var c=s.data.color;switch(o){case y.setup:return void l.setFromColor(c);case y.first:l.add((c.r-l.r)*i,(c.g-l.g)*i,(c.b-l.b)*i,(c.a-l.a)*i)}}else{var h=0,f=0,p=0,d=0,m=Xr.search(u,r,5),g=this.curves[m/5];switch(g){case 0:var v=u[m];h=u[m+1],f=u[m+2],p=u[m+3],d=u[m+4];var b=(r-v)/(u[m+5]-v);h+=(u[m+5+1]-h)*b,f+=(u[m+5+2]-f)*b,p+=(u[m+5+3]-p)*b,d+=(u[m+5+4]-d)*b;break;case 1:h=u[m+1],f=u[m+2],p=u[m+3],d=u[m+4];break;default:h=this.getBezierValue(r,m,1,g-2),f=this.getBezierValue(r,m,2,g+18-2),p=this.getBezierValue(r,m,3,g+36-2),d=this.getBezierValue(r,m,4,g+54-2)}1==i?l.set(h,f,p,d):(o==y.setup&&l.setFromColor(s.data.color),l.add((h-l.r)*i,(f-l.g)*i,(p-l.b)*i,(d-l.a)*i))}}},e}(Wr),un=function(t){function e(e,r,n){var i=t.call(this,e,r,[Br+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i}return dr(e,t),e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(t,e,r,n,i){t<<=2,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i},e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(s.bone.active){var u=this.frames,l=s.color;if(r<u[0]){var c=s.data.color;switch(o){case y.setup:return l.r=c.r,l.g=c.g,void(l.b=c.b);case y.first:l.r+=(c.r-l.r)*i,l.g+=(c.g-l.g)*i,l.b+=(c.b-l.b)*i}}else{var h=0,f=0,p=0,d=Xr.search(u,r,4),m=this.curves[d>>2];switch(m){case 0:var g=u[d];h=u[d+1],f=u[d+2],p=u[d+3];var v=(r-g)/(u[d+4]-g);h+=(u[d+4+1]-h)*v,f+=(u[d+4+2]-f)*v,p+=(u[d+4+3]-p)*v;break;case 1:h=u[d+1],f=u[d+2],p=u[d+3];break;default:h=this.getBezierValue(r,d,1,m-2),f=this.getBezierValue(r,d,2,m+18-2),p=this.getBezierValue(r,d,3,m+36-2)}if(1==i)l.r=h,l.g=f,l.b=p;else{if(o==y.setup){c=s.data.color;l.r=c.r,l.g=c.g,l.b=c.b}l.r+=(h-l.r)*i,l.g+=(f-l.g)*i,l.b+=(p-l.b)*i}}}},e}(Wr),ln=function(t){function e(e,r,n){var i=t.call(this,e,r,Lr+"|"+n)||this;return i.slotIndex=0,i.slotIndex=n,i}return dr(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(s.bone.active){var u=s.color;if(r<this.frames[0]){var l=s.data.color;switch(o){case y.setup:return void(u.a=l.a);case y.first:u.a+=(l.a-u.a)*i}}else{var c=this.getCurveValue(r);1==i?u.a=c:(o==y.setup&&(u.a=s.data.color.a),u.a+=(c-u.a)*i)}}},e}(Hr),cn=function(t){function e(e,r,n){var i=t.call(this,e,r,[Br+"|"+n,Lr+"|"+n,Rr+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i}return dr(e,t),e.prototype.getFrameEntries=function(){return 8},e.prototype.setFrame=function(t,e,r,n,i,o,a,s,u){t<<=3,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i,this.frames[t+4]=o,this.frames[t+5]=a,this.frames[t+6]=s,this.frames[t+7]=u},e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(s.bone.active){var u=this.frames,l=s.color,c=s.darkColor;if(r<u[0]){var h=s.data.color,f=s.data.darkColor;switch(o){case y.setup:return l.setFromColor(h),c.r=f.r,c.g=f.g,void(c.b=f.b);case y.first:l.add((h.r-l.r)*i,(h.g-l.g)*i,(h.b-l.b)*i,(h.a-l.a)*i),c.r+=(f.r-c.r)*i,c.g+=(f.g-c.g)*i,c.b+=(f.b-c.b)*i}}else{var p=0,d=0,m=0,g=0,v=0,b=0,_=0,w=Xr.search(u,r,8),x=this.curves[w>>3];switch(x){case 0:var S=u[w];p=u[w+1],d=u[w+2],m=u[w+3],g=u[w+4],v=u[w+5],b=u[w+6],_=u[w+7];var T=(r-S)/(u[w+8]-S);p+=(u[w+8+1]-p)*T,d+=(u[w+8+2]-d)*T,m+=(u[w+8+3]-m)*T,g+=(u[w+8+4]-g)*T,v+=(u[w+8+5]-v)*T,b+=(u[w+8+6]-b)*T,_+=(u[w+8+7]-_)*T;break;case 1:p=u[w+1],d=u[w+2],m=u[w+3],g=u[w+4],v=u[w+5],b=u[w+6],_=u[w+7];break;default:p=this.getBezierValue(r,w,1,x-2),d=this.getBezierValue(r,w,2,x+18-2),m=this.getBezierValue(r,w,3,x+36-2),g=this.getBezierValue(r,w,4,x+54-2),v=this.getBezierValue(r,w,5,x+72-2),b=this.getBezierValue(r,w,6,x+90-2),_=this.getBezierValue(r,w,7,x+108-2)}if(1==i)l.set(p,d,m,g),c.r=v,c.g=b,c.b=_;else{if(o==y.setup){l.setFromColor(s.data.color);f=s.data.darkColor;c.r=f.r,c.g=f.g,c.b=f.b}l.add((p-l.r)*i,(d-l.g)*i,(m-l.b)*i,(g-l.a)*i),c.r+=(v-c.r)*i,c.g+=(b-c.g)*i,c.b+=(_-c.b)*i}}}},e}(Wr),hn=function(t){function e(e,r,n){var i=t.call(this,e,r,[Br+"|"+n,Rr+"|"+n])||this;return i.slotIndex=0,i.slotIndex=n,i}return dr(e,t),e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(t,e,r,n,i,o,a,s){t*=7,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i,this.frames[t+4]=o,this.frames[t+5]=a,this.frames[t+6]=s},e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(s.bone.active){var u=this.frames,l=s.color,c=s.darkColor;if(r<u[0]){var h=s.data.color,f=s.data.darkColor;switch(o){case y.setup:return l.r=h.r,l.g=h.g,l.b=h.b,c.r=f.r,c.g=f.g,void(c.b=f.b);case y.first:l.r+=(h.r-l.r)*i,l.g+=(h.g-l.g)*i,l.b+=(h.b-l.b)*i,c.r+=(f.r-c.r)*i,c.g+=(f.g-c.g)*i,c.b+=(f.b-c.b)*i}}else{var p=0,d=0,m=0,g=0,v=0,b=0,_=Xr.search(u,r,7),w=this.curves[_/7];switch(w){case 0:var x=u[_];p=u[_+1],d=u[_+2],m=u[_+3],g=u[_+4],v=u[_+5],b=u[_+6];var S=(r-x)/(u[_+7]-x);p+=(u[_+7+1]-p)*S,d+=(u[_+7+2]-d)*S,m+=(u[_+7+3]-m)*S,g+=(u[_+7+4]-g)*S,v+=(u[_+7+5]-v)*S,b+=(u[_+7+6]-b)*S;break;case 1:p=u[_+1],d=u[_+2],m=u[_+3],g=u[_+4],v=u[_+5],b=u[_+6];break;default:p=this.getBezierValue(r,_,1,w-2),d=this.getBezierValue(r,_,2,w+18-2),m=this.getBezierValue(r,_,3,w+36-2),g=this.getBezierValue(r,_,4,w+54-2),v=this.getBezierValue(r,_,5,w+72-2),b=this.getBezierValue(r,_,6,w+90-2)}if(1==i)l.r=p,l.g=d,l.b=m,c.r=g,c.g=v,c.b=b;else{if(o==y.setup){h=s.data.color,f=s.data.darkColor;l.r=h.r,l.g=h.g,l.b=h.b,c.r=f.r,c.g=f.g,c.b=f.b}l.r+=(p-l.r)*i,l.g+=(d-l.g)*i,l.b+=(m-l.b)*i,c.r+=(g-c.r)*i,c.g+=(v-c.g)*i,c.b+=(b-c.b)*i}}}},e}(Wr),fn=function(t){function e(e,r){var n=t.call(this,e,[qr+"|"+r])||this;return n.slotIndex=0,n.slotIndex=r,n.attachmentNames=new Array(e),n}return dr(e,t),e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.attachmentNames[t]=r},e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];s.bone.active&&(a!=g.mixOut?r<this.frames[0]?o!=y.setup&&o!=y.first||this.setAttachment(t,s,s.data.attachmentName):this.setAttachment(t,s,this.attachmentNames[Xr.search1(this.frames,r)]):o==y.setup&&this.setAttachment(t,s,s.data.attachmentName))},e.prototype.setAttachment=function(t,e,r){e.setAttachment(r?t.getAttachment(this.slotIndex,r):null)},e}(Xr),pn=function(t){function e(e,r,n,i){var o=t.call(this,e,r,[Nr+"|"+n+"|"+i.id])||this;return o.slotIndex=0,o.slotIndex=n,o.attachment=i,o.vertices=new Array(e),o}return dr(e,t),e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.vertices[t]=r},e.prototype.setBezier=function(t,e,r,n,i,o,a,s,u,l,c){var h=this.curves,f=this.getFrameCount()+18*t;0==r&&(h[e]=2+f);for(var p=.03*(n-2*o+s),d=.03*u-.06*a,m=.006*(3*(o-s)-n+l),y=.018*(a-u+.33333333),g=2*p+m,v=2*d+y,b=.3*(o-n)+p+.16666667*m,_=.3*a+d+.16666667*y,w=n+b,x=_,S=f+18;f<S;f+=2)h[f]=w,h[f+1]=x,b+=g,_+=v,g+=m,v+=y,w+=b,x+=_},e.prototype.getCurvePercent=function(t,e){var r=this.curves,n=r[e];switch(n){case 0:var i=this.frames[e];return(t-i)/(this.frames[e+this.getFrameEntries()]-i);case 1:return 0}if(r[n-=2]>t){var o=this.frames[e];return r[n+1]*(t-o)/(r[n]-o)}var a=n+18;for(n+=2;n<a;n+=2)if(r[n]>=t){var s=r[n-2],u=r[n-1];return u+(t-s)/(r[n]-s)*(r[n+1]-u)}var l=r[a-2],c=r[a-1];return c+(1-c)*(t-l)/(this.frames[e+this.getFrameEntries()]-l)},e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.slots[this.slotIndex];if(s.bone.active){var u=s.getAttachment();if(u instanceof gr&&u.deformAttachment==this.attachment){var l=s.deform;0==l.length&&(o=y.setup);var c=this.vertices,h=c[0].length,f=this.frames;if(r<f[0]){var p=u;switch(o){case y.setup:return void(l.length=0);case y.first:if(1==i)return void(l.length=0);if(l.length=h,p.bones){i=1-i;for(m=0;m<h;m++)l[m]*=i}else for(var d=p.vertices,m=0;m<h;m++)l[m]+=(d[m]-l[m])*i}}else if(l.length=h,r>=f[f.length-1]){var g=c[f.length-1];if(1==i)if(o==y.add)if((p=u).bones)for(var v=0;v<h;v++)l[v]+=g[v];else{d=p.vertices;for(var b=0;b<h;b++)l[b]+=g[b]-d[b]}else D.arrayCopy(g,0,l,0,h);else switch(o){case y.setup:var _=u;if(_.bones)for(var w=0;w<h;w++)l[w]=g[w]*i;else{d=_.vertices;for(var x=0;x<h;x++){var S=d[x];l[x]=S+(g[x]-S)*i}}break;case y.first:case y.replace:for(var T=0;T<h;T++)l[T]+=(g[T]-l[T])*i;break;case y.add:if((p=u).bones)for(var E=0;E<h;E++)l[E]+=g[E]*i;else{d=p.vertices;for(var O=0;O<h;O++)l[O]+=(g[O]-d[O])*i}}}else{var A=Xr.search1(f,r),k=this.getCurvePercent(r,A),P=c[A],C=c[A+1];if(1==i)if(o==y.add)if((p=u).bones)for(var M=0;M<h;M++){j=P[M];l[M]+=j+(C[M]-j)*k}else{d=p.vertices;for(var I=0;I<h;I++){var j=P[I];l[I]+=j+(C[I]-j)*k-d[I]}}else for(var B=0;B<h;B++){j=P[B];l[B]=j+(C[B]-j)*k}else switch(o){case y.setup:var L=u;if(L.bones)for(var R=0;R<h;R++){j=P[R];l[R]=(j+(C[R]-j)*k)*i}else{d=L.vertices;for(var q=0;q<h;q++){var j=P[q];S=d[q];l[q]=S+(j+(C[q]-j)*k-S)*i}}break;case y.first:case y.replace:for(var N=0;N<h;N++){j=P[N];l[N]+=(j+(C[N]-j)*k-l[N])*i}break;case y.add:if((p=u).bones)for(var F=0;F<h;F++){j=P[F];l[F]+=(j+(C[F]-j)*k)*i}else{d=p.vertices;for(var V=0;V<h;V++){j=P[V];l[V]+=(j+(C[V]-j)*k-d[V])*i}}}}}}},e}(Wr),dn=function(t){function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.events=new Array(r),n}return dr(e,t),e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},e.prototype.apply=function(t,e,r,n,i,o,a){if(n){var s=this.frames,u=this.frames.length;if(e>r)this.apply(t,e,Number.MAX_VALUE,n,i,o,a),e=-1;else if(e>=s[u-1])return;if(!(r<s[0])){var l=0;if(e<s[0])l=0;else for(var c=s[l=Xr.search1(s,e)+1];l>0&&s[l-1]==c;)l--;for(;l<u&&r>=s[l];l++)n.push(this.events[l])}}},e.propertyIds=[""+Fr],e}(Xr),mn=function(t){function e(r){var n=t.call(this,r,e.propertyIds)||this;return n.drawOrders=new Array(r),n}return dr(e,t),e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.drawOrders[t]=r},e.prototype.apply=function(t,e,r,n,i,o,a){if(a!=g.mixOut)if(r<this.frames[0])o!=y.setup&&o!=y.first||D.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var s=this.drawOrders[Xr.search1(this.frames,r)];if(s)for(var u=t.drawOrder,l=t.slots,c=0,h=s.length;c<h;c++)u[c]=l[s[c]];else D.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}else o==y.setup&&D.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},e.propertyIds=[""+Vr],e}(Xr),yn=function(t){function e(e,r,n){var i=t.call(this,e,r,[Dr+"|"+n])||this;return i.ikConstraintIndex=n,i}return dr(e,t),e.prototype.getFrameEntries=function(){return 6},e.prototype.setFrame=function(t,e,r,n,i,o,a){t*=6,this.frames[t]=e,this.frames[t+1]=r,this.frames[t+2]=n,this.frames[t+3]=i,this.frames[t+4]=o?1:0,this.frames[t+5]=a?1:0},e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.ikConstraints[this.ikConstraintIndex];if(s.active){var u=this.frames;if(r<u[0])switch(o){case y.setup:return s.mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,void(s.stretch=s.data.stretch);case y.first:s.mix+=(s.data.mix-s.mix)*i,s.softness+=(s.data.softness-s.softness)*i,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch}else{var l=0,c=0,h=Xr.search(u,r,6),f=this.curves[h/6];switch(f){case 0:var p=u[h];l=u[h+1],c=u[h+2];var d=(r-p)/(u[h+6]-p);l+=(u[h+6+1]-l)*d,c+=(u[h+6+2]-c)*d;break;case 1:l=u[h+1],c=u[h+2];break;default:l=this.getBezierValue(r,h,1,f-2),c=this.getBezierValue(r,h,2,f+18-2)}o==y.setup?(s.mix=s.data.mix+(l-s.data.mix)*i,s.softness=s.data.softness+(c-s.data.softness)*i,a==g.mixOut?(s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch):(s.bendDirection=u[h+3],s.compress=0!=u[h+4],s.stretch=0!=u[h+5])):(s.mix+=(l-s.mix)*i,s.softness+=(c-s.softness)*i,a==g.mixIn&&(s.bendDirection=u[h+3],s.compress=0!=u[h+4],s.stretch=0!=u[h+5]))}}},e}(Wr),gn=function(t){function e(e,r,n){var i=t.call(this,e,r,[Gr+"|"+n])||this;return i.transformConstraintIndex=n,i}return dr(e,t),e.prototype.getFrameEntries=function(){return 7},e.prototype.setFrame=function(t,e,r,n,i,o,a,s){var u=this.frames;u[t*=7]=e,u[t+1]=r,u[t+2]=n,u[t+3]=i,u[t+4]=o,u[t+5]=a,u[t+6]=s},e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.transformConstraints[this.transformConstraintIndex];if(s.active){var u=this.frames;if(r<u[0]){var l=s.data;switch(o){case y.setup:return s.mixRotate=l.mixRotate,s.mixX=l.mixX,s.mixY=l.mixY,s.mixScaleX=l.mixScaleX,s.mixScaleY=l.mixScaleY,void(s.mixShearY=l.mixShearY);case y.first:s.mixRotate+=(l.mixRotate-s.mixRotate)*i,s.mixX+=(l.mixX-s.mixX)*i,s.mixY+=(l.mixY-s.mixY)*i,s.mixScaleX+=(l.mixScaleX-s.mixScaleX)*i,s.mixScaleY+=(l.mixScaleY-s.mixScaleY)*i,s.mixShearY+=(l.mixShearY-s.mixShearY)*i}}else{var c,h,f,p,d,m,g=Xr.search(u,r,7),v=this.curves[g/7];switch(v){case 0:var b=u[g];c=u[g+1],h=u[g+2],f=u[g+3],p=u[g+4],d=u[g+5],m=u[g+6];var _=(r-b)/(u[g+7]-b);c+=(u[g+7+1]-c)*_,h+=(u[g+7+2]-h)*_,f+=(u[g+7+3]-f)*_,p+=(u[g+7+4]-p)*_,d+=(u[g+7+5]-d)*_,m+=(u[g+7+6]-m)*_;break;case 1:c=u[g+1],h=u[g+2],f=u[g+3],p=u[g+4],d=u[g+5],m=u[g+6];break;default:c=this.getBezierValue(r,g,1,v-2),h=this.getBezierValue(r,g,2,v+18-2),f=this.getBezierValue(r,g,3,v+36-2),p=this.getBezierValue(r,g,4,v+54-2),d=this.getBezierValue(r,g,5,v+72-2),m=this.getBezierValue(r,g,6,v+90-2)}if(o==y.setup){l=s.data;s.mixRotate=l.mixRotate+(c-l.mixRotate)*i,s.mixX=l.mixX+(h-l.mixX)*i,s.mixY=l.mixY+(f-l.mixY)*i,s.mixScaleX=l.mixScaleX+(p-l.mixScaleX)*i,s.mixScaleY=l.mixScaleY+(d-l.mixScaleY)*i,s.mixShearY=l.mixShearY+(m-l.mixShearY)*i}else s.mixRotate+=(c-s.mixRotate)*i,s.mixX+=(h-s.mixX)*i,s.mixY+=(f-s.mixY)*i,s.mixScaleX+=(p-s.mixScaleX)*i,s.mixScaleY+=(d-s.mixScaleY)*i,s.mixShearY+=(m-s.mixShearY)*i}}},e}(Wr),vn=function(t){function e(e,r,n){var i=t.call(this,e,r,zr+"|"+n)||this;return i.pathConstraintIndex=n,i}return dr(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.pathConstraints[this.pathConstraintIndex];if(s.active)if(r<this.frames[0])switch(o){case y.setup:return void(s.position=s.data.position);case y.first:s.position+=(s.data.position-s.position)*i}else{var u=this.getCurveValue(r);o==y.setup?s.position=s.data.position+(u-s.data.position)*i:s.position+=(u-s.position)*i}},e}(Hr),bn=function(t){function e(e,r,n){var i=t.call(this,e,r,Ur+"|"+n)||this;return i.pathConstraintIndex=0,i.pathConstraintIndex=n,i}return dr(e,t),e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.pathConstraints[this.pathConstraintIndex];if(s.active)if(r<this.frames[0])switch(o){case y.setup:return void(s.spacing=s.data.spacing);case y.first:s.spacing+=(s.data.spacing-s.spacing)*i}else{var u=this.getCurveValue(r);o==y.setup?s.spacing=s.data.spacing+(u-s.data.spacing)*i:s.spacing+=(u-s.spacing)*i}},e}(Hr),_n=function(t){function e(e,r,n){var i=t.call(this,e,r,[Yr+"|"+n])||this;return i.pathConstraintIndex=0,i.pathConstraintIndex=n,i}return dr(e,t),e.prototype.getFrameEntries=function(){return 4},e.prototype.setFrame=function(t,e,r,n,i){var o=this.frames;o[t<<=2]=e,o[t+1]=r,o[t+2]=n,o[t+3]=i},e.prototype.apply=function(t,e,r,n,i,o,a){var s=t.pathConstraints[this.pathConstraintIndex];if(s.active){var u=this.frames;if(r<u[0])switch(o){case y.setup:return s.mixRotate=s.data.mixRotate,s.mixX=s.data.mixX,void(s.mixY=s.data.mixY);case y.first:s.mixRotate+=(s.data.mixRotate-s.mixRotate)*i,s.mixX+=(s.data.mixX-s.mixX)*i,s.mixY+=(s.data.mixY-s.mixY)*i}else{var l,c,h,f=Xr.search(u,r,4),p=this.curves[f>>2];switch(p){case 0:var d=u[f];l=u[f+1],c=u[f+2],h=u[f+3];var m=(r-d)/(u[f+4]-d);l+=(u[f+4+1]-l)*m,c+=(u[f+4+2]-c)*m,h+=(u[f+4+3]-h)*m;break;case 1:l=u[f+1],c=u[f+2],h=u[f+3];break;default:l=this.getBezierValue(r,f,1,p-2),c=this.getBezierValue(r,f,2,p+18-2),h=this.getBezierValue(r,f,3,p+36-2)}if(o==y.setup){var g=s.data;s.mixRotate=g.mixRotate+(l-g.mixRotate)*i,s.mixX=g.mixX+(c-g.mixX)*i,s.mixY=g.mixY+(h-g.mixY)*i}else s.mixRotate+=(l-s.mixRotate)*i,s.mixX+=(c-s.mixX)*i,s.mixY+=(h-s.mixY)*i}}},e}(Wr),wn=function(){function t(t){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new Sn(this),this.propertyIDs=new q,this.animationsChanged=!1,this.trackEntryPool=new G((function(){return new xn})),this.data=t}return t.emptyAnimation=function(){return jn||(jn=new Or("<empty>",[],0)),jn},t.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,r=0,n=e.length;r<n;r++){var i=e[r];if(i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var o=t*i.timeScale;if(i.delay>0){if(i.delay-=o,i.delay>0)continue;o=-i.delay,i.delay=0}var a=i.next;if(a){var s=i.trackLast-a.delay;if(s>=0){for(a.delay=0,a.trackTime+=0==i.timeScale?0:(s/i.timeScale+t)*a.timeScale,i.trackTime+=o,this.setCurrent(r,a,!0);a.mixingFrom;)a.mixTime+=t,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&!i.mixingFrom){e[r]=null,this.queue.end(i),this.clearNext(i);continue}if(i.mixingFrom&&this.updateMixingFrom(i,t)){var u=i.mixingFrom;for(i.mixingFrom=null,u&&(u.mixingTo=null);u;)this.queue.end(u),u=u.mixingFrom}i.trackTime+=o}}this.queue.drain()},t.prototype.updateMixingFrom=function(t,e){var r=t.mixingFrom;if(!r)return!0;var n=this.updateMixingFrom(r,e);return r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=r.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=r.mixingFrom,r.mixingFrom&&(r.mixingFrom.mixingTo=t),t.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=e*r.timeScale,t.mixTime+=e,!1)},t.prototype.apply=function(t){if(!t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,r=this.tracks,n=!1,i=0,o=r.length;i<o;i++){var a=r[i];if(a&&!(a.delay>0)){n=!0;var s=0==i?y.first:a.mixBlend,u=a.alpha;a.mixingFrom?u*=this.applyMixingFrom(a,t,s):a.trackTime>=a.trackEnd&&!a.next&&(u=0);var l=a.animationLast,c=a.getAnimationTime(),h=c,f=e;a.reverse&&(h=a.animation.duration-h,f=null);var p=a.animation.timelines,d=p.length;if(0==i&&1==u||s==y.add)for(var m=0;m<d;m++){D.webkit602BugfixHelper(u,s);var v=p[m];v instanceof fn?this.applyAttachmentTimeline(v,t,h,s,!0):v.apply(t,l,h,f,u,s,g.mixIn)}else{var b=a.timelineMode,_=a.timelinesRotation.length!=d<<1;_&&(a.timelinesRotation.length=d<<1);for(m=0;m<d;m++){var w=p[m],x=b[m]==On?s:y.setup;w instanceof Kr?this.applyRotateTimeline(w,t,h,u,x,a.timelinesRotation,m<<1,_):w instanceof fn?this.applyAttachmentTimeline(w,t,h,s,!0):(D.webkit602BugfixHelper(u,s),w.apply(t,l,h,f,u,x,g.mixIn))}}this.queueEvents(a,c),e.length=0,a.nextAnimationLast=c,a.nextTrackLast=a.trackTime}}for(var S=this.unkeyedState+Mn,T=t.slots,E=0,O=t.slots.length;E<O;E++){var A=T[E];if(A.attachmentState==S){var k=A.data.attachmentName;A.setAttachment(k?t.getAttachment(A.data.index,k):null)}}return this.unkeyedState+=2,this.queue.drain(),n},t.prototype.applyMixingFrom=function(t,e,r){var n=t.mixingFrom;n.mixingFrom&&this.applyMixingFrom(n,e,r);var i=0;0==t.mixDuration?(i=1,r==y.first&&(r=y.setup)):((i=t.mixTime/t.mixDuration)>1&&(i=1),r!=y.first&&(r=n.mixBlend));var o=i<n.attachmentThreshold,a=i<n.drawOrderThreshold,s=n.animation.timelines,u=s.length,l=n.alpha*t.interruptAlpha,c=l*(1-i),h=n.animationLast,f=n.getAnimationTime(),p=f,d=null;if(n.reverse?p=n.animation.duration-p:i<n.eventThreshold&&(d=this.events),r==y.add)for(var m=0;m<u;m++)s[m].apply(e,h,p,d,c,r,g.mixOut);else{var v=n.timelineMode,b=n.timelineHoldMix,_=n.timelinesRotation.length!=u<<1;_&&(n.timelinesRotation.length=u<<1),n.totalAlpha=0;for(m=0;m<u;m++){var w=s[m],x=g.mixOut,S=void 0,T=0;switch(v[m]){case On:if(!a&&w instanceof mn)continue;S=r,T=c;break;case An:S=y.setup,T=c;break;case kn:S=r,T=l;break;case Pn:S=y.setup,T=l;break;default:S=y.setup;var E=b[m];T=l*Math.max(0,1-E.mixTime/E.mixDuration)}n.totalAlpha+=T,w instanceof Kr?this.applyRotateTimeline(w,e,p,T,S,n.timelinesRotation,m<<1,_):w instanceof fn?this.applyAttachmentTimeline(w,e,p,S,o):(D.webkit602BugfixHelper(T,r),a&&w instanceof mn&&S==y.setup&&(x=g.mixIn),w.apply(e,h,p,d,T,S,x))}}return t.mixDuration>0&&this.queueEvents(n,f),this.events.length=0,n.nextAnimationLast=f,n.nextTrackLast=n.trackTime,i},t.prototype.applyAttachmentTimeline=function(t,e,r,n,i){var o=e.slots[t.slotIndex];o.bone.active&&(r<t.frames[0]?n!=y.setup&&n!=y.first||this.setAttachment(e,o,o.data.attachmentName,i):this.setAttachment(e,o,t.attachmentNames[Xr.search1(t.frames,r)],i),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+Mn))},t.prototype.setAttachment=function(t,e,r,n){e.setAttachment(r?t.getAttachment(e.data.index,r):null),n&&(e.attachmentState=this.unkeyedState+In)},t.prototype.applyRotateTimeline=function(t,e,r,n,i,o,a,s){if(s&&(o[a]=0),1!=n){var u=e.bones[t.boneIndex];if(u.active){var l=0,c=0;if(r<t.frames[0])switch(i){case y.setup:u.rotation=u.data.rotation;default:return;case y.first:l=u.rotation,c=u.data.rotation}else l=i==y.setup?u.data.rotation:u.rotation,c=u.data.rotation+t.getCurveValue(r);var h=0,f=c-l;if(0==(f-=360*(16384-(16384.499999999996-f/360|0))))h=o[a];else{var p=0,d=0;s?(p=0,d=f):(p=o[a],d=o[a+1]);var m=f>0,v=p>=0;F.signum(d)!=F.signum(f)&&Math.abs(d)<=90&&(Math.abs(p)>180&&(p+=360*F.signum(p)),v=m),h=f+p-p%360,v!=m&&(h+=360*F.signum(p)),o[a]=h}o[a+1]=f,u.rotation=l+h*n}}else t.apply(e,0,r,null,1,i,g.mixIn)},t.prototype.queueEvents=function(t,e){for(var r=t.animationStart,n=t.animationEnd,i=n-r,o=t.trackLast%i,a=this.events,s=0,u=a.length;s<u;s++){var l=a[s];if(l.time<o)break;l.time>n||this.queue.event(t,l)}for((t.loop?0==i||o>t.trackTime%i:e>=n&&t.animationLast<n)&&this.queue.complete(t);s<u;s++){var c=a[s];c.time<r||this.queue.event(t,c)}},t.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,r=this.tracks.length;e<r;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},t.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(e){this.queue.end(e),this.clearNext(e);for(var r=e;;){var n=r.mixingFrom;if(!n)break;this.queue.end(n),r.mixingFrom=null,r.mixingTo=null,r=n}this.tracks[e.trackIndex]=null,this.queue.drain()}}},t.prototype.setCurrent=function(t,e,r){var n=this.expandToIndex(t);this.tracks[t]=e,e.previous=null,n&&(r&&this.queue.interrupt(n),e.mixingFrom=n,n.mixingTo=e,e.mixTime=0,n.mixingFrom&&n.mixDuration>0&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)},t.prototype.setAnimation=function(t,e,r){void 0===r&&(r=!1);var n=this.data.skeletonData.findAnimation(e);if(!n)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,n,r)},t.prototype.setAnimationWith=function(t,e,r){if(void 0===r&&(r=!1),!e)throw new Error("animation cannot be null.");var n=!0,i=this.expandToIndex(t);i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.clearNext(i),i=i.mixingFrom,n=!1):this.clearNext(i));var o=this.trackEntry(t,e,r,i);return this.setCurrent(t,o,n),this.queue.drain(),o},t.prototype.addAnimation=function(t,e,r,n){void 0===r&&(r=!1),void 0===n&&(n=0);var i=this.data.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,i,r,n)},t.prototype.addAnimationWith=function(t,e,r,n){if(void 0===r&&(r=!1),void 0===n&&(n=0),!e)throw new Error("animation cannot be null.");var i=this.expandToIndex(t);if(i)for(;i.next;)i=i.next;var o=this.trackEntry(t,e,r,i);return i?(i.next=o,o.previous=i,n<=0&&(n+=i.getTrackComplete()-o.mixDuration)):(this.setCurrent(t,o,!0),this.queue.drain()),o.delay=n,o},t.prototype.setEmptyAnimation=function(e,r){void 0===r&&(r=0);var n=this.setAnimationWith(e,t.emptyAnimation(),!1);return n.mixDuration=r,n.trackEnd=r,n},t.prototype.addEmptyAnimation=function(e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=this.addAnimationWith(e,t.emptyAnimation(),!1,n);return n<=0&&(i.delay+=i.mixDuration-r),i.mixDuration=r,i.trackEnd=r,i},t.prototype.setEmptyAnimations=function(t){void 0===t&&(t=0);var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++){var i=this.tracks[r];i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},t.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(D.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)},t.prototype.trackEntry=function(t,e,r,n){var i=this.trackEntryPool.obtain();return i.trackIndex=t,i.animation=e,i.loop=r,i.holdPrevious=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=e.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=n?this.data.getMix(n.animation,e):0,i.mixBlend=y.replace,i},t.prototype.clearNext=function(t){for(var e=t.next;e;)this.queue.dispose(e),e=e.next;t.next=null},t.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=this.tracks,e=0,r=t.length;e<r;e++){var n=t[e];if(n){for(;n.mixingFrom;)n=n.mixingFrom;do{n.mixingTo&&n.mixBlend==y.add||this.computeHold(n),n=n.mixingTo}while(n)}}},t.prototype.computeHold=function(t){var e=t.mixingTo,r=t.animation.timelines,n=t.animation.timelines.length,i=t.timelineMode;i.length=n;var o=t.timelineHoldMix;o.length=0;var a=this.propertyIDs;if(e&&e.holdPrevious)for(var s=0;s<n;s++)i[s]=a.addAll(r[s].getPropertyIds())?Pn:kn;else t:for(s=0;s<n;s++){var u=r[s],l=u.getPropertyIds();if(a.addAll(l))if(!e||u instanceof fn||u instanceof mn||u instanceof dn||!e.animation.hasTimeline(l))i[s]=An;else{for(var c=e.mixingTo;c;c=c.mixingTo)if(!c.animation.hasTimeline(l)){if(t.mixDuration>0){i[s]=Cn,o[s]=c;continue t}break}i[s]=Pn}else i[s]=On}},t.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},t.prototype.addListener=function(t){if(!t)throw new Error("listener cannot be null.");this.listeners.push(t)},t.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},t.prototype.clearListeners=function(){this.listeners.length=0},t.prototype.clearListenerNotifications=function(){this.queue.clear()},t.prototype.setAnimationByName=function(e,r,n){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,r,n)},t.prototype.addAnimationByName=function(e,r,n,i){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,r,n,i)},t.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},t.prototype.hasAnimationByName=function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(e)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}(),xn=function(){function t(){this.mixBlend=y.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return t.prototype.reset=function(){this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},t.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},t.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},t.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},t.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},t.prototype.getTrackComplete=function(){var t=this.animationEnd-this.animationStart;if(0!=t){if(this.loop)return t*(1+(this.trackTime/t|0));if(this.trackTime<t)return t}return this.trackTime},Object.defineProperty(t.prototype,"time",{get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=e},enumerable:!1,configurable:!0}),t.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t}(),Sn=function(){function t(t){this.objects=[],this.drainDisabled=!1,this.animState=t}return t.prototype.start=function(t){this.objects.push(mr.start),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.interrupt=function(t){this.objects.push(mr.interrupt),this.objects.push(t)},t.prototype.end=function(t){this.objects.push(mr.end),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.dispose=function(t){this.objects.push(mr.dispose),this.objects.push(t)},t.prototype.complete=function(t){this.objects.push(mr.complete),this.objects.push(t)},t.prototype.event=function(t,e){this.objects.push(mr.event),this.objects.push(t),this.objects.push(e)},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];switch(n){case mr.start:null!=i.listener&&i.listener.start&&i.listener.start(i);for(var o=0;o<e.length;o++)e[o].start&&e[o].start(i);break;case mr.interrupt:null!=i.listener&&i.listener.interrupt&&i.listener.interrupt(i);for(o=0;o<e.length;o++)e[o].interrupt&&e[o].interrupt(i);break;case mr.end:null!=i.listener&&i.listener.end&&i.listener.end(i);for(o=0;o<e.length;o++)e[o].end&&e[o].end(i);case mr.dispose:null!=i.listener&&i.listener.dispose&&i.listener.dispose(i);for(o=0;o<e.length;o++)e[o].dispose&&e[o].dispose(i);this.animState.trackEntryPool.free(i);break;case mr.complete:null!=i.listener&&i.listener.complete&&i.listener.complete(i);for(o=0;o<e.length;o++)e[o].complete&&e[o].complete(i);break;case mr.event:var a=t[2+r++];null!=i.listener&&i.listener.event&&i.listener.event(i,a);for(o=0;o<e.length;o++)e[o].event&&e[o].event(i,a)}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t}();!function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(mr||(mr={}));var Tn,En=function(){function t(){}return t.prototype.start=function(t){},t.prototype.interrupt=function(t){},t.prototype.end=function(t){},t.prototype.dispose=function(t){},t.prototype.complete=function(t){},t.prototype.event=function(t,e){},t}(),On=0,An=1,kn=2,Pn=3,Cn=4,Mn=1,In=2,jn=null,Bn=function(){function t(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return t.prototype.setMix=function(t,e,r){var n=this.skeletonData.findAnimation(t);if(null==n)throw new Error("Animation not found: "+t);var i=this.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);this.setMixWith(n,i,r)},t.prototype.setMixWith=function(t,e,r){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var n=t.name+"."+e.name;this.animationToMixTime[n]=r},t.prototype.getMix=function(t,e){var r=t.name+"."+e.name,n=this.animationToMixTime[r];return void 0===n?this.defaultMix:n},t}(),Ln=function(){function t(t){this.atlas=t}return t.prototype.newRegionAttachment=function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: "+r+" (region attachment: "+e+")");var i=new Sr(e);return i.region=n,i},t.prototype.newMeshAttachment=function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: "+r+" (mesh attachment: "+e+")");var i=new _r(e);return i.region=n,i},t.prototype.newBoundingBoxAttachment=function(t,e){return new vr(e)},t.prototype.newPathAttachment=function(t,e){return new wr(e)},t.prototype.newPointAttachment=function(t,e){return new xr(e)},t.prototype.newClippingAttachment=function(t,e){return new br(e)},t}(),Rn=function(){function t(t,e,r){if(this.matrix=new c.y3,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=r,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),t.prototype.isActive=function(){return this.active},t.prototype.update=function(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(t,e,r,n,i,o,a){this.ax=t,this.ay=e,this.arotation=r,this.ascaleX=n,this.ascaleY=i,this.ashearX=o,this.ashearY=a;var s=this.parent,u=this.matrix,l=this.skeleton.scaleX,c=U?-this.skeleton.scaleY:this.skeleton.scaleY;if(!s){var h=this.skeleton,f=r+90+a;return u.a=F.cosDeg(r+o)*n*l,u.c=F.cosDeg(f)*i*l,u.b=F.sinDeg(r+o)*n*c,u.d=F.sinDeg(f)*i*c,u.tx=t*l+h.x,void(u.ty=e*c+h.y)}var p=s.matrix.a,d=s.matrix.c,m=s.matrix.b,y=s.matrix.d;switch(u.tx=p*t+d*e+s.matrix.tx,u.ty=m*t+y*e+s.matrix.ty,this.data.transformMode){case _.Normal:f=r+90+a;var g=F.cosDeg(r+o)*n,v=F.cosDeg(f)*i,b=F.sinDeg(r+o)*n,w=F.sinDeg(f)*i;return u.a=p*g+d*b,u.c=p*v+d*w,u.b=m*g+y*b,void(u.d=m*v+y*w);case _.OnlyTranslation:f=r+90+a;u.a=F.cosDeg(r+o)*n,u.c=F.cosDeg(f)*i,u.b=F.sinDeg(r+o)*n,u.d=F.sinDeg(f)*i;break;case _.NoRotationOrReflection:var x=0;(E=p*p+m*m)>1e-4?(E=Math.abs(p*y-d*m)/E,p/=this.skeleton.scaleX,d=(m/=this.skeleton.scaleY)*E,y=p*E,x=Math.atan2(m,p)*F.radDeg):(p=0,m=0,x=90-Math.atan2(y,d)*F.radDeg);var S=r+o-x,T=r+a-x+90;g=F.cosDeg(S)*n,v=F.cosDeg(T)*i,b=F.sinDeg(S)*n,w=F.sinDeg(T)*i;u.a=p*g-d*b,u.c=p*v-d*w,u.b=m*g+y*b,u.d=m*v+y*w;break;case _.NoScale:case _.NoScaleOrReflection:var E,O=F.cosDeg(r),A=F.sinDeg(r),k=(p*O+d*A)/l,P=(m*O+y*A)/c;(E=Math.sqrt(k*k+P*P))>1e-5&&(E=1/E),k*=E,P*=E,E=Math.sqrt(k*k+P*P),this.data.transformMode==_.NoScale&&p*y-d*m<0!=(U?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(E=-E);var C=Math.PI/2+Math.atan2(P,k),M=Math.cos(C)*E,I=Math.sin(C)*E;g=F.cosDeg(o)*n,v=F.cosDeg(90+a)*i,b=F.sinDeg(o)*n,w=F.sinDeg(90+a)*i;u.a=k*g+M*b,u.c=k*v+M*w,u.b=P*g+I*b,u.d=P*v+I*w}u.a*=l,u.c*=l,u.b*=c,u.d*=c},t.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*F.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*F.radDeg},t.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.b*t.b)},t.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.c*t.c+t.d*t.d)},t.prototype.updateAppliedTransform=function(){var t=this.parent,e=this.matrix;if(!t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*F.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*F.radDeg);var r=t.matrix,n=1/(r.a*r.d-r.b*r.c),i=e.tx-r.tx,o=e.ty-r.ty;this.ax=i*r.d*n-o*r.c*n,this.ay=o*r.a*n-i*r.b*n;var a=n*r.d,s=n*r.a,u=n*r.c,l=n*r.b,c=a*e.a-u*e.b,h=a*e.c-u*e.d,f=s*e.b-l*e.a,p=s*e.d-l*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+f*f),this.ascaleX>1e-4){var d=c*p-h*f;this.ascaleY=d/this.ascaleX,this.ashearY=Math.atan2(c*h+f*p,d)*F.radDeg,this.arotation=Math.atan2(f,c)*F.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(h*h+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,h)*F.radDeg},t.prototype.worldToLocal=function(t){var e=this.matrix,r=e.a,n=e.c,i=e.b,o=e.d,a=1/(r*o-n*i),s=t.x-e.tx,u=t.y-e.ty;return t.x=s*o*a-u*n*a,t.y=u*r*a-s*i*a,t},t.prototype.localToWorld=function(t){var e=this.matrix,r=t.x,n=t.y;return t.x=r*e.a+n*e.c+e.tx,t.y=r*e.b+n*e.d+e.ty,t},t.prototype.worldToLocalRotation=function(t){var e=F.sinDeg(t),r=F.cosDeg(t),n=this.matrix;return Math.atan2(n.a*e-n.b*r,n.d*r-n.c*e)*F.radDeg},t.prototype.localToWorldRotation=function(t){t-=this.rotation-this.shearX;var e=F.sinDeg(t),r=F.cosDeg(t),n=this.matrix;return Math.atan2(r*n.b+e*n.d,r*n.a+e*n.c)*F.radDeg},t.prototype.rotateWorld=function(t){var e=this.matrix,r=e.a,n=e.c,i=e.b,o=e.d,a=F.cosDeg(t),s=F.sinDeg(t);e.a=a*r-s*i,e.c=a*n-s*o,e.b=s*r+a*i,e.d=s*n+a*o},t}(),qn=function(t,e,r){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=_.Normal,this.skinRequired=!1,this.color=new N,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=r},Nn=function(t,e,r){this.name=t,this.order=e,this.skinRequired=r},Fn=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e},Vn=function(t){this.name=t},Dn=function(){function t(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findBone(t.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){if(0!=this.mix){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix)}}},t.prototype.apply1=function(t,e,r,n,i,o,a){var s=t.parent.matrix,u=s.a,l=s.c,c=s.b,h=s.d,f=-t.ashearX-t.arotation,p=0,d=0;switch(t.data.transformMode){case _.OnlyTranslation:p=e-t.worldX,d=r-t.worldY;break;case _.NoRotationOrReflection:var m=Math.abs(u*h-l*c)/(u*u+c*c),y=u/t.skeleton.scaleX,g=c/t.skeleton.scaleY;l=-g*m*t.skeleton.scaleX,h=y*m*t.skeleton.scaleY,f+=Math.atan2(g,y)*F.radDeg;default:var v=e-s.tx,b=r-s.ty,w=u*h-l*c;p=(v*h-b*l)/w-t.ax,d=(b*u-v*c)/w-t.ay}f+=Math.atan2(d,p)*F.radDeg,t.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);var x=t.ascaleX,S=t.ascaleY;if(n||i){switch(t.data.transformMode){case _.NoScale:case _.NoScaleOrReflection:p=e-t.worldX,d=r-t.worldY}var T=t.data.length*x,E=Math.sqrt(p*p+d*d);if(n&&E<T||i&&E>T&&T>1e-4)x*=m=(E/T-1)*a+1,o&&(S*=m)}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+f*a,x,S,t.ashearX,t.ashearY)},t.prototype.apply2=function(t,e,r,n,i,o,a,s,u){var l=t.ax,c=t.ay,h=t.ascaleX,f=t.ascaleY,p=h,d=f,m=e.ascaleX,y=t.matrix,g=0,v=0,b=0;h<0?(h=-h,g=180,b=-1):(g=0,b=1),f<0&&(f=-f,b=-b),m<0?(m=-m,v=180):v=0;var _=e.ax,w=0,x=0,S=0,T=y.a,E=y.c,O=y.b,A=y.d,k=Math.abs(h-f)<=1e-4;!k||o?(w=0,x=T*_+y.tx,S=O*_+y.ty):(x=T*_+E*(w=e.ay)+y.tx,S=O*_+A*w+y.ty);var P=t.parent.matrix;T=P.a,E=P.c,O=P.b;var C,M,I=1/(T*(A=P.d)-E*O),j=x-P.tx,B=S-P.ty,L=(j*A-B*E)*I-l,R=(B*T-j*O)*I-c,q=Math.sqrt(L*L+R*R),N=e.data.length*m;if(q<1e-4)return this.apply1(t,r,n,!1,o,!1,u),void e.updateWorldTransformWith(_,w,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var V=((j=r-P.tx)*A-(B=n-P.ty)*E)*I-l,D=(B*T-j*O)*I-c,G=V*V+D*D;if(0!=s){s*=h*(m+1)*.5;var z=Math.sqrt(G),U=z-q-N*h+s;if(U>0){var Y=Math.min(1,U/(2*s))-1;G=(V-=(Y=(U-s*(1-Y*Y))/z)*V)*V+(D-=Y*D)*D}}t:if(k){var X=(G-q*q-(N*=h)*N)/(2*q*N);X<-1?(X=-1,M=Math.PI*i):X>1?(X=1,M=0,o&&(p*=T=(Math.sqrt(G)/(q+N)-1)*u+1,a&&(d*=T))):M=Math.acos(X)*i,T=q+N*X,E=N*Math.sin(M),C=Math.atan2(D*T-V*E,V*T+D*E)}else{var W=(T=h*N)*T,H=(E=f*N)*E,Z=Math.atan2(D,V),K=-2*H*q,Q=H-W;if((A=K*K-4*Q*(O=H*q*q+W*G-W*H))>=0){var J=Math.sqrt(A);K<0&&(J=-J);var $=(J=.5*-(K+J))/Q,tt=O/J,et=Math.abs($)<Math.abs(tt)?$:tt;if(et*et<=G){B=Math.sqrt(G-et*et)*i,C=Z-Math.atan2(B,et),M=Math.atan2(B/f,(et-q)/h);break t}}var rt=F.PI,nt=q-T,it=nt*nt,ot=0,at=0,st=q+T,ut=st*st,lt=0;(O=-T*q/(W-H))>=-1&&O<=1&&(O=Math.acos(O),(A=(j=T*Math.cos(O)+q)*j+(B=E*Math.sin(O))*B)<it&&(rt=O,it=A,nt=j,ot=B),A>ut&&(at=O,ut=A,st=j,lt=B)),G<=.5*(it+ut)?(C=Z-Math.atan2(ot*i,nt),M=rt*i):(C=Z-Math.atan2(lt*i,st),M=at*i)}var ct=Math.atan2(w,_)*b,ht=t.arotation;(C=(C-ct)*F.radDeg+g-ht)>180?C-=360:C<-180&&(C+=360),t.updateWorldTransformWith(l,c,ht+C*u,p,d,0,0),ht=e.arotation,(M=((M+ct)*F.radDeg-e.ashearX)*b+v-ht)>180?M-=360:M<-180&&(M+=360),e.updateWorldTransformWith(_,w,ht+M*u,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)},t}(),Gn=function(t){function e(e){var r=t.call(this,e,0,!1)||this;return r.bones=new Array,r.bendDirection=1,r.compress=!1,r.stretch=!1,r.uniform=!1,r.mix=1,r.softness=0,r}return dr(e,t),e}(Nn),zn=function(t){function e(e){var r=t.call(this,e,0,!1)||this;return r.bones=new Array,r.mixRotate=0,r.mixX=0,r.mixY=0,r}return dr(e,t),e}(Nn);!function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent",t[t.Proportional=3]="Proportional"}(Tn||(Tn={}));var Un=function(){function t(t,e){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var r=0,n=t.bones.length;r<n;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){var e=this.target.getAttachment();if(e instanceof wr){var r=this.mixRotate,n=this.mixX,i=this.mixY;if(0!=r||0!=n||0!=i){var o=this.data,a=o.rotateMode==b.Tangent,s=o.rotateMode==b.ChainScale,u=this.bones.length,l=a?u:u+1,c=this.bones,h=D.setArraySize(this.spaces,l),f=s?this.lengths=D.setArraySize(this.lengths,u):null,p=this.spacing;switch(o.spacingMode){case Tn.Percent:if(s)for(var d=0,m=l-1;d<m;d++){if((x=(C=c[d]).data.length)<t.epsilon)f[d]=0;else{var y=x*C.matrix.a,g=x*C.matrix.b;f[d]=Math.sqrt(y*y+g*g)}}D.arrayFill(h,1,l,p);break;case Tn.Proportional:var v=0;for(d=0,m=l-1;d<m;){if((x=(C=c[d]).data.length)<t.epsilon)s&&(f[d]=0),h[++d]=p;else{y=x*C.matrix.a,g=x*C.matrix.b;var _=Math.sqrt(y*y+g*g);s&&(f[d]=_),h[++d]=_,v+=_}}if(v>0){v=l/v*p;for(d=1;d<l;d++)h[d]*=v}break;default:var w=o.spacingMode==Tn.Length;for(d=0,m=l-1;d<m;){var x;if((x=(C=c[d]).data.length)<t.epsilon)s&&(f[d]=0),h[++d]=p;else{y=x*C.matrix.a,g=x*C.matrix.b;var S=Math.sqrt(y*y+g*g);s&&(f[d]=S),h[++d]=(w?x+p:p)*S/x}}}var T=this.computeWorldPositions(e,l,a),E=T[0],O=T[1],A=o.offsetRotation,k=!1;if(0==A)k=o.rotateMode==b.Chain;else k=!1,A*=(P=this.target.bone.matrix).a*P.d-P.b*P.c>0?F.degRad:-F.degRad;d=0;for(var P=3;d<u;d++,P+=3){var C,M=(C=c[d]).matrix;M.tx+=(E-M.tx)*n,M.ty+=(O-M.ty)*i;var I=(y=T[P])-E,j=(g=T[P+1])-O;if(s){var B=f[d];if(0!=B){var L=(Math.sqrt(I*I+j*j)/B-1)*r+1;M.a*=L,M.b*=L}}if(E=y,O=g,r>0){var R=M.a,q=M.c,N=M.b,V=M.d,G=0,z=0,U=0;if(G=a?T[P-1]:0==h[d+1]?T[P+2]:Math.atan2(j,I),G-=Math.atan2(N,R),k){z=Math.cos(G),U=Math.sin(G);var Y=C.data.length;E+=(Y*(z*R-U*N)-I)*r,O+=(Y*(U*R+z*N)-j)*r}else G+=A;G>F.PI?G-=F.PI2:G<-F.PI&&(G+=F.PI2),G*=r,z=Math.cos(G),U=Math.sin(G),M.a=z*R-U*N,M.c=z*q-U*V,M.b=U*R+z*N,M.d=U*q+z*V}C.updateAppliedTransform()}}}},t.prototype.computeWorldPositions=function(e,r,n){var i=this.target,o=this.position,a=this.spaces,s=D.setArraySize(this.positions,3*r+2),u=null,l=e.closed,c=e.worldVerticesLength,h=c/6,f=t.NONE;if(!e.constantSpeed){var p,d=e.lengths,m=d[h-=l?1:2];switch(this.data.positionMode==v.Percent&&(o*=m),this.data.spacingMode){case Tn.Percent:p=m;break;case Tn.Proportional:p=m/r;break;default:p=1}u=D.setArraySize(this.world,8);for(var y=0,g=0,b=0;y<r;y++,g+=3){var _=o+=X=a[y]*p;if(l)(_%=m)<0&&(_+=m),b=0;else{if(_<0){f!=t.BEFORE&&(f=t.BEFORE,e.computeWorldVertices(i,2,4,u,0,2)),this.addBeforePosition(_,u,0,s,g);continue}if(_>m){f!=t.AFTER&&(f=t.AFTER,e.computeWorldVertices(i,c-6,4,u,0,2)),this.addAfterPosition(_-m,u,0,s,g);continue}}for(;;b++){var w=d[b];if(!(_>w)){if(0==b)_/=w;else _=(_-(K=d[b-1]))/(w-K);break}}b!=f&&(f=b,l&&b==h?(e.computeWorldVertices(i,c-4,4,u,0,2),e.computeWorldVertices(i,0,4,u,4,2)):e.computeWorldVertices(i,6*b+2,8,u,0,2)),this.addCurvePosition(_,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],s,g,n||y>0&&0==X)}return s}l?(c+=2,u=D.setArraySize(this.world,c),e.computeWorldVertices(i,2,c-4,u,0,2),e.computeWorldVertices(i,0,2,u,c-4,2),u[c-2]=u[0],u[c-1]=u[1]):(h--,c-=4,u=D.setArraySize(this.world,c),e.computeWorldVertices(i,2,c,u,0,2));for(var x=D.setArraySize(this.curves,h),S=0,T=u[0],E=u[1],O=0,A=0,k=0,P=0,C=0,M=0,I=0,j=0,B=0,L=0,R=0,q=0,N=0,F=0,V=(y=0,2);y<h;y++,V+=6)O=u[V],A=u[V+1],k=u[V+2],P=u[V+3],R=2*(I=.1875*(T-2*O+k))+(B=.09375*(3*(O-k)-T+(C=u[V+4]))),q=2*(j=.1875*(E-2*A+P))+(L=.09375*(3*(A-P)-E+(M=u[V+5]))),N=.75*(O-T)+I+.16666667*B,F=.75*(A-E)+j+.16666667*L,S+=Math.sqrt(N*N+F*F),N+=R,F+=q,R+=B,q+=L,S+=Math.sqrt(N*N+F*F),N+=R,F+=q,S+=Math.sqrt(N*N+F*F),N+=R+B,F+=q+L,S+=Math.sqrt(N*N+F*F),x[y]=S,T=C,E=M;this.data.positionMode==v.Percent&&(o*=S);var G=0;switch(this.data.spacingMode){case Tn.Percent:G=S;break;case Tn.Proportional:G=S/r;break;default:G=1}for(var z=this.segments,U=0,Y=(y=0,g=0,b=0,0);y<r;y++,g+=3){var X;_=o+=X=a[y]*G;if(l)(_%=S)<0&&(_+=S),b=0;else{if(_<0){this.addBeforePosition(_,u,0,s,g);continue}if(_>S){this.addAfterPosition(_-S,u,c-4,s,g);continue}}for(;;b++){var W=x[b];if(!(_>W)){if(0==b)_/=W;else _=(_-(K=x[b-1]))/(W-K);break}}if(b!=f){f=b;var H=6*b;for(T=u[H],E=u[H+1],O=u[H+2],A=u[H+3],k=u[H+4],P=u[H+5],R=2*(I=.03*(T-2*O+k))+(B=.006*(3*(O-k)-T+(C=u[H+6]))),q=2*(j=.03*(E-2*A+P))+(L=.006*(3*(A-P)-E+(M=u[H+7]))),N=.3*(O-T)+I+.16666667*B,F=.3*(A-E)+j+.16666667*L,U=Math.sqrt(N*N+F*F),z[0]=U,H=1;H<8;H++)N+=R,F+=q,R+=B,q+=L,U+=Math.sqrt(N*N+F*F),z[H]=U;N+=R,F+=q,U+=Math.sqrt(N*N+F*F),z[8]=U,N+=R+B,F+=q+L,U+=Math.sqrt(N*N+F*F),z[9]=U,Y=0}for(_*=U;;Y++){var Z=z[Y];if(!(_>Z)){var K;if(0==Y)_/=Z;else _=Y+(_-(K=z[Y-1]))/(Z-K);break}}this.addCurvePosition(.1*_,T,E,O,A,k,P,C,M,s,g,n||y>0&&0==X)}return s},t.prototype.addBeforePosition=function(t,e,r,n,i){var o=e[r],a=e[r+1],s=e[r+2]-o,u=e[r+3]-a,l=Math.atan2(u,s);n[i]=o+t*Math.cos(l),n[i+1]=a+t*Math.sin(l),n[i+2]=l},t.prototype.addAfterPosition=function(t,e,r,n,i){var o=e[r+2],a=e[r+3],s=o-e[r],u=a-e[r+1],l=Math.atan2(u,s);n[i]=o+t*Math.cos(l),n[i+1]=a+t*Math.sin(l),n[i+2]=l},t.prototype.addCurvePosition=function(t,e,r,n,i,o,a,s,u,l,c,h){if(0==t||isNaN(t))return l[c]=e,l[c+1]=r,void(l[c+2]=Math.atan2(i-r,n-e));var f=t*t,p=f*t,d=1-t,m=d*d,y=m*d,g=d*t,v=3*g,b=d*v,_=v*t,w=e*y+n*b+o*_+s*p,x=r*y+i*b+a*_+u*p;l[c]=w,l[c+1]=x,h&&(l[c+2]=t<.001?Math.atan2(i-r,n-e):Math.atan2(x-(r*m+i*g*2+a*f),w-(e*m+n*g*2+o*f)))},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t.epsilon=1e-5,t}(),Yn=function(){function t(t,e){if(this.deform=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new N,this.darkColor=null==t.darkColor?null:new N,this.setToSetupPose(),this.blendMode=this.data.blendMode}return t.prototype.getSkeleton=function(){return this.bone.skeleton},t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},t.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}(),Xn=function(){function t(t,e){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new z,this.active=!1,!t)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=t,this.mixRotate=t.mixRotate,this.mixX=t.mixX,this.mixY=t.mixY,this.mixScaleX=t.mixScaleX,this.mixScaleY=t.mixScaleY,this.mixShearY=t.mixShearY,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findBone(t.target.name)}return t.prototype.isActive=function(){return this.active},t.prototype.update=function(){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleX&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())},t.prototype.applyAbsoluteWorld=function(){for(var t=this.mixRotate,e=this.mixX,r=this.mixY,n=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=0!=e||0!=r,s=this.target,u=s.matrix,l=u.a,c=u.c,h=u.b,f=u.d,p=l*f-c*h>0?F.degRad:-F.degRad,d=this.data.offsetRotation*p,m=this.data.offsetShearY*p,y=this.bones,g=0,v=y.length;g<v;g++){var b=y[g],_=b.matrix;if(0!=t){var w=_.a,x=_.c,S=_.b,T=_.d;(k=Math.atan2(h,l)-Math.atan2(S,w)+d)>F.PI?k-=F.PI2:k<-F.PI&&(k+=F.PI2),k*=t;var E=Math.cos(k),O=Math.sin(k);_.a=E*w-O*S,_.c=E*x-O*T,_.b=O*w+E*S,_.d=O*x+E*T}if(a){var A=this.temp;s.localToWorld(A.set(this.data.offsetX,this.data.offsetY)),_.tx+=(A.x-_.tx)*e,_.ty+=(A.y-_.ty)*r}if(0!=n)0!=(C=Math.sqrt(_.a*_.a+_.b*_.b))&&(C=(C+(Math.sqrt(l*l+h*h)-C+this.data.offsetScaleX)*n)/C),_.a*=C,_.b*=C;if(0!=i)0!=(C=Math.sqrt(_.c*_.c+_.d*_.d))&&(C=(C+(Math.sqrt(c*c+f*f)-C+this.data.offsetScaleY)*i)/C),_.c*=C,_.d*=C;if(o>0){x=_.c,T=_.d;var k,P=Math.atan2(T,x);(k=Math.atan2(f,c)-Math.atan2(h,l)-(P-Math.atan2(_.b,_.a)))>F.PI?k-=F.PI2:k<-F.PI&&(k+=F.PI2),k=P+(k+m)*o;var C=Math.sqrt(x*x+T*T);_.c=Math.cos(k)*C,_.d=Math.sin(k)*C}b.updateAppliedTransform()}},t.prototype.applyRelativeWorld=function(){for(var t=this.mixRotate,e=this.mixX,r=this.mixY,n=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=0!=e||0!=r,s=this.target,u=s.matrix,l=u.a,c=u.c,h=u.b,f=u.d,p=l*f-c*h>0?F.degRad:-F.degRad,d=this.data.offsetRotation*p,m=this.data.offsetShearY*p,y=this.bones,g=0,v=y.length;g<v;g++){var b=y[g],_=b.matrix;if(0!=t){var w=_.a,x=_.c,S=_.b,T=_.d;(P=Math.atan2(h,l)+d)>F.PI?P-=F.PI2:P<-F.PI&&(P+=F.PI2),P*=t;var E=Math.cos(P),O=Math.sin(P);_.a=E*w-O*S,_.c=E*x-O*T,_.b=O*w+E*S,_.d=O*x+E*T}if(a){var A=this.temp;s.localToWorld(A.set(this.data.offsetX,this.data.offsetY)),_.tx+=A.x*e,_.ty+=A.y*r}if(0!=n){var k=(Math.sqrt(l*l+h*h)-1+this.data.offsetScaleX)*n+1;_.a*=k,_.b*=k}if(0!=i){k=(Math.sqrt(c*c+f*f)-1+this.data.offsetScaleY)*i+1;_.c*=k,_.d*=k}if(o>0){var P;(P=Math.atan2(f,c)-Math.atan2(h,l))>F.PI?P-=F.PI2:P<-F.PI&&(P+=F.PI2);x=_.c,T=_.d;P=Math.atan2(T,x)+(P-F.PI/2+m)*o;k=Math.sqrt(x*x+T*T);_.c=Math.cos(P)*k,_.d=Math.sin(P)*k}b.updateAppliedTransform()}},t.prototype.applyAbsoluteLocal=function(){for(var t=this.mixRotate,e=this.mixX,r=this.mixY,n=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=this.target,s=this.bones,u=0,l=s.length;u<l;u++){var c=s[u],h=c.arotation;if(0!=t){var f=a.arotation-h+this.data.offsetRotation;h+=(f-=360*(16384-(16384.499999999996-f/360|0)))*t}var p=c.ax,d=c.ay;p+=(a.ax-p+this.data.offsetX)*e,d+=(a.ay-d+this.data.offsetY)*r;var m=c.ascaleX,y=c.ascaleY;0!=n&&0!=m&&(m=(m+(a.ascaleX-m+this.data.offsetScaleX)*n)/m),0!=i&&0!=y&&(y=(y+(a.ascaleY-y+this.data.offsetScaleY)*i)/y);var g=c.ashearY;if(0!=o){f=a.ashearY-g+this.data.offsetShearY;g+=(f-=360*(16384-(16384.499999999996-f/360|0)))*o}c.updateWorldTransformWith(p,d,h,m,y,c.ashearX,g)}},t.prototype.applyRelativeLocal=function(){for(var t=this.mixRotate,e=this.mixX,r=this.mixY,n=this.mixScaleX,i=this.mixScaleY,o=this.mixShearY,a=this.target,s=this.bones,u=0,l=s.length;u<l;u++){var c=s[u],h=c.arotation+(a.arotation+this.data.offsetRotation)*t,f=c.ax+(a.ax+this.data.offsetX)*e,p=c.ay+(a.ay+this.data.offsetY)*r,d=c.ascaleX*((a.ascaleX-1+this.data.offsetScaleX)*n)+1,m=c.ascaleY*((a.ascaleY-1+this.data.offsetScaleY)*i)+1,y=c.ashearY+(a.ashearY+this.data.offsetShearY)*o;c.updateWorldTransformWith(f,p,h,d,m,c.ashearX,y)}},t}(),Wn=function(){function t(t){if(this._updateCache=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var r=t.bones[e],n=void 0;if(r.parent){var i=this.bones[r.parent.index];n=new Rn(r,this,i),i.children.push(n)}else n=new Rn(r,this,null);this.bones.push(n)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var o=t.slots[e],a=(n=this.bones[o.boneData.index],new Yn(o,n));this.slots.push(a),this.drawOrder.push(a)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var s=t.ikConstraints[e];this.ikConstraints.push(new Dn(s,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var u=t.transformConstraints[e];this.transformConstraints.push(new Xn(u,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var l=t.pathConstraints[e];this.pathConstraints.push(new Un(l,this))}this.color=new N(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){this._updateCache.length=0;for(var t=this.bones,e=0,r=t.length;e<r;e++){(i=t[e]).sorted=i.data.skinRequired,i.active=!i.sorted}if(this.skin){var n=this.skin.bones;for(e=0,r=this.skin.bones.length;e<r;e++){var i=this.bones[n[e].index];do{i.sorted=!1,i.active=!0,i=i.parent}while(i)}}var o=this.ikConstraints,a=this.transformConstraints,s=this.pathConstraints,u=o.length,l=a.length,c=s.length,h=u+l+c;t:for(e=0;e<h;e++){for(var f=0;f<u;f++){if((p=o[f]).data.order==e){this.sortIkConstraint(p);continue t}}for(f=0;f<l;f++){if((p=a[f]).data.order==e){this.sortTransformConstraint(p);continue t}}for(f=0;f<c;f++){var p;if((p=s[f]).data.order==e){this.sortPathConstraint(p);continue t}}}for(e=0,r=t.length;e<r;e++)this.sortBone(t[e])},t.prototype.sortIkConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&D.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target;this.sortBone(e);var r=t.bones,n=r[0];if(this.sortBone(n),1==r.length)this._updateCache.push(t),this.sortReset(n.children);else{var i=r[r.length-1];this.sortBone(i),this._updateCache.push(t),this.sortReset(n.children),i.sorted=!0}}},t.prototype.sortPathConstraint=function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||this.skin&&D.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,r=e.data.index,n=e.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,r,n),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,n);for(var i=0,o=this.data.skins.length;i<o;i++)this.sortPathConstraintAttachment(this.data.skins[i],r,n);var a=e.getAttachment();a instanceof wr&&this.sortPathConstraintAttachmentWith(a,n);var s=t.bones,u=s.length;for(i=0;i<u;i++)this.sortBone(s[i]);this._updateCache.push(t);for(i=0;i<u;i++)this.sortReset(s[i].children);for(i=0;i<u;i++)s[i].sorted=!0}},t.prototype.sortTransformConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||this.skin&&D.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,r=e.length;if(t.data.local)for(var n=0;n<r;n++){var i=e[n];this.sortBone(i.parent),this.sortBone(i)}else for(n=0;n<r;n++)this.sortBone(e[n]);this._updateCache.push(t);for(n=0;n<r;n++)this.sortReset(e[n].children);for(n=0;n<r;n++)e[n].sorted=!0}},t.prototype.sortPathConstraintAttachment=function(t,e,r){var n=t.attachments[e];if(n)for(var i in n)this.sortPathConstraintAttachmentWith(n[i],r)},t.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof wr){var r=t.bones;if(r)for(var n=this.bones,i=0,o=r.length;i<o;){var a=r[i++];for(a+=i;i<a;)this.sortBone(n[r[i++]])}else this.sortBone(e)}},t.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},t.prototype.sortReset=function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];n.active&&(n.sorted&&this.sortReset(n.children),n.sorted=!1)}},t.prototype.updateWorldTransform=function(){for(var t=this.bones,e=0,r=t.length;e<r;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY}var i=this._updateCache;for(e=0,r=i.length;e<r;e++)i[e].update()},t.prototype.updateWorldTransformWith=function(t){var e=this.getRootBone(),r=t.matrix.a,n=t.matrix.c,i=t.matrix.b,o=t.matrix.d;e.matrix.tx=r*this.x+n*this.y+t.worldX,e.matrix.ty=i*this.x+o*this.y+t.worldY;var a=e.rotation+90+e.shearY,s=F.cosDeg(e.rotation+e.shearX)*e.scaleX,u=F.cosDeg(a)*e.scaleY,l=F.sinDeg(e.rotation+e.shearX)*e.scaleX,c=F.sinDeg(a)*e.scaleY,h=this.scaleX,f=U?-this.scaleY:this.scaleY;e.matrix.a=(r*s+n*l)*h,e.matrix.c=(r*u+n*c)*h,e.matrix.b=(i*s+o*l)*f,e.matrix.d=(i*u+o*c)*f;for(var p=this._updateCache,d=0,m=p.length;d<m;d++){var y=p[d];y!=e&&y.update()}},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,r=t.length;e<r;e++)t[e].setToSetupPose();var n=this.ikConstraints;for(e=0,r=n.length;e<r;e++){(s=n[e]).mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch}var i=this.transformConstraints;for(e=0,r=i.length;e<r;e++){var o=(s=i[e]).data;s.mixRotate=o.mixRotate,s.mixX=o.mixX,s.mixY=o.mixY,s.mixScaleX=o.mixScaleX,s.mixScaleY=o.mixScaleY,s.mixShearY=o.mixShearY}var a=this.pathConstraints;for(e=0,r=a.length;e<r;e++){var s;o=(s=a[e]).data;s.position=o.position,s.spacing=o.spacing,s.mixRotate=o.mixRotate,s.mixX=o.mixX,s.mixY=o.mixY}},t.prototype.setSlotsToSetupPose=function(){var t=this.slots;D.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,r=t.length;e<r;e++)t[e].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},t.prototype.findBoneIndex=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1},t.prototype.findSlot=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},t.prototype.findSlotIndex=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1},t.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(!e)throw new Error("Skin not found: "+t);this.setSkin(e)},t.prototype.setSkin=function(t){if(t!=this.skin){if(t)if(this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r],o=i.data.attachmentName;if(o){var a=t.getAttachment(r,o);a&&i.setAttachment(a)}}this.skin=t,this.updateCache()}},t.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},t.prototype.getAttachment=function(t,e){if(!e)throw new Error("attachmentName cannot be null.");if(this.skin){var r=this.skin.getAttachment(t,e);if(r)return r}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},t.prototype.setAttachment=function(t,e){if(!t)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,i=r.length;n<i;n++){var o=r[n];if(o.data.name==t){var a=null;if(e&&!(a=this.getAttachment(n,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void o.setAttachment(a)}}throw new Error("Slot not found: "+t)},t.prototype.findIkConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},t.prototype.findTransformConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},t.prototype.findPathConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.data.name==t)return i}return null},t.prototype.getBounds=function(t,e,r){if(void 0===r&&(r=new Array(2)),!t)throw new Error("offset cannot be null.");if(!e)throw new Error("size cannot be null.");for(var n=this.drawOrder,i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=0,l=n.length;u<l;u++){var c=n[u];if(c.bone.active){var h=0,f=null,p=c.getAttachment();if(p instanceof Sr)h=8,f=D.setArraySize(r,h,0),p.computeWorldVertices(c.bone,f,0,2);else if(p instanceof _r){var d=p;h=d.worldVerticesLength,f=D.setArraySize(r,h,0),d.computeWorldVertices(c,0,h,f,0,2)}if(f)for(var m=0,y=f.length;m<y;m+=2){var g=f[m],v=f[m+1];i=Math.min(i,g),o=Math.min(o,v),a=Math.max(a,g),s=Math.max(s,v)}}}t.set(i,o),e.set(a-i,s-o)},t.prototype.update=function(t){this.time+=t},Object.defineProperty(t.prototype,"flipX",{get:function(){return-1==this.scaleX},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=e?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flipY",{get:function(){return-1==this.scaleY},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=e?1:-1},enumerable:!1,configurable:!0}),t.deprecatedWarning1=!1,t}(),Hn=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findBoneIndex=function(t){if(!t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},t.prototype.findSlot=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findSlotIndex=function(t){if(!t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},t.prototype.findSkin=function(t){if(!t)throw new Error("skinName cannot be null.");for(var e=this.skins,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findEvent=function(t){if(!t)throw new Error("eventDataName cannot be null.");for(var e=this.events,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findAnimation=function(t){if(!t)throw new Error("animationName cannot be null.");for(var e=this.animations,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findIkConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findTransformConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findPathConstraint=function(t){if(!t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var i=e[r];if(i.name==t)return i}return null},t.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},t}(),Zn=function(t,e,r){if(this.color=new N(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(!e)throw new Error("name cannot be null.");if(!r)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=r},Kn=function(t){function e(e){var r=t.call(this,e,0,!1)||this;return r.bones=new Array,r.mixRotate=0,r.mixX=0,r.mixY=0,r.mixScaleX=0,r.mixScaleY=0,r.mixShearY=0,r.offsetRotation=0,r.offsetX=0,r.offsetY=0,r.offsetScaleX=0,r.offsetScaleY=0,r.offsetShearY=0,r.relative=!1,r.local=!1,r}return dr(e,t),e}(Nn),Qn=function(t,e,r){this.slotIndex=t,this.name=e,this.attachment=r},Jn=function(){function t(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!t)throw new Error("name cannot be null.");this.name=t}return t.prototype.setAttachment=function(t,e,r){if(!r)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=r},t.prototype.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var r=t.bones[e],n=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==r){n=!0;break}n||this.bones.push(r)}for(e=0;e<t.constraints.length;e++){var o=t.constraints[e];for(n=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==o){n=!0;break}n||this.constraints.push(o)}var a=t.getAttachments();for(e=0;e<a.length;e++){var s=a[e];this.setAttachment(s.slotIndex,s.name,s.attachment)}},t.prototype.copySkin=function(t){for(var e=0;e<t.bones.length;e++){for(var r=t.bones[e],n=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==r){n=!0;break}n||this.bones.push(r)}for(e=0;e<t.constraints.length;e++){var o=t.constraints[e];for(n=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==o){n=!0;break}n||this.constraints.push(o)}var a=t.getAttachments();for(e=0;e<a.length;e++){var s=a[e];s.attachment&&(s.attachment instanceof _r?(s.attachment=s.attachment.newLinkedMesh(),this.setAttachment(s.slotIndex,s.name,s.attachment)):(s.attachment=s.attachment.copy(),this.setAttachment(s.slotIndex,s.name,s.attachment)))}},t.prototype.getAttachment=function(t,e){var r=this.attachments[t];return r?r[e]:null},t.prototype.removeAttachment=function(t,e){var r=this.attachments[t];r&&(r[e]=null)},t.prototype.getAttachments=function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var r=this.attachments[e];if(r)for(var n in r){var i=r[n];i&&t.push(new Qn(e,n,i))}}return t},t.prototype.getAttachmentsForSlot=function(t,e){var r=this.attachments[t];if(r)for(var n in r){var i=r[n];i&&e.push(new Qn(t,n,i))}},t.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},t.prototype.attachAll=function(t,e){for(var r=0,n=0;n<t.slots.length;n++){var i=t.slots[n],o=i.getAttachment();if(o&&r<e.attachments.length){var a=e.attachments[r];for(var s in a){if(o==a[s]){var u=this.getAttachment(r,s);u&&i.setAttachment(u);break}}}r++}},t}(),$n=function(){function t(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new Hn;n.name="";var i=new w(e),o=i.readInt32(),a=i.readInt32();if(n.hash=0==a&&0==o?null:a.toString(16)+o.toString(16),n.version=i.readString(),"4.0"!==n.version.substr(0,3)){var s="Spine 4.0 loader cant load version "+n.version+". Please configure your pixi-spine bundle";console.error(s)}n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var u=i.readBoolean();u&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());var l=0;l=i.readInt(!0);for(var c=0;c<l;c++)i.strings.push(i.readString());l=i.readInt(!0);for(c=0;c<l;c++){var h=i.readString(),f=0==c?null:n.bones[i.readInt(!0)];(m=new qn(c,h,f)).rotation=i.readFloat(),m.x=i.readFloat()*r,m.y=i.readFloat()*r,m.scaleX=i.readFloat(),m.scaleY=i.readFloat(),m.shearX=i.readFloat(),m.shearY=i.readFloat(),m.length=i.readFloat()*r,m.transformMode=i.readInt(!0),m.skinRequired=i.readBoolean(),u&&N.rgba8888ToColor(m.color,i.readInt32()),n.bones.push(m)}l=i.readInt(!0);for(c=0;c<l;c++){var p=i.readString(),d=n.bones[i.readInt(!0)],m=new Zn(c,p,d);N.rgba8888ToColor(m.color,i.readInt32());var y=i.readInt32();-1!=y&&N.rgb888ToColor(m.darkColor=new N,y),m.attachmentName=i.readStringRef(),m.blendMode=t.BlendModeValues[i.readInt(!0)],n.slots.push(m)}l=i.readInt(!0);c=0;for(var g=void 0;c<l;c++){(m=new Gn(i.readString())).order=i.readInt(!0),m.skinRequired=i.readBoolean(),g=i.readInt(!0);for(var b=0;b<g;b++)m.bones.push(n.bones[i.readInt(!0)]);m.target=n.bones[i.readInt(!0)],m.mix=i.readFloat(),m.softness=i.readFloat()*r,m.bendDirection=i.readByte(),m.compress=i.readBoolean(),m.stretch=i.readBoolean(),m.uniform=i.readBoolean(),n.ikConstraints.push(m)}l=i.readInt(!0);for(c=0,g=void 0;c<l;c++){(m=new Kn(i.readString())).order=i.readInt(!0),m.skinRequired=i.readBoolean(),g=i.readInt(!0);for(b=0;b<g;b++)m.bones.push(n.bones[i.readInt(!0)]);m.target=n.bones[i.readInt(!0)],m.local=i.readBoolean(),m.relative=i.readBoolean(),m.offsetRotation=i.readFloat(),m.offsetX=i.readFloat()*r,m.offsetY=i.readFloat()*r,m.offsetScaleX=i.readFloat(),m.offsetScaleY=i.readFloat(),m.offsetShearY=i.readFloat(),m.mixRotate=i.readFloat(),m.mixX=i.readFloat(),m.mixY=i.readFloat(),m.mixScaleX=i.readFloat(),m.mixScaleY=i.readFloat(),m.mixShearY=i.readFloat(),n.transformConstraints.push(m)}l=i.readInt(!0);for(c=0,g=void 0;c<l;c++){(m=new zn(i.readString())).order=i.readInt(!0),m.skinRequired=i.readBoolean(),g=i.readInt(!0);for(b=0;b<g;b++)m.bones.push(n.bones[i.readInt(!0)]);m.target=n.slots[i.readInt(!0)],m.positionMode=i.readInt(!0),m.spacingMode=i.readInt(!0),m.rotateMode=i.readInt(!0),m.offsetRotation=i.readFloat(),m.position=i.readFloat(),m.positionMode==v.Fixed&&(m.position*=r),m.spacing=i.readFloat(),m.spacingMode!=Tn.Length&&m.spacingMode!=Tn.Fixed||(m.spacing*=r),m.mixRotate=i.readFloat(),m.mixX=i.readFloat(),m.mixY=i.readFloat(),n.pathConstraints.push(m)}var _=this.readSkin(i,n,!0,u);_&&(n.defaultSkin=_,n.skins.push(_));c=n.skins.length;for(D.setArraySize(n.skins,l=c+i.readInt(!0));c<l;c++)n.skins[c]=this.readSkin(i,n,!1,u);l=this.linkedMeshes.length;for(c=0;c<l;c++){var x=this.linkedMeshes[c],S=(x.skin?n.findSkin(x.skin):n.defaultSkin).getAttachment(x.slotIndex,x.parent);x.mesh.deformAttachment=x.inheritDeform?S:x.mesh,x.mesh.setParentMesh(S)}this.linkedMeshes.length=0,l=i.readInt(!0);for(c=0;c<l;c++){(m=new Vn(i.readStringRef())).intValue=i.readInt(!1),m.floatValue=i.readFloat(),m.stringValue=i.readString(),m.audioPath=i.readString(),m.audioPath&&(m.volume=i.readFloat(),m.balance=i.readFloat()),n.events.push(m)}l=i.readInt(!0);for(c=0;c<l;c++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},t.prototype.readSkin=function(t,e,r,n){var i=null,o=0;if(r){if(0==(o=t.readInt(!0)))return null;i=new Jn("default")}else{(i=new Jn(t.readStringRef())).bones.length=t.readInt(!0);for(var a=0,s=i.bones.length;a<s;a++)i.bones[a]=e.bones[t.readInt(!0)];for(a=0,s=t.readInt(!0);a<s;a++)i.constraints.push(e.ikConstraints[t.readInt(!0)]);for(a=0,s=t.readInt(!0);a<s;a++)i.constraints.push(e.transformConstraints[t.readInt(!0)]);for(a=0,s=t.readInt(!0);a<s;a++)i.constraints.push(e.pathConstraints[t.readInt(!0)]);o=t.readInt(!0)}for(a=0;a<o;a++)for(var u=t.readInt(!0),l=0,c=t.readInt(!0);l<c;l++){var h=t.readStringRef(),f=this.readAttachment(t,e,i,u,h,n);f&&i.setAttachment(u,h,f)}return i},t.prototype.readAttachment=function(t,e,r,n,i,o){var s=this.scale,u=t.readStringRef();switch(u||(u=i),t.readByte()){case a.Region:var l=t.readStringRef(),c=t.readFloat(),h=t.readFloat(),f=t.readFloat(),p=t.readFloat(),d=t.readFloat(),m=t.readFloat(),y=t.readFloat(),g=t.readInt32();l||(l=u);var v=this.attachmentLoader.newRegionAttachment(r,u,l);return v?(v.path=l,v.x=h*s,v.y=f*s,v.scaleX=p,v.scaleY=d,v.rotation=c,v.width=m*s,v.height=y*s,N.rgba8888ToColor(v.color,g),v):null;case a.BoundingBox:var b=t.readInt(!0),_=this.readVertices(t,b),w=(g=o?t.readInt32():0,this.attachmentLoader.newBoundingBoxAttachment(r,u));return w?(w.worldVerticesLength=b<<1,w.vertices=_.vertices,w.bones=_.bones,o&&N.rgba8888ToColor(w.color,g),w):null;case a.Mesh:l=t.readStringRef(),g=t.readInt32(),b=t.readInt(!0);var x=this.readFloatArray(t,b<<1,1),S=this.readShortArray(t),T=(_=this.readVertices(t,b),t.readInt(!0)),E=null;m=0,y=0;return o&&(E=this.readShortArray(t),m=t.readFloat(),y=t.readFloat()),l||(l=u),(O=this.attachmentLoader.newMeshAttachment(r,u,l))?(O.path=l,N.rgba8888ToColor(O.color,g),O.bones=_.bones,O.vertices=_.vertices,O.worldVerticesLength=b<<1,O.triangles=S,O.regionUVs=new Float32Array(x),O.hullLength=T<<1,o&&(O.edges=E,O.width=m*s,O.height=y*s),O):null;case a.LinkedMesh:l=t.readStringRef(),g=t.readInt32();var O,A=t.readStringRef(),k=t.readStringRef(),P=t.readBoolean();m=0,y=0;return o&&(m=t.readFloat(),y=t.readFloat()),l||(l=u),(O=this.attachmentLoader.newMeshAttachment(r,u,l))?(O.path=l,N.rgba8888ToColor(O.color,g),o&&(O.width=m*s,O.height=y*s),this.linkedMeshes.push(new ti(O,A,n,k,P)),O):null;case a.Path:for(var C=t.readBoolean(),M=t.readBoolean(),I=(b=t.readInt(!0),_=this.readVertices(t,b),D.newArray(b/3,0)),j=0,B=I.length;j<B;j++)I[j]=t.readFloat()*s;g=o?t.readInt32():0;return(l=this.attachmentLoader.newPathAttachment(r,u))?(l.closed=C,l.constantSpeed=M,l.worldVerticesLength=b<<1,l.vertices=_.vertices,l.bones=_.bones,l.lengths=I,o&&N.rgba8888ToColor(l.color,g),l):null;case a.Point:c=t.readFloat(),h=t.readFloat(),f=t.readFloat(),g=o?t.readInt32():0;var L=this.attachmentLoader.newPointAttachment(r,u);return L?(L.x=h*s,L.y=f*s,L.rotation=c,o&&N.rgba8888ToColor(L.color,g),L):null;case a.Clipping:var R=t.readInt(!0),q=(b=t.readInt(!0),_=this.readVertices(t,b),g=o?t.readInt32():0,this.attachmentLoader.newClippingAttachment(r,u));return q?(q.endSlot=e.slots[R],q.worldVerticesLength=b<<1,q.vertices=_.vertices,q.bones=_.bones,o&&N.rgba8888ToColor(q.color,g),q):null}return null},t.prototype.readVertices=function(t,e){var r=this.scale,n=e<<1,i=new ei;if(!t.readBoolean())return i.vertices=this.readFloatArray(t,n,r),i;for(var o=new Array,a=new Array,s=0;s<e;s++){var u=t.readInt(!0);a.push(u);for(var l=0;l<u;l++)a.push(t.readInt(!0)),o.push(t.readFloat()*r),o.push(t.readFloat()*r),o.push(t.readFloat())}return i.vertices=D.toFloatArray(o),i.bones=a,i},t.prototype.readFloatArray=function(t,e,r){var n=new Array(e);if(1==r)for(var i=0;i<e;i++)n[i]=t.readFloat();else for(i=0;i<e;i++)n[i]=t.readFloat()*r;return n},t.prototype.readShortArray=function(t){for(var e=t.readInt(!0),r=new Array(e),n=0;n<e;n++)r[n]=t.readShort();return r},t.prototype.readAnimation=function(t,e,r){t.readInt(!0);for(var n=new Array,i=this.scale,o=0,a=t.readInt(!0);o<a;o++)for(var s=t.readInt(!0),u=0,l=t.readInt(!0);u<l;u++){var c=t.readByte(),h=(R=t.readInt(!0))-1;switch(c){case mi:for(var f=new fn(R,s),p=0;p<R;p++)f.setFrame(p,t.readFloat(),t.readStringRef());n.push(f);break;case yi:for(var d=t.readInt(!0),m=(f=new sn(R,d,s),t.readFloat()),y=t.readUnsignedByte()/255,g=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255,_=t.readUnsignedByte()/255,w=(p=0,0);f.setFrame(p,m,y,g,b,_),p!=h;p++){var x=t.readFloat(),S=t.readUnsignedByte()/255,T=t.readUnsignedByte()/255,E=t.readUnsignedByte()/255,O=t.readUnsignedByte()/255;switch(t.readByte()){case Ti:f.setStepped(p);break;case Ei:ii(t,f,w++,p,0,m,x,y,S,1),ii(t,f,w++,p,1,m,x,g,T,1),ii(t,f,w++,p,2,m,x,b,E,1),ii(t,f,w++,p,3,m,x,_,O,1)}m=x,y=S,g=T,b=E,_=O}n.push(f);break;case gi:for(d=t.readInt(!0),f=new un(R,d,s),m=t.readFloat(),y=t.readUnsignedByte()/255,g=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255,p=0,w=0;f.setFrame(p,m,y,g,b),p!=h;p++){x=t.readFloat(),S=t.readUnsignedByte()/255,T=t.readUnsignedByte()/255,E=t.readUnsignedByte()/255;switch(t.readByte()){case Ti:f.setStepped(p);break;case Ei:ii(t,f,w++,p,0,m,x,y,S,1),ii(t,f,w++,p,1,m,x,g,T,1),ii(t,f,w++,p,2,m,x,b,E,1)}m=x,y=S,g=T,b=E}n.push(f);break;case vi:for(d=t.readInt(!0),f=new cn(R,d,s),m=t.readFloat(),y=t.readUnsignedByte()/255,g=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255,_=t.readUnsignedByte()/255,S=t.readUnsignedByte()/255,T=t.readUnsignedByte()/255,E=t.readUnsignedByte()/255,p=0,w=0;f.setFrame(p,m,y,g,b,_,S,T,E),p!=h;p++){x=t.readFloat();var A=t.readUnsignedByte()/255,k=t.readUnsignedByte()/255,P=t.readUnsignedByte()/255,C=t.readUnsignedByte()/255,M=t.readUnsignedByte()/255,I=t.readUnsignedByte()/255,j=t.readUnsignedByte()/255;switch(t.readByte()){case Ti:f.setStepped(p);break;case Ei:ii(t,f,w++,p,0,m,x,y,A,1),ii(t,f,w++,p,1,m,x,g,k,1),ii(t,f,w++,p,2,m,x,b,P,1),ii(t,f,w++,p,3,m,x,_,C,1),ii(t,f,w++,p,4,m,x,S,M,1),ii(t,f,w++,p,5,m,x,T,I,1),ii(t,f,w++,p,6,m,x,E,j,1)}m=x,y=A,g=k,b=P,_=C,S=M,T=I,E=j}n.push(f);break;case bi:for(d=t.readInt(!0),f=new hn(R,d,s),m=t.readFloat(),y=t.readUnsignedByte()/255,g=t.readUnsignedByte()/255,b=t.readUnsignedByte()/255,S=t.readUnsignedByte()/255,T=t.readUnsignedByte()/255,E=t.readUnsignedByte()/255,p=0,w=0;f.setFrame(p,m,y,g,b,S,T,E),p!=h;p++){x=t.readFloat(),A=t.readUnsignedByte()/255,k=t.readUnsignedByte()/255,P=t.readUnsignedByte()/255,M=t.readUnsignedByte()/255,I=t.readUnsignedByte()/255,j=t.readUnsignedByte()/255;switch(t.readByte()){case Ti:f.setStepped(p);break;case Ei:ii(t,f,w++,p,0,m,x,y,A,1),ii(t,f,w++,p,1,m,x,g,k,1),ii(t,f,w++,p,2,m,x,b,P,1),ii(t,f,w++,p,3,m,x,S,M,1),ii(t,f,w++,p,4,m,x,T,I,1),ii(t,f,w++,p,5,m,x,E,j,1)}m=x,y=A,g=k,b=P,S=M,T=I,E=j}n.push(f);break;case _i:for(f=new ln(R,t.readInt(!0),s),m=t.readFloat(),_=t.readUnsignedByte()/255,p=0,w=0;f.setFrame(p,m,_),p!=h;p++){x=t.readFloat(),O=t.readUnsignedByte()/255;switch(t.readByte()){case Ti:f.setStepped(p);break;case Ei:ii(t,f,w++,p,0,m,x,_,O,1)}m=x,_=O}n.push(f)}}for(o=0,a=t.readInt(!0);o<a;o++){var B=t.readInt(!0);for(u=0,l=t.readInt(!0);u<l;u++){var L=t.readByte(),R=t.readInt(!0);d=t.readInt(!0);switch(L){case oi:n.push(ri(t,new Kr(R,d,B),1));break;case ai:n.push(ni(t,new Qr(R,d,B),i));break;case si:n.push(ri(t,new Jr(R,d,B),i));break;case ui:n.push(ri(t,new $r(R,d,B),i));break;case li:n.push(ni(t,new tn(R,d,B),1));break;case ci:n.push(ri(t,new en(R,d,B),1));break;case hi:n.push(ri(t,new rn(R,d,B),1));break;case fi:n.push(ni(t,new nn(R,d,B),1));break;case pi:n.push(ri(t,new on(R,d,B),1));break;case di:n.push(ri(t,new an(R,d,B),1))}}}for(o=0,a=t.readInt(!0);o<a;o++){var q=t.readInt(!0),N=(h=(R=t.readInt(!0))-1,f=new yn(R,t.readInt(!0),q),m=t.readFloat(),t.readFloat()),F=t.readFloat()*i;for(p=0,w=0;f.setFrame(p,m,N,F,t.readByte(),t.readBoolean(),t.readBoolean()),p!=h;p++){x=t.readFloat();var V=t.readFloat(),G=t.readFloat()*i;switch(t.readByte()){case Ti:f.setStepped(p);break;case Ei:ii(t,f,w++,p,0,m,x,N,V,1),ii(t,f,w++,p,1,m,x,F,G,i)}m=x,N=V,F=G}n.push(f)}for(o=0,a=t.readInt(!0);o<a;o++){q=t.readInt(!0),h=(R=t.readInt(!0))-1,f=new gn(R,t.readInt(!0),q),m=t.readFloat();var z=t.readFloat(),U=t.readFloat(),Y=t.readFloat(),X=t.readFloat(),W=t.readFloat(),H=t.readFloat();for(p=0,w=0;f.setFrame(p,m,z,U,Y,X,W,H),p!=h;p++){x=t.readFloat();var Z=t.readFloat(),K=t.readFloat(),Q=t.readFloat(),J=t.readFloat(),$=t.readFloat(),tt=t.readFloat();switch(t.readByte()){case Ti:f.setStepped(p);break;case Ei:ii(t,f,w++,p,0,m,x,z,Z,1),ii(t,f,w++,p,1,m,x,U,K,1),ii(t,f,w++,p,2,m,x,Y,Q,1),ii(t,f,w++,p,3,m,x,X,J,1),ii(t,f,w++,p,4,m,x,W,$,1),ii(t,f,w++,p,5,m,x,H,tt,1)}m=x,z=Z,U=K,Y=Q,X=J,W=$,H=tt}n.push(f)}for(o=0,a=t.readInt(!0);o<a;o++){q=t.readInt(!0);var et=r.pathConstraints[q];for(u=0,l=t.readInt(!0);u<l;u++)switch(t.readByte()){case wi:n.push(ri(t,new vn(t.readInt(!0),t.readInt(!0),q),et.positionMode==v.Fixed?i:1));break;case xi:n.push(ri(t,new bn(t.readInt(!0),t.readInt(!0),q),et.spacingMode==Tn.Length||et.spacingMode==Tn.Fixed?i:1));break;case Si:for(f=new _n(t.readInt(!0),t.readInt(!0),q),m=t.readFloat(),z=t.readFloat(),U=t.readFloat(),Y=t.readFloat(),p=0,w=0,h=f.getFrameCount()-1;f.setFrame(p,m,z,U,Y),p!=h;p++){x=t.readFloat(),Z=t.readFloat(),K=t.readFloat(),Q=t.readFloat();switch(t.readByte()){case Ti:f.setStepped(p);break;case Ei:ii(t,f,w++,p,0,m,x,z,Z,1),ii(t,f,w++,p,1,m,x,U,K,1),ii(t,f,w++,p,2,m,x,Y,Q,1)}m=x,z=Z,U=K,Y=Q}n.push(f)}}for(o=0,a=t.readInt(!0);o<a;o++){var rt=r.skins[t.readInt(!0)];for(u=0,l=t.readInt(!0);u<l;u++){s=t.readInt(!0);for(var nt=0,it=t.readInt(!0);nt<it;nt++){var ot=t.readStringRef(),at=rt.getAttachment(s,ot),st=at.bones,ut=at.vertices,lt=st?ut.length/3*2:ut.length;for(h=(R=t.readInt(!0))-1,d=t.readInt(!0),f=new pn(R,d,s,at),m=t.readFloat(),p=0,w=0;;p++){var ct=void 0,ht=t.readInt(!0);if(0==ht)ct=st?D.newFloatArray(lt):ut;else{ct=D.newFloatArray(lt);var ft=t.readInt(!0);if(ht+=ft,1==i)for(var pt=ft;pt<ht;pt++)ct[pt]=t.readFloat();else for(pt=ft;pt<ht;pt++)ct[pt]=t.readFloat()*i;if(!st){pt=0;for(var dt=ct.length;pt<dt;pt++)ct[pt]+=ut[pt]}}if(f.setFrame(p,m,ct),p==h)break;x=t.readFloat();switch(t.readByte()){case Ti:f.setStepped(p);break;case Ei:ii(t,f,w++,p,0,m,x,0,1,1)}m=x}n.push(f)}}}var mt=t.readInt(!0);if(mt>0){f=new mn(mt);var yt=r.slots.length;for(o=0;o<mt;o++){m=t.readFloat();var gt=t.readInt(!0),vt=D.newArray(yt,0);for(u=yt-1;u>=0;u--)vt[u]=-1;var bt=D.newArray(yt-gt,0),_t=0,wt=0;for(u=0;u<gt;u++){for(s=t.readInt(!0);_t!=s;)bt[wt++]=_t++;vt[_t+t.readInt(!0)]=_t++}for(;_t<yt;)bt[wt++]=_t++;for(u=yt-1;u>=0;u--)-1==vt[u]&&(vt[u]=bt[--wt]);f.setFrame(o,m,vt)}n.push(f)}var xt=t.readInt(!0);if(xt>0){for(f=new dn(xt),o=0;o<xt;o++){m=t.readFloat();var St=r.events[t.readInt(!0)],Tt=new Fn(m,St);Tt.intValue=t.readInt(!1),Tt.floatValue=t.readFloat(),Tt.stringValue=t.readBoolean()?t.readString():St.stringValue,Tt.data.audioPath&&(Tt.volume=t.readFloat(),Tt.balance=t.readFloat()),f.setFrame(o,Tt)}n.push(f)}var Et=0;for(o=0,a=n.length;o<a;o++)Et=Math.max(Et,n[o].getDuration());return new Or(e,n,Et)},t.BlendModeValues=[l.T$.NORMAL,l.T$.ADD,l.T$.MULTIPLY,l.T$.SCREEN],t}(),ti=function(t,e,r,n,i){this.mesh=t,this.skin=e,this.slotIndex=r,this.parent=n,this.inheritDeform=i},ei=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.bones=t,this.vertices=e};function ri(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,o=0,a=0,s=e.getFrameCount()-1;e.setFrame(o,n,i),o!=s;o++){var u=t.readFloat(),l=t.readFloat()*r;switch(t.readByte()){case Ti:e.setStepped(o);break;case Ei:ii(t,e,a++,o,0,n,u,i,l,r)}n=u,i=l}return e}function ni(t,e,r){for(var n=t.readFloat(),i=t.readFloat()*r,o=t.readFloat()*r,a=0,s=0,u=e.getFrameCount()-1;e.setFrame(a,n,i,o),a!=u;a++){var l=t.readFloat(),c=t.readFloat()*r,h=t.readFloat()*r;switch(t.readByte()){case Ti:e.setStepped(a);break;case Ei:ii(t,e,s++,a,0,n,l,i,c,r),ii(t,e,s++,a,1,n,l,o,h,r)}n=l,i=c,o=h}return e}function ii(t,e,r,n,i,o,a,s,u,l){e.setBezier(r,n,i,o,s,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,a,u)}var oi=0,ai=1,si=2,ui=3,li=4,ci=5,hi=6,fi=7,pi=8,di=9,mi=0,yi=1,gi=2,vi=3,bi=4,_i=5,wi=0,xi=1,Si=2,Ti=1,Ei=2,Oi=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new G((function(){return D.newFloatArray(16)}))}return t.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var r=this.boundingBoxes,n=this.polygons,i=this.polygonPool,o=t.slots,a=o.length;r.length=0,i.freeAll(n),n.length=0;for(var s=0;s<a;s++){var u=o[s];if(u.bone.active){var l=u.getAttachment();if(l instanceof vr){var c=l;r.push(c);var h=i.obtain();h.length!=c.worldVerticesLength&&(h=D.newFloatArray(c.worldVerticesLength)),n.push(h),c.computeWorldVertices(u,0,c.worldVerticesLength,h,0,2)}}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},t.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=this.polygons,o=0,a=i.length;o<a;o++)for(var s=i[o],u=s,l=0,c=s.length;l<c;l+=2){var h=u[l],f=u[l+1];t=Math.min(t,h),e=Math.min(e,f),r=Math.max(r,h),n=Math.max(n,f)}this.minX=t,this.minY=e,this.maxX=r,this.maxY=n},t.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},t.prototype.aabbIntersectsSegment=function(t,e,r,n){var i=this.minX,o=this.minY,a=this.maxX,s=this.maxY;if(t<=i&&r<=i||e<=o&&n<=o||t>=a&&r>=a||e>=s&&n>=s)return!1;var u=(n-e)/(r-t),l=u*(i-t)+e;if(l>o&&l<s)return!0;if((l=u*(a-t)+e)>o&&l<s)return!0;var c=(o-e)/u+t;return c>i&&c<a||(c=(s-e)/u+t)>i&&c<a},t.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.containsPoint=function(t,e){for(var r=this.polygons,n=0,i=r.length;n<i;n++)if(this.containsPointPolygon(r[n],t,e))return this.boundingBoxes[n];return null},t.prototype.containsPointPolygon=function(t,e,r){for(var n=t,i=t.length,o=i-2,a=!1,s=0;s<i;s+=2){var u=n[s+1],l=n[o+1];if(u<r&&l>=r||l<r&&u>=r){var c=n[s];c+(r-u)/(l-u)*(n[o]-c)<e&&(a=!a)}o=s}return a},t.prototype.intersectsSegment=function(t,e,r,n){for(var i=this.polygons,o=0,a=i.length;o<a;o++)if(this.intersectsSegmentPolygon(i[o],t,e,r,n))return this.boundingBoxes[o];return null},t.prototype.intersectsSegmentPolygon=function(t,e,r,n,i){for(var o=t,a=t.length,s=e-n,u=r-i,l=e*i-r*n,c=o[a-2],h=o[a-1],f=0;f<a;f+=2){var p=o[f],d=o[f+1],m=c*d-h*p,y=c-p,g=h-d,v=s*g-u*y,b=(l*y-s*m)/v;if((b>=c&&b<=p||b>=p&&b<=c)&&(b>=e&&b<=n||b>=n&&b<=e)){var _=(l*g-u*m)/v;if((_>=h&&_<=d||_>=d&&_<=h)&&(_>=r&&_<=i||_>=i&&_<=r))return!0}c=p,h=d}return!1},t.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}(),Ai=function(){function t(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return t.prototype.readSkeletonData=function(e){var r=this.scale,n=new Hn,i="string"==typeof e?JSON.parse(e):e,o=i.skeleton;if(o){if(n.hash=o.hash,n.version=o.spine,"4.0"!==n.version.substr(0,3)){var a="Spine 4.0 loader cant load version "+o.spine+". Please configure your pixi-spine bundle";console.error(a)}n.x=o.x,n.y=o.y,n.width=o.width,n.height=o.height,n.fps=o.fps,n.imagesPath=o.images}if(i.bones)for(var s=0;s<i.bones.length;s++){var u=i.bones[s],l=null,c=Ii(u,"parent",null);if(null!=c&&null==(l=n.findBone(c)))throw new Error("Parent bone not found: "+c);(m=new qn(n.bones.length,u.name,l)).length=Ii(u,"length",0)*r,m.x=Ii(u,"x",0)*r,m.y=Ii(u,"y",0)*r,m.rotation=Ii(u,"rotation",0),m.scaleX=Ii(u,"scaleX",1),m.scaleY=Ii(u,"scaleY",1),m.shearX=Ii(u,"shearX",0),m.shearY=Ii(u,"shearY",0),m.transformMode=D.enumValue(_,Ii(u,"transform","Normal")),m.skinRequired=Ii(u,"skin",!1),(d=Ii(u,"color",null))&&m.color.setFromString(d),n.bones.push(m)}if(i.slots)for(s=0;s<i.slots.length;s++){var h=(k=i.slots[s]).name,f=k.bone,p=n.findBone(f);if(null==p)throw new Error("Slot bone not found: "+f);var d,m=new Zn(n.slots.length,h,p);(d=Ii(k,"color",null))&&m.color.setFromString(d);var y=Ii(k,"dark",null);y&&(m.darkColor=N.fromString(y)),m.attachmentName=Ii(k,"attachment",null),m.blendMode=t.blendModeFromString(Ii(k,"blend","normal")),n.slots.push(m)}if(i.ik)for(s=0;s<i.ik.length;s++){var g=i.ik[s];(m=new Gn(g.name)).order=Ii(g,"order",0),m.skinRequired=Ii(g,"skin",!1);for(var w=0;w<g.bones.length;w++){f=g.bones[w];if(null==(E=n.findBone(f)))throw new Error("IK bone not found: "+f);m.bones.push(E)}m.target=n.findBone(g.target),m.mix=Ii(g,"mix",1),m.softness=Ii(g,"softness",0)*r,m.bendDirection=Ii(g,"bendPositive",!0)?1:-1,m.compress=Ii(g,"compress",!1),m.stretch=Ii(g,"stretch",!1),m.uniform=Ii(g,"uniform",!1),n.ikConstraints.push(m)}if(i.transform)for(s=0;s<i.transform.length;s++){g=i.transform[s];(m=new Kn(g.name)).order=Ii(g,"order",0),m.skinRequired=Ii(g,"skin",!1);for(w=0;w<g.bones.length;w++){f=g.bones[w];if(null==(E=n.findBone(f)))throw new Error("Transform constraint bone not found: "+f);m.bones.push(E)}var x=g.target;if(m.target=n.findBone(x),null==m.target)throw new Error("Transform constraint target bone not found: "+x);m.local=Ii(g,"local",!1),m.relative=Ii(g,"relative",!1),m.offsetRotation=Ii(g,"rotation",0),m.offsetX=Ii(g,"x",0)*r,m.offsetY=Ii(g,"y",0)*r,m.offsetScaleX=Ii(g,"scaleX",0),m.offsetScaleY=Ii(g,"scaleY",0),m.offsetShearY=Ii(g,"shearY",0),m.mixRotate=Ii(g,"mixRotate",1),m.mixX=Ii(g,"mixX",1),m.mixY=Ii(g,"mixY",m.mixX),m.mixScaleX=Ii(g,"mixScaleX",1),m.mixScaleY=Ii(g,"mixScaleY",m.mixScaleX),m.mixShearY=Ii(g,"mixShearY",1),n.transformConstraints.push(m)}if(i.path)for(s=0;s<i.path.length;s++){g=i.path[s];(m=new zn(g.name)).order=Ii(g,"order",0),m.skinRequired=Ii(g,"skin",!1);for(w=0;w<g.bones.length;w++){f=g.bones[w];if(null==(E=n.findBone(f)))throw new Error("Transform constraint bone not found: "+f);m.bones.push(E)}x=g.target;if(m.target=n.findSlot(x),null==m.target)throw new Error("Path target slot not found: "+x);m.positionMode=D.enumValue(v,Ii(g,"positionMode","Percent")),m.spacingMode=D.enumValue(Tn,Ii(g,"spacingMode","Length")),m.rotateMode=D.enumValue(b,Ii(g,"rotateMode","Tangent")),m.offsetRotation=Ii(g,"rotation",0),m.position=Ii(g,"position",0),m.positionMode==v.Fixed&&(m.position*=r),m.spacing=Ii(g,"spacing",0),m.spacingMode!=Tn.Length&&m.spacingMode!=Tn.Fixed||(m.spacing*=r),m.mixRotate=Ii(g,"mixRotate",1),m.mixX=Ii(g,"mixX",1),m.mixY=Ii(g,"mixY",m.mixX),n.pathConstraints.push(m)}if(i.skins)for(s=0;s<i.skins.length;s++){var S=i.skins[s],T=new Jn(S.name);if(S.bones)for(w=0;w<S.bones.length;w++){var E;if(null==(E=n.findBone(S.bones[w])))throw new Error("Skin bone not found: "+S.bones[s]);T.bones.push(E)}if(S.ik)for(w=0;w<S.ik.length;w++){if(null==(O=n.findIkConstraint(S.ik[w])))throw new Error("Skin IK constraint not found: "+S.ik[s]);T.constraints.push(O)}if(S.transform)for(w=0;w<S.transform.length;w++){if(null==(O=n.findTransformConstraint(S.transform[w])))throw new Error("Skin transform constraint not found: "+S.transform[s]);T.constraints.push(O)}if(S.path)for(w=0;w<S.path.length;w++){var O;if(null==(O=n.findPathConstraint(S.path[w])))throw new Error("Skin path constraint not found: "+S.path[s]);T.constraints.push(O)}for(var h in S.attachments){var A=n.findSlot(h);if(null==A)throw new Error("Slot not found: "+h);var k=S.attachments[h];for(var P in k){var C=this.readAttachment(k[P],T,A.index,P,n);C&&T.setAttachment(A.index,P,C)}}n.skins.push(T),"default"==T.name&&(n.defaultSkin=T)}s=0;for(var M=this.linkedMeshes.length;s<M;s++){var I=this.linkedMeshes[s],j=(T=I.skin?n.findSkin(I.skin):n.defaultSkin).getAttachment(I.slotIndex,I.parent);I.mesh.deformAttachment=I.inheritDeform?j:I.mesh,I.mesh.setParentMesh(j)}if(this.linkedMeshes.length=0,i.events)for(var B in i.events){var L=i.events[B];(m=new Vn(B)).intValue=Ii(L,"int",0),m.floatValue=Ii(L,"float",0),m.stringValue=Ii(L,"string",""),m.audioPath=Ii(L,"audio",null),m.audioPath&&(m.volume=Ii(L,"volume",1),m.balance=Ii(L,"balance",0)),n.events.push(m)}if(i.animations)for(var R in i.animations){var q=i.animations[R];this.readAnimation(q,R,n)}return n},t.prototype.readAttachment=function(t,e,r,n,i){var o=this.scale;switch(n=Ii(t,"name",n),Ii(t,"type","region")){case"region":var a=Ii(t,"path",n),s=this.attachmentLoader.newRegionAttachment(e,n,a);return s?(s.path=a,s.x=Ii(t,"x",0)*o,s.y=Ii(t,"y",0)*o,s.scaleX=Ii(t,"scaleX",1),s.scaleY=Ii(t,"scaleY",1),s.rotation=Ii(t,"rotation",0),s.width=t.width*o,s.height=t.height*o,(b=Ii(t,"color",null))&&s.color.setFromString(b),s):null;case"boundingbox":var u=this.attachmentLoader.newBoundingBoxAttachment(e,n);return u?(this.readVertices(t,u,t.vertexCount<<1),(b=Ii(t,"color",null))&&u.color.setFromString(b),u):null;case"mesh":case"linkedmesh":a=Ii(t,"path",n);var l=this.attachmentLoader.newMeshAttachment(e,n,a);if(!l)return null;l.path=a,(b=Ii(t,"color",null))&&l.color.setFromString(b),l.width=Ii(t,"width",0)*o,l.height=Ii(t,"height",0)*o;var c=Ii(t,"parent",null);if(c)return this.linkedMeshes.push(new ki(l,Ii(t,"skin",null),r,c,Ii(t,"deform",!0))),l;var h=t.uvs;return this.readVertices(t,l,h.length),l.triangles=t.triangles,l.regionUVs=new Float32Array(h),l.edges=Ii(t,"edges",null),l.hullLength=2*Ii(t,"hull",0),l;case"path":if(!(a=this.attachmentLoader.newPathAttachment(e,n)))return null;a.closed=Ii(t,"closed",!1),a.constantSpeed=Ii(t,"constantSpeed",!0);var f=t.vertexCount;this.readVertices(t,a,f<<1);for(var p=D.newArray(f/3,0),d=0;d<t.lengths.length;d++)p[d]=t.lengths[d]*o;return a.lengths=p,(b=Ii(t,"color",null))&&a.color.setFromString(b),a;case"point":var m=this.attachmentLoader.newPointAttachment(e,n);return m?(m.x=Ii(t,"x",0)*o,m.y=Ii(t,"y",0)*o,m.rotation=Ii(t,"rotation",0),(b=Ii(t,"color",null))&&m.color.setFromString(b),m):null;case"clipping":var y=this.attachmentLoader.newClippingAttachment(e,n);if(!y)return null;var g=Ii(t,"end",null);if(null!=g){var v=i.findSlot(g);if(null==v)throw new Error("Clipping end slot not found: "+g);y.endSlot=v}var b;f=t.vertexCount;return this.readVertices(t,y,f<<1),(b=Ii(t,"color",null))&&y.color.setFromString(b),y}return null},t.prototype.readVertices=function(t,e,r){var n=this.scale;e.worldVerticesLength=r;var i=t.vertices;if(r!=i.length){var o=new Array,a=new Array;for(c=0,h=i.length;c<h;){var s=i[c++];a.push(s);for(var u=c+4*s;c<u;c+=4)a.push(i[c]),o.push(i[c+1]*n),o.push(i[c+2]*n),o.push(i[c+3])}e.bones=a,e.vertices=D.toFloatArray(o)}else{var l=D.toFloatArray(i);if(1!=n)for(var c=0,h=i.length;c<h;c++)l[c]*=n;e.vertices=l}},t.prototype.readAnimation=function(t,e,r){var n=this.scale,i=new Array;if(t.slots)for(var o in t.slots){var a=t.slots[o];if(-1==(mt=r.findSlotIndex(o)))throw new Error("Slot not found: "+o);for(var s in a){if(H=a[s])if("attachment"==s){for(var u=new fn(H.length,mt),l=0;l<H.length;l++){var c=H[l];u.setFrame(l,Ii(c,"time",0),c.name)}i.push(u)}else if("rgba"==s){u=new sn(H.length,H.length<<2,mt);for(var h=Ii(c=H[0],"time",0),f=N.fromString(c.color),p=(l=0,0);;l++){if(u.setFrame(l,h,f.r,f.g,f.b,f.a),!($=H[l+1])){u.shrink(p);break}var d=Ii($,"time",0),m=N.fromString($.color);(ot=c.curve)&&(p=Mi(ot,u,p,l,0,h,d,f.r,m.r,1),p=Mi(ot,u,p,l,1,h,d,f.g,m.g,1),p=Mi(ot,u,p,l,2,h,d,f.b,m.b,1),p=Mi(ot,u,p,l,3,h,d,f.a,m.a,1)),h=d,f=m,c=$}i.push(u)}else if("rgb"==s){for(u=new un(H.length,3*H.length,mt),h=Ii(c=H[0],"time",0),f=N.fromString(c.color),l=0,p=0;;l++){if(u.setFrame(l,h,f.r,f.g,f.b),!($=H[l+1])){u.shrink(p);break}d=Ii($,"time",0),m=N.fromString($.color);(ot=c.curve)&&(p=Mi(ot,u,p,l,0,h,d,f.r,m.r,1),p=Mi(ot,u,p,l,1,h,d,f.g,m.g,1),p=Mi(ot,u,p,l,2,h,d,f.b,m.b,1)),h=d,f=m,c=$}i.push(u)}else if("alpha"==s)i.push(Pi(H,new ln(H.length,H.length,mt),0,1));else if("rgba2"==s){u=new cn(H.length,7*H.length,mt),h=Ii(c=H[0],"time",0),f=N.fromString(c.light);var y=N.fromString(c.dark);for(l=0,p=0;;l++){if(u.setFrame(l,h,f.r,f.g,f.b,f.a,y.r,y.g,y.b),!($=H[l+1])){u.shrink(p);break}d=Ii($,"time",0),m=N.fromString($.light);var g=N.fromString($.dark);(ot=c.curve)&&(p=Mi(ot,u,p,l,0,h,d,f.r,m.r,1),p=Mi(ot,u,p,l,1,h,d,f.g,m.g,1),p=Mi(ot,u,p,l,2,h,d,f.b,m.b,1),p=Mi(ot,u,p,l,3,h,d,f.a,m.a,1),p=Mi(ot,u,p,l,4,h,d,y.r,g.r,1),p=Mi(ot,u,p,l,5,h,d,y.g,g.g,1),p=Mi(ot,u,p,l,6,h,d,y.b,g.b,1)),h=d,f=m,y=g,c=$}i.push(u)}else{if("rgb2"!=s)throw new Error("Invalid timeline type for a slot: "+s+" ("+o+")");for(u=new hn(H.length,6*H.length,mt),h=Ii(c=H[0],"time",0),f=N.fromString(c.light),y=N.fromString(c.dark),l=0,p=0;;l++){if(u.setFrame(l,h,f.r,f.g,f.b,y.r,y.g,y.b),!($=H[l+1])){u.shrink(p);break}d=Ii($,"time",0),m=N.fromString($.light),g=N.fromString($.dark);(ot=c.curve)&&(p=Mi(ot,u,p,l,0,h,d,f.r,m.r,1),p=Mi(ot,u,p,l,1,h,d,f.g,m.g,1),p=Mi(ot,u,p,l,2,h,d,f.b,m.b,1),p=Mi(ot,u,p,l,3,h,d,y.r,g.r,1),p=Mi(ot,u,p,l,4,h,d,y.g,g.g,1),p=Mi(ot,u,p,l,5,h,d,y.b,g.b,1)),h=d,f=m,y=g,c=$}i.push(u)}}}if(t.bones)for(var b in t.bones){var _=t.bones[b],w=r.findBoneIndex(b);if(-1==w)throw new Error("Bone not found: "+b);for(var s in _){if(0!=(H=_[s]).length)if("rotate"===s)i.push(Pi(H,new Kr(H.length,H.length,w),0,1));else if("translate"===s){u=new Qr(H.length,H.length<<1,w);i.push(Ci(H,u,"x","y",0,n))}else if("translatex"===s){u=new Jr(H.length,H.length,w);i.push(Pi(H,u,0,n))}else if("translatey"===s){u=new $r(H.length,H.length,w);i.push(Pi(H,u,0,n))}else if("scale"===s){u=new tn(H.length,H.length<<1,w);i.push(Ci(H,u,"x","y",1,1))}else if("scalex"===s){u=new en(H.length,H.length,w);i.push(Pi(H,u,1,1))}else if("scaley"===s){u=new rn(H.length,H.length,w);i.push(Pi(H,u,1,1))}else if("shear"===s){u=new nn(H.length,H.length<<1,w);i.push(Ci(H,u,"x","y",0,1))}else if("shearx"===s){u=new on(H.length,H.length,w);i.push(Pi(H,u,0,1))}else if("sheary"===s){u=new an(H.length,H.length,w);i.push(Pi(H,u,0,1))}}}if(t.ik)for(var x in t.ik){if(c=(z=t.ik[x])[0]){var S=r.findIkConstraint(x),T=r.ikConstraints.indexOf(S),E=(u=new yn(z.length,z.length<<1,T),h=Ii(c,"time",0),Ii(c,"mix",1)),O=Ii(c,"softness",0)*n;for(l=0,p=0;;l++){if(u.setFrame(l,h,E,O,Ii(c,"bendPositive",!0)?1:-1,Ii(c,"compress",!1),Ii(c,"stretch",!1)),!($=z[l+1])){u.shrink(p);break}d=Ii($,"time",0);var A=Ii($,"mix",1),k=Ii($,"softness",0)*n;(ot=c.curve)&&(p=Mi(ot,u,p,l,0,h,d,E,A,1),p=Mi(ot,u,p,l,1,h,d,O,k,n)),h=d,E=A,O=k,c=$}i.push(u)}}if(t.transform)for(var x in t.transform){if(c=(H=t.transform[x])[0]){S=r.findTransformConstraint(x),T=r.transformConstraints.indexOf(S),u=new gn(H.length,H.length<<2,T),h=Ii(c,"time",0);var P=Ii(c,"mixRotate",1),C=Ii(c,"mixX",1),M=Ii(c,"mixY",C),I=Ii(c,"mixScaleX",1),j=Ii(c,"mixScaleY",I),B=Ii(c,"mixShearY",1);for(l=0,p=0;;l++){if(u.setFrame(l,h,P,C,M,I,j,B),!($=H[l+1])){u.shrink(p);break}d=Ii($,"time",0);var L=Ii($,"mixRotate",1),R=Ii($,"mixX",1),q=Ii($,"mixY",R),F=Ii($,"mixScaleX",1),V=Ii($,"mixScaleY",F),G=Ii($,"mixShearY",1);(ot=c.curve)&&(p=Mi(ot,u,p,l,0,h,d,P,L,1),p=Mi(ot,u,p,l,1,h,d,C,R,1),p=Mi(ot,u,p,l,2,h,d,M,q,1),p=Mi(ot,u,p,l,3,h,d,I,F,1),p=Mi(ot,u,p,l,4,h,d,j,V,1),p=Mi(ot,u,p,l,5,h,d,B,G,1)),h=d,P=L,C=R,M=q,I=F,j=V,I=F,c=$}i.push(u)}}if(t.path)for(var x in t.path){var z=t.path[x];if(-1==(T=r.findPathConstraintIndex(x)))throw new Error("Path constraint not found: "+x);S=r.pathConstraints[T];for(var s in z){if(c=(H=z[s])[0])if("position"===s){u=new vn(H.length,H.length,T);i.push(Pi(H,u,0,S.positionMode==v.Fixed?n:1))}else if("spacing"===s){u=new bn(H.length,H.length,T);i.push(Pi(H,u,0,S.spacingMode==Tn.Length||S.spacingMode==Tn.Fixed?n:1))}else if("mix"===s){for(u=new _n(H.length,3*H.length,T),h=Ii(c,"time",0),P=Ii(c,"mixRotate",1),C=Ii(c,"mixX",1),M=Ii(c,"mixY",C),l=0,p=0;;l++){if(u.setFrame(l,h,P,C,M),!($=H[l+1])){u.shrink(p);break}d=Ii($,"time",0),L=Ii($,"mixRotate",1),R=Ii($,"mixX",1),q=Ii($,"mixY",R);(ot=c.curve)&&(p=Mi(ot,u,p,l,0,h,d,P,L,1),p=Mi(ot,u,p,l,1,h,d,C,R,1),p=Mi(ot,u,p,l,2,h,d,M,q,1)),h=d,P=L,C=R,M=q,c=$}i.push(u)}}}if(t.deform)for(var U in t.deform){var X=t.deform[U],W=r.findSkin(U);if(null!=W)for(var o in X){a=X[o];if(-1==(mt=r.findSlotIndex(o)))throw new Error("Slot not found: "+a.name);for(var s in a){var H;if(c=(H=a[s])[0]){var Z=W.getAttachment(mt,s);if(null==Z)throw new Error("Deform attachment not found: "+H.name);var K=null!=Z.bones,Q=Z.vertices,J=K?Q.length/3*2:Q.length;for(u=new pn(H.length,H.length,mt,Z),h=Ii(c,"time",0),l=0,p=0;;l++){var $,tt=void 0,et=Ii(c,"vertices",null);if(et){tt=D.newFloatArray(J);var rt=Ii(c,"offset",0);if(D.arrayCopy(et,0,tt,rt,et.length),1!=n)for(var nt=(it=rt)+et.length;it<nt;it++)tt[it]*=n;if(!K)for(var it=0;it<J;it++)tt[it]+=Q[it]}else tt=K?D.newFloatArray(J):Q;if(u.setFrame(l,h,tt),!($=H[l+1])){u.shrink(p);break}var ot;d=Ii($,"time",0);(ot=c.curve)&&(p=Mi(ot,u,p,l,0,h,d,0,1,1)),h=d,c=$}i.push(u)}}}else if(Y)throw new Error("Skin not found: "+U)}if(t.drawOrder){u=new mn(t.drawOrder.length);var at=r.slots.length;for(l=0,it=0;it<t.drawOrder.length;it++,l++){var st=t.drawOrder[it],ut=null,lt=Ii(st,"offsets",null);if(lt){ut=D.newArray(at,-1);for(var ct=D.newArray(at-lt.length,0),ht=0,ft=0,pt=0;pt<lt.length;pt++){for(var dt=lt[pt],mt=r.findSlotIndex(dt.slot);ht!=mt;)ct[ft++]=ht++;ut[ht+dt.offset]=ht++}for(;ht<at;)ct[ft++]=ht++;for(pt=at-1;pt>=0;pt--)-1==ut[pt]&&(ut[pt]=ct[--ft])}u.setFrame(l,Ii(st,"time",0),ut)}i.push(u)}if(t.events){for(u=new dn(t.events.length),l=0,it=0;it<t.events.length;it++,l++){var yt=t.events[it],gt=r.findEvent(yt.name),vt=new Fn(D.toSinglePrecision(Ii(yt,"time",0)),gt);vt.intValue=Ii(yt,"int",gt.intValue),vt.floatValue=Ii(yt,"float",gt.floatValue),vt.stringValue=Ii(yt,"string",gt.stringValue),vt.data.audioPath&&(vt.volume=Ii(yt,"volume",1),vt.balance=Ii(yt,"balance",0)),u.setFrame(l,vt)}i.push(u)}var bt=0;for(it=0,nt=i.length;it<nt;it++)bt=Math.max(bt,i[it].getDuration());if(isNaN(bt))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new Or(e,i,bt))},t.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return l.T$.NORMAL;if("additive"==t)return l.T$.ADD;if("multiply"==t)return l.T$.MULTIPLY;if("screen"==t)return l.T$.SCREEN;throw new Error("Unknown blend mode: "+t)},t}(),ki=function(t,e,r,n,i){this.mesh=t,this.skin=e,this.slotIndex=r,this.parent=n,this.inheritDeform=i};function Pi(t,e,r,n){for(var i=t[0],o=Ii(i,"time",0),a=Ii(i,"value",r)*n,s=0,u=0;;u++){e.setFrame(u,o,a);var l=t[u+1];if(!l)return e.shrink(s),e;var c=Ii(l,"time",0),h=Ii(l,"value",r)*n;i.curve&&(s=Mi(i.curve,e,s,u,0,o,c,a,h,n)),o=c,a=h,i=l}}function Ci(t,e,r,n,i,o){for(var a=t[0],s=Ii(a,"time",0),u=Ii(a,r,i)*o,l=Ii(a,n,i)*o,c=0,h=0;;h++){e.setFrame(h,s,u,l);var f=t[h+1];if(!f)return e.shrink(c),e;var p=Ii(f,"time",0),d=Ii(f,r,i)*o,m=Ii(f,n,i)*o,y=a.curve;y&&(c=Mi(y,e,c,h,0,s,p,u,d,o),c=Mi(y,e,c,h,1,s,p,l,m,o)),s=p,u=d,l=m,a=f}}function Mi(t,e,r,n,i,o,a,s,u,l){if("stepped"==t)return e.setStepped(n),r;var c=i<<2,h=t[c],f=t[c+1]*l,p=t[c+2],d=t[c+3]*l;return e.setBezier(r,n,i,o,s,h,f,p,d,a,u),r+1}function Ii(t,e,r){return void 0!==t[e]?t[e]:r}var ji,Bi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return dr(e,t),e.prototype.createSkeleton=function(t){this.skeleton=new Wn(t),this.skeleton.updateWorldTransform(),this.stateData=new Bn(t),this.state=new wn(this.stateData)},e}(Q),Li=function(t,e){return Li=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},Li(t,e)};function Ri(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}Li(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function qi(t){var e=t.substr(0,3),r=Math.floor(10*+e+.001);return"3.7"===e?ji.VER37:"3.8"===e?ji.VER38:"4.0"===e?ji.VER40:r<ji.VER37?ji.VER37:ji.UNKNOWN}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VER37=37]="VER37",t[t.VER38=38]="VER38",t[t.VER40=40]="VER40"}(ji||(ji={}));var Ni=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(t,e){var r=new w(e);r.readString();var n=r.readString(),i=qi(n),o=null;if(i===ji.VER38&&(o=new re(new Nt(t))),(r=new w(e)).readInt32(),r.readInt32(),(i=qi(n=r.readString()))===ji.VER40&&(o=new $n(new Ln(t))),!o){var a="Unsupported version of spine model "+n+", please update pixi-spine";console.error(a)}return o.scale=this.scale,o.readSkeletonData(e)},t}(),Fi=function(){function t(){this.scale=1}return t.prototype.readSkeletonData=function(t,e){var r=e.skeleton.spine,n=qi(r),i=null;if(n===ji.VER37&&(i=new cr(new We(t))),n===ji.VER38&&(i=new ae(new Nt(t))),n===ji.VER40&&(i=new Ai(new Ln(t))),!i){var o="Unsupported version of spine model "+r+", please update pixi-spine";console.error(o)}return i.scale=this.scale,i.readSkeletonData(e)},t}(),Vi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ri(e,t),e.prototype.createBinaryParser=function(){return new Ni},e.prototype.createJsonParser=function(){return new Fi},e.prototype.parseData=function(t,e,r,n){var i=e;t.spineData=i.readSkeletonData(r,n),t.spineAtlas=r},e.registerLoaderPlugin=function(){s.aN.registerPlugin(e)},e.use=(new e).genMiddleware().use,e}(J),Di=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ri(e,t),e.prototype.createSkeleton=function(t){var e=qi(t.version),r=null;if(e===ji.VER37&&(r=i),e===ji.VER38&&(r=n),e===ji.VER40&&(r=o),!r){var a="Cant detect version of spine model "+t.version;console.error(a)}this.skeleton=new r.Skeleton(t),this.skeleton.updateWorldTransform(),this.stateData=new r.AnimationStateData(t),this.state=new r.AnimationState(this.stateData)},e}(Q);Vi.registerLoaderPlugin()},6013:(t,e,r)=>{"use strict";r.d(e,{Kg:()=>ue,Mx:()=>O,T$:()=>M.T$,W2:()=>f.W2,s$:()=>f.s$,TC:()=>N.TC,aN:()=>C.aN,ZT:()=>ae.ZT,AB:()=>m.AB,E9:()=>m.E9,Ae:()=>m.Ae,IE:()=>ae.IE,jy:()=>F.j,M_:()=>B,xv:()=>K,_A:()=>W,pn:()=>z,xE:()=>E.xE,FP:()=>mt,P6:()=>h});var n=r(6713),i=r(7418),o=r.n(i);window.Promise||(window.Promise=n.Polyfill),Object.assign||(Object.assign=o());if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var a=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-a}}for(var s=Date.now(),u=["ms","moz","webkit","o"],l=0;l<u.length&&!window.requestAnimationFrame;++l){var c=u[l];window.requestAnimationFrame=window[c+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+s-e;return r<0&&(r=0),s=e,window.setTimeout((function(){s=Date.now(),t(performance.now())}),r)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var h=r(5323),f=r(29);f.s$.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var p=100,d=function(){function t(t){this._hookDiv=null,(h.isMobile.tablet||h.isMobile.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width=p+"px",e.style.height=p+"px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){var t=performance.now();if(!(h.isMobile.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=this.renderer.resolution,n=e.width/this.renderer.width*r,i=e.height/this.renderer.height*r,o=this.div;o.style.left=e.left+"px",o.style.top=e.top+"px",o.style.width=this.renderer.width+"px",o.style.height=this.renderer.height+"px";for(var a=0;a<this.children.length;a++){var s=this.children[a];if(s.renderId!==this.renderId)s._accessibleActive=!1,(0,h.removeItems)(this.children,a,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,a--;else{o=s._accessibleDiv;var u=s.hitArea,l=s.worldTransform;s.hitArea?(o.style.left=(l.tx+u.x*l.a)*n+"px",o.style.top=(l.ty+u.y*l.d)*i+"px",o.style.width=u.width*l.a*n+"px",o.style.height=u.height*l.d*i+"px"):(u=s.getBounds(),this.capHitArea(u),o.style.left=u.x*n+"px",o.style.top=u.y*i+"px",o.style.width=u.width*n+"px",o.style.height=u.height*i+"px",o.title!==s.accessibleTitle&&null!==s.accessibleTitle&&(o.title=s.accessibleTitle),o.getAttribute("aria-label")!==s.accessibleHint&&null!==s.accessibleHint&&o.setAttribute("aria-label",s.accessibleHint)),s.accessibleTitle===o.title&&s.tabIndex===o.tabIndex||(o.title=s.accessibleTitle,o.tabIndex=s.tabIndex,this.debug&&this.updateDebugHTML(o))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=p+"px",e.style.height=p+"px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}(),m=r(4295),y=r(5662),g=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new m.E9,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),v=function(t,e){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},v(t,e)};var b=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),_=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),w=function(){function t(){this._tempPoint=new m.E9}return t.prototype.recursiveFindHit=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global,a=!1,s=i=e.interactive||i,u=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(n=!1,u=!1)),s=!1):e._mask&&n&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(n=!1)),u&&e.interactiveChildren&&e.children)for(var l=e.children,c=l.length-1;c>=0;c--){var h=l[c],f=this.recursiveFindHit(t,h,r,n,s);if(f){if(!h.parent)continue;s=!1,f&&(t.target&&(n=!1),a=!0)}}return i&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),r&&r(t,e,!!a))),a},t.prototype.findHit=function(t,e,r,n){this.recursiveFindHit(t,e,r,n,!1)},t}(),x={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};f.s$.mixin(x);var S={target:null,data:{global:null}},T=function(t){function e(e,r){var n=t.call(this)||this;return r=r||{},n.renderer=e,n.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,n.interactionFrequency=r.interactionFrequency||10,n.mouse=new g,n.mouse.identifier=1,n.mouse.global.set(-999999),n.activeInteractionData={},n.activeInteractionData[1]=n.mouse,n.interactionDataPool=[],n.eventData=new b,n.interactionDOMElement=null,n.moveWhenInside=!1,n.eventsAdded=!1,n.tickerAdded=!1,n.mouseOverRenderer=!1,n.supportsTouchEvents="ontouchstart"in window,n.supportsPointerEvents=!!window.PointerEvent,n.onPointerUp=n.onPointerUp.bind(n),n.processPointerUp=n.processPointerUp.bind(n),n.onPointerCancel=n.onPointerCancel.bind(n),n.processPointerCancel=n.processPointerCancel.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.processPointerDown=n.processPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.processPointerMove=n.processPointerMove.bind(n),n.onPointerOut=n.onPointerOut.bind(n),n.processPointerOverOut=n.processPointerOverOut.bind(n),n.onPointerOver=n.onPointerOver.bind(n),n.cursorStyles={default:"inherit",pointer:"pointer"},n.currentCursorMode=null,n.cursor=null,n.resolution=1,n.delayedEvents=[],n.search=new w,n._tempDisplayObject=new f.Ql,n._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,n.setTargetElement(n.renderer.view,n.renderer.resolution),n}return function(t,e){function r(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return S.target=null,S.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(S,e,null,!0),S.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(y.vB.system.add(this.tickerUpdate,this,y.uF.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(y.vB.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},e.prototype.mapPositionToPoint=function(t,e,r){var n;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},e.prototype.processInteractive=function(t,e,r,n){var i=this.search.findHit(t,e,r,n),o=this.delayedEvents;if(!o.length)return i;t.stopPropagationHint=!1;var a=o.length;this.delayedEvents=[];for(var s=0;s<a;s++){var u=o[s],l=u.displayObject,c=u.eventString,h=u.eventData;h.stopsPropagatingAt===l&&(h.stopPropagationHint=!0),this.dispatchEvent(l,c,h)}return i},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=t,this.processInteractive(a,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var n=t.data,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new _(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=t.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=n[a],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=t,this.processInteractive(l,this.lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,l),"mouse"===s.pointerType||"pen"===s.pointerType){var c=2===s.button;this.emit(c?"rightup"+o:"mouseup"+o,l)}else"touch"===s.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,l),this.releaseInteractionDataForPointerId(s.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var n=t.data,i=t.data.identifier,o=e.trackedPointers[i],a="touch"===n.pointerType,s="mouse"===n.pointerType||"pen"===n.pointerType,u=!1;if(s){var l=2===n.button,c=_.FLAGS,h=l?c.RIGHT_DOWN:c.LEFT_DOWN,f=void 0!==o&&o.flags&h;r?(this.dispatchEvent(e,l?"rightup":"mouseup",t),f&&(this.dispatchEvent(e,l?"rightclick":"click",t),u=!0)):f&&this.dispatchEvent(e,l?"rightupoutside":"mouseupoutside",t),o&&(l?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&(s&&!u||this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=t,this.processInteractive(a,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",a)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var n=t.data,i="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var n=t.data,i=t.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,a=e.trackedPointers[i];r&&!a&&(a=e.trackedPointers[i]=new _(i)),void 0!==a&&(r&&this.mouseOverRenderer?(a.over||(a.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):a.over&&(a.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),a.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",n)},e.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new g).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else if(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent)e.push(t);else{var o=t;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=1),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(h.EventEmitter),E=r(5307),O=function(){function t(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=(0,E.e6)(e),this.stage=new f.W2,t._plugins.forEach((function(t){t.init.call(r,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach((function(t){t.destroy.call(n)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t}();O._plugins=[];var A=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,r;if(e.cancelResize(),e._resizeTo===window)t=window.innerWidth,r=window.innerHeight;else{var n=e._resizeTo;t=n.clientWidth,r=n.clientHeight}e.renderer.resize(t,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();O.registerPlugin(A);var k=new m.Ae,P=function(){function t(t){this.renderer=t,t.extract=this}return t.prototype.image=function(t,e,r){var n=new Image;return n.src=this.base64(t,e,r),n},t.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},t.prototype.canvas=function(e){var r,n,i,o=this.renderer,a=!1,s=!1;e&&(e instanceof E.TI?i=e:(i=this.renderer.generateTexture(e),s=!0)),i?(r=i.baseTexture.resolution,n=i.frame,a=!1,o.renderTexture.bind(i)):(r=this.renderer.resolution,a=!0,(n=k).width=this.renderer.width,n.height=this.renderer.height,o.renderTexture.bind(null));var u=Math.floor(n.width*r+1e-4),l=Math.floor(n.height*r+1e-4),c=new h.CanvasRenderTarget(u,l,1),f=new Uint8Array(4*u*l),p=o.gl;p.readPixels(n.x*r,n.y*r,u,l,p.RGBA,p.UNSIGNED_BYTE,f);var d=c.context.getImageData(0,0,u,l);if(t.arrayPostDivide(f,d.data),c.context.putImageData(d,0,0),a){var m=new h.CanvasRenderTarget(c.width,c.height,1);m.context.scale(1,-1),m.context.drawImage(c.canvas,0,-l),c.destroy(),c=m}return s&&i.destroy(!0),c.canvas},t.prototype.pixels=function(e){var r,n,i,o=this.renderer,a=!1;e&&(e instanceof E.TI?i=e:(i=this.renderer.generateTexture(e),a=!0)),i?(r=i.baseTexture.resolution,n=i.frame,o.renderTexture.bind(i)):(r=o.resolution,(n=k).width=o.width,n.height=o.height,o.renderTexture.bind(null));var s=n.width*r,u=n.height*r,l=new Uint8Array(4*s*u),c=o.gl;return c.readPixels(n.x*r,n.y*r,s,u,c.RGBA,c.UNSIGNED_BYTE,l),a&&i.destroy(!0),t.arrayPostDivide(l,l),l},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var n=e[r+3]=t[r+3];0!==n?(e[r]=Math.round(Math.min(255*t[r]/n,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/n,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/n,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},t}(),C=r(9148),M=r(7054),I=function(t,e){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},I(t,e)};function j(t,e){function r(){this.constructor=t}I(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}!function(t){function e(e,r,n,i){void 0===e&&(e=1500),void 0===n&&(n=16384),void 0===i&&(i=!1);var o=t.call(this)||this;return n>16384&&(n=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=n,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=M.T$.NORMAL,o.autoResize=i,o.roundPixels=!0,o.baseTexture=null,o.setProperties(r),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}j(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,(0,h.hex2rgb)(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(f.W2);var B,L=function(){function t(t,e,r){this.geometry=new E.ZX,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<t.length;++n){var i=t[n];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||M.vK.FLOAT,offset:i.offset},e[n]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new E.lW((0,h.createIndicesForQuads)(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){(a=this.dynamicProperties[r]).offset=e,e+=a.size,this.dynamicStride+=a.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new E.lW(this.dynamicData,!1,!1);var i=0;this.staticStride=0;for(r=0;r<this.staticProperties.length;++r){(a=this.staticProperties[r]).offset=i,i+=a.size,this.staticStride+=a.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new E.lW(this.staticData,!0,!1);for(r=0;r<this.dynamicProperties.length;++r){var a=this.dynamicProperties[r];t.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===M.vK.UNSIGNED_BYTE,a.type,4*this.dynamicStride,4*a.offset)}for(r=0;r<this.staticProperties.length;++r){a=this.staticProperties[r];t.addAttribute(a.attributeName,this.staticBuffer,0,a.type===M.vK.UNSIGNED_BYTE,a.type,4*this.staticStride,4*a.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,i.type===M.vK.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,i.type===M.vK.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),R=function(t){function e(e){var r=t.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new m.y3,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:M.vK.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=E.ex.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=E.ZM.for2d(),r}return j(e,t),e.prototype.render=function(t){var e=t.children,r=t._maxSize,n=t._batchSize,i=this.renderer,o=e.length;if(0!==o){o>r&&!t.autoResize&&(o=r);var a=t._buffers;a||(a=t._buffers=this.generateBuffers(t));var s=e[0]._texture.baseTexture;this.state.blendMode=(0,h.correctBlendMode)(t.blendMode,s.alphaMode),i.state.set(this.state);var u=i.gl,l=t.worldTransform.copyTo(this.tempMatrix);l.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=l.toArray(!0),this.shader.uniforms.uColor=(0,h.premultiplyRgba)(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,s.alphaMode),this.shader.uniforms.uSampler=s,this.renderer.shader.bind(this.shader);for(var c=!1,f=0,p=0;f<o;f+=n,p+=1){var d=o-f;d>n&&(d=n),p>=a.length&&a.push(this._generateOneMoreBuffer(t));var m=a[p];m.uploadDynamic(e,f,d);var y=t._bufferUpdateIDs[p]||0;(c=c||m._updateID<y)&&(m._updateID=t._updateID,m.uploadStatic(e,f,d)),i.geometry.bind(m.geometry),u.drawElements(u.TRIANGLES,6*d,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,n=t._batchSize,i=t._properties,o=0;o<r;o+=n)e.push(new L(this.properties,i,n));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new L(this.properties,r,e)},e.prototype.uploadVertices=function(t,e,r,n,i,o){for(var a=0,s=0,u=0,l=0,c=0;c<r;++c){var h=t[e+c],f=h._texture,p=h.scale.x,d=h.scale.y,m=f.trim,y=f.orig;m?(a=(s=m.x-h.anchor.x*y.width)+m.width,u=(l=m.y-h.anchor.y*y.height)+m.height):(a=y.width*(1-h.anchor.x),s=y.width*-h.anchor.x,u=y.height*(1-h.anchor.y),l=y.height*-h.anchor.y),n[o]=s*p,n[o+1]=l*d,n[o+i]=a*p,n[o+i+1]=l*d,n[o+2*i]=a*p,n[o+2*i+1]=u*d,n[o+3*i]=s*p,n[o+3*i+1]=u*d,o+=4*i}},e.prototype.uploadPosition=function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].position;n[o]=s.x,n[o+1]=s.y,n[o+i]=s.x,n[o+i+1]=s.y,n[o+2*i]=s.x,n[o+2*i+1]=s.y,n[o+3*i]=s.x,n[o+3*i+1]=s.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].rotation;n[o]=s,n[o+i]=s,n[o+2*i]=s,n[o+3*i]=s,o+=4*i}},e.prototype.uploadUvs=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var s=t[e+a]._texture._uvs;s?(n[o]=s.x0,n[o+1]=s.y0,n[o+i]=s.x1,n[o+i+1]=s.y1,n[o+2*i]=s.x2,n[o+2*i+1]=s.y2,n[o+3*i]=s.x3,n[o+3*i+1]=s.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var s=t[e+a],u=s._texture.baseTexture.alphaMode>0,l=s.alpha,c=l<1&&u?(0,h.premultiplyTint)(s._tintRGB,l):s._tintRGB+(255*l<<24);n[o]=c,n[o+i]=c,n[o+2*i]=c,n[o+3*i]=c,o+=4*i}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(E.bO),q=r(5264),N=r(426),F=r(9038),V=function(t,e){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},V(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(B||(B={}));var D={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:B.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},G=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],z=function(){function t(t){this.styleID=0,this.reset(),X(this,t,t)}return t.prototype.clone=function(){var e={};return X(e,this,D),new t(e)},t.prototype.reset=function(){X(this,D,D)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=Y(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=Y(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=Y(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&G.indexOf(n)<0&&(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function U(t){return"number"==typeof t?(0,h.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Y(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=U(t[e]);return t}return U(t)}function X(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var W=function(){function t(t,e,r,n,i,o,a,s,u){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=u}return t.measureText=function(e,r,n,i){void 0===i&&(i=t._canvas),n=null==n?r.wordWrap:n;var o=r.toFontString(),a=t.measureFont(o);0===a.fontSize&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);var s=i.getContext("2d");s.font=o;for(var u=(n?t.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),l=new Array(u.length),c=0,h=0;h<u.length;h++){var f=s.measureText(u[h]).width+(u[h].length-1)*r.letterSpacing;l[h]=f,c=Math.max(c,f)}var p=c+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var d=r.lineHeight||a.fontSize+r.strokeThickness,m=Math.max(d,a.fontSize+r.strokeThickness)+(u.length-1)*(d+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new t(e,r,p,m,u,l,d+r.leading,c,a)},t.wordWrap=function(e,r,n){void 0===n&&(n=t._canvas);for(var i=n.getContext("2d"),o=0,a="",s="",u={},l=r.letterSpacing,c=r.whiteSpace,h=t.collapseSpaces(c),f=t.collapseNewlines(c),p=!h,d=r.wordWrapWidth+l,m=t.tokenize(e),y=0;y<m.length;y++){var g=m[y];if(t.isNewline(g)){if(!f){s+=t.addLine(a),p=!h,a="",o=0;continue}g=" "}if(h){var v=t.isBreakingSpace(g),b=t.isBreakingSpace(a[a.length-1]);if(v&&b)continue}var _=t.getFromCache(g,l,u,i);if(_>d)if(""!==a&&(s+=t.addLine(a),a="",o=0),t.canBreakWords(g,r.breakWords))for(var w=t.wordWrapSplit(g),x=0;x<w.length;x++){for(var S=w[x],T=1;w[x+T];){var E=w[x+T],O=S[S.length-1];if(t.canBreakChars(O,E,g,x,r.breakWords))break;S+=E,T++}x+=S.length-1;var A=t.getFromCache(S,l,u,i);A+o>d&&(s+=t.addLine(a),p=!1,a="",o=0),a+=S,o+=A}else{a.length>0&&(s+=t.addLine(a),a="",o=0);var k=y===m.length-1;s+=t.addLine(g,!k),p=!1,a="",o=0}else _+o>d&&(p=!1,s+=t.addLine(a),a="",o=0),(a.length>0||!t.isBreakingSpace(g)||p)&&(a+=g,o+=_)}return s+=t.addLine(a,!1)},t.addLine=function(e,r){return void 0===r&&(r=!0),e=t.trimRight(e),e=r?e+"\n":e},t.getFromCache=function(t,e,r,n){var i=r[t];if(void 0===i){var o=t.length*e;i=n.measureText(t).width+o,r[t]=i}return i},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if("string"!=typeof e)return r;for(var i=0;i<e.length;i++){var o=e[i];t.isBreakingSpace(o)||t.isNewline(o)?(""!==n&&(r.push(n),n=""),r.push(o)):n+=o}return""!==n&&r.push(n),r},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,r,n,i){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=2*s;s=s*t.BASELINE_MULTIPLIER|0,n.width=a,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,a,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var l=i.getImageData(0,0,a,u).data,c=l.length,h=4*a,f=0,p=0,d=!1;for(f=0;f<s;++f){for(var m=0;m<h;m+=4)if(255!==l[p+m]){d=!0;break}if(d)break;p+=h}for(r.ascent=s-f,p=c-h,d=!1,f=u;f>s;--f){for(m=0;m<h;m+=4)if(255!==l[p+m]){d=!0;break}if(d)break;p-=h}return r.descent=f-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),H=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();H.width=H.height=10,W._canvas=H,W._context=H.getContext("2d"),W._fonts={},W.METRICS_STRING="|ÉqÅ",W.BASELINE_SYMBOL="M",W.BASELINE_MULTIPLIER=1.4,W._newlines=[10,13],W._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Z={texture:!0,children:!1,baseTexture:!0},K=function(t){function e(e,r,n){var i=this,o=!1;n||(n=document.createElement("canvas"),o=!0),n.width=3,n.height=3;var a=E.xE.from(n);return a.orig=new m.Ae,a.trim=new m.Ae,(i=t.call(this,a)||this)._ownCanvas=o,i.canvas=n,i.context=i.canvas.getContext("2d"),i._resolution=q.X.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=e,i.style=r,i.localStyleID=-1,i}return function(t,e){function r(){this.constructor=t}V(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,n,i=this.context,o=W.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.width,s=o.height,u=o.lines,l=o.lineHeight,c=o.lineWidths,f=o.maxLineWidth,p=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;for(var d=e.dropShadow?2:1,m=0;m<d;++m){var y=e.dropShadow&&0===m,g=y?2*s:0,v=g*this.resolution;if(y){i.fillStyle="black",i.strokeStyle="black";var b=e.dropShadowColor,_=(0,h.hex2rgb)("number"==typeof b?b:(0,h.string2hex)(b));i.shadowColor="rgba("+255*_[0]+","+255*_[1]+","+255*_[2]+","+e.dropShadowAlpha+")",i.shadowBlur=e.dropShadowBlur,i.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,i.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+v}else i.fillStyle=this._generateFillStyle(e,u,o),i.strokeStyle=e.stroke,i.shadowColor="0",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;for(var w=0;w<u.length;w++)r=e.strokeThickness/2,n=e.strokeThickness/2+w*l+p.ascent,"right"===e.align?r+=f-c[w]:"center"===e.align&&(r+=(f-c[w])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(u[w],r+e.padding,n+e.padding-g,!0),e.fill&&this.drawLetterSpacing(u[w],r+e.padding,n+e.padding-g)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r,n){void 0===n&&(n=!1);var i=this._style.letterSpacing;if(0!==i)for(var o=e,a=Array.from?Array.from(t):t.split(""),s=this.context.measureText(t).width,u=0,l=0;l<a.length;++l){var c=a[l];n?this.context.strokeText(c,o,r):this.context.fillText(c,o,r),o+=s-(u=this.context.measureText(t.substring(l+1)).width)+i,s=u}else n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,h.trimCanvas)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,n=this._style,i=n.trim?0:n.padding,o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution),r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,r){var n,i=t.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var o=t.dropShadow?t.dropShadowDistance:0,a=t.padding||0,s=Math.ceil(this.canvas.width/this._resolution)-o-2*a,u=Math.ceil(this.canvas.height/this._resolution)-o-2*a,l=i.slice(),c=t.fillGradientStops.slice();if(!c.length)for(var h=l.length+1,f=1;f<h;++f)c.push(f/h);if(l.unshift(i[0]),c.unshift(0),l.push(i[i.length-1]),c.push(1),t.fillGradientType===B.LINEAR_VERTICAL){n=this.context.createLinearGradient(s/2,a,s/2,u+a);var p=0,d=(r.fontProperties.fontSize+t.strokeThickness)/u;for(f=0;f<e.length;f++)for(var m=r.lineHeight*f,y=0;y<l.length;y++){var g=m/u+("number"==typeof c[y]?c[y]:y/l.length)*d,v=Math.max(p,g);v=Math.min(v,1),n.addColorStop(v,l[y]),p=v}}else{n=this.context.createLinearGradient(a,u/2,s+a,u/2);var b=l.length+1,_=1;for(f=0;f<l.length;f++){var w=void 0;w="number"==typeof c[f]?c[f]:_/b,n.addColorStop(w,l[f]),_++}}return n},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},Z,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,h.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,h.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof z?t:new z(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e}(F.j);q.X.UPLOADS_PER_FRAME=4;var Q=function(t,e){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Q(t,e)};var J=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function $(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof E.xE){var i=t._textures[n].baseTexture;-1===e.indexOf(i)&&(e.push(i),r=!0)}return r}function tt(t,e){if(t.baseTexture instanceof E.VL){var r=t.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function et(t,e){if(t._texture&&t._texture instanceof E.xE){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function rt(t,e){return e instanceof K&&(e.updateText(!0),!0)}function nt(t,e){if(e instanceof z){var r=e.toFontString();return W.measureFont(r),!0}return!1}function it(t,e){if(t instanceof K){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function ot(t,e){return t instanceof z&&(-1===e.indexOf(t)&&e.push(t),!0)}function at(t,e){return e instanceof E.VL&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function st(t,e){if(!(e instanceof N.TC))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&at(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function ut(t,e){return t instanceof N.TC&&(e.push(t),!0)}var lt=function(t){function e(e){var r=t.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(ut),r.registerUploadHook(at),r.registerUploadHook(st),r}return function(t,e){function r(){this.constructor=t}Q(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(function(){function t(t){var e=this;this.limiter=new J(q.X.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(it),this.registerFindHook(ot),this.registerFindHook($),this.registerFindHook(tt),this.registerFindHook(et),this.registerUploadHook(rt),this.registerUploadHook(nt)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,y.vB.system.addOnce(this.tick,this,y.uF.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)y.vB.system.addOnce(this.tick,this,y.uF.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(r=0,n=i.length;r<n;r++)i[r]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof f.W2)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&y.vB.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}()),ct=(function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}}(),function(){function t(t,e,r){void 0===r&&(r=null),this._texture=t instanceof E.xE?t:null,this.baseTexture=t instanceof E.VL?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=(0,h.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],o=this._frames[i],a=o.frame;if(a){var s=null,u=null,l=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,c=new m.Ae(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);s=o.rotated?new m.Ae(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):new m.Ae(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(u=new m.Ae(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new E.xE(this.baseTexture,s,c,u,o.rotated?2:0,o.anchor),E.xE.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var n=t[e][r];this.animations[e].push(this.textures[n])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var r in void 0===t&&(t=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}()),ht=function(){function t(){}return t.use=function(e,r){var n=this,i=e.name+"_image";if(e.data&&e.type===C.kC.TYPE.JSON&&e.data.frames&&!n.resources[i]){var o={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},a=t.getResourcePath(e,n.baseUrl);n.add(i,a,o,(function(t){if(t.error)r(t.error);else{var n=new ct(t.texture,e.data,e.url);n.parse((function(){e.spritesheet=n,e.textures=n.textures,r()}))}}))}else r()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:h.url.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),ft=function(t,e){return ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},ft(t,e)};function pt(t,e){function r(){this.constructor=t}ft(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var dt=new m.E9,mt=function(t){function e(e,r,n){void 0===r&&(r=100),void 0===n&&(n=100);var i=t.call(this,e)||this;return i.tileTransform=new m.wx,i._width=r,i._height=n,i.uvMatrix=e.uvMatrix||new E.UX(e),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}return pt(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new m.Ae),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,dt);var e=this._width,r=this._height,n=-e*this.anchor._x;if(dt.x>=n&&dt.x<n+e){var i=-r*this.anchor._y;if(dt.y>=i&&dt.y<i+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r){return"number"==typeof r&&((0,h.deprecation)("5.3.0","TilingSprite.from use options instead of width and height args"),r={width:r,height:arguments[2]}),new e(E.xE.from(t,r),r.width,r.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e}(F.j),yt="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",gt=new m.y3,vt=function(t){function e(e){var r=t.call(this,e)||this,n={globals:r.renderer.globalUniforms};return r.shader=E.ex.from(yt,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord - floor(vTextureCoord - uClampOffset);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",n),r.simpleShader=E.ex.from(yt,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",n),r.quad=new E.ud,r.state=E.ZM.for2d(),r}return pt(e,t),e.prototype.render=function(t){var e=this.renderer,r=this.quad,n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((n=r.uvs)[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),r.invalidate();var i=t._texture,o=i.baseTexture,a=t.tileTransform.localTransform,s=t.uvMatrix,u=o.isPowerOfTwo&&i.frame.width===o.width&&i.frame.height===o.height;u&&(o._glTextures[e.CONTEXT_UID]?u=o.wrapMode!==M.Nt.CLAMP:o.wrapMode===M.Nt.CLAMP&&(o.wrapMode=M.Nt.REPEAT));var l=u?this.simpleShader:this.shader,c=i.width,f=i.height,p=t._width,d=t._height;gt.set(a.a*c/p,a.b*c/d,a.c*f/p,a.d*f/d,a.tx/p,a.ty/d),gt.invert(),u?gt.prepend(s.mapCoord):(l.uniforms.uMapCoord=s.mapCoord.toArray(!0),l.uniforms.uClampFrame=s.uClampFrame,l.uniforms.uClampOffset=s.uClampOffset),l.uniforms.uTransform=gt.toArray(!0),l.uniforms.uColor=(0,h.premultiplyTintToRgba)(t.tint,t.worldAlpha,l.uniforms.uColor,o.alphaMode),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.uSampler=i,e.shader.bind(l),e.geometry.bind(r),this.state.blendMode=(0,h.correctBlendMode)(t.blendMode,o.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(E.bO),bt=r(1473),_t=function(t,e){return _t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},_t(t,e)};var wt=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},xt=[function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[]};for(var n in e){var i=e[n].match(/^[a-z]+/gm)[0],o=e[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var s in o){var u=o[s].split("="),l=u[0],c=u[1].replace(/"/gm,""),h=parseFloat(c),f=isNaN(h)?c:h;a[l]=f}r[i].push(a)}var p=new wt;return r.info.forEach((function(t){return p.info.push({face:t.face,size:parseInt(t.size,10)})})),r.common.forEach((function(t){return p.common.push({lineHeight:parseInt(t.lineHeight,10)})})),r.page.forEach((function(t){return p.page.push({id:parseInt(t.id,10),file:t.file})})),r.char.forEach((function(t){return p.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),r.kerning.forEach((function(t){return p.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),p},t}(),function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new wt,r=t.getElementsByTagName("info"),n=t.getElementsByTagName("common"),i=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),s=0;s<r.length;s++)e.info.push({face:r[s].getAttribute("face"),size:parseInt(r[s].getAttribute("size"),10)});for(s=0;s<n.length;s++)e.common.push({lineHeight:parseInt(n[s].getAttribute("lineHeight"),10)});for(s=0;s<i.length;s++)e.page.push({id:parseInt(i[s].getAttribute("id"),10)||0,file:i[s].getAttribute("file")});for(s=0;s<o.length;s++){var u=o[s];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(s=0;s<a.length;s++)e.kerning.push({first:parseInt(a[s].getAttribute("first"),10),second:parseInt(a[s].getAttribute("second"),10),amount:parseInt(a[s].getAttribute("amount"),10)});return e},t}()];function St(t){for(var e=0;e<xt.length;e++)if(xt[e].test(t))return xt[e];return null}function Tt(t,e,r,n,i,o){var a,s=r.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var u=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,c=Math.ceil(t.width/n)-u-2*l,h=Math.ceil(t.height/n)-u-2*l,f=s.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var d=f.length+1,m=1;m<d;++m)p.push(m/d);if(f.unshift(s[0]),p.unshift(0),f.push(s[s.length-1]),p.push(1),r.fillGradientType===B.LINEAR_VERTICAL){a=e.createLinearGradient(c/2,l,c/2,h+l);var y=0,g=(o.fontProperties.fontSize+r.strokeThickness)/h;for(m=0;m<i.length;m++)for(var v=o.lineHeight*m,b=0;b<f.length;b++){var _=v/h+("number"==typeof p[b]?p[b]:b/f.length)*g,w=Math.max(y,_);w=Math.min(w,1),a.addColorStop(w,f[b]),y=w}}else{a=e.createLinearGradient(l,h/2,c+l,h/2);var x=f.length+1,S=1;for(m=0;m<f.length;m++){var T=void 0;T="number"==typeof p[m]?p[m]:S/x,a.addColorStop(T,f[m]),S++}}return a}function Et(t,e,r,n,i,o,a){var s=r.text,u=r.fontProperties;e.translate(n,i),e.scale(o,o);var l=a.strokeThickness/2,c=-a.strokeThickness/2;e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=Tt(t,e,a,o,[s],r),e.strokeStyle=a.stroke,e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=Tt(t,e,a,o,[s],r),e.strokeStyle=a.stroke;var f=a.dropShadowColor,p=(0,h.hex2rgb)("number"==typeof f?f:(0,h.string2hex)(f));a.dropShadow?(e.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+255*p[2]+","+a.dropShadowAlpha+")",e.shadowBlur=a.dropShadowBlur,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*a.dropShadowDistance,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*a.dropShadowDistance):(e.shadowColor="0",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),a.stroke&&a.strokeThickness&&e.strokeText(s,l,c+r.lineHeight-u.descent),a.fill&&e.fillText(s,l,c+r.lineHeight-u.descent),e.setTransform(),e.fillStyle="rgba(0, 0, 0, 0)"}var Ot=function(){function t(t,e){var r=t.info[0],n=t.common[0],i=t.page[0],o=(0,h.getResolutionOfUrl)(i.file),a={};this.font=r.face,this.size=r.size,this.lineHeight=n.lineHeight/o,this.chars={},this.pageTextures=a;for(var s=0;s<t.page.length;s++){var u=t.page[s],l=u.id,c=u.file;a[l]=e instanceof Array?e[s]:e[c]}for(s=0;s<t.char.length;s++){var f=t.char[s],p=(l=f.id,f.page),d=t.char[s],y=d.x,g=d.y,v=d.width,b=d.height,_=d.xoffset,w=d.yoffset,x=d.xadvance;y/=o,g/=o,v/=o,b/=o,_/=o,w/=o,x/=o;var S=new m.Ae(y+a[p].frame.x/o,g+a[p].frame.y/o,v,b);this.chars[l]={xOffset:_,yOffset:w,xAdvance:x,kerning:{},texture:new E.xE(a[p].baseTexture,S),page:p}}for(s=0;s<t.kerning.length;s++){var T=t.kerning[s],O=T.first,A=T.second,k=T.amount;O/=o,A/=o,k/=o,this.chars[A]&&(this.chars[A].kerning[O]=k)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r){var n;if(e instanceof wt)n=e;else{var i=St(e);if(!i)throw new Error("Unrecognized data format for font.");n=i.parse(e)}r instanceof E.xE&&(r=[r]);var o=new t(n,r);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),o=i.chars,a=i.padding,s=i.resolution,u=i.textureWidth,l=i.textureHeight,c=function(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,u=a;s<=u;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,i.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),h=r instanceof z?r:new z(r),f=u,p=new wt;p.info[0]={face:h.fontFamily,size:h.fontSize},p.common[0]={lineHeight:h.fontSize};for(var d,m,y,g=0,v=0,b=0,_=[],w=0;w<c.length;w++){d||((d=document.createElement("canvas")).width=u,d.height=l,m=d.getContext("2d"),y=new E.VL(d,{resolution:s}),_.push(new E.xE(y)),p.page.push({id:_.length-1,file:""}));var x=W.measureText(c[w],h,!1,d),S=x.width,T=Math.ceil(x.height),O=Math.ceil(("italic"===h.fontStyle?2:1)*S);if(v>=l-T*s){if(0===v)throw new Error("[BitmapFont] textureHeight "+l+"px is too small for "+h.fontSize+"px fonts");--w,d=null,m=null,y=null,v=0,g=0,b=0}else if(b=Math.max(T+x.fontProperties.descent,b),O*s+g>=f)--w,v+=b*s,v=Math.ceil(v),g=0,b=0;else{Et(d,m,x,g,v,s,h);var A=x.text.charCodeAt(0);p.char.push({id:A,page:_.length-1,x:g/s,y:v/s,width:O,height:T,xoffset:0,yoffset:0,xadvance:Math.ceil(S-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),g+=(O+2*a)*s,g=Math.ceil(g)}}var k=new t(p,_);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=k,k},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),At=[],kt=[],Pt=(function(t){function e(r,n){void 0===n&&(n={});var i=t.call(this)||this;i._tint=16777215,n.font&&((0,h.deprecation)("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),i._upgradeStyle(n));var o=Object.assign({},e.styleDefaults,n),a=o.align,s=o.tint,u=o.maxWidth,l=o.letterSpacing,c=o.fontName,f=o.fontSize;if(!Ot.available[c])throw new Error('Missing BitmapFont "'+c+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=s,i._fontName=c,i._fontSize=f||Ot.available[c].size,i._text=r,i._maxWidth=u,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new m.AB((function(){i.dirty=!0}),i,0,0),i.roundPixels=q.X.ROUND_PIXELS,i.dirty=!0,i}(function(t,e){function r(){this.constructor=t}_t(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.updateText=function(){for(var t,e=Ot.available[this._fontName],r=this._fontSize/e.size,n=new m.E9,i=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",s=a.length,u=this._maxWidth*e.size/this._fontSize,l=null,c=0,f=0,p=0,d=-1,y=0,g=0,v=0,b=0;b<s;b++){var _=a.charCodeAt(b),w=a.charAt(b);if(/(?:\s)/.test(w)&&(d=b,y=c),"\r"!==w&&"\n"!==w){var x=e.chars[_];if(x){l&&x.kerning[l]&&(n.x+=x.kerning[l]);var S=kt.pop()||{texture:E.xE.EMPTY,line:0,charCode:0,position:new m.E9};S.texture=x.texture,S.line=p,S.charCode=_,S.position.x=n.x+x.xOffset+this._letterSpacing/2,S.position.y=n.y+x.yOffset,i.push(S),n.x+=x.xAdvance+this._letterSpacing,c=n.x,v=Math.max(v,x.yOffset+x.texture.height),l=_,-1!==d&&u>0&&n.x>u&&(++g,(0,h.removeItems)(i,1+d-g,1+b-d),b=d,d=-1,o.push(y),f=Math.max(f,y),p++,n.x=0,n.y+=e.lineHeight,l=null)}}else o.push(c),f=Math.max(f,c),++p,++g,n.x=0,n.y+=e.lineHeight,l=null}var T=a.charAt(a.length-1);"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(c=y),o.push(c),f=Math.max(f,c));var O=[];for(b=0;b<=p;b++){var A=0;"right"===this._align?A=f-o[b]:"center"===this._align&&(A=(f-o[b])/2),O.push(A)}var k=i.length,P={},C=[],M=this._activePagesMeshData;for(b=0;b<M.length;b++)At.push(M[b]);for(b=0;b<k;b++){var I=(R=i[b].texture).baseTexture.uid;if(!P[I]){if(!(z=At.pop())){var j=new bt.xc,B=new bt.rY(E.xE.EMPTY);z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new bt.Kj(j,B),vertices:null,uvs:null,indices:null}}z.index=0,z.indexCount=0,z.vertexCount=0,z.uvsCount=0,z.total=0,z.mesh.texture=new E.xE(R.baseTexture),z.mesh.tint=this._tint,C.push(z),P[I]=z}P[I].total++}for(b=0;b<M.length;b++)-1===C.indexOf(M[b])&&this.removeChild(M[b].mesh);for(b=0;b<C.length;b++)C[b].mesh.parent!==this&&this.addChild(C[b].mesh);for(var b in this._activePagesMeshData=C,P){var L=(z=P[b]).total;(null===(t=z.indices)||void 0===t?void 0:t.length)>6*L&&!(z.vertices.length<2*bt.Kj.BATCHABLE_SIZE)||(z.vertices=new Float32Array(8*L),z.uvs=new Float32Array(8*L),z.indices=new Uint16Array(6*L)),z.mesh.size=6*L}for(b=0;b<k;b++){var R,q=((w=i[b]).position.x+O[w.line])*r,N=w.position.y*r,F=P[(R=w.texture).baseTexture.uid],V=R.frame,D=R._uvs,G=F.index++;F.indices[6*G+0]=0+4*G,F.indices[6*G+1]=1+4*G,F.indices[6*G+2]=2+4*G,F.indices[6*G+3]=0+4*G,F.indices[6*G+4]=2+4*G,F.indices[6*G+5]=3+4*G,F.vertices[8*G+0]=q,F.vertices[8*G+1]=N,F.vertices[8*G+2]=q+V.width*r,F.vertices[8*G+3]=N,F.vertices[8*G+4]=q+V.width*r,F.vertices[8*G+5]=N+V.height*r,F.vertices[8*G+6]=q,F.vertices[8*G+7]=N+V.height*r,F.uvs[8*G+0]=D.x0,F.uvs[8*G+1]=D.y0,F.uvs[8*G+2]=D.x1,F.uvs[8*G+3]=D.y1,F.uvs[8*G+4]=D.x2,F.uvs[8*G+5]=D.y2,F.uvs[8*G+6]=D.x3,F.uvs[8*G+7]=D.y3}for(var b in this._textWidth=f*r,this._textHeight=(n.y+e.lineHeight)*r,P){var z=P[b];if(0!==this.anchor.x||0!==this.anchor.y)for(var U=0,Y=this._textWidth*this.anchor.x,X=this._textHeight*this.anchor.y,W=0;W<z.total;W++)z.vertices[U++]-=Y,z.vertices[U++]-=X,z.vertices[U++]-=Y,z.vertices[U++]-=X,z.vertices[U++]-=Y,z.vertices[U++]-=X,z.vertices[U++]-=Y,z.vertices[U++]-=X;this._maxLineHeight=v*r;var H=z.mesh.geometry.getBuffer("aVertexPosition"),Z=z.mesh.geometry.getBuffer("aTextureCoord"),K=z.mesh.geometry.getIndex();H.data=z.vertices,Z.data=z.uvs,K.data=z.indices,H.update(),Z.update(),K.update()}for(b=0;b<i.length;b++)kt.push(i[b])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!Ot.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype._upgradeStyle=function(t){if("string"==typeof t.font){var e=t.font.split(" ");t.fontName=1===e.length?e[0]:e.slice(1).join(" "),e.length>=2&&(t.fontSize=parseInt(e[0],10))}else t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10)},e.registerFont=function(t,e){return(0,h.deprecation)("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),Ot.install(t,e)},Object.defineProperty(e,"fonts",{get:function(){return(0,h.deprecation)("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),Ot.available},enumerable:!1,configurable:!0}),e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(f.W2),function(){function t(){}return t.add=function(){C.kC.setExtensionXhrType("fnt",C.kC.XHR_RESPONSE_TYPE.DOCUMENT)},t.use=function(e,r){var n=St(e.data);if(n)for(var i=t.getBaseUrl(this,e),o=n.parse(e.data),a={},s=function(t){a[t.metadata.pageFile]=t.texture,Object.keys(a).length===o.page.length&&(e.bitmapFont=Ot.install(o,a),r())},u=0;u<o.page.length;++u){var l=o.page[u].file,c=i+l,h=!1;for(var f in this.resources){var p=this.resources[f];if(p.url===c){p.metadata.pageFile=l,p.texture?s(p):p.onAfterMiddleware.add(s),h=!0;break}}if(!h){var d={crossOrigin:e.crossOrigin,loadType:C.kC.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(c,d,s)}}else r()},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&("."===n&&(n=""),e.baseUrl&&n&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(n+="/")),(n=n.replace(e.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/"),n},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}()),Ct=function(t,e){return Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Ct(t,e)};!function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,E.kP,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}(function(t,e){function r(){this.constructor=t}Ct(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0})}(E.wn);var Mt=function(t,e){return Mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Mt(t,e)};function It(t,e){function r(){this.constructor=t}Mt(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var jt,Bt,Lt,Rt,qt,Nt,Ft,Vt,Dt,Gt,zt,Ut,Yt,Xt,Wt,Ht,Zt,Kt={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Qt=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(jt||(jt={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Bt||(Bt={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(Lt||(Lt={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(Rt||(Rt={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(qt||(qt={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Nt||(Nt={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Ft||(Ft={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Vt||(Vt={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(Dt||(Dt={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Gt||(Gt={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(zt||(zt={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(Ut||(Ut={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Yt||(Yt={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(Xt||(Xt={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(Wt||(Wt={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(Ht||(Ht={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Zt||(Zt={}));var Jt=function(t){function e(e,r,n,i,o){void 0===r&&(r=8),void 0===n&&(n=4),void 0===i&&(i=q.X.RESOLUTION),void 0===o&&(o=5);var a=this,s=function(t,e){var r,n=Math.ceil(t/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var s=r.replace("%index%",a.toString());o+=s=s.replace("%sampleIndex%",a-(n-1)+".0"),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),u=function(t){for(var e,r=Kt[t],n=r.length,i=Qt,o="",a=0;a<t;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());e=a,a>=n&&(e=t-a-1),o+=s=s.replace("%value%",r[e].toString()),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(a=t.call(this,s,u)||this).horizontal=e,a.resolution=i,a._quality=0,a.quality=n,a.blur=r,a}return It(e,t),e.prototype.apply=function(t,e,r,n){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{var i=t.getFilterTexture(),o=t.renderer,a=e,s=i;this.state.blend=!1,t.applyFilter(this,a,s,Yt.CLEAR);for(var u=1;u<this.passes-1;u++){t.bindAndClear(a,Yt.BLIT),this.uniforms.uSampler=s;var l=s;s=a,a=l,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,s,r,n),t.returnFilterTexture(i)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(E.wn),$t=(function(t){function e(e,r,n,i){void 0===e&&(e=8),void 0===r&&(r=4),void 0===n&&(n=q.X.RESOLUTION),void 0===i&&(i=5);var o=t.call(this)||this;return o.blurXFilter=new Jt(!0,e,r,n,i),o.blurYFilter=new Jt(!1,e,r,n,i),o.resolution=n,o.quality=r,o.blur=e,o.repeatEdgePixels=!1,o}It(e,t),e.prototype.apply=function(t,e,r,n){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){var a=t.getFilterTexture();this.blurXFilter.apply(t,e,a,Yt.CLEAR),this.blurYFilter.apply(t,a,r,n),t.returnFilterTexture(a)}else o?this.blurYFilter.apply(t,e,r,n):this.blurXFilter.apply(t,e,r,n)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0})}(E.wn),function(t,e){return $t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},$t(t,e)});var te=function(t){function e(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,E.Y9,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function(t,e){function r(){this.constructor=t}$t(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),a=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,n,i){var o=((r=r||16770432)>>16&255)/255,a=(r>>8&255)/255,s=(255&r)/255,u=((n=n||3375104)>>16&255)/255,l=(n>>8&255)/255,c=(255&n)/255,h=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,u,l,c,e=e||.15,0,o-u,a-l,s-c,0,0];this._loadMatrix(h,i)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(E.wn);te.prototype.grayscale=te.prototype.greyscale;var ee=function(t,e){return ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},ee(t,e)};!function(t){function e(e,r){var n=this,i=new m.y3;return e.renderable=!1,(n=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,n.maskMatrix=i,null==r&&(r=20),n.scale=new m.E9(r,r),n}(function(t,e){function r(){this.constructor=t}ee(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.apply=function(t,e,r,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),a=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/a,this.uniforms.rotation[3]=i.d/a),t.applyFilter(this,e,r,n)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0})}(E.wn);var re=function(t,e){return re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},re(t,e)};!function(t){function e(){return t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}(function(t,e){function r(){this.constructor=t}re(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t)}(E.wn);var ne=function(t,e){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},ne(t,e)};!function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var n=t.call(this,E.Y9,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return n.noise=e,n.seed=r,n}(function(t,e){function r(){this.constructor=t}ne(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0})}(E.wn);var ie=new m.y3;f.s$.prototype._cacheAsBitmap=!1,f.s$.prototype._cacheData=null;var oe=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(f.s$.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new oe),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),f.s$.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},f.s$.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var n=this.filters[0].padding;r.pad(n)}r.ceil(q.X.RESOLUTION);var i=t.renderTexture.current,o=t.renderTexture.sourceFrame.clone(),a=t.projection.transform,s=E.TI.create({width:r.width,height:r.height}),u="cacheAsBitmap_"+(0,h.uid)();this._cacheData.textureCacheId=u,E.VL.addToCache(s.baseTexture,u),E.xE.addToCache(s,u);var l=this.transform.localTransform.copyTo(ie).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,s,!0,l,!1),t.projection.transform=a,t.renderTexture.bind(i,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var c=new F.j(s);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-r.x/r.width,c.anchor.y=-r.y/r.height,c.alpha=e,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)}},f.s$.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},f.s$.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var n=t.context,i=t._projTransform;e.ceil(q.X.RESOLUTION);var o=E.TI.create({width:e.width,height:e.height}),a="cacheAsBitmap_"+(0,h.uid)();this._cacheData.textureCacheId=a,E.VL.addToCache(o.baseTexture,a),E.xE.addToCache(o,a);var s=ie;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,s,!1),t.context=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new F.j(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-e.x/e.width,u.anchor.y=-e.y/e.height,u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},f.s$.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},f.s$.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},f.s$.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,E.VL.removeFromCache(this._cacheData.textureCacheId),E.xE.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},f.s$.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},f.s$.prototype.name=null,f.W2.prototype.getChildByName=function(t,e){for(var r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,n=this.children.length;r<n;r++){if(this.children[r].getChildByName){var i=this.children[r].getChildByName(t,!0);if(i)return i}}return null},f.s$.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new m.E9),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var ae=r(9773),se=(r(3557),function(t,e){return se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},se(t,e)});var ue=function(t){function e(e,r){void 0===r&&(r=!0);var n=t.call(this,e[0]instanceof E.xE?e[0]:e[0].texture)||this;return n._textures=null,n._durations=null,n._autoUpdate=r,n._isConnectedToTicker=!1,n.animationSpeed=1,n.loop=!0,n.updateAnchor=!1,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n._playing=!1,n._previousFrame=null,n.textures=e,n}return function(t,e){function r(){this.constructor=t}se(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(y.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(y.vB.shared.add(this.update,this,y.uF.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push(E.xE.from(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push(E.xE.from(t[n]));return new e(r)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof E.xE)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(y.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(y.vB.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(F.j);E.Th.registerPlugin("accessibility",d),E.Th.registerPlugin("extract",P),E.Th.registerPlugin("interaction",T),E.Th.registerPlugin("particle",R),E.Th.registerPlugin("prepare",lt),E.Th.registerPlugin("batch",E.Bv),E.Th.registerPlugin("tilingSprite",vt),C.aN.registerPlugin(Pt),C.aN.registerPlugin(ht),O.registerPlugin(y.Sb),O.registerPlugin(C.LP)},2075:function(t){t.exports=function(){"use strict";function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=function(t){--t;for(var e=1;e<32;e<<=1)t|=t>>e;return t+1},o=function(t,e){return[1,0,0,0,1,0,t,e,1]},a=function(t){var e=Math.cos(t),r=Math.sin(t);return[e,-r,0,r,e,0,0,0,1]},s=function(t,e){return[t,0,0,0,e,0,0,0,1]},u=function(t,e){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],l=t[7],c=t[8],h=e[0],f=e[1],p=e[2],d=e[3],m=e[4],y=e[5],g=e[6],v=e[7],b=e[8];return[r*h+n*d+i*g,r*f+n*m+i*v,r*p+n*y+i*b,o*h+a*d+s*g,o*f+a*m+s*v,o*p+a*y+s*b,u*h+l*d+c*g,u*f+l*m+c*v,u*p+l*y+c*b]},l={createCanvas:function(t,e,r,n){void 0===n&&(n="absolute");var i=document.createElement("canvas");return i.id=t,i.width=e,i.height=r,i.style.opacity=0,i.style.position=n,this.transform(i,-500,-500,0,0),i},createDiv:function(t,e,r){var n=document.createElement("div");return n.id=t,n.style.position="absolute",this.resize(n,e,r),n},resize:function(t,e,r){t.style.width=e+"px",t.style.height=r+"px",t.style.marginLeft=-e/2+"px",t.style.marginTop=-r/2+"px"},transform:function(t,e,r,n,i){t.style.willChange="transform";var o="translate("+e+"px, "+r+"px) scale("+n+") rotate("+i+"deg)";this.css3(t,"transform",o)},transform3d:function(t,e,r,n,i){t.style.willChange="transform";var o="translate3d("+e+"px, "+r+"px, 0) scale("+n+") rotate("+i+"deg)";this.css3(t,"backfaceVisibility","hidden"),this.css3(t,"transform",o)},css3:function(t,e,r){var n=e.charAt(0).toUpperCase()+e.substr(1);t.style["Webkit"+n]=r,t.style["Moz"+n]=r,t.style["O"+n]=r,t.style["ms"+n]=r,t.style[""+e]=r}},c={},h={},f=0,p=function(t,e,r){t.drawImage(e,r.x,r.y);var n=t.getImageData(r.x,r.y,r.width,r.height);return t.clearRect(r.x,r.y,r.width,r.height),n},d=function(t,e,r){var n="string"==typeof t?t:t.src;if(c[n])e(c[n],r);else{var i=new Image;i.onload=function(t){c[n]=t.target,e(c[n],r)},i.src=n}},m=function(t,e,r){var n=t.src;if(!h[n]){var o=i(t.width),a=i(t.height),s=l.createCanvas("proton_canvas_cache_"+ ++f,o,a);s.getContext("2d").drawImage(t,0,0,t.width,t.height),h[n]=s}return e&&e(h[n],r),h[n]},y={initValue:function(t,e){return null!=t?t:e},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyArray:function(t){t&&(t.length=0)},toArray:function(t){return this.isArray(t)?t:[t]},sliceArray:function(t,e,r){this.emptyArray(r);for(var n=e;n<t.length;n++)r.push(t[n])},getRandFromArray:function(t){return t?t[Math.floor(t.length*Math.random())]:null},emptyObject:function(t,e){for(var r in void 0===e&&(e=null),t)e&&e.indexOf(r)>-1||delete t[r]},classApply:function(t,e){return void 0===e&&(e=null),e?new(t.bind.apply(t,[null].concat(e))):new t},getImageData:function(t,e,r){return p(t,e,r)},destroyAll:function(t,e){void 0===e&&(e=null);for(var r=t.length;r--;){try{t[r].destroy(e)}catch(t){}delete t[r]}t.length=0},assign:function(t,e){if("function"!=typeof Object.assign){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return Object.assign(t,e)}},g={},v={_index:0,_cache:{},id:function(t){return void 0!==g[t]&&null!==g[t]||(g[t]=0),t+"_"+g[t]++},getId:function(t){var e=this.getIdFromCache(t);return e||(e="PUID_"+this._index++,this._cache[e]=t,e)},getIdFromCache:function(t){var e,r;for(r in this._cache){if((e=this._cache[r])===t)return r;if(this.isBody(e,t)&&e.src===t.src)return r}return null},isBody:function(t,e){return"object"==typeof t&&"object"==typeof e&&t.isInner&&e.isInner},getTarget:function(t){return this._cache[t]}},b=function(){function t(t){this.total=0,this.cache={}}var e=t.prototype;return e.get=function(t,e,r){var n;return r=r||t.__puid||v.getId(t),(n=this.cache[r]&&this.cache[r].length>0?this.cache[r].pop():this.createOrClone(t,e)).__puid=t.__puid||r,n},e.expire=function(t){return this.getCache(t.__puid).push(t)},e.createOrClone=function(t,e){return this.total++,this.create?this.create(t,e):"function"==typeof t?y.classApply(t,e):t.clone()},e.getCount=function(){var t=0;for(var e in this.cache)t+=this.cache[e].length;return t++},e.destroy=function(){for(var t in this.cache)this.cache[t].length=0,delete this.cache[t]},e.getCache=function(t){return void 0===t&&(t="default"),this.cache[t]||(this.cache[t]=[]),this.cache[t]},t}(),_=function(){function t(t){this.proton=t,this.container=null,this.type=1,this.emitterIndex=0,this.rendererIndex=0}var e=t.prototype;return e.update=function(t,e){this.add(t,e);var r=this.getEmitter(),n=this.getRenderer(),i="";switch(this.type){case 2:i+="emitter:"+this.proton.emitters.length+"<br>",r&&(i+="em speed:"+r.emitSpeed+"<br>"),r&&(i+="pos:"+this.getEmitterPos(r));break;case 3:r&&(i+="initializes:"+r.initializes.length+"<br>"),r&&(i+='<span style="display:inline-block;">'+this.concatArr(r.initializes)+"</span><br>"),r&&(i+="behaviours:"+r.behaviours.length+"<br>"),r&&(i+='<span style="display:inline-block;">'+this.concatArr(r.behaviours)+"</span><br>");break;case 4:n&&(i+=n.name+"<br>"),n&&(i+="body:"+this.getCreatedNumber(n)+"<br>");break;default:i+="particles:"+this.proton.getCount()+"<br>",i+="pool:"+this.proton.pool.getCount()+"<br>",i+="total:"+this.proton.pool.total}this.container.innerHTML=i},e.add=function(t,e){var r=this;if(!this.container){var n,i;switch(this.type=1,this.container=document.createElement("div"),this.container.style.cssText=["position:absolute;bottom:0px;left:0;cursor:pointer;","opacity:0.9;z-index:10000;padding:10px;font-size:12px;font-family:Helvetica,Arial,sans-serif;","width:120px;height:50px;background-color:#002;color:#0ff;"].join(""),this.container.addEventListener("click",(function(t){r.type++,r.type>4&&(r.type=1)}),!1),t){case 2:n="#201",i="#f08";break;case 3:n="#020",i="#0f0";break;default:n="#002",i="#0ff"}this.container.style["background-color"]=n,this.container.style.color=i}this.container.parentNode||(e=e||this.body||document.body).appendChild(this.container)},e.getEmitter=function(){return this.proton.emitters[this.emitterIndex]},e.getRenderer=function(){return this.proton.renderers[this.rendererIndex]},e.concatArr=function(t){var e="";if(!t||!t.length)return e;for(var r=0;r<t.length;r++)e+=(t[r].name||"").substr(0,1)+".";return e},e.getCreatedNumber=function(t){return t.pool.total||t.cpool&&t.cpool.total||0},e.getEmitterPos=function(t){return Math.round(t.p.x)+","+Math.round(t.p.y)},e.destroy=function(){this.container&&this.container.parentNode&&(this.body||document.body).removeChild(this.container),this.proton=null,this.container=null},t}(),w=function(){function t(){this._listeners=null}t.bind=function(e){e.prototype.dispatchEvent=t.prototype.dispatchEvent,e.prototype.hasEventListener=t.prototype.hasEventListener,e.prototype.addEventListener=t.prototype.addEventListener,e.prototype.removeEventListener=t.prototype.removeEventListener,e.prototype.removeAllEventListeners=t.prototype.removeAllEventListeners};var e=t.prototype;return e.addEventListener=function(t,e){return this._listeners?this.removeEventListener(t,e):this._listeners={},this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),e},e.removeEventListener=function(t,e){if(this._listeners&&this._listeners[t])for(var r=this._listeners[t],n=r.length,i=0;i<n;i++)if(r[i]===e){1===n?delete this._listeners[t]:r.splice(i,1);break}},e.removeAllEventListeners=function(t){t?this._listeners&&delete this._listeners[t]:this._listeners=null},e.dispatchEvent=function(t,e){var r=!1,n=this._listeners;if(t&&n){var i,o=n[t];if(!o)return r;for(var a=o.length;a--;)i=o[a],r=r||i(e)}return!!r},e.hasEventListener=function(t){var e=this._listeners;return!(!e||!e[t])},t}(),x=3.1415926,S={PI:x,PIx2:2*x,PI_2:x/2,PI_180:x/180,N180_PI:180/x,Infinity:-999,isInfinity:function(t){return t===this.Infinity||1/0===t},randomAToB:function(t,e,r){return void 0===r&&(r=!1),r?(Math.random()*(e-t)>>0)+t:t+Math.random()*(e-t)},randomFloating:function(t,e,r){return this.randomAToB(t-e,t+e,r)},randomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},randomZone:function(t){},floor:function(t,e){void 0===e&&(e=4);var r=Math.pow(10,e);return Math.floor(t*r)/r},degreeTransform:function(t){return t*x/180},toColor16:function(t){return"#"+t.toString(16)}},T=function(){function t(t){this.type=t}var e=t.prototype;return e.calculate=function(t,e,r){this.eulerIntegrate(t,e,r)},e.eulerIntegrate=function(t,e,r){t.sleep||(t.old.p.copy(t.p),t.old.v.copy(t.v),t.a.multiplyScalar(1/t.mass),t.v.add(t.a.multiplyScalar(e)),t.p.add(t.old.v.multiplyScalar(e)),r&&t.v.multiplyScalar(r),t.a.clear())},t}(),E=function(){function e(t){this.emitters=[],this.renderers=[],this.time=0,this.now=0,this.then=0,this.elapsed=0,this.stats=new _(this),this.pool=new b(80),this.integrationType=y.initValue(t,e.EULER),this.integrator=new T(this.integrationType),this._fps="auto",this._interval=e.DEFAULT_INTERVAL}var r,n,i,o=e.prototype;return o.addRenderer=function(t){t.init(this),this.renderers.push(t)},o.removeRenderer=function(t){var e=this.renderers.indexOf(t);this.renderers.splice(e,1),t.remove(this)},o.addEmitter=function(t){this.emitters.push(t),t.parent=this,this.dispatchEvent(e.EMITTER_ADDED,t)},o.removeEmitter=function(t){var r=this.emitters.indexOf(t);this.emitters.splice(r,1),t.parent=null,this.dispatchEvent(e.EMITTER_REMOVED,t)},o.update=function(){"auto"===this._fps?(this.dispatchEvent(e.PROTON_UPDATE),e.USE_CLOCK?(this.then||(this.then=(new Date).getTime()),this.now=(new Date).getTime(),this.elapsed=.001*(this.now-this.then),this.amendChangeTabsBug(),this.elapsed>0&&this.emittersUpdate(this.elapsed),this.then=this.now):this.emittersUpdate(e.DEFAULT_INTERVAL),this.dispatchEvent(e.PROTON_UPDATE_AFTER)):(this.then||(this.then=(new Date).getTime()),this.now=(new Date).getTime(),this.elapsed=.001*(this.now-this.then),this.elapsed>this._interval&&(this.dispatchEvent(e.PROTON_UPDATE),this.emittersUpdate(this._interval),this.then=this.now-this.elapsed%this._interval*1e3,this.dispatchEvent(e.PROTON_UPDATE_AFTER)))},o.emittersUpdate=function(t){for(var e=this.emitters.length;e--;)this.emitters[e].update(t)},o.amendChangeTabsBug=function(){e.amendChangeTabsBug&&this.elapsed>.5&&(this.then=(new Date).getTime(),this.elapsed=0)},o.getCount=function(){for(var t=0,e=this.emitters.length;e--;)t+=this.emitters[e].particles.length;return t},o.getAllParticles=function(){for(var t=[],e=this.emitters.length;e--;)t=t.concat(this.emitters[e].particles);return t},o.destroyAllEmitters=function(){y.destroyAll(this.emitters)},o.destroy=function(t){var e=this;void 0===t&&(t=!1);var r=function(){e.time=0,e.then=0,e.pool.destroy(),e.stats.destroy(),y.destroyAll(e.emitters),y.destroyAll(e.renderers,e.getAllParticles()),e.integrator=null,e.renderers=null,e.emitters=null,e.stats=null,e.pool=null};t?setTimeout(r,200):r()},r=e,(n=[{key:"fps",get:function(){return this._fps},set:function(t){this._fps=t,this._interval="auto"===t?e.DEFAULT_INTERVAL:S.floor(1/t,7)}}])&&t(r.prototype,n),i&&t(r,i),e}();E.USE_CLOCK=!1,E.MEASURE=100,E.EULER="euler",E.RK2="runge-kutta2",E.PARTICLE_CREATED="PARTICLE_CREATED",E.PARTICLE_UPDATE="PARTICLE_UPDATE",E.PARTICLE_SLEEP="PARTICLE_SLEEP",E.PARTICLE_DEAD="PARTICLE_DEAD",E.EMITTER_ADDED="EMITTER_ADDED",E.EMITTER_REMOVED="EMITTER_REMOVED",E.PROTON_UPDATE="PROTON_UPDATE",E.PROTON_UPDATE_AFTER="PROTON_UPDATE_AFTER",E.DEFAULT_INTERVAL=.0167,E.amendChangeTabsBug=!0,w.bind(E);var O=function(){function t(t,e,r){void 0===t&&(t=255),void 0===e&&(e=255),void 0===r&&(r=255),this.r=t,this.g=e,this.b=r}return t.prototype.reset=function(){this.r=255,this.g=255,this.b=255},t}(),A={hasProp:function(t,e){return!!t&&void 0!==t[e]},setProp:function(t,e){for(var r in e)t.hasOwnProperty(r)&&(t[r]=Span.getSpanValue(e[r]));return t},setVectorVal:function(t,e){void 0===e&&(e=null),e&&(this.hasProp(e,"x")&&(t.p.x=e.x),this.hasProp(e,"y")&&(t.p.y=e.y),this.hasProp(e,"vx")&&(t.v.x=e.vx),this.hasProp(e,"vy")&&(t.v.y=e.vy),this.hasProp(e,"ax")&&(t.a.x=e.ax),this.hasProp(e,"ay")&&(t.a.y=e.ay),this.hasProp(e,"p")&&t.p.copy(e.p),this.hasProp(e,"v")&&t.v.copy(e.v),this.hasProp(e,"a")&&t.a.copy(e.a),this.hasProp(e,"position")&&t.p.copy(e.position),this.hasProp(e,"velocity")&&t.v.copy(e.velocity),this.hasProp(e,"accelerate")&&t.a.copy(e.accelerate))}},k={easeLinear:function(t){return t},easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInSine:function(t){return 1-Math.cos(t*S.PI_2)},easeOutSine:function(t){return Math.sin(t*S.PI_2)},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},getEasing:function(t){return"function"==typeof t?t:this[t]||this.easeLinear}},P=function(){function t(t,e){this.x=t||0,this.y=e||0}var e=t.prototype;return e.set=function(t,e){return this.x=t,this.y=e,this},e.setX=function(t){return this.x=t,this},e.setY=function(t){return this.y=t,this},e.getGradient=function(){return 0!==this.x?Math.atan2(this.y,this.x):this.y>0?S.PI_2:this.y<0?-S.PI_2:void 0},e.copy=function(t){return this.x=t.x,this.y=t.y,this},e.add=function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)},e.addXY=function(t,e){return this.x+=t,this.y+=e,this},e.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},e.sub=function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)},e.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},e.divideScalar=function(t){return 0!==t?(this.x/=t,this.y/=t):this.set(0,0),this},e.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},e.negate=function(){return this.multiplyScalar(-1)},e.dot=function(t){return this.x*t.x+this.y*t.y},e.lengthSq=function(){return this.x*this.x+this.y*this.y},e.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.normalize=function(){return this.divideScalar(this.length())},e.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},e.rotate=function(t){var e=this.x,r=this.y;return this.x=e*Math.cos(t)+r*Math.sin(t),this.y=-e*Math.sin(t)+r*Math.cos(t),this},e.distanceToSquared=function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},e.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},e.equals=function(t){return t.x===this.x&&t.y===this.y},e.clear=function(){return this.x=0,this.y=0,this},e.clone=function(){return new t(this.x,this.y)},t}(),C=function(){function t(t){this.id="",this.old=null,this.data=null,this.behaviours=null,this.p=null,this.v=null,this.a=null,this.rgb=null,this.name="Particle",this.id=v.id(this.name),this.old={},this.data={},this.behaviours=[],this.p=new P,this.v=new P,this.a=new P,this.old.p=new P,this.old.v=new P,this.old.a=new P,this.rgb=new O,this.reset(),t&&A.setProp(this,t)}var e=t.prototype;return e.getDirection=function(){return Math.atan2(this.v.x,-this.v.y)*S.N180_PI},e.reset=function(){return this.life=1/0,this.age=0,this.dead=!1,this.sleep=!1,this.body=null,this.sprite=null,this.parent=null,this.energy=1,this.mass=1,this.radius=10,this.alpha=1,this.scale=1,this.rotation=0,this.color=null,this.p.set(0,0),this.v.set(0,0),this.a.set(0,0),this.old.p.set(0,0),this.old.v.set(0,0),this.old.a.set(0,0),this.easing=k.easeLinear,this.rgb.reset(),y.emptyObject(this.data),this.removeAllBehaviours(),this},e.update=function(t,e){if(this.sleep||(this.age+=t,this.applyBehaviours(t,e)),this.age<this.life){var r=this.easing(this.age/this.life);this.energy=Math.max(1-r,0)}else this.destroy()},e.applyBehaviours=function(t,e){var r,n=this.behaviours.length;for(r=0;r<n;r++)this.behaviours[r]&&this.behaviours[r].applyBehaviour(this,t,e)},e.addBehaviour=function(t){this.behaviours.push(t),t.hasOwnProperty("parents")&&t.parents.push(this),t.initialize(this)},e.addBehaviours=function(t){var e,r=t.length;for(e=0;e<r;e++)this.addBehaviour(t[e])},e.removeBehaviour=function(t){var e=this.behaviours.indexOf(t);e>-1&&(this.behaviours.splice(e,1).parents=null)},e.removeAllBehaviours=function(){y.emptyArray(this.behaviours)},e.destroy=function(){this.removeAllBehaviours(),this.energy=0,this.dead=!0,this.parent=null},t}(),M={hexToRgb:function(t){var e="#"===t.charAt(0)?t.substring(1,7):t;return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}},rgbToHex:function(t){return"rgb("+t.r+", "+t.g+", "+t.b+")"},getHex16FromParticle:function(t){return 65536*Number(t.rgb.r)+256*Number(t.rgb.g)+Number(t.rgb.b)}},I=function(){function t(t,e){this.r=Math.abs(t)||0,this.tha=e||0}var e=t.prototype;return e.set=function(t,e){return this.r=t,this.tha=e,this},e.setR=function(t){return this.r=t,this},e.setTha=function(t){return this.tha=t,this},e.copy=function(t){return this.r=t.r,this.tha=t.tha,this},e.toVector=function(){return new P(this.getX(),this.getY())},e.getX=function(){return this.r*Math.sin(this.tha)},e.getY=function(){return-this.r*Math.cos(this.tha)},e.normalize=function(){return this.r=1,this},e.equals=function(t){return t.r===this.r&&t.tha===this.tha},e.clear=function(){return this.r=0,this.tha=0,this},e.clone=function(){return new t(this.r,this.tha)},t}(),j={create:function(t){var e=new Float32Array(9);return t&&this.set(t,e),e},set:function(t,e){for(var r=0;r<9;r++)e[r]=t[r];return e},multiply:function(t,e,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[6],l=t[7],c=e[0],h=e[1],f=e[2],p=e[3],d=e[4],m=e[6],y=e[7];return r[0]=c*n+h*a,r[1]=c*i+h*s,r[2]=o*f,r[3]=p*n+d*a,r[4]=p*i+d*s,r[6]=m*n+y*a+u,r[7]=m*i+y*s+l,r},inverse:function(t,e){var r,n=t[0],i=t[1],o=t[3],a=t[4],s=t[6],u=t[7],l=a,c=-o,h=u*o-a*s;return r=1/(n*l+i*c),e[0]=l*r,e[1]=-i*r,e[3]=c*r,e[4]=n*r,e[6]=h*r,e[7]=(-u*n+i*s)*r,e},multiplyVec2:function(t,e,r){var n=e[0],i=e[1];return r[0]=n*t[0]+i*t[3]+t[6],r[1]=n*t[1]+i*t[4]+t[7],r}},B=function(){function t(t,e,r){y.isArray(t)?(this.isArray=!0,this.a=t):(this.isArray=!1,this.a=y.initValue(t,1),this.b=y.initValue(e,this.a),this.center=y.initValue(r,!1))}return t.prototype.getValue=function(t){return void 0===t&&(t=!1),this.isArray?y.getRandFromArray(this.a):this.center?S.randomFloating(this.a,this.b,t):S.randomAToB(this.a,this.b,t)},t.setSpanValue=function(e,r,n){return e instanceof t?e:void 0===r?new t(e):void 0===n?new t(e,r):new t(e,r,n)},t.getSpanValue=function(e){return e instanceof t?e.getValue():e},t}(),L=function(t){function r(e){var r;return(r=t.call(this)||this)._arr=y.toArray(e),r}return e(r,t),r.prototype.getValue=function(){var t=y.getRandFromArray(this._arr);return"random"===t||"Random"===t?S.randomColor():t},r.createArraySpan=function(t){return t?t instanceof r?t:new r(t):null},r}(B),R=function(){function t(t,e,r,n){this.x=t,this.y=e,this.width=r,this.height=n,this.bottom=this.y+this.height,this.right=this.x+this.width}return t.prototype.contains=function(t,e){return t<=this.right&&t>=this.x&&e<=this.bottom&&e>=this.y},t}(),q=function(){function t(t,e){this.numPan=B.setSpanValue(y.initValue(t,1)),this.timePan=B.setSpanValue(y.initValue(e,1)),this.startTime=0,this.nextTime=0,this.init()}var e=t.prototype;return e.init=function(){this.startTime=0,this.nextTime=this.timePan.getValue()},e.getValue=function(t){return this.startTime+=t,this.startTime>=this.nextTime?(this.startTime=0,this.nextTime=this.timePan.getValue(),1===this.numPan.b?this.numPan.getValue(!1)>.5?1:0:this.numPan.getValue(!0)):0},t}(),N=function(){function t(){}var e=t.prototype;return e.reset=function(){},e.init=function(t,e){e?this.initialize(e):this.initialize(t)},e.initialize=function(t){},t}(),F=function(t){function r(e,r,n){var i;return(i=t.call(this)||this).lifePan=B.setSpanValue(e,r,n),i.name="Life",i}return e(r,t),r.prototype.initialize=function(t){this.lifePan.a===1/0?t.life=1/0:t.life=this.lifePan.getValue()},r}(N),V=function(){function t(){this.vector=new P(0,0),this.random=0,this.crossType="dead",this.alert=!0}var e=t.prototype;return e.getPosition=function(){},e.crossing=function(t){},e.destroy=function(){this.vector=null},t}(),D=function(t){function r(e,r){var n;return(n=t.call(this)||this).x=e,n.y=r,n}e(r,t);var n=r.prototype;return n.getPosition=function(){return this.vector.x=this.x,this.vector.y=this.y,this.vector},n.crossing=function(t){this.alert&&(console.error("Sorry, PointZone does not support crossing method!"),this.alert=!1)},r}(V),G=function(t){function r(e){var r;return(r=t.call(this)||this).zone=y.initValue(e,new D),r.name="Position",r}e(r,t);var n=r.prototype;return n.reset=function(t){this.zone=y.initValue(t,new D)},n.initialize=function(t){this.zone.getPosition(),t.p.x=this.zone.vector.x,t.p.y=this.zone.vector.y},r}(N),z=function(t){function r(e,r,n){var i;return(i=t.call(this)||this).rPan=B.setSpanValue(e),i.thaPan=B.setSpanValue(r),i.type=y.initValue(n,"vector"),i.name="Velocity",i}e(r,t);var n=r.prototype;return n.reset=function(t,e,r){this.rPan=B.setSpanValue(t),this.thaPan=B.setSpanValue(e),this.type=y.initValue(r,"vector")},n.normalizeVelocity=function(t){return t*E.MEASURE},n.initialize=function(t){if("p"===this.type||"P"===this.type||"polar"===this.type){var e=new I(this.normalizeVelocity(this.rPan.getValue()),this.thaPan.getValue()*S.PI_180);t.v.x=e.getX(),t.v.y=e.getY()}else t.v.x=this.normalizeVelocity(this.rPan.getValue()),t.v.y=this.normalizeVelocity(this.thaPan.getValue())},r}(N),U=function(t){function r(e,r,n){var i;return(i=t.call(this)||this).massPan=B.setSpanValue(e,r,n),i.name="Mass",i}return e(r,t),r.prototype.initialize=function(t){t.mass=this.massPan.getValue()},r}(N),Y=function(t){function r(e,r,n){var i;return(i=t.call(this)||this).radius=B.setSpanValue(e,r,n),i.name="Radius",i}e(r,t);var n=r.prototype;return n.reset=function(t,e,r){this.radius=B.setSpanValue(t,e,r)},n.initialize=function(t){t.radius=this.radius.getValue(),t.data.oldRadius=t.radius},r}(N),X=function(t){function r(e,r,n){var i;return(i=t.call(this)||this).image=i.setSpanValue(e),i.w=y.initValue(r,20),i.h=y.initValue(n,i.w),i.name="Body",i}e(r,t);var n=r.prototype;return n.initialize=function(t){var e=this.image.getValue();t.body="string"==typeof e?{width:this.w,height:this.h,src:e,isInner:!0,inner:!0}:e},n.setSpanValue=function(t){return t instanceof L?t:new L(t)},r}(N),W=function(){function t(e,r){this.life=y.initValue(e,1/0),this.easing=k.getEasing(r),this.age=0,this.energy=1,this.dead=!1,this.parents=[],this.id="Behaviour_"+t.id++,this.name="Behaviour"}var e=t.prototype;return e.reset=function(t,e){this.life=y.initValue(t,1/0),this.easing=k.getEasing(e)},e.normalizeForce=function(t){return t.multiplyScalar(E.MEASURE)},e.normalizeValue=function(t){return t*E.MEASURE},e.initialize=function(t){},e.calculate=function(t,e,r){if(this.age+=e,this.age>=this.life||this.dead)this.energy=0,this.dead=!0,this.destroy();else{var n=this.easing(t.age/t.life);this.energy=Math.max(1-n,0)}},e.applyBehaviour=function(t,e,r){this.calculate(t,e,r)},e.destroy=function(){for(var t=this.parents.length;t--;)this.parents[t].removeBehaviour(this);this.parents.length=0},t}();W.id=0;var H=function(t){function r(e,r,n,i){var o;return(o=t.call(this,n,i)||this).force=o.normalizeForce(new P(e,r)),o.name="Force",o}e(r,t);var n=r.prototype;return n.reset=function(e,r,n,i){this.force=this.normalizeForce(new P(e,r)),n&&t.prototype.reset.call(this,n,i)},n.applyBehaviour=function(t,e,r){this.calculate(t,e,r),t.a.add(this.force)},r}(W),Z=function(t){function r(e,r,n,i,o){var a;return(a=t.call(this,i,o)||this).targetPosition=y.initValue(e,new P),a.radius=y.initValue(n,1e3),a.force=y.initValue(a.normalizeValue(r),100),a.radiusSq=a.radius*a.radius,a.attractionForce=new P,a.lengthSq=0,a.name="Attraction",a}e(r,t);var n=r.prototype;return n.reset=function(e,r,n,i,o){this.targetPosition=y.initValue(e,new P),this.radius=y.initValue(n,1e3),this.force=y.initValue(this.normalizeValue(r),100),this.radiusSq=this.radius*this.radius,this.attractionForce=new P,this.lengthSq=0,i&&t.prototype.reset.call(this,i,o)},n.applyBehaviour=function(t,e,r){this.calculate(t,e,r),this.attractionForce.copy(this.targetPosition),this.attractionForce.sub(t.p),this.lengthSq=this.attractionForce.lengthSq(),this.lengthSq>4e-5&&this.lengthSq<this.radiusSq&&(this.attractionForce.normalize(),this.attractionForce.multiplyScalar(1-this.lengthSq/this.radiusSq),this.attractionForce.multiplyScalar(this.force),t.a.add(this.attractionForce))},r}(W),K=function(t){function r(e,r,n,i,o){var a;return(a=t.call(this,i,o)||this).reset(e,r,n),a.time=0,a.name="RandomDrift",a}e(r,t);var n=r.prototype;return n.reset=function(e,r,n,i,o){this.panFoce=new P(e,r),this.panFoce=this.normalizeForce(this.panFoce),this.delay=n,i&&t.prototype.reset.call(this,i,o)},n.initialize=function(t){t.data.time=0},n.applyBehaviour=function(t,e,r){this.calculate(t,e,r),t.data.time+=e,t.data.time>=this.delay&&(t.a.addXY(S.randomAToB(-this.panFoce.x,this.panFoce.x),S.randomAToB(-this.panFoce.y,this.panFoce.y)),t.data.time=0)},r}(W),Q=function(t){function r(e,r,n){var i;return(i=t.call(this,0,e,r,n)||this).name="Gravity",i}return e(r,t),r.prototype.reset=function(e,r,n){t.prototype.reset.call(this,0,e,r,n)},r}(H),J=function(t){function r(e,r,n,i,o){var a;return(a=t.call(this,i,o)||this).reset(e,r,n),a.newPool=[],a.pool=[],a.name="Collision",a}e(r,t);var n=r.prototype;return n.reset=function(e,r,n,i,o){this.emitter=y.initValue(e,null),this.mass=y.initValue(r,!0),this.callback=y.initValue(n,null),this.collisionPool=[],this.delta=new P,i&&t.prototype.reset.call(this,i,o)},n.applyBehaviour=function(t,e,r){this.emitter?y.sliceArray(this.emitter.particles,r,this.newPool):y.sliceArray(this.pool,r,this.newPool);var n,i,o,a,s,u,l,c=this.newPool.length;for(l=0;l<c;l++)if((n=this.newPool[l])!==t){this.delta.copy(n.p),this.delta.sub(t.p),i=this.delta.lengthSq();var h=t.radius+n.radius;i<=h*h&&(o=h-Math.sqrt(i),o+=.5,a=t.mass+n.mass,s=this.mass?n.mass/a:.5,u=this.mass?t.mass/a:.5,t.p.add(this.delta.clone().normalize().multiplyScalar(o*-s)),n.p.add(this.delta.normalize().multiplyScalar(o*u)),this.callback&&this.callback(t,n))}},r}(W),$=function(t){function r(e,r,n,i){var o;return(o=t.call(this,n,i)||this).reset(e,r),o.name="CrossZone",o}e(r,t);var n=r.prototype;return n.reset=function(e,r,n,i){this.zone=e,this.zone.crossType=y.initValue(r,"dead"),n&&t.prototype.reset.call(this,n,i)},n.applyBehaviour=function(t,e,r){this.calculate(t,e,r),this.zone.crossing(t)},r}(W),tt=function(t){function r(e,r,n,i){var o;return(o=t.call(this,n,i)||this).reset(e,r),o.name="Alpha",o}e(r,t);var n=r.prototype;return n.reset=function(e,r,n,i){this.same=null==r,this.a=B.setSpanValue(y.initValue(e,1)),this.b=B.setSpanValue(r),n&&t.prototype.reset.call(this,n,i)},n.initialize=function(t){t.data.alphaA=this.a.getValue(),this.same?t.data.alphaB=t.data.alphaA:t.data.alphaB=this.b.getValue()},n.applyBehaviour=function(t,e,r){this.calculate(t,e,r),t.alpha=t.data.alphaB+(t.data.alphaA-t.data.alphaB)*this.energy,t.alpha<.001&&(t.alpha=0)},r}(W),et=function(t){function r(e,r,n,i){var o;return(o=t.call(this,n,i)||this).reset(e,r),o.name="Scale",o}e(r,t);var n=r.prototype;return n.reset=function(e,r,n,i){this.same=null==r,this.a=B.setSpanValue(y.initValue(e,1)),this.b=B.setSpanValue(r),n&&t.prototype.reset.call(this,n,i)},n.initialize=function(t){t.data.scaleA=this.a.getValue(),t.data.oldRadius=t.radius,t.data.scaleB=this.same?t.data.scaleA:this.b.getValue()},n.applyBehaviour=function(t,e,r){this.calculate(t,e,r),t.scale=t.data.scaleB+(t.data.scaleA-t.data.scaleB)*this.energy,t.scale<1e-4&&(t.scale=0),t.radius=t.data.oldRadius*t.scale},r}(W),rt=function(t){function r(e,r,n,i,o){var a;return(a=t.call(this,i,o)||this).reset(e,r,n),a.name="Rotate",a}e(r,t);var n=r.prototype;return n.reset=function(e,r,n,i,o){this.same=null==r,this.a=B.setSpanValue(y.initValue(e,"Velocity")),this.b=B.setSpanValue(y.initValue(r,0)),this.style=y.initValue(n,"to"),i&&t.prototype.reset.call(this,i,o)},n.initialize=function(t){t.rotation=this.a.getValue(),t.data.rotationA=this.a.getValue(),this.same||(t.data.rotationB=this.b.getValue())},n.applyBehaviour=function(t,e,r){this.calculate(t,e,r),this.same?"V"!==this.a.a&&"Velocity"!==this.a.a&&"v"!==this.a.a||(t.rotation=t.getDirection()):"to"===this.style||"TO"===this.style||"_"===this.style?t.rotation+=t.data.rotationB+(t.data.rotationA-t.data.rotationB)*this.energy:t.rotation+=t.data.rotationB},r}(W),nt=function(t){function r(e,r,n,i){var o;return(o=t.call(this,n,i)||this).reset(e,r),o.name="Color",o}e(r,t);var n=r.prototype;return n.reset=function(e,r,n,i){this.a=L.createArraySpan(e),this.b=L.createArraySpan(r),n&&t.prototype.reset.call(this,n,i)},n.initialize=function(t){t.color=this.a.getValue(),t.data.colorA=M.hexToRgb(t.color),this.b&&(t.data.colorB=M.hexToRgb(this.b.getValue()))},n.applyBehaviour=function(t,e,r){this.b?(this.calculate(t,e,r),t.rgb.r=t.data.colorB.r+(t.data.colorA.r-t.data.colorB.r)*this.energy,t.rgb.g=t.data.colorB.g+(t.data.colorA.g-t.data.colorB.g)*this.energy,t.rgb.b=t.data.colorB.b+(t.data.colorA.b-t.data.colorB.b)*this.energy,t.rgb.r=t.rgb.r<<0,t.rgb.g=t.rgb.g<<0,t.rgb.b=t.rgb.b<<0):(t.rgb.r=t.data.colorA.r,t.rgb.g=t.data.colorA.g,t.rgb.b=t.data.colorA.b)},r}(W),it="changing",ot=function(t){function r(e,r,n,i){var o;return(o=t.call(this,n,i)||this).setAngleAndForce(e,r),o.name="Cyclone",o}e(r,t);var n=r.prototype;return n.setAngleAndForce=function(t,e){this.force=it,this.angle=S.PI/2,"right"===t?this.angle=S.PI/2:"left"===t?this.angle=-S.PI/2:"random"===t?this.angle="random":t instanceof B?(this.angle="span",this.span=t):t&&(this.angle=t),"changing"===String(e).toLowerCase()||"chang"===String(e).toLowerCase()||"auto"===String(e).toLowerCase()?this.force=it:e&&(this.force=e)},n.reset=function(e,r,n,i){this.angle=S.PI/2,this.setAngleAndForce(e,r),n&&t.prototype.reset.call(this,n,i)},n.initialize=function(t){"random"===this.angle?t.data.cangle=S.randomAToB(-S.PI,S.PI):"span"===this.angle&&(t.data.cangle=this.span.getValue()),t.data.cyclone=new P(0,0)},n.applyBehaviour=function(t,e,r){var n;this.calculate(t,e,r);var i=t.v.getGradient();"random"===this.angle||"span"===this.angle?i+=t.data.cangle:i+=this.angle,n=this.force===it?t.v.length()/100:this.force,t.data.cyclone.x=n*Math.cos(i),t.data.cyclone.y=n*Math.sin(i),t.data.cyclone=this.normalizeForce(t.data.cyclone),t.a.add(t.data.cyclone)},r}(W),at=function(t){function r(e,r,n,i,o){var a;return(a=t.call(this,e,r,n,i,o)||this).force*=-1,a.name="Repulsion",a}return e(r,t),r.prototype.reset=function(e,r,n,i,o){t.prototype.reset.call(this,e,r,n,i,o),this.force*=-1},r}(Z),st=function(t){function r(e,r,n,i){var o;return(o=t.call(this,n,i)||this).distanceVec=new P,o.centerPoint=y.initValue(e,new P),o.force=y.initValue(o.normalizeValue(r),100),o.name="GravityWell",o}e(r,t);var n=r.prototype;return n.reset=function(e,r,n,i){this.distanceVec=new P,this.centerPoint=y.initValue(e,new P),this.force=y.initValue(this.normalizeValue(r),100),n&&t.prototype.reset.call(this,n,i)},n.initialize=function(t){},n.applyBehaviour=function(t,e,r){this.distanceVec.set(this.centerPoint.x-t.p.x,this.centerPoint.y-t.p.y);var n=this.distanceVec.lengthSq();if(0!==n){var i=this.distanceVec.length(),o=this.force*e/(n*i);t.v.x+=o*this.distanceVec.x,t.v.y+=o*this.distanceVec.y}},r}(W),ut={initialize:function(t,e,r){var n,i=r.length;for(n=0;n<i;n++)r[n]instanceof N?r[n].init(t,e):this.init(t,e,r[n]);this.bindEmitter(t,e)},init:function(t,e,r){A.setProp(e,r),A.setVectorVal(e,r)},bindEmitter:function(t,e){t.bindEmitter&&(e.p.add(t.p),e.v.add(t.v),e.a.add(t.a),e.v.rotate(S.degreeTransform(t.rotation)))}},lt=function(t){function r(e){var r;return void 0===e&&(e={}),(r=t.call(this,e)||this).particles=[],r.behaviours=[],r.initializes=[],r.emitTime=0,r.emitSpeed=0,r.totalTime=-1,r.damping=.006,r.bindEmitter=!0,r.rate=new q(1,.1),r.name="Emitter",r.id=v.id(r.name),r}e(r,t);var n=r.prototype;return n.emit=function(t,e){this.stoped=!1,this.emitTime=0,this.totalTime=y.initValue(t,1/0),!0===e||"life"===e||"destroy"===e?this.life="once"===t?1:this.totalTime:isNaN(e)||(this.life=e),this.rate.init()},n.stop=function(){this.totalTime=-1,this.emitTime=0,this.stoped=!0},n.preEmit=function(t){var e=this.stoped,r=this.emitTime,n=this.totalTime;this.stoped=!1,this.emitTime=0,this.totalTime=t,this.rate.init();for(var i=.0167;t>i;)t-=i,this.update(i);this.stoped=e,this.emitTime=r+Math.max(t,0),this.totalTime=n},n.removeAllParticles=function(){for(var t=this.particles.length;t--;)this.particles[t].dead=!0},n.addSelfInitialize=function(t){t.init&&t.init(this)},n.addInitialize=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.length;n--;)this.initializes.push(e[n])},n.removeInitialize=function(t){var e=this.initializes.indexOf(t);e>-1&&this.initializes.splice(e,1)},n.removeAllInitializers=function(){y.emptyArray(this.initializes)},n.addBehaviour=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=arguments.length;n--;){var i=e[n];this.behaviours.push(i),i.parents&&i.parents.push(this)}},n.removeBehaviour=function(t){var e=this.behaviours.indexOf(t);return this.behaviours.splice(e,1),t.parents&&(e=t.parents.indexOf(t),t.parents.splice(e,1)),e},n.removeAllBehaviours=function(){y.emptyArray(this.behaviours)},n.update=function(t){this.age+=t,(this.age>=this.life||this.dead)&&this.destroy(),this.emitting(t),this.integrate(t)},n.integrate=function(t){if(this.parent){var e,r,n=1-this.damping;for(this.parent.integrator.calculate(this,t,n),e=this.particles.length-1;e>=0;e--)(r=this.particles[e]).update(t,e),this.parent.integrator.calculate(r,t,n),this.dispatch("PARTICLE_UPDATE",r),r.dead&&(this.dispatch("PARTICLE_DEAD",r),this.parent.pool.expire(r),this.particles.splice(e,1))}},n.dispatch=function(t,e){this.parent&&this.parent.dispatchEvent(t,e),this.bindEvent&&this.dispatchEvent(t,e)},n.emitting=function(t){if("once"===this.totalTime){var e,r=this.rate.getValue(99999);for(r>0&&(this.emitSpeed=r),e=0;e<r;e++)this.createParticle();this.totalTime="none"}else if(this.emitTime+=t,this.emitTime<this.totalTime){var n,i=this.rate.getValue(t);for(i>0&&(this.emitSpeed=i),n=0;n<i;n++)this.createParticle()}},n.createParticle=function(t,e){var r=this.parent.pool.get(C);return this.setupParticle(r,t,e),this.dispatch("PARTICLE_CREATED",r),r},n.setupParticle=function(t,e,r){var n=this.initializes,i=this.behaviours;e&&(n=y.toArray(e)),r&&(i=y.toArray(r)),t.reset(),ut.initialize(this,t,n),t.addBehaviours(i),t.parent=this,this.particles.push(t)},n.remove=function(){this.stop(),y.destroyAll(this.particles)},n.destroy=function(){this.dead=!0,this.remove(),this.removeAllInitializers(),this.removeAllBehaviours(),this.parent&&this.parent.removeEmitter(this),this.rate=null,this.old=null,this.rgb=null,this.v=null,this.a=null,this.p=null},r}(C);w.bind(lt);var ct,ht=function(t){function r(e){var r;return(r=t.call(this,e)||this).selfBehaviours=[],r}e(r,t);var n=r.prototype;return n.addSelfBehaviour=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,i=e.length;for(n=0;n<i;n++){var o=e[n];this.selfBehaviours.push(o),o.initialize(this)}},n.removeSelfBehaviour=function(t){var e=this.selfBehaviours.indexOf(t);e>-1&&this.selfBehaviours.splice(e,1)},n.update=function(e){if(t.prototype.update.call(this,e),!this.sleep){var r,n=this.selfBehaviours.length;for(r=0;r<n;r++)this.selfBehaviours[r].applyBehaviour(this,e,r)}},r}(lt),ft=function(t){function r(e,r,n){var i;return(i=t.call(this,n)||this).mouseTarget=y.initValue(e,window),i.ease=y.initValue(r,.7),i._allowEmitting=!1,i.initEventHandler(),i}e(r,t);var n=r.prototype;return n.initEventHandler=function(){var t=this;this.mousemoveHandler=function(e){return t.mousemove.call(t,e)},this.mousedownHandler=function(e){return t.mousedown.call(t,e)},this.mouseupHandler=function(e){return t.mouseup.call(t,e)},this.mouseTarget.addEventListener("mousemove",this.mousemoveHandler,!1)},n.emit=function(){this._allowEmitting=!0},n.stop=function(){this._allowEmitting=!1},n.mousemove=function(e){e.layerX||0===e.layerX?(this.p.x+=(e.layerX-this.p.x)*this.ease,this.p.y+=(e.layerY-this.p.y)*this.ease):(e.offsetX||0===e.offsetX)&&(this.p.x+=(e.offsetX-this.p.x)*this.ease,this.p.y+=(e.offsetY-this.p.y)*this.ease),this._allowEmitting&&t.prototype.emit.call(this,"once")},n.destroy=function(){t.prototype.destroy.call(this),this.mouseTarget.removeEventListener("mousemove",this.mousemoveHandler,!1)},r}(lt),pt=function(t){if(!t)return!1;if(t.__isImage)return!0;var e=(""+t.tagName).toUpperCase();return("IMG"===(""+t.nodeName).toUpperCase()||"IMG"===e)&&(t.__isImage=!0,!0)},dt=function(t){return"string"==typeof t},mt=function(){function t(t,e){this.pool=new b,this.element=t,this.stroke=e,this.circleConf={isCircle:!0},this.initEventHandler(),this.name="BaseRenderer"}var e=t.prototype;return e.setStroke=function(t,e){void 0===t&&(t="#000000"),void 0===e&&(e=1),this.stroke={color:t,thinkness:e}},e.initEventHandler=function(){var t=this;this._protonUpdateHandler=function(){t.onProtonUpdate.call(t)},this._protonUpdateAfterHandler=function(){t.onProtonUpdateAfter.call(t)},this._emitterAddedHandler=function(e){t.onEmitterAdded.call(t,e)},this._emitterRemovedHandler=function(e){t.onEmitterRemoved.call(t,e)},this._particleCreatedHandler=function(e){t.onParticleCreated.call(t,e)},this._particleUpdateHandler=function(e){t.onParticleUpdate.call(t,e)},this._particleDeadHandler=function(e){t.onParticleDead.call(t,e)}},e.init=function(t){this.parent=t,t.addEventListener("PROTON_UPDATE",this._protonUpdateHandler),t.addEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),t.addEventListener("EMITTER_ADDED",this._emitterAddedHandler),t.addEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),t.addEventListener("PARTICLE_CREATED",this._particleCreatedHandler),t.addEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),t.addEventListener("PARTICLE_DEAD",this._particleDeadHandler)},e.resize=function(t,e){},e.destroy=function(){this.remove(),this.pool.destroy(),this.pool=null,this.element=null,this.stroke=null},e.remove=function(t){this.parent.removeEventListener("PROTON_UPDATE",this._protonUpdateHandler),this.parent.removeEventListener("PROTON_UPDATE_AFTER",this._protonUpdateAfterHandler),this.parent.removeEventListener("EMITTER_ADDED",this._emitterAddedHandler),this.parent.removeEventListener("EMITTER_REMOVED",this._emitterRemovedHandler),this.parent.removeEventListener("PARTICLE_CREATED",this._particleCreatedHandler),this.parent.removeEventListener("PARTICLE_UPDATE",this._particleUpdateHandler),this.parent.removeEventListener("PARTICLE_DEAD",this._particleDeadHandler),this.parent=null},e.onProtonUpdate=function(){},e.onProtonUpdateAfter=function(){},e.onEmitterAdded=function(t){},e.onEmitterRemoved=function(t){},e.onParticleCreated=function(t){},e.onParticleUpdate=function(t){},e.onParticleDead=function(t){},t}(),yt=function(t){function r(e){var r;return(r=t.call(this,e)||this).stroke=null,r.context=r.element.getContext("2d"),r.bufferCache={},r.name="CanvasRenderer",r}e(r,t);var n=r.prototype;return n.resize=function(t,e){this.element.width=t,this.element.height=e},n.onProtonUpdate=function(){this.context.clearRect(0,0,this.element.width,this.element.height)},n.onParticleCreated=function(t){t.body?d(t.body,this.addImg2Body,t):t.color=t.color||"#ff0000"},n.onParticleUpdate=function(t){t.body?pt(t.body)&&this.drawImage(t):this.drawCircle(t)},n.onParticleDead=function(t){t.body=null},n.addImg2Body=function(t,e){e.body=t},n.drawImage=function(t){var e=t.body.width*t.scale|0,r=t.body.height*t.scale|0,n=t.p.x-e/2,i=t.p.y-r/2;if(t.color){t.data.buffer||(t.data.buffer=this.createBuffer(t.body));var o=t.data.buffer.getContext("2d");o.clearRect(0,0,t.data.buffer.width,t.data.buffer.height),o.globalAlpha=t.alpha,o.drawImage(t.body,0,0),o.globalCompositeOperation="source-atop",o.fillStyle=M.rgbToHex(t.rgb),o.fillRect(0,0,t.data.buffer.width,t.data.buffer.height),o.globalCompositeOperation="source-over",o.globalAlpha=1,this.context.drawImage(t.data.buffer,0,0,t.data.buffer.width,t.data.buffer.height,n,i,e,r)}else this.context.save(),this.context.globalAlpha=t.alpha,this.context.translate(t.p.x,t.p.y),this.context.rotate(S.degreeTransform(t.rotation)),this.context.translate(-t.p.x,-t.p.y),this.context.drawImage(t.body,0,0,t.body.width,t.body.height,n,i,e,r),this.context.globalAlpha=1,this.context.restore()},n.drawCircle=function(t){t.rgb?this.context.fillStyle="rgba("+t.rgb.r+","+t.rgb.g+","+t.rgb.b+","+t.alpha+")":this.context.fillStyle=t.color,this.context.beginPath(),this.context.arc(t.p.x,t.p.y,t.radius,0,2*Math.PI,!0),this.stroke&&(this.context.strokeStyle=this.stroke.color,this.context.lineWidth=this.stroke.thinkness,this.context.stroke()),this.context.closePath(),this.context.fill()},n.createBuffer=function(t){if(pt(t)){var e=t.width+"_"+t.height,r=this.bufferCache[e];return r||((r=document.createElement("canvas")).width=t.width,r.height=t.height,this.bufferCache[e]=r),r}},n.destroy=function(){t.prototype.destroy.call(this),this.stroke=null,this.context=null,this.bufferCache=null},r}(mt),gt=function(t){function r(e){var r;return(r=t.call(this,e)||this).stroke=null,r.transform3d=!1,r.pool.create=function(t,e){return r.createBody(t,e)},r.addImg2Body=r.addImg2Body.bind(n(r)),r.name="DomRenderer",r}e(r,t);var i=r.prototype;return i.onParticleCreated=function(t){t.body?d(t.body,this.addImg2Body,t):(t.body=this.pool.get(this.circleConf,t),this.element.appendChild(t.body))},i.onParticleUpdate=function(t){this.bodyReady(t)&&(this.transform3d?l.transform3d(t.body,t.p.x,t.p.y,t.scale,t.rotation):l.transform(t.body,t.p.x,t.p.y,t.scale,t.rotation),t.body.style.opacity=t.alpha,t.body.isCircle&&(t.body.style.backgroundColor=t.color||"#ff0000"))},i.onParticleDead=function(t){this.bodyReady(t)&&(this.element.removeChild(t.body),this.pool.expire(t.body),t.body=null)},i.bodyReady=function(t){return"object"==typeof t.body&&t.body&&!t.body.isInner},i.addImg2Body=function(t,e){e.dead||(e.body=this.pool.get(t,e),l.resize(e.body,t.width,t.height),this.element.appendChild(e.body))},i.createBody=function(t,e){return t.isCircle?this.createCircle(e):this.createSprite(t,e)},i.createCircle=function(t){var e=l.createDiv(t.id+"_dom",2*t.radius,2*t.radius);return e.style.borderRadius=t.radius+"px",this.stroke&&(e.style.borderColor=this.stroke.color,e.style.borderWidth=this.stroke.thinkness+"px"),e.isCircle=!0,e},i.createSprite=function(t,e){var r="string"==typeof t?t:t.src,n=l.createDiv(e.id+"_dom",t.width,t.height);return n.style.backgroundImage="url("+r+")",n},i.destroy=function(){t.prototype.destroy.call(this),this.stroke=null},r}(mt),vt=function(t){function r(e,r){var n;return(n=t.call(this,e)||this).stroke=r,n.name="EaselRenderer",n}e(r,t);var n=r.prototype;return n.onParticleCreated=function(t){t.body?this.createSprite(t):this.createCircle(t),this.element.addChild(t.body)},n.onParticleUpdate=function(t){t.body&&(t.body.x=t.p.x,t.body.y=t.p.y,t.body.alpha=t.alpha,t.body.scaleX=t.body.scaleY=t.scale,t.body.rotation=t.rotation)},n.onParticleDead=function(t){t.body&&(t.body.parent&&t.body.parent.removeChild(t.body),this.pool.expire(t.body),t.body=null),t.graphics&&this.pool.expire(t.graphics)},n.createSprite=function(t){t.body=this.pool.get(t.body),t.body.parent||t.body.image&&(t.body.regX=t.body.image.width/2,t.body.regY=t.body.image.height/2)},n.createCircle=function(t){var e=this.pool.get(createjs.Graphics);this.stroke&&(dt(this.stroke)?e.beginStroke(this.stroke):e.beginStroke("#000000")),e.beginFill(t.color||"#ff0000").drawCircle(0,0,t.radius);var r=this.pool.get(createjs.Shape,[e]);t.body=r,t.graphics=e},n.destroy=function(){t.prototype.destroy.call(this),this.stroke=null},r}(mt),bt=function(t){function r(e,r){var n;return(n=t.call(this,e)||this).context=n.element.getContext("2d"),n.imageData=null,n.rectangle=r,n.createImageData(r),n.name="PixelRenderer",n}e(r,t);var n=r.prototype;return n.resize=function(t,e){this.element.width=t,this.element.height=e},n.createImageData=function(t){this.rectangle=t||new R(0,0,this.element.width,this.element.height),this.imageData=this.context.createImageData(this.rectangle.width,this.rectangle.height),this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)},n.onProtonUpdate=function(){this.context.clearRect(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height),this.imageData=this.context.getImageData(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height)},n.onProtonUpdateAfter=function(){this.context.putImageData(this.imageData,this.rectangle.x,this.rectangle.y)},n.onParticleCreated=function(t){},n.onParticleUpdate=function(t){this.imageData&&this.setPixel(this.imageData,t.p.x-this.rectangle.x>>0,t.p.y-this.rectangle.y>>0,t)},n.setPixel=function(t,e,r,n){var i=n.rgb;if(!(e<0||e>this.element.width||r<0||r>this.element.height)){var o=4*((r>>0)*t.width+(e>>0));t.data[o]=i.r,t.data[o+1]=i.g,t.data[o+2]=i.b,t.data[o+3]=255*n.alpha}},n.onParticleDead=function(t){},n.destroy=function(){t.prototype.destroy.call(this),this.stroke=null,this.context=null,this.imageData=null,this.rectangle=null},r}(mt),_t=function(t){function r(e,r){var n;return(n=t.call(this,e)||this).stroke=r,n.color=!1,n.setColor=!1,n.blendMode=null,n.pool.create=function(t,e){return n.createBody(t,e)},n.setPIXI(window.PIXI),n.name="PixiRenderer",n}e(r,t);var n=r.prototype;return n.setPIXI=function(t){try{ct=t||{Sprite:{}},this.createFromImage=ct.Sprite.from||ct.Sprite.fromImage}catch(t){}},n.onProtonUpdate=function(){},n.onParticleCreated=function(t){t.body?t.body=this.pool.get(t.body,t):t.body=this.pool.get(this.circleConf,t),this.blendMode&&(t.body.blendMode=this.blendMode),this.element.addChild(t.body)},n.onParticleUpdate=function(t){this.transform(t,t.body),!0!==this.setColor&&!0!==this.color||(t.body.tint=M.getHex16FromParticle(t))},n.onParticleDead=function(t){this.element.removeChild(t.body),this.pool.expire(t.body),t.body=null},n.transform=function(t,e){e.x=t.p.x,e.y=t.p.y,e.alpha=t.alpha,e.scale.x=t.scale,e.scale.y=t.scale,e.rotation=t.rotation*S.PI_180},n.createBody=function(t,e){return t.isCircle?this.createCircle(e):this.createSprite(t)},n.createSprite=function(t){var e=t.isInner?this.createFromImage(t.src):new ct.Sprite(t);return e.anchor.x=.5,e.anchor.y=.5,e},n.createCircle=function(t){var e=new ct.Graphics;if(this.stroke){var r=dt(this.stroke)?this.stroke:0;e.beginStroke(r)}return e.beginFill(t.color||36077),e.drawCircle(0,0,t.radius),e.endFill(),e},n.destroy=function(e){t.prototype.destroy.call(this);for(var r=e.length;r--;){var n=e[r];n.body&&this.element.removeChild(n.body)}},r}(mt),wt=function(){function t(){this.mats=[],this.size=0;for(var t=0;t<20;t++)this.mats.push(j.create([0,0,0,0,0,0,0,0,0]))}var e=t.prototype;return e.set=function(t,e){0===e?j.set(t,this.mats[0]):j.multiply(this.mats[e-1],t,this.mats[e]),this.size=Math.max(this.size,e+1)},e.push=function(t){0===this.size?j.set(t,this.mats[0]):j.multiply(this.mats[this.size-1],t,this.mats[this.size]),this.size++},e.pop=function(){this.size>0&&this.size--},e.top=function(){return this.mats[this.size-1]},t}(),xt=function(t){function r(e){var r;return(r=t.call(this,e)||this).gl=r.element.getContext("experimental-webgl",{antialias:!0,stencil:!1,depth:!1}),r.gl||alert("Sorry your browser do not suppest WebGL!"),r.initVar(),r.setMaxRadius(),r.initShaders(),r.initBuffers(),r.gl.blendEquation(r.gl.FUNC_ADD),r.gl.blendFunc(r.gl.SRC_ALPHA,r.gl.ONE_MINUS_SRC_ALPHA),r.gl.enable(r.gl.BLEND),r.addImg2Body=r.addImg2Body.bind(n(r)),r.name="WebGLRenderer",r}e(r,t);var c=r.prototype;return c.init=function(e){t.prototype.init.call(this,e),this.resize(this.element.width,this.element.height)},c.resize=function(t,e){this.umat[4]=-2,this.umat[7]=1,this.smat[0]=1/t,this.smat[4]=1/e,this.mstack.set(this.umat,0),this.mstack.set(this.smat,1),this.gl.viewport(0,0,t,e),this.element.width=t,this.element.height=e},c.setMaxRadius=function(t){this.circleCanvasURL=this.createCircle(t)},c.getVertexShader=function(){return["uniform vec2 viewport;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 tMat;","varying vec2 vTextureCoord;","varying float alpha;","void main() {","vec3 v = tMat * vec3(aVertexPosition, 1.0);","gl_Position = vec4(v.x, v.y, 0, 1);","vTextureCoord = aTextureCoord;","alpha = tMat[0][2];","}"].join("\n")},c.getFragmentShader=function(){return["precision mediump float;","varying vec2 vTextureCoord;","varying float alpha;","uniform sampler2D uSampler;","uniform vec4 color;","uniform bool useTexture;","uniform vec3 uColor;","void main() {","vec4 textureColor = texture2D(uSampler, vTextureCoord);","gl_FragColor = textureColor * vec4(uColor, 1.0);","gl_FragColor.w *= alpha;","}"].join("\n")},c.initVar=function(){this.mstack=new wt,this.umat=j.create([2,0,1,0,-2,0,-1,1,1]),this.smat=j.create([.01,0,1,0,.01,0,0,0,1]),this.texturebuffers={}},c.blendEquation=function(t){this.gl.blendEquation(this.gl[t])},c.blendFunc=function(t,e){this.gl.blendFunc(this.gl[t],this.gl[e])},c.getShader=function(t,e,r){var n=r?t.createShader(t.FRAGMENT_SHADER):t.createShader(t.VERTEX_SHADER);return t.shaderSource(n,e),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(alert(t.getShaderInfoLog(n)),null)},c.initShaders=function(){var t=this.getShader(this.gl,this.getFragmentShader(),!0),e=this.getShader(this.gl,this.getVertexShader(),!1);this.sprogram=this.gl.createProgram(),this.gl.attachShader(this.sprogram,e),this.gl.attachShader(this.sprogram,t),this.gl.linkProgram(this.sprogram),this.gl.getProgramParameter(this.sprogram,this.gl.LINK_STATUS)||alert("Could not initialise shaders"),this.gl.useProgram(this.sprogram),this.sprogram.vpa=this.gl.getAttribLocation(this.sprogram,"aVertexPosition"),this.sprogram.tca=this.gl.getAttribLocation(this.sprogram,"aTextureCoord"),this.gl.enableVertexAttribArray(this.sprogram.tca),this.gl.enableVertexAttribArray(this.sprogram.vpa),this.sprogram.tMatUniform=this.gl.getUniformLocation(this.sprogram,"tMat"),this.sprogram.samplerUniform=this.gl.getUniformLocation(this.sprogram,"uSampler"),this.sprogram.useTex=this.gl.getUniformLocation(this.sprogram,"useTexture"),this.sprogram.color=this.gl.getUniformLocation(this.sprogram,"uColor"),this.gl.uniform1i(this.sprogram.useTex,1)},c.initBuffers=function(){var t,e;this.unitIBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,3,1,0,2,3]),this.gl.STATIC_DRAW);var r=[];for(e=0;e<100;e++)r.push(e);for(t=new Uint16Array(r),this.unitI33=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitI33),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,t,this.gl.STATIC_DRAW),r=[],e=0;e<100;e++)r.push(e,e+1,e+2);t=new Uint16Array(r),this.stripBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.stripBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,t,this.gl.STATIC_DRAW)},c.createCircle=function(t){this.circleCanvasRadius=i(y.initValue(t,32));var e=l.createCanvas("circle_canvas",2*this.circleCanvasRadius,2*this.circleCanvasRadius),r=e.getContext("2d");return r.beginPath(),r.arc(this.circleCanvasRadius,this.circleCanvasRadius,this.circleCanvasRadius,0,2*Math.PI,!0),r.closePath(),r.fillStyle="#FFF",r.fill(),e.toDataURL()},c.drawImg2Canvas=function(t){var e=t.body.width,r=t.body.height,n=i(t.body.width),o=i(t.body.height),a=t.body.width/n,s=t.body.height/o;this.texturebuffers[t.data.src]||(this.texturebuffers[t.data.src]=[this.gl.createTexture(),this.gl.createBuffer(),this.gl.createBuffer()]),t.data.texture=this.texturebuffers[t.data.src][0],t.data.vcBuffer=this.texturebuffers[t.data.src][1],t.data.tcBuffer=this.texturebuffers[t.data.src][2],this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.tcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,a,0,0,s,s,s]),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.vcBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,e,0,0,r,e,r]),this.gl.STATIC_DRAW);var u=t.data.canvas.getContext("2d").getImageData(0,0,n,o);this.gl.bindTexture(this.gl.TEXTURE_2D,t.data.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,u),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_NEAREST),this.gl.generateMipmap(this.gl.TEXTURE_2D),t.data.textureLoaded=!0,t.data.textureWidth=e,t.data.textureHeight=r},c.onProtonUpdate=function(){},c.onParticleCreated=function(t){t.data.textureLoaded=!1,t.data.tmat=j.create(),t.data.tmat[8]=1,t.data.imat=j.create(),t.data.imat[8]=1,t.body?d(t.body,this.addImg2Body,t):(d(this.circleCanvasURL,this.addImg2Body,t),t.data.oldScale=t.radius/this.circleCanvasRadius)},c.addImg2Body=function(t,e){e.dead||(e.body=t,e.data.src=t.src,e.data.canvas=m(t),e.data.oldScale=1,this.drawImg2Canvas(e))},c.onParticleUpdate=function(t){t.data.textureLoaded&&(this.updateMatrix(t),this.gl.uniform3f(this.sprogram.color,t.rgb.r/255,t.rgb.g/255,t.rgb.b/255),this.gl.uniformMatrix3fv(this.sprogram.tMatUniform,!1,this.mstack.top()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.vcBuffer),this.gl.vertexAttribPointer(this.sprogram.vpa,2,this.gl.FLOAT,!1,0,0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t.data.tcBuffer),this.gl.vertexAttribPointer(this.sprogram.tca,2,this.gl.FLOAT,!1,0,0),this.gl.bindTexture(this.gl.TEXTURE_2D,t.data.texture),this.gl.uniform1i(this.sprogram.samplerUniform,0),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.unitIBuffer),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0),this.mstack.pop())},c.onParticleDead=function(t){},c.updateMatrix=function(t){var e=o(-t.data.textureWidth/2,-t.data.textureHeight/2),r=o(t.p.x,t.p.y),n=t.rotation*S.PI_180,i=a(n),l=t.scale*t.data.oldScale,c=s(l,l),h=u(e,c);h=u(h,i),h=u(h,r),j.inverse(h,t.data.imat),h[2]=t.alpha,this.mstack.push(h)},c.destroy=function(){t.prototype.destroy.call(this),this.gl=null,this.mstack=null,this.umat=null,this.smat=null,this.texturebuffers=null},r}(mt),St=function(t){function r(e){var r;return(r=t.call(this,e)||this).name="CustomRenderer",r}return e(r,t),r}(mt),Tt=function(t){function r(e,r,n,i,o){var a;return a=t.call(this)||this,n-e>=0?(a.x1=e,a.y1=r,a.x2=n,a.y2=i):(a.x1=n,a.y1=i,a.x2=e,a.y2=r),a.dx=a.x2-a.x1,a.dy=a.y2-a.y1,a.minx=Math.min(a.x1,a.x2),a.miny=Math.min(a.y1,a.y2),a.maxx=Math.max(a.x1,a.x2),a.maxy=Math.max(a.y1,a.y2),a.dot=a.x2*a.y1-a.x1*a.y2,a.xxyy=a.dx*a.dx+a.dy*a.dy,a.gradient=a.getGradient(),a.length=a.getLength(),a.direction=y.initValue(o,">"),a}e(r,t);var n=r.prototype;return n.getPosition=function(){return this.random=Math.random(),this.vector.x=this.x1+this.random*this.length*Math.cos(this.gradient),this.vector.y=this.y1+this.random*this.length*Math.sin(this.gradient),this.vector},n.getDirection=function(t,e){var r=this.dy,n=-this.dx;return(r*t+n*e+this.dot)*(0===n?1:n)>0},n.getDistance=function(t,e){return(this.dy*t+-this.dx*e+this.dot)/Math.sqrt(this.xxyy)},n.getSymmetric=function(t){var e=t.getGradient(),r=2*(this.getGradient()-e),n=t.x,i=t.y;return t.x=n*Math.cos(r)-i*Math.sin(r),t.y=n*Math.sin(r)+i*Math.cos(r),t},n.getGradient=function(){return Math.atan2(this.dy,this.dx)},n.rangeOut=function(t){if(Math.abs(this.getGradient())<=S.PI/4){if(t.p.x<=this.maxx&&t.p.x>=this.minx)return!0}else if(t.p.y<=this.maxy&&t.p.y>=this.miny)return!0;return!1},n.getLength=function(){return Math.sqrt(this.dx*this.dx+this.dy*this.dy)},n.crossing=function(t){if("dead"===this.crossType)if(">"===this.direction||"R"===this.direction||"right"===this.direction||"down"===this.direction){if(!this.rangeOut(t))return;this.getDirection(t.p.x,t.p.y)&&(t.dead=!0)}else{if(!this.rangeOut(t))return;this.getDirection(t.p.x,t.p.y)||(t.dead=!0)}else if("bound"===this.crossType){if(!this.rangeOut(t))return;this.getDistance(t.p.x,t.p.y)<=t.radius&&(0===this.dx?t.v.x*=-1:0===this.dy?t.v.y*=-1:this.getSymmetric(t.v))}else"cross"===this.crossType&&this.alert&&(console.error("Sorry, LineZone does not support cross method!"),this.alert=!1)},r}(V),Et=function(t){function r(e,r,n){var i;return(i=t.call(this)||this).x=e,i.y=r,i.radius=n,i.angle=0,i.center={x:e,y:r},i}e(r,t);var n=r.prototype;return n.getPosition=function(){return this.angle=S.PIx2*Math.random(),this.randomRadius=Math.random()*this.radius,this.vector.x=this.x+this.randomRadius*Math.cos(this.angle),this.vector.y=this.y+this.randomRadius*Math.sin(this.angle),this.vector},n.setCenter=function(t,e){this.center.x=t,this.center.y=e},n.crossing=function(t){var e=t.p.distanceTo(this.center);"dead"===this.crossType?e-t.radius>this.radius&&(t.dead=!0):"bound"===this.crossType?e+t.radius>=this.radius&&this.getSymmetric(t):"cross"===this.crossType&&this.alert&&(console.error("Sorry, CircleZone does not support cross method!"),this.alert=!1)},n.getSymmetric=function(t){var e=t.v.getGradient(),r=2*(this.getGradient(t)-e),n=t.v.x,i=t.v.y;t.v.x=n*Math.cos(r)-i*Math.sin(r),t.v.y=n*Math.sin(r)+i*Math.cos(r)},n.getGradient=function(t){return-S.PI_2+Math.atan2(t.p.y-this.center.y,t.p.x-this.center.x)},r}(V),Ot=function(t){function r(e,r,n,i){var o;return(o=t.call(this)||this).x=e,o.y=r,o.width=n,o.height=i,o}e(r,t);var n=r.prototype;return n.getPosition=function(){return this.vector.x=this.x+Math.random()*this.width,this.vector.y=this.y+Math.random()*this.height,this.vector},n.crossing=function(t){"dead"===this.crossType?((t.p.x+t.radius<this.x||t.p.x-t.radius>this.x+this.width)&&(t.dead=!0),(t.p.y+t.radius<this.y||t.p.y-t.radius>this.y+this.height)&&(t.dead=!0)):"bound"===this.crossType?(t.p.x-t.radius<this.x?(t.p.x=this.x+t.radius,t.v.x*=-1):t.p.x+t.radius>this.x+this.width&&(t.p.x=this.x+this.width-t.radius,t.v.x*=-1),t.p.y-t.radius<this.y?(t.p.y=this.y+t.radius,t.v.y*=-1):t.p.y+t.radius>this.y+this.height&&(t.p.y=this.y+this.height-t.radius,t.v.y*=-1)):"cross"===this.crossType&&(t.p.x+t.radius<this.x&&t.v.x<=0?t.p.x=this.x+this.width+t.radius:t.p.x-t.radius>this.x+this.width&&t.v.x>=0&&(t.p.x=this.x-t.radius),t.p.y+t.radius<this.y&&t.v.y<=0?t.p.y=this.y+this.height+t.radius:t.p.y-t.radius>this.y+this.height&&t.v.y>=0&&(t.p.y=this.y-t.radius))},r}(V),At=function(t){function r(e,r,n,i){var o;return(o=t.call(this)||this).reset(e,r,n,i),o}e(r,t);var n=r.prototype;return n.reset=function(t,e,r,n){this.imageData=t,this.x=y.initValue(e,0),this.y=y.initValue(r,0),this.d=y.initValue(n,2),this.vectors=[],this.setVectors()},n.setVectors=function(){var t,e,r=this.imageData.width,n=this.imageData.height;for(t=0;t<r;t+=this.d)for(e=0;e<n;e+=this.d){var i=4*((e>>0)*r+(t>>0));this.imageData.data[i+3]>0&&this.vectors.push({x:t+this.x,y:e+this.y})}return this.vector},n.getBound=function(t,e){var r=4*((e>>0)*this.imageData.width+(t>>0));return this.imageData.data[r+3]>0},n.getPosition=function(){var t=y.getRandFromArray(this.vectors);return this.vector.copy(t)},n.getColor=function(t,e){t-=this.x;var r=4*(((e-=this.y)>>0)*this.imageData.width+(t>>0));return{r:this.imageData.data[r],g:this.imageData.data[r+1],b:this.imageData.data[r+2],a:this.imageData.data[r+3]}},n.crossing=function(t){"dead"===this.crossType?this.getBound(t.p.x-this.x,t.p.y-this.y)?t.dead=!0:t.dead=!1:"bound"===this.crossType&&(this.getBound(t.p.x-this.x,t.p.y-this.y)||t.v.negate())},n.destroy=function(){t.prototype.destroy.call(this),this.imageData=null},r}(V),kt={addEventListener:function(t,e){t.addEventListener("PROTON_UPDATE_AFTER",(function(){return e()}))},getStyle:function(t){void 0===t&&(t="#ff0000");var e=M.hexToRgb(t);return"rgba("+e.r+", "+e.g+", "+e.b+", 0.5)"},drawZone:function(t,e,r,n){var i=e.getContext("2d"),o=this.getStyle();this.addEventListener(t,(function(){n&&i.clearRect(0,0,e.width,e.height),r instanceof D?(i.beginPath(),i.fillStyle=o,i.arc(r.x,r.y,10,0,2*Math.PI,!0),i.fill(),i.closePath()):r instanceof Tt?(i.beginPath(),i.strokeStyle=o,i.moveTo(r.x1,r.y1),i.lineTo(r.x2,r.y2),i.stroke(),i.closePath()):r instanceof Ot?(i.beginPath(),i.strokeStyle=o,i.drawRect(r.x,r.y,r.width,r.height),i.stroke(),i.closePath()):r instanceof Et&&(i.beginPath(),i.strokeStyle=o,i.arc(r.x,r.y,r.radius,0,2*Math.PI,!0),i.stroke(),i.closePath())}))},drawEmitter:function(t,e,r,n){var i=e.getContext("2d"),o=this.getStyle();this.addEventListener(t,(function(){n&&i.clearRect(0,0,e.width,e.height),i.beginPath(),i.fillStyle=o,i.arc(r.p.x,r.p.y,10,0,2*Math.PI,!0),i.fill(),i.closePath()}))}};return E.Particle=C,E.Pool=b,E.Util=y,E.ColorUtil=M,E.MathUtil=S,E.Vector2D=E.Vector=P,E.Polar2D=E.Polar=I,E.ArraySpan=L,E.Rectangle=R,E.Rate=q,E.ease=k,E.Span=B,E.Mat3=j,E.getSpan=function(t,e,r){return new B(t,e,r)},E.createArraySpan=L.createArraySpan,E.Initialize=E.Init=N,E.Life=E.L=F,E.Position=E.P=G,E.Velocity=E.V=z,E.Mass=E.M=U,E.Radius=E.R=Y,E.Body=E.B=X,E.Behaviour=W,E.Force=E.F=H,E.Attraction=E.A=Z,E.RandomDrift=E.RD=K,E.Gravity=E.G=Q,E.Collision=J,E.CrossZone=$,E.Alpha=tt,E.Scale=E.S=et,E.Rotate=rt,E.Color=nt,E.Repulsion=at,E.Cyclone=ot,E.GravityWell=st,E.Emitter=lt,E.BehaviourEmitter=ht,E.FollowEmitter=ft,E.Zone=V,E.LineZone=Tt,E.CircleZone=Et,E.PointZone=D,E.RectZone=Ot,E.ImageZone=At,E.CanvasRenderer=yt,E.DomRenderer=gt,E.EaselRenderer=vt,E.PixiRenderer=_t,E.PixelRenderer=bt,E.WebGLRenderer=E.WebGlRenderer=xt,E.CustomRenderer=St,E.Debug=kt,y.assign(E,k),E}()},7563:(t,e,r)=>{"use strict";const n=r(610),i=r(4020),o=r(500),a=r(2806),s=Symbol("encodeFragmentIdentifier");function u(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function l(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function c(t,e){return e.decode?i(t):t}function h(t){return Array.isArray(t)?t.sort():"object"==typeof t?h(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function f(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function p(t){const e=(t=f(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function d(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function m(t,e){u((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"colon-list-separator":return(t,r,n)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"comma":case"separator":return(e,r,n)=>{const i="string"==typeof r&&r.includes(t.arrayFormatSeparator),o="string"==typeof r&&!i&&c(r,t).includes(t.arrayFormatSeparator);r=o?c(r,t):r;const a=i||o?r.split(t.arrayFormatSeparator).map((e=>c(e,t))):null===r?r:c(r,t);n[e]=a};case"bracket-separator":return(e,r,n)=>{const i=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!i)return void(n[e]=r?c(r,t):r);const o=null===r?[]:r.split(t.arrayFormatSeparator).map((e=>c(e,t)));void 0!==n[e]?n[e]=[].concat(n[e],o):n[e]=o};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),n=Object.create(null);if("string"!=typeof t)return n;if(!(t=t.trim().replace(/^[?#&]/,"")))return n;for(const i of t.split("&")){if(""===i)continue;let[t,a]=o(e.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:c(a,e),r(c(t,e),a,n)}for(const t of Object.keys(n)){const r=n[t];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=d(r[t],e);else n[t]=d(r,e)}return!1===e.sort?n:(!0===e.sort?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce(((t,e)=>{const r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=h(r):t[e]=r,t}),Object.create(null))}e.extract=p,e.parse=m,e.stringify=(t,e)=>{if(!t)return"";u((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],n=function(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const i=r.length;return void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[l(e,t),"[",i,"]"].join("")]:[...r,[l(e,t),"[",l(i,t),"]=",l(n,t)].join("")]};case"bracket":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[l(e,t),"[]"].join("")]:[...r,[l(e,t),"[]=",l(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[l(e,t),":list="].join("")]:[...r,[l(e,t),":list=",l(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[l(r,t),e,l(i,t)].join("")]:[[n,l(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,l(e,t)]:[...r,[l(e,t),"=",l(n,t)].join("")]}}(e),i={};for(const e of Object.keys(t))r(e)||(i[e]=t[e]);const o=Object.keys(i);return!1!==e.sort&&o.sort(e.sort),o.map((r=>{const i=t[r];return void 0===i?"":null===i?l(r,e):Array.isArray(i)?0===i.length&&"bracket-separator"===e.arrayFormat?l(r,e)+"[]":i.reduce(n(r),[]).join("&"):l(r,e)+"="+l(i,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,n]=o(t,"#");return Object.assign({url:r.split("?")[0]||"",query:m(p(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:c(n,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[s]:!0},r);const n=f(t.url).split("?")[0]||"",i=e.extract(t.url),o=e.parse(i,{sort:!1}),a=Object.assign(o,t.query);let u=e.stringify(a,r);u&&(u=`?${u}`);let c=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(c=`#${r[s]?l(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${n}${u}${c}`},e.pick=(t,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[s]:!1},n);const{url:i,query:o,fragmentIdentifier:u}=e.parseUrl(t,n);return e.stringifyUrl({url:i,query:a(o,r),fragmentIdentifier:u},n)},e.exclude=(t,r,n)=>{const i=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,i,n)}},2587:t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,r,n,i){r=r||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(r);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var c,h,f,p,d=t[l].replace(a,"%20"),m=d.indexOf(n);m>=0?(c=d.substr(0,m),h=d.substr(m+1)):(c=d,h=""),f=decodeURIComponent(c),p=decodeURIComponent(h),e(o,f)?Array.isArray(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o}},2361:t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,n,i){return r=r||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(i){var o=encodeURIComponent(e(i))+n;return Array.isArray(t[i])?t[i].map((function(t){return o+encodeURIComponent(e(t))})).join(r):o+encodeURIComponent(e(t[i]))})).join(r):i?encodeURIComponent(e(i))+n+encodeURIComponent(e(t)):""}},7673:(t,e,r)=>{"use strict";e.decode=e.parse=r(2587),e.encode=e.stringify=r(2361)},500:t=>{"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const r=t.indexOf(e);return-1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]}},610:t=>{"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},2511:function(t,e,r){var n;t=r.nmd(t),function(i){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,u=36,l=/^xn--/,c=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function m(t){throw RangeError(f[t])}function y(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function g(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+y((t=t.replace(h,".")).split("."),e).join(".")}function v(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function b(t){return y(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=d(t)})).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function w(t,e,r){var n=0;for(t=r?p(t/700):t>>1,t+=p(t/e);t>455;n+=u)t=p(t/35);return p(n+36*t/(t+38))}function x(t){var e,r,n,i,o,a,l,c,h,f,d,y=[],g=t.length,v=0,_=128,x=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&m("not-basic"),y.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<g;){for(o=v,a=1,l=u;i>=g&&m("invalid-input"),((c=(d=t.charCodeAt(i++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:u)>=u||c>p((s-v)/a))&&m("overflow"),v+=c*a,!(c<(h=l<=x?1:l>=x+26?26:l-x));l+=u)a>p(s/(f=u-h))&&m("overflow"),a*=f;x=w(v-o,e=y.length+1,0==o),p(v/e)>s-_&&m("overflow"),_+=p(v/e),v%=e,y.splice(v++,0,_)}return b(y)}function S(t){var e,r,n,i,o,a,l,c,h,f,y,g,b,x,S,T=[];for(g=(t=v(t)).length,e=128,r=0,o=72,a=0;a<g;++a)(y=t[a])<128&&T.push(d(y));for(n=i=T.length,i&&T.push("-");n<g;){for(l=s,a=0;a<g;++a)(y=t[a])>=e&&y<l&&(l=y);for(l-e>p((s-r)/(b=n+1))&&m("overflow"),r+=(l-e)*b,e=l,a=0;a<g;++a)if((y=t[a])<e&&++r>s&&m("overflow"),y==e){for(c=r,h=u;!(c<(f=h<=o?1:h>=o+26?26:h-o));h+=u)S=c-f,x=u-f,T.push(d(_(f+S%x,0))),c=p(S/x);T.push(d(_(c,0))),o=w(r,b,n==i),r=0,++n}++r,++e}return T.join("")}a={version:"1.3.2",ucs2:{decode:v,encode:b},decode:x,encode:S,toASCII:function(t){return g(t,(function(t){return c.test(t)?"xn--"+S(t):t}))},toUnicode:function(t){return g(t,(function(t){return l.test(t)?x(t.slice(4).toLowerCase()):t}))}},void 0===(n=function(){return a}.call(e,r,e,t))||(t.exports=n)}()},8575:(t,e,r)=>{"use strict";var n=r(2511),i=r(2502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=b(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),h=["%","/","?",";","#"].concat(c),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=r(7673);function b(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),s=-1!==o&&o<t.indexOf("#")?"?":"#",l=t.split(s);l[0]=l[0].replace(/\\/g,"/");var b=t=l.join(s);if(b=b.trim(),!r&&1===t.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=a.exec(b);if(w){var x=(w=w[0]).toLowerCase();this.protocol=x,b=b.substr(w.length)}if(r||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||w&&y[w]||(b=b.substr(2),this.slashes=!0)}if(!y[w]&&(S||w&&!g[w])){for(var T,E,O=-1,A=0;A<f.length;A++){-1!==(k=b.indexOf(f[A]))&&(-1===O||k<O)&&(O=k)}-1!==(E=-1===O?b.lastIndexOf("@"):b.lastIndexOf("@",O))&&(T=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(T)),O=-1;for(A=0;A<h.length;A++){var k;-1!==(k=b.indexOf(h[A]))&&(-1===O||k<O)&&(O=k)}-1===O&&(O=b.length),this.host=b.slice(0,O),b=b.slice(O),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var C=this.hostname.split(/\./),M=(A=0,C.length);A<M;A++){var I=C[A];if(I&&!I.match(p)){for(var j="",B=0,L=I.length;B<L;B++)I.charCodeAt(B)>127?j+="x":j+=I[B];if(!j.match(p)){var R=C.slice(0,A),q=C.slice(A+1),N=I.match(d);N&&(R.push(N[1]),q.unshift(N[2])),q.length&&(b="/"+q.join(".")+b),this.hostname=R.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+F,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[x])for(A=0,M=c.length;A<M;A++){var D=c[A];if(-1!==b.indexOf(D)){var G=encodeURIComponent(D);G===D&&(G=escape(D)),b=b.split(D).join(G)}}var z=b.indexOf("#");-1!==z&&(this.hash=b.substr(z),b=b.slice(0,z));var U=b.indexOf("?");if(-1!==U?(this.search=b.substr(U),this.query=b.substr(U+1),e&&(this.query=v.parse(this.query)),b=b.slice(0,U)):e&&(this.search="",this.query={}),b&&(this.pathname=b),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var Y=this.search||"";this.path=F+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(r[c]=t[c])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var p=h[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",v=r.search||"";r.path=m+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=_||b||r.host&&t.pathname,x=w,S=r.pathname&&r.pathname.split("/")||[],T=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(T&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===S[0])),_)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,S=d;else if(d.length)S||(S=[]),S.pop(),S=S.concat(d),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(T)r.hostname=r.host=S.shift(),(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=S.slice(-1)[0],O=(r.host||t.host||S.length>1)&&("."===E||".."===E)||""===E,A=0,k=S.length;k>=0;k--)"."===(E=S[k])?S.splice(k,1):".."===E?(S.splice(k,1),A++):A&&(S.splice(k,1),A--);if(!w&&!x)for(;A--;A)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),O&&"/"!==S.join("/").substr(-1)&&S.push("");var P,C=""===S[0]||S[0]&&"/"===S[0].charAt(0);T&&(r.hostname=r.host=C?"":S.length?S.shift():"",(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift()));return(w=w||r.host&&S.length)&&!C&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},2502:t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},4488:(t,e,r)=>{"use strict";r.d(e,{Z:()=>M});const n={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},i=Object.create(null);for(const t in n)Object.hasOwn(n,t)&&(i[n[t]]=t);const o={to:{},get:{}};function a(t,e,r){return Math.min(Math.max(e,t),r)}function s(t){const e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}o.get=function(t){let e,r;switch(t.slice(0,3).toLowerCase()){case"hsl":e=o.get.hsl(t),r="hsl";break;case"hwb":e=o.get.hwb(t),r="hwb";break;default:e=o.get.rgb(t),r="rgb"}return e?{model:r,value:e}:null},o.get.rgb=function(t){if(!t)return null;let e,r,i,o=[0,0,0,1];if(e=t.match(/^#([a-f\d]{6})([a-f\d]{2})?$/i)){for(i=e[2],e=e[1],r=0;r<3;r++){const t=2*r;o[r]=Number.parseInt(e.slice(t,t+2),16)}i&&(o[3]=Number.parseInt(i,16)/255)}else if(e=t.match(/^#([a-f\d]{3,4})$/i)){for(e=e[1],i=e[3],r=0;r<3;r++)o[r]=Number.parseInt(e[r]+e[r],16);i&&(o[3]=Number.parseInt(i+i,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/)){for(r=0;r<3;r++)o[r]=Number.parseInt(e[r+1],10);e[4]&&(o[3]=e[5]?.01*Number.parseFloat(e[4]):Number.parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:Object.hasOwn(n,e[1])?(o=n[e[1]],o[3]=1,o):null:null;for(r=0;r<3;r++)o[r]=Math.round(2.55*Number.parseFloat(e[r+1]));e[4]&&(o[3]=e[5]?.01*Number.parseFloat(e[4]):Number.parseFloat(e[4]))}for(r=0;r<3;r++)o[r]=a(o[r],0,255);return o[3]=a(o[3],0,1),o},o.get.hsl=function(t){if(!t)return null;const e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){const t=Number.parseFloat(e[4]);return[(Number.parseFloat(e[1])%360+360)%360,a(Number.parseFloat(e[2]),0,100),a(Number.parseFloat(e[3]),0,100),a(Number.isNaN(t)?1:t,0,1)]}return null},o.get.hwb=function(t){if(!t)return null;const e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d.]+)%\s*,\s*([+-]?[\d.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){const t=Number.parseFloat(e[4]);return[(Number.parseFloat(e[1])%360+360)%360,a(Number.parseFloat(e[2]),0,100),a(Number.parseFloat(e[3]),0,100),a(Number.isNaN(t)?1:t,0,1)]}return null},o.to.hex=function(...t){return"#"+s(t[0])+s(t[1])+s(t[2])+(t[3]<1?s(Math.round(255*t[3])):"")},o.to.rgb=function(...t){return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},o.to.rgb.percent=function(...t){const e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"},o.to.hsl=function(...t){return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},o.to.hwb=function(...t){let e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},o.to.keyword=function(...t){return i[t.slice(0,3)]};const u=o,l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},c={};for(const t of Object.keys(l))c[l[t]]=t;const h={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},f=h,p=(6/29)**3;for(const t of Object.keys(h)){if(!("channels"in h[t]))throw new Error("missing channels property: "+t);if(!("labels"in h[t]))throw new Error("missing channel labels property: "+t);if(h[t].labels.length!==h[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:r}=h[t];delete h[t].channels,delete h[t].labels,Object.defineProperty(h[t],"channels",{value:e}),Object.defineProperty(h[t],"labels",{value:r})}function d(t){const e=function(){const t={},e=Object.keys(f);for(let{length:r}=e,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}(),r=[t];for(e[t].distance=0;r.length>0;){const t=r.pop(),n=Object.keys(f[t]);for(let{length:i}=n,o=0;o<i;o++){const i=n[o],a=e[i];-1===a.distance&&(a.distance=e[t].distance+1,a.parent=t,r.unshift(i))}}return e}function m(t,e){return function(r){return e(t(r))}}function y(t,e){const r=[e[t].parent,t];let n=f[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=m(f[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}h.rgb.hsl=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),o=Math.max(e,r,n),a=o-i;let s,u;switch(o){case i:s=0;break;case e:s=(r-n)/a;break;case r:s=2+(n-e)/a;break;case n:s=4+(e-r)/a}s=Math.min(60*s,360),s<0&&(s+=360);const l=(i+o)/2;return u=o===i?0:l<=.5?a/(o+i):a/(2-o-i),[s,100*u,100*l]},h.rgb.hsv=function(t){let e,r,n,i,o;const a=t[0]/255,s=t[1]/255,u=t[2]/255,l=Math.max(a,s,u),c=l-Math.min(a,s,u),h=function(t){return(l-t)/6/c+.5};if(0===c)i=0,o=0;else{switch(o=c/l,e=h(a),r=h(s),n=h(u),l){case a:i=n-r;break;case s:i=1/3+e-n;break;case u:i=2/3+r-e}i<0?i+=1:i>1&&(i-=1)}return[360*i,100*o,100*l]},h.rgb.hwb=function(t){const e=t[0],r=t[1];let n=t[2];const i=h.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,100*o,100*n]},h.rgb.cmyk=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n);return[100*((1-e-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*i]},h.rgb.keyword=function(t){const e=c[t];if(e)return e;let r,n=Number.POSITIVE_INFINITY;for(const e of Object.keys(l)){const a=(o=l[e],((i=t)[0]-o[0])**2+(i[1]-o[1])**2+(i[2]-o[2])**2);a<n&&(n=a,r=e)}var i,o;return r},h.keyword.rgb=function(t){return l[t]},h.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;return[100*(.4124564*e+.3575761*r+.1804375*n),100*(.2126729*e+.7151522*r+.072175*n),100*(.0193339*e+.119192*r+.9503041*n)]},h.rgb.lab=function(t){const e=h.rgb.xyz(t);let r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>p?r**(1/3):7.787*r+16/116,n=n>p?n**(1/3):7.787*n+16/116,i=i>p?i**(1/3):7.787*i+16/116;return[116*n-16,500*(r-n),200*(n-i)]},h.hsl.rgb=function(t){const e=t[0]/360,r=t[1]/100,n=t[2]/100;let i,o;if(0===r)return o=255*n,[o,o,o];const a=n<.5?n*(1+r):n+r-n*r,s=2*n-a,u=[0,0,0];for(let t=0;t<3;t++)i=e+1/3*-(t-1),i<0&&i++,i>1&&i--,o=6*i<1?s+6*(a-s)*i:2*i<1?a:3*i<2?s+(a-s)*(2/3-i)*6:s,u[t]=255*o;return u},h.hsl.hsv=function(t){const e=t[0];let r=t[1]/100,n=t[2]/100,i=r;const o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;return[e,100*(0===n?2*i/(o+i):2*r/(n+r)),100*((n+r)/2)]},h.hsv.rgb=function(t){const e=t[0]/60,r=t[1]/100;let n=t[2]/100;const i=Math.floor(e)%6,o=e-Math.floor(e),a=255*n*(1-r),s=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,u,a];case 1:return[s,n,a];case 2:return[a,n,u];case 3:return[a,s,n];case 4:return[u,a,n];case 5:return[n,a,s]}},h.hsv.hsl=function(t){const e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01);let o,a;a=(2-r)*n;const s=(2-r)*i;return o=r*i,o/=s<=1?s:2-s,o=o||0,a/=2,[e,100*o,100*a]},h.hwb.rgb=function(t){const e=t[0]/360;let r=t[1]/100,n=t[2]/100;const i=r+n;let o;i>1&&(r/=i,n/=i);const a=Math.floor(6*e),s=1-n;o=6*e-a,0!=(1&a)&&(o=1-o);const u=r+o*(s-r);let l,c,h;switch(a){default:case 6:case 0:l=s,c=u,h=r;break;case 1:l=u,c=s,h=r;break;case 2:l=r,c=s,h=u;break;case 3:l=r,c=u,h=s;break;case 4:l=u,c=r,h=s;break;case 5:l=s,c=r,h=u}return[255*l,255*c,255*h]},h.cmyk.rgb=function(t){const e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},h.xyz.rgb=function(t){const e=t[0]/100,r=t[1]/100,n=t[2]/100;let i,o,a;return i=3.2404542*e+-1.5371385*r+-.4985314*n,o=-.969266*e+1.8760108*r+.041556*n,a=.0556434*e+-.2040259*r+1.0572252*n,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[255*i,255*o,255*a]},h.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>p?e**(1/3):7.787*e+16/116,r=r>p?r**(1/3):7.787*r+16/116,n=n>p?n**(1/3):7.787*n+16/116;return[116*r-16,500*(e-r),200*(r-n)]},h.lab.xyz=function(t){let e,r,n;r=(t[0]+16)/116,e=t[1]/500+r,n=r-t[2]/200;const i=r**3,o=e**3,a=n**3;return r=i>p?i:(r-16/116)/7.787,e=o>p?o:(e-16/116)/7.787,n=a>p?a:(n-16/116)/7.787,e*=95.047,r*=100,n*=108.883,[e,r,n]},h.lab.lch=function(t){const e=t[0],r=t[1],n=t[2];let i;i=360*Math.atan2(n,r)/2/Math.PI,i<0&&(i+=360);return[e,Math.sqrt(r*r+n*n),i]},h.lch.lab=function(t){const e=t[0],r=t[1],n=t[2]/360*2*Math.PI;return[e,r*Math.cos(n),r*Math.sin(n)]},h.rgb.ansi16=function(t,e=null){const[r,n,i]=t;let o=null===e?h.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),0===o)return 30;let a=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return 2===o&&(a+=60),a},h.hsv.ansi16=function(t){return h.rgb.ansi16(h.hsv.rgb(t),t[2])},h.rgb.ansi256=function(t){const e=t[0],r=t[1],n=t[2];if(e>>4==r>>4&&r>>4==n>>4)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},h.ansi16.rgb=function(t){let e=(t=t[0])%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const r=.5*(Math.trunc(t>50)+1);return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},h.ansi256.rgb=function(t){if((t=t[0])>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},h.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".slice(e.length)+e},h.hex.rgb=function(t){const e=t.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let r=e[0];3===e[0].length&&(r=[...r].map((t=>t+t)).join(""));const n=Number.parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},h.rgb.hcg=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),o=Math.min(Math.min(e,r),n),a=i-o;let s;return s=a<=0?0:i===e?(r-n)/a%6:i===r?2+(n-e)/a:4+(e-r)/a,s/=6,s%=1,[360*s,100*a,100*(a<1?o/(1-a):0)]},h.hsl.hcg=function(t){const e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r);let i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],100*n,100*i]},h.hsv.hcg=function(t){const e=t[1]/100,r=t[2]/100,n=e*r;let i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],100*n,100*i]},h.hcg.rgb=function(t){const e=t[0]/360,r=t[1]/100,n=t[2]/100;if(0===r)return[255*n,255*n,255*n];const i=[0,0,0],o=e%1*6,a=o%1,s=1-a;let u=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return u=(1-r)*n,[255*(r*i[0]+u),255*(r*i[1]+u),255*(r*i[2]+u)]},h.hcg.hsv=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);let n=0;return r>0&&(n=e/r),[t[0],100*n,100*r]},h.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let n=0;return r>0&&r<.5?n=e/(2*r):r>=.5&&r<1&&(n=e/(2*(1-r))),[t[0],100*n,100*r]},h.hcg.hwb=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},h.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,n=r-e;let i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],100*n,100*i]},h.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},h.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},h.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},h.gray.hsl=function(t){return[0,0,t[0]]},h.gray.hsv=h.gray.hsl,h.gray.hwb=function(t){return[0,100,t[0]]},h.gray.cmyk=function(t){return[0,0,0,t[0]]},h.gray.lab=function(t){return[t[0],0,0]},h.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(r.length)+r},h.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};const g=function(t){const e=d(t),r={},n=Object.keys(e);for(let{length:t}=n,i=0;i<t;i++){const t=n[i];null!==e[t].parent&&(r[t]=y(t,e))}return r},v={},b=Object.keys(f);function _(t){const e=function(...e){const r=e[0];return null==r?r:(r.length>1&&(e=r),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}function w(t){const e=function(...e){const r=e[0];if(null==r)return r;r.length>1&&(e=r);const n=t(e);if("object"==typeof n)for(let{length:t}=n,e=0;e<t;e++)n[e]=Math.round(n[e]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}for(const t of b){v[t]={},Object.defineProperty(v[t],"channels",{value:f[t].channels}),Object.defineProperty(v[t],"labels",{value:f[t].labels});const e=g(t),r=Object.keys(e);for(const n of r){const r=e[n];v[t][n]=w(r),v[t][n].raw=_(r)}}const x=v,S=["keyword","gray","hex"],T={};for(const t of Object.keys(x))T[[...x[t].labels].sort().join("")]=t;const E={};function O(t,e){if(!(this instanceof O))return new O(t,e);if(e&&e in S&&(e=null),e&&!(e in x))throw new Error("Unknown model: "+e);let r,n;if(null==t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof O)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if("string"==typeof t){const e=u.get(t);if(null===e)throw new Error("Unable to parse color from string: "+t);this.model=e.model,n=x[this.model].channels,this.color=e.value.slice(0,n),this.valpha="number"==typeof e.value[n]?e.value[n]:1}else if(t.length>0){this.model=e||"rgb",n=x[this.model].channels;const r=Array.prototype.slice.call(t,0,n);this.color=C(r,n),this.valpha="number"==typeof t[n]?t[n]:1}else if("number"==typeof t)this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;const e=Object.keys(t);"alpha"in t&&(e.splice(e.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);const n=e.sort().join("");if(!(n in T))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=T[n];const{labels:i}=x[this.model],o=[];for(r=0;r<i.length;r++)o.push(t[i[r]]);this.color=C(o)}if(E[this.model])for(n=x[this.model].channels,r=0;r<n;r++){const t=E[this.model][r];t&&(this.color[r]=t(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}O.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in u.to?this:this.rgb();e=e.round("number"==typeof t?t:1);const r=1===e.valpha?e.color:[...e.color,this.valpha];return u.to[e.model](...r)},percentString(t){const e=this.rgb().round("number"==typeof t?t:1),r=1===e.valpha?e.color:[...e.color,this.valpha];return u.to.rgb.percent(...r)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=x[this.model],{labels:r}=x[this.model];for(let n=0;n<e;n++)t[r[n]]=this.color[n];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new O([...this.color.map(A(t)),this.valpha],this.model)},alpha(t){return void 0!==t?new O([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:k("rgb",0,P(255)),green:k("rgb",1,P(255)),blue:k("rgb",2,P(255)),hue:k(["hsl","hsv","hsl","hwb","hcg"],0,(t=>(t%360+360)%360)),saturationl:k("hsl",1,P(100)),lightness:k("hsl",2,P(100)),saturationv:k("hsv",1,P(100)),value:k("hsv",2,P(100)),chroma:k("hcg",1,P(100)),gray:k("hcg",2,P(100)),white:k("hwb",1,P(100)),wblack:k("hwb",2,P(100)),cyan:k("cmyk",0,P(100)),magenta:k("cmyk",1,P(100)),yellow:k("cmyk",2,P(100)),black:k("cmyk",3,P(100)),x:k("xyz",0,P(95.047)),y:k("xyz",1,P(100)),z:k("xyz",2,P(108.833)),l:k("lab",0,P(100)),a:k("lab",1),b:k("lab",2),keyword(t){return void 0!==t?new O(t):x[this.model].keyword(this.color)},hex(t){return void 0!==t?new O(t):u.to.hex(...this.rgb().round().color)},hexa(t){if(void 0!==t)return new O(t);const e=this.rgb().round().color;let r=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===r.length&&(r="0"+r),u.to.hex(...e)+r},rgbNumber(){const t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity(){const t=this.rgb().color,e=[];for(const[r,n]of t.entries()){const t=n/255;e[r]=t<=.04045?t/12.92:((t+.055)/1.055)**2.4}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(2126*t[0]+7152*t[1]+722*t[2])/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return O.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const r=t.rgb(),n=this.rgb(),i=void 0===e?.5:e,o=2*i-1,a=r.alpha()-n.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,u=1-s;return O.rgb(s*r.red()+u*n.red(),s*r.green()+u*n.green(),s*r.blue()+u*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};for(const t of Object.keys(x)){if(S.includes(t))continue;const{channels:e}=x[t];O.prototype[t]=function(...e){return this.model===t?new O(this):e.length>0?new O(e,t):new O([...(r=x[this.model][t].raw(this.color),Array.isArray(r)?r:[r]),this.valpha],t);var r},O[t]=function(...r){let n=r[0];return"number"==typeof n&&(n=C(r,e)),new O(n,t)}}function A(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}function k(t,e,r){t=Array.isArray(t)?t:[t];for(const n of t)(E[n]||=[])[e]=r;return t=t[0],function(n){let i;return void 0!==n?(r&&(n=r(n)),i=this[t](),i.color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function P(t){return function(e){return Math.max(0,Math.min(t,e))}}function C(t,e){for(let r=0;r<e;r++)"number"!=typeof t[r]&&(t[r]=0);return t}const M=O},678:t=>{"use strict";t.exports=JSON.parse('{"lazy":{"images":[{"name":"BackgroundColony/decals_ground_front_1","url":"assets/lazy/images/BackgroundColony/decals_ground_front_1.png","ext":"png"},{"name":"BackgroundColony/decals_ground_front_2","url":"assets/lazy/images/BackgroundColony/decals_ground_front_2.png","ext":"png"},{"name":"BackgroundColony/decals_ground_front_3","url":"assets/lazy/images/BackgroundColony/decals_ground_front_3.png","ext":"png"},{"name":"BackgroundColony/decals_ground_front_4","url":"assets/lazy/images/BackgroundColony/decals_ground_front_4.png","ext":"png"},{"name":"BackgroundColony/decals_ground_front_5","url":"assets/lazy/images/BackgroundColony/decals_ground_front_5.png","ext":"png"},{"name":"BackgroundColony/decals_ground_front_6","url":"assets/lazy/images/BackgroundColony/decals_ground_front_6.png","ext":"png"},{"name":"BackgroundColony/decals_ground_front_7","url":"assets/lazy/images/BackgroundColony/decals_ground_front_7.png","ext":"png"},{"name":"BackgroundColony/decals_ground_middle_1","url":"assets/lazy/images/BackgroundColony/decals_ground_middle_1.png","ext":"png"},{"name":"BackgroundColony/decals_ground_middle_2","url":"assets/lazy/images/BackgroundColony/decals_ground_middle_2.png","ext":"png"},{"name":"BackgroundColony/decals_ground_middle_3","url":"assets/lazy/images/BackgroundColony/decals_ground_middle_3.png","ext":"png"},{"name":"BackgroundColony/decals_ground_middle_4","url":"assets/lazy/images/BackgroundColony/decals_ground_middle_4.png","ext":"png"},{"name":"BackgroundColony/farm","url":"assets/lazy/images/BackgroundColony/farm.png","ext":"png"},{"name":"BackgroundColony/ground_back","url":"assets/lazy/images/BackgroundColony/ground_back.png","ext":"png"},{"name":"BackgroundColony/ground_middle","url":"assets/lazy/images/BackgroundColony/ground_middle.png","ext":"png"},{"name":"BackgroundColony/house","url":"assets/lazy/images/BackgroundColony/house.png","ext":"png"},{"name":"BackgroundColony/snowdrift_white_1","url":"assets/lazy/images/BackgroundColony/snowdrift_white_1.png","ext":"png"},{"name":"BackgroundColony/snowdrift_white_2","url":"assets/lazy/images/BackgroundColony/snowdrift_white_2.png","ext":"png"},{"name":"BackgroundColony/snowdrift_white_3","url":"assets/lazy/images/BackgroundColony/snowdrift_white_3.png","ext":"png"},{"name":"BackgroundColony/tile_white","url":"assets/lazy/images/BackgroundColony/tile_white.png","ext":"png"},{"name":"BackgroundIceArctic/decals_ground_front_1","url":"assets/lazy/images/BackgroundIceArctic/decals_ground_front_1.png","ext":"png"},{"name":"BackgroundIceArctic/decals_ground_front_2","url":"assets/lazy/images/BackgroundIceArctic/decals_ground_front_2.png","ext":"png"},{"name":"BackgroundIceArctic/decals_ground_front_3","url":"assets/lazy/images/BackgroundIceArctic/decals_ground_front_3.png","ext":"png"},{"name":"BackgroundIceArctic/decals_ground_front_4","url":"assets/lazy/images/BackgroundIceArctic/decals_ground_front_4.png","ext":"png"},{"name":"BackgroundIceArctic/decals_ground_front_5","url":"assets/lazy/images/BackgroundIceArctic/decals_ground_front_5.png","ext":"png"},{"name":"BackgroundIceArctic/decals_ground_front_6","url":"assets/lazy/images/BackgroundIceArctic/decals_ground_front_6.png","ext":"png"},{"name":"BackgroundIceArctic/decals_ground_front_7","url":"assets/lazy/images/BackgroundIceArctic/decals_ground_front_7.png","ext":"png"},{"name":"BackgroundIceArctic/ice_drift_1","url":"assets/lazy/images/BackgroundIceArctic/ice_drift_1.png","ext":"png"},{"name":"BackgroundIceArctic/ice_drift_2","url":"assets/lazy/images/BackgroundIceArctic/ice_drift_2.png","ext":"png"},{"name":"BackgroundIceArctic/ice_drift_3","url":"assets/lazy/images/BackgroundIceArctic/ice_drift_3.png","ext":"png"},{"name":"BackgroundIceArctic/ice_drift_large","url":"assets/lazy/images/BackgroundIceArctic/ice_drift_large.png","ext":"png"},{"name":"BackgroundIceArctic/ice_drift_middle","url":"assets/lazy/images/BackgroundIceArctic/ice_drift_middle.png","ext":"png"},{"name":"BackgroundIceArctic/ice_drift_small","url":"assets/lazy/images/BackgroundIceArctic/ice_drift_small.png","ext":"png"},{"name":"BackgroundIceArctic/tile_white","url":"assets/lazy/images/BackgroundIceArctic/tile_white.png","ext":"png"},{"name":"BackgroundIceArctic/titonic","url":"assets/lazy/images/BackgroundIceArctic/titonic.png","ext":"png"},{"name":"BackgroundMario/bushes_medium_dark_1","url":"assets/lazy/images/BackgroundMario/bushes_medium_dark_1.png","ext":"png"},{"name":"BackgroundMario/bushes_medium_dark_2","url":"assets/lazy/images/BackgroundMario/bushes_medium_dark_2.png","ext":"png"},{"name":"BackgroundMario/bushes_medium_dark_4","url":"assets/lazy/images/BackgroundMario/bushes_medium_dark_4.png","ext":"png"},{"name":"BackgroundMario/bushes_medium_light_1","url":"assets/lazy/images/BackgroundMario/bushes_medium_light_1.png","ext":"png"},{"name":"BackgroundMario/bushes_medium_light_2","url":"assets/lazy/images/BackgroundMario/bushes_medium_light_2.png","ext":"png"},{"name":"BackgroundMario/bushes_medium_light_3","url":"assets/lazy/images/BackgroundMario/bushes_medium_light_3.png","ext":"png"},{"name":"BackgroundMario/bushes_medium_light_4","url":"assets/lazy/images/BackgroundMario/bushes_medium_light_4.png","ext":"png"},{"name":"BackgroundMario/castle","url":"assets/lazy/images/BackgroundMario/castle.png","ext":"png"},{"name":"BackgroundMario/cloud_blue_1","url":"assets/lazy/images/BackgroundMario/cloud_blue_1.png","ext":"png"},{"name":"BackgroundMario/cloud_blue_2","url":"assets/lazy/images/BackgroundMario/cloud_blue_2.png","ext":"png"},{"name":"BackgroundMario/cloud_blue_3","url":"assets/lazy/images/BackgroundMario/cloud_blue_3.png","ext":"png"},{"name":"BackgroundMario/cloud_blue_4","url":"assets/lazy/images/BackgroundMario/cloud_blue_4.png","ext":"png"},{"name":"BackgroundMario/cloud_white_1","url":"assets/lazy/images/BackgroundMario/cloud_white_1.png","ext":"png"},{"name":"BackgroundMario/cloud_white_2","url":"assets/lazy/images/BackgroundMario/cloud_white_2.png","ext":"png"},{"name":"BackgroundMario/cloud_white_3","url":"assets/lazy/images/BackgroundMario/cloud_white_3.png","ext":"png"},{"name":"BackgroundMario/cloud_white_4","url":"assets/lazy/images/BackgroundMario/cloud_white_4.png","ext":"png"},{"name":"BackgroundMario/decals_ground_front_1","url":"assets/lazy/images/BackgroundMario/decals_ground_front_1.png","ext":"png"},{"name":"BackgroundMario/decals_ground_front_2","url":"assets/lazy/images/BackgroundMario/decals_ground_front_2.png","ext":"png"},{"name":"BackgroundMario/decals_ground_front_3","url":"assets/lazy/images/BackgroundMario/decals_ground_front_3.png","ext":"png"},{"name":"BackgroundMario/decals_ground_front_4","url":"assets/lazy/images/BackgroundMario/decals_ground_front_4.png","ext":"png"},{"name":"BackgroundMario/decals_ground_front_5","url":"assets/lazy/images/BackgroundMario/decals_ground_front_5.png","ext":"png"},{"name":"BackgroundMario/decals_ground_front_6","url":"assets/lazy/images/BackgroundMario/decals_ground_front_6.png","ext":"png"},{"name":"BackgroundMario/decals_ground_front_7","url":"assets/lazy/images/BackgroundMario/decals_ground_front_7.png","ext":"png"},{"name":"BackgroundMario/decals_ground_middle_1","url":"assets/lazy/images/BackgroundMario/decals_ground_middle_1.png","ext":"png"},{"name":"BackgroundMario/decals_ground_middle_2","url":"assets/lazy/images/BackgroundMario/decals_ground_middle_2.png","ext":"png"},{"name":"BackgroundMario/decals_ground_middle_3","url":"assets/lazy/images/BackgroundMario/decals_ground_middle_3.png","ext":"png"},{"name":"BackgroundMario/decals_ground_middle_4","url":"assets/lazy/images/BackgroundMario/decals_ground_middle_4.png","ext":"png"},{"name":"BackgroundMario/decals_ground_middle_5","url":"assets/lazy/images/BackgroundMario/decals_ground_middle_5.png","ext":"png"},{"name":"BackgroundMario/sky","url":"assets/lazy/images/BackgroundMario/sky.png","ext":"png"},{"name":"BackgroundMario/snowdrift_white_1","url":"assets/lazy/images/BackgroundMario/snowdrift_white_1.png","ext":"png"},{"name":"BackgroundMario/snowdrift_white_2","url":"assets/lazy/images/BackgroundMario/snowdrift_white_2.png","ext":"png"},{"name":"BackgroundMario/snowdrift_white_3","url":"assets/lazy/images/BackgroundMario/snowdrift_white_3.png","ext":"png"},{"name":"BackgroundMario/snowdrift_white_4","url":"assets/lazy/images/BackgroundMario/snowdrift_white_4.png","ext":"png"},{"name":"BackgroundMario/snowdrift_white_5","url":"assets/lazy/images/BackgroundMario/snowdrift_white_5.png","ext":"png"},{"name":"BackgroundMario/tile_white","url":"assets/lazy/images/BackgroundMario/tile_white.png","ext":"png"},{"name":"BackgroundTundra/back_tree_1","url":"assets/lazy/images/BackgroundTundra/back_tree_1.png","ext":"png"},{"name":"BackgroundTundra/back_tree_2","url":"assets/lazy/images/BackgroundTundra/back_tree_2.png","ext":"png"},{"name":"BackgroundTundra/back_tree_3","url":"assets/lazy/images/BackgroundTundra/back_tree_3.png","ext":"png"},{"name":"BackgroundTundra/back_tree_4","url":"assets/lazy/images/BackgroundTundra/back_tree_4.png","ext":"png"},{"name":"BackgroundTundra/decals_ground_front_1","url":"assets/lazy/images/BackgroundTundra/decals_ground_front_1.png","ext":"png"},{"name":"BackgroundTundra/decals_ground_front_2","url":"assets/lazy/images/BackgroundTundra/decals_ground_front_2.png","ext":"png"},{"name":"BackgroundTundra/decals_ground_front_3","url":"assets/lazy/images/BackgroundTundra/decals_ground_front_3.png","ext":"png"},{"name":"BackgroundTundra/decals_ground_front_4","url":"assets/lazy/images/BackgroundTundra/decals_ground_front_4.png","ext":"png"},{"name":"BackgroundTundra/decals_ground_front_5","url":"assets/lazy/images/BackgroundTundra/decals_ground_front_5.png","ext":"png"},{"name":"BackgroundTundra/decals_ground_front_6","url":"assets/lazy/images/BackgroundTundra/decals_ground_front_6.png","ext":"png"},{"name":"BackgroundTundra/decals_ground_front_7","url":"assets/lazy/images/BackgroundTundra/decals_ground_front_7.png","ext":"png"},{"name":"BackgroundTundra/decals_ground_middle_1","url":"assets/lazy/images/BackgroundTundra/decals_ground_middle_1.png","ext":"png"},{"name":"BackgroundTundra/decals_ground_middle_2","url":"assets/lazy/images/BackgroundTundra/decals_ground_middle_2.png","ext":"png"},{"name":"BackgroundTundra/decals_ground_middle_3","url":"assets/lazy/images/BackgroundTundra/decals_ground_middle_3.png","ext":"png"},{"name":"BackgroundTundra/decals_ground_middle_4","url":"assets/lazy/images/BackgroundTundra/decals_ground_middle_4.png","ext":"png"},{"name":"BackgroundTundra/decals_ground_middle_5","url":"assets/lazy/images/BackgroundTundra/decals_ground_middle_5.png","ext":"png"},{"name":"BackgroundTundra/ground_back","url":"assets/lazy/images/BackgroundTundra/ground_back.png","ext":"png"},{"name":"BackgroundTundra/ground_medium","url":"assets/lazy/images/BackgroundTundra/ground_medium.png","ext":"png"},{"name":"BackgroundTundra/snowdrift_white_1","url":"assets/lazy/images/BackgroundTundra/snowdrift_white_1.png","ext":"png"},{"name":"BackgroundTundra/snowdrift_white_2","url":"assets/lazy/images/BackgroundTundra/snowdrift_white_2.png","ext":"png"},{"name":"BackgroundTundra/snowdrift_white_3","url":"assets/lazy/images/BackgroundTundra/snowdrift_white_3.png","ext":"png"},{"name":"BackgroundTundra/tile_white","url":"assets/lazy/images/BackgroundTundra/tile_white.png","ext":"png"},{"name":"BackgroundTundra/tree_1","url":"assets/lazy/images/BackgroundTundra/tree_1.png","ext":"png"},{"name":"BackgroundTundra/tree_2","url":"assets/lazy/images/BackgroundTundra/tree_2.png","ext":"png"},{"name":"BackgroundTundra/tree_3","url":"assets/lazy/images/BackgroundTundra/tree_3.png","ext":"png"},{"name":"BackgroundTundra/tree_4","url":"assets/lazy/images/BackgroundTundra/tree_4.png","ext":"png"},{"name":"bats-purchase/btn_green","url":"assets/lazy/images/bats-purchase/btn_green.png","ext":"png"},{"name":"bats-purchase/btn_new_green","url":"assets/lazy/images/bats-purchase/btn_new_green.png","ext":"png"},{"name":"bats-purchase/fx_star_0","url":"assets/lazy/images/bats-purchase/fx_star_0.png","ext":"png"},{"name":"bats-purchase/icon_-icon_eiffel_tower","url":"assets/lazy/images/bats-purchase/icon_-icon_eiffel_tower.png","ext":"png"},{"name":"bats-purchase/icon_bat_axe_selected","url":"assets/lazy/images/bats-purchase/icon_bat_axe_selected.png","ext":"png"},{"name":"bats-purchase/icon_bat_axe","url":"assets/lazy/images/bats-purchase/icon_bat_axe.png","ext":"png"},{"name":"bats-purchase/icon_bat_fish_selected","url":"assets/lazy/images/bats-purchase/icon_bat_fish_selected.png","ext":"png"},{"name":"bats-purchase/icon_bat_fish","url":"assets/lazy/images/bats-purchase/icon_bat_fish.png","ext":"png"},{"name":"bats-purchase/icon_bat_flamingo_selected","url":"assets/lazy/images/bats-purchase/icon_bat_flamingo_selected.png","ext":"png"},{"name":"bats-purchase/icon_bat_flamingo","url":"assets/lazy/images/bats-purchase/icon_bat_flamingo.png","ext":"png"},{"name":"bats-purchase/icon_bat_hammer","url":"assets/lazy/images/bats-purchase/icon_bat_hammer.png","ext":"png"},{"name":"bats-purchase/icon_bat_mailbox","url":"assets/lazy/images/bats-purchase/icon_bat_mailbox.png","ext":"png"},{"name":"bats-purchase/icon_bat_pan_selected","url":"assets/lazy/images/bats-purchase/icon_bat_pan_selected.png","ext":"png"},{"name":"bats-purchase/icon_bat_pan","url":"assets/lazy/images/bats-purchase/icon_bat_pan.png","ext":"png"},{"name":"bats-purchase/icon_bat_shovel_selected","url":"assets/lazy/images/bats-purchase/icon_bat_shovel_selected.png","ext":"png"},{"name":"bats-purchase/icon_bat_shovel","url":"assets/lazy/images/bats-purchase/icon_bat_shovel.png","ext":"png"},{"name":"bats-purchase/icon_bat_thorns_selected","url":"assets/lazy/images/bats-purchase/icon_bat_thorns_selected.png","ext":"png"},{"name":"bats-purchase/icon_bat_thorns","url":"assets/lazy/images/bats-purchase/icon_bat_thorns.png","ext":"png"},{"name":"bats-purchase/icon_bat_zombie_selected","url":"assets/lazy/images/bats-purchase/icon_bat_zombie_selected.png","ext":"png"},{"name":"bats-purchase/icon_bat_zombie","url":"assets/lazy/images/bats-purchase/icon_bat_zombie.png","ext":"png"},{"name":"bats-purchase/icon_candy_selected","url":"assets/lazy/images/bats-purchase/icon_candy_selected.png","ext":"png"},{"name":"bats-purchase/icon_candy","url":"assets/lazy/images/bats-purchase/icon_candy.png","ext":"png"},{"name":"bats-purchase/icon_cucumber_selected","url":"assets/lazy/images/bats-purchase/icon_cucumber_selected.png","ext":"png"},{"name":"bats-purchase/icon_cucumber","url":"assets/lazy/images/bats-purchase/icon_cucumber.png","ext":"png"},{"name":"bats-purchase/icon_default_selected","url":"assets/lazy/images/bats-purchase/icon_default_selected.png","ext":"png"},{"name":"bats-purchase/icon_default","url":"assets/lazy/images/bats-purchase/icon_default.png","ext":"png"},{"name":"bats-purchase/icon_eiffel_tower_selected","url":"assets/lazy/images/bats-purchase/icon_eiffel_tower_selected.png","ext":"png"},{"name":"bats-purchase/icon_guitar_selected","url":"assets/lazy/images/bats-purchase/icon_guitar_selected.png","ext":"png"},{"name":"bats-purchase/icon_guitar","url":"assets/lazy/images/bats-purchase/icon_guitar.png","ext":"png"},{"name":"bats-purchase/icon_hammer_selected","url":"assets/lazy/images/bats-purchase/icon_hammer_selected.png","ext":"png"},{"name":"bats-purchase/icon_hammer_thor","url":"assets/lazy/images/bats-purchase/icon_hammer_thor.png","ext":"png"},{"name":"bats-purchase/icon_hammer","url":"assets/lazy/images/bats-purchase/icon_hammer.png","ext":"png"},{"name":"bats-purchase/icon_hook_selected","url":"assets/lazy/images/bats-purchase/icon_hook_selected.png","ext":"png"},{"name":"bats-purchase/icon_hook","url":"assets/lazy/images/bats-purchase/icon_hook.png","ext":"png"},{"name":"bats-purchase/icon_ice_creme_selected","url":"assets/lazy/images/bats-purchase/icon_ice_creme_selected.png","ext":"png"},{"name":"bats-purchase/icon_ice_creme","url":"assets/lazy/images/bats-purchase/icon_ice_creme.png","ext":"png"},{"name":"bats-purchase/icon_kitty_selected","url":"assets/lazy/images/bats-purchase/icon_kitty_selected.png","ext":"png"},{"name":"bats-purchase/icon_kitty","url":"assets/lazy/images/bats-purchase/icon_kitty.png","ext":"png"},{"name":"bats-purchase/icon_meat_selected","url":"assets/lazy/images/bats-purchase/icon_meat_selected.png","ext":"png"},{"name":"bats-purchase/icon_meat","url":"assets/lazy/images/bats-purchase/icon_meat.png","ext":"png"},{"name":"bats-purchase/icon_oscar_selected","url":"assets/lazy/images/bats-purchase/icon_oscar_selected.png","ext":"png"},{"name":"bats-purchase/icon_oscar","url":"assets/lazy/images/bats-purchase/icon_oscar.png","ext":"png"},{"name":"bats-purchase/icon_puppybutthole_selected","url":"assets/lazy/images/bats-purchase/icon_puppybutthole_selected.png","ext":"png"},{"name":"bats-purchase/icon_puppybutthole","url":"assets/lazy/images/bats-purchase/icon_puppybutthole.png","ext":"png"},{"name":"bats-purchase/icon_super_arm_selected","url":"assets/lazy/images/bats-purchase/icon_super_arm_selected.png","ext":"png"},{"name":"bats-purchase/icon_super_arm","url":"assets/lazy/images/bats-purchase/icon_super_arm.png","ext":"png"},{"name":"bats-purchase/icon_sword_selected","url":"assets/lazy/images/bats-purchase/icon_sword_selected.png","ext":"png"},{"name":"bats-purchase/icon_sword","url":"assets/lazy/images/bats-purchase/icon_sword.png","ext":"png"},{"name":"bats-purchase/icon_unicorn_selected","url":"assets/lazy/images/bats-purchase/icon_unicorn_selected.png","ext":"png"},{"name":"bats-purchase/icon_unicorn","url":"assets/lazy/images/bats-purchase/icon_unicorn.png","ext":"png"},{"name":"bats-purchase/icon_wood_hammer_selected","url":"assets/lazy/images/bats-purchase/icon_wood_hammer_selected.png","ext":"png"},{"name":"bats-purchase/icon_wood_hammer","url":"assets/lazy/images/bats-purchase/icon_wood_hammer.png","ext":"png"},{"name":"bats-purchase/locked","url":"assets/lazy/images/bats-purchase/locked.png","ext":"png"},{"name":"bats-purchase/swipe_circle_02","url":"assets/lazy/images/bats-purchase/swipe_circle_02.png","ext":"png"},{"name":"bigboard-map/bigboard_square","url":"assets/lazy/images/bigboard-map/bigboard_square.png","ext":"png"},{"name":"bigboard-map/boulder_arctic","url":"assets/lazy/images/bigboard-map/boulder_arctic.png","ext":"png"},{"name":"bigboard-map/boulder_colony","url":"assets/lazy/images/bigboard-map/boulder_colony.png","ext":"png"},{"name":"bigboard-map/boulder_mario","url":"assets/lazy/images/bigboard-map/boulder_mario.png","ext":"png"},{"name":"bigboard-map/boulder_snow","url":"assets/lazy/images/bigboard-map/boulder_snow.png","ext":"png"},{"name":"bigboard-map/boulder_tundra","url":"assets/lazy/images/bigboard-map/boulder_tundra.png","ext":"png"},{"name":"bigboard-map/circle_50_bigboard","url":"assets/lazy/images/bigboard-map/circle_50_bigboard.png","ext":"png"},{"name":"bigboard-map/cup_bronze_b","url":"assets/lazy/images/bigboard-map/cup_bronze_b.png","ext":"png"},{"name":"bigboard-map/cup_bronze_m","url":"assets/lazy/images/bigboard-map/cup_bronze_m.png","ext":"png"},{"name":"bigboard-map/cup_bronze_s","url":"assets/lazy/images/bigboard-map/cup_bronze_s.png","ext":"png"},{"name":"bigboard-map/cup_cold_b","url":"assets/lazy/images/bigboard-map/cup_cold_b.png","ext":"png"},{"name":"bigboard-map/cup_cold_l","url":"assets/lazy/images/bigboard-map/cup_cold_l.png","ext":"png"},{"name":"bigboard-map/cup_cold_m","url":"assets/lazy/images/bigboard-map/cup_cold_m.png","ext":"png"},{"name":"bigboard-map/cup_cold_s","url":"assets/lazy/images/bigboard-map/cup_cold_s.png","ext":"png"},{"name":"bigboard-map/cup_lock","url":"assets/lazy/images/bigboard-map/cup_lock.png","ext":"png"},{"name":"bigboard-map/cup_silver_b","url":"assets/lazy/images/bigboard-map/cup_silver_b.png","ext":"png"},{"name":"bigboard-map/cup_silver_m","url":"assets/lazy/images/bigboard-map/cup_silver_m.png","ext":"png"},{"name":"bigboard-map/cup_silver_s","url":"assets/lazy/images/bigboard-map/cup_silver_s.png","ext":"png"},{"name":"bigboard-map/fir_rose_tundra","url":"assets/lazy/images/bigboard-map/fir_rose_tundra.png","ext":"png"},{"name":"bigboard-map/grass_mario","url":"assets/lazy/images/bigboard-map/grass_mario.png","ext":"png"},{"name":"bigboard-map/grass_small_mario","url":"assets/lazy/images/bigboard-map/grass_small_mario.png","ext":"png"},{"name":"bigboard-map/graund_decal_a","url":"assets/lazy/images/bigboard-map/graund_decal_a.png","ext":"png"},{"name":"bigboard-map/ice_artic","url":"assets/lazy/images/bigboard-map/ice_artic.png","ext":"png"},{"name":"bigboard-map/ice_small_artic","url":"assets/lazy/images/bigboard-map/ice_small_artic.png","ext":"png"},{"name":"bigboard-map/icon_penguin_girl","url":"assets/lazy/images/bigboard-map/icon_penguin_girl.png","ext":"png"},{"name":"bigboard-map/igloo_snow","url":"assets/lazy/images/bigboard-map/igloo_snow.png","ext":"png"},{"name":"bigboard-map/island","url":"assets/lazy/images/bigboard-map/island.png","ext":"png"},{"name":"bigboard-map/mushroom_mario","url":"assets/lazy/images/bigboard-map/mushroom_mario.png","ext":"png"},{"name":"bigboard-map/mushroom_small_mario","url":"assets/lazy/images/bigboard-map/mushroom_small_mario.png","ext":"png"},{"name":"bigboard-map/stub_colony","url":"assets/lazy/images/bigboard-map/stub_colony.png","ext":"png"},{"name":"bigboard-map/stub_small_tundra","url":"assets/lazy/images/bigboard-map/stub_small_tundra.png","ext":"png"},{"name":"bigboard-map/stub_tundra","url":"assets/lazy/images/bigboard-map/stub_tundra.png","ext":"png"},{"name":"bigboard-map/tree_colony","url":"assets/lazy/images/bigboard-map/tree_colony.png","ext":"png"},{"name":"bigboard-map/tree_double_colony","url":"assets/lazy/images/bigboard-map/tree_double_colony.png","ext":"png"},{"name":"bigboard-map/tree_snow","url":"assets/lazy/images/bigboard-map/tree_snow.png","ext":"png"},{"name":"bigboard-map/tree_tundra","url":"assets/lazy/images/bigboard-map/tree_tundra.png","ext":"png"},{"name":"daily-missions/case_coins","url":"assets/lazy/images/daily-missions/case_coins.png","ext":"png"},{"name":"daily-missions/icon_missions_leadership","url":"assets/lazy/images/daily-missions/icon_missions_leadership.png","ext":"png"},{"name":"obstacles/iceHole/big_ice_hole_mask","url":"assets/lazy/images/obstacles/iceHole/big_ice_hole_mask.png","ext":"png"},{"name":"obstacles/iceHole/big_ice_hole","url":"assets/lazy/images/obstacles/iceHole/big_ice_hole.png","ext":"png"},{"name":"obstacles/iceHole/ice_hole_mask","url":"assets/lazy/images/obstacles/iceHole/ice_hole_mask.png","ext":"png"},{"name":"obstacles/iceHole/ice_hole","url":"assets/lazy/images/obstacles/iceHole/ice_hole.png","ext":"png"},{"name":"obstacles/iceHole/ice_mask_l","url":"assets/lazy/images/obstacles/iceHole/ice_mask_l.png","ext":"png"},{"name":"obstacles/iceHole/ice_mask_r","url":"assets/lazy/images/obstacles/iceHole/ice_mask_r.png","ext":"png"},{"name":"obstacles/iceHole/ice_tile","url":"assets/lazy/images/obstacles/iceHole/ice_tile.png","ext":"png"},{"name":"obstacles/iceHole/ice_white_mask_l","url":"assets/lazy/images/obstacles/iceHole/ice_white_mask_l.png","ext":"png"},{"name":"obstacles/iceHole/ice_white_mask_r","url":"assets/lazy/images/obstacles/iceHole/ice_white_mask_r.png","ext":"png"},{"name":"obstacles/iceHole/tile_white","url":"assets/lazy/images/obstacles/iceHole/tile_white.png","ext":"png"},{"name":"obstacles/snowball/snowball","url":"assets/lazy/images/obstacles/snowball/snowball.png","ext":"png"},{"name":"obstacles/snowball/snowman_1","url":"assets/lazy/images/obstacles/snowball/snowman_1.png","ext":"png"},{"name":"obstacles/snowball/stone_cracked","url":"assets/lazy/images/obstacles/snowball/stone_cracked.png","ext":"png"},{"name":"obstacles/snowball/stone","url":"assets/lazy/images/obstacles/snowball/stone.png","ext":"png"},{"name":"roulette/big_coins","url":"assets/lazy/images/roulette/big_coins.png","ext":"png"},{"name":"roulette/flag","url":"assets/lazy/images/roulette/flag.png","ext":"png"},{"name":"roulette/gold_frame","url":"assets/lazy/images/roulette/gold_frame.png","ext":"png"},{"name":"roulette/gold_pointer","url":"assets/lazy/images/roulette/gold_pointer.png","ext":"png"},{"name":"roulette/icon_ability_rulette","url":"assets/lazy/images/roulette/icon_ability_rulette.png","ext":"png"},{"name":"roulette/icon_max_speed_rulette","url":"assets/lazy/images/roulette/icon_max_speed_rulette.png","ext":"png"},{"name":"roulette/icon_rebound_rulette","url":"assets/lazy/images/roulette/icon_rebound_rulette.png","ext":"png"},{"name":"roulette/icon_strength_rulette","url":"assets/lazy/images/roulette/icon_strength_rulette.png","ext":"png"},{"name":"roulette/medium_coins","url":"assets/lazy/images/roulette/medium_coins.png","ext":"png"},{"name":"roulette/medium_gems","url":"assets/lazy/images/roulette/medium_gems.png","ext":"png"},{"name":"roulette/small_coins","url":"assets/lazy/images/roulette/small_coins.png","ext":"png"},{"name":"roulette/super_big_coins","url":"assets/lazy/images/roulette/super_big_coins.png","ext":"png"},{"name":"roulette/super_big_gems","url":"assets/lazy/images/roulette/super_big_gems.png","ext":"png"},{"name":"roulette/tile_flag","url":"assets/lazy/images/roulette/tile_flag.png","ext":"png"}],"atlases":[],"sounds":[{"name":"Amazing","url":"assets/lazy/sounds/Amazing.mp3","ext":"mp3"},{"name":"bear/bat_big_punch","url":"assets/lazy/sounds/bear/bat_big_punch.mp3","ext":"mp3"},{"name":"bear/bat_punch_2","url":"assets/lazy/sounds/bear/bat_punch_2.mp3","ext":"mp3"},{"name":"bear/bat_punch_3","url":"assets/lazy/sounds/bear/bat_punch_3.mp3","ext":"mp3"},{"name":"bear/bat_punch","url":"assets/lazy/sounds/bear/bat_punch.mp3","ext":"mp3"},{"name":"bear/bat_snow","url":"assets/lazy/sounds/bear/bat_snow.mp3","ext":"mp3"},{"name":"bear/bat_whoosh_2","url":"assets/lazy/sounds/bear/bat_whoosh_2.mp3","ext":"mp3"},{"name":"bear/bat_whoosh_3","url":"assets/lazy/sounds/bear/bat_whoosh_3.mp3","ext":"mp3"},{"name":"bear/bat_whoosh","url":"assets/lazy/sounds/bear/bat_whoosh.mp3","ext":"mp3"},{"name":"bear/bear_scratch","url":"assets/lazy/sounds/bear/bear_scratch.mp3","ext":"mp3"},{"name":"bear/hulk","url":"assets/lazy/sounds/bear/hulk.mp3","ext":"mp3"},{"name":"bear/icecream","url":"assets/lazy/sounds/bear/icecream.mp3","ext":"mp3"},{"name":"bear/poop","url":"assets/lazy/sounds/bear/poop.mp3","ext":"mp3"},{"name":"bear/robot","url":"assets/lazy/sounds/bear/robot.mp3","ext":"mp3"},{"name":"bigboard/flag","url":"assets/lazy/sounds/bigboard/flag.mp3","ext":"mp3"},{"name":"bigboard/gui_road","url":"assets/lazy/sounds/bigboard/gui_road.mp3","ext":"mp3"},{"name":"button_press3","url":"assets/lazy/sounds/button_press3.mp3","ext":"mp3"},{"name":"mainMenu/ButtonUpgrade1","url":"assets/lazy/sounds/mainMenu/ButtonUpgrade1.mp3","ext":"mp3"},{"name":"music/sportmasters_final_intro_2","url":"assets/lazy/sounds/music/sportmasters_final_intro_2.mp3","ext":"mp3"},{"name":"music/sportmasters_final_loop","url":"assets/lazy/sounds/music/sportmasters_final_loop.mp3","ext":"mp3"},{"name":"obstacles/bat_whoosh","url":"assets/lazy/sounds/obstacles/bat_whoosh.mp3","ext":"mp3"},{"name":"obstacles/ClaimCoins","url":"assets/lazy/sounds/obstacles/ClaimCoins.mp3","ext":"mp3"},{"name":"obstacles/dead_pinguin_2","url":"assets/lazy/sounds/obstacles/dead_pinguin_2.mp3","ext":"mp3"},{"name":"obstacles/elk_butt","url":"assets/lazy/sounds/obstacles/elk_butt.mp3","ext":"mp3"},{"name":"obstacles/elk","url":"assets/lazy/sounds/obstacles/elk.mp3","ext":"mp3"},{"name":"obstacles/giraffe_punch_leg","url":"assets/lazy/sounds/obstacles/giraffe_punch_leg.mp3","ext":"mp3"},{"name":"obstacles/ice_archer","url":"assets/lazy/sounds/obstacles/ice_archer.mp3","ext":"mp3"},{"name":"obstacles/ice_break_1","url":"assets/lazy/sounds/obstacles/ice_break_1.mp3","ext":"mp3"},{"name":"obstacles/ice_break","url":"assets/lazy/sounds/obstacles/ice_break.mp3","ext":"mp3"},{"name":"obstacles/ice_floe_crack","url":"assets/lazy/sounds/obstacles/ice_floe_crack.mp3","ext":"mp3"},{"name":"obstacles/killer_whale_boom_2","url":"assets/lazy/sounds/obstacles/killer_whale_boom_2.mp3","ext":"mp3"},{"name":"obstacles/piranha","url":"assets/lazy/sounds/obstacles/piranha.mp3","ext":"mp3"},{"name":"obstacles/seal_1","url":"assets/lazy/sounds/obstacles/seal_1.mp3","ext":"mp3"},{"name":"obstacles/seal_2","url":"assets/lazy/sounds/obstacles/seal_2.mp3","ext":"mp3"},{"name":"obstacles/snow_ball","url":"assets/lazy/sounds/obstacles/snow_ball.mp3","ext":"mp3"},{"name":"obstacles/snow_collision_1","url":"assets/lazy/sounds/obstacles/snow_collision_1.mp3","ext":"mp3"},{"name":"obstacles/snow_collision_2","url":"assets/lazy/sounds/obstacles/snow_collision_2.mp3","ext":"mp3"},{"name":"obstacles/snow_collision_3","url":"assets/lazy/sounds/obstacles/snow_collision_3.mp3","ext":"mp3"},{"name":"obstacles/snow_hit_1","url":"assets/lazy/sounds/obstacles/snow_hit_1.mp3","ext":"mp3"},{"name":"obstacles/snow_hit_2","url":"assets/lazy/sounds/obstacles/snow_hit_2.mp3","ext":"mp3"},{"name":"obstacles/snowball","url":"assets/lazy/sounds/obstacles/snowball.mp3","ext":"mp3"},{"name":"obstacles/stone","url":"assets/lazy/sounds/obstacles/stone.mp3","ext":"mp3"},{"name":"obstacles/tree_touch","url":"assets/lazy/sounds/obstacles/tree_touch.mp3","ext":"mp3"},{"name":"obstacles/walrus_1","url":"assets/lazy/sounds/obstacles/walrus_1.mp3","ext":"mp3"},{"name":"obstacles/walrus_2","url":"assets/lazy/sounds/obstacles/walrus_2.mp3","ext":"mp3"},{"name":"obstacles/water_slap","url":"assets/lazy/sounds/obstacles/water_slap.mp3","ext":"mp3"},{"name":"penguin/Ability","url":"assets/lazy/sounds/penguin/Ability.mp3","ext":"mp3"},{"name":"penguin/Combo","url":"assets/lazy/sounds/penguin/Combo.mp3","ext":"mp3"},{"name":"penguin/Crazy","url":"assets/lazy/sounds/penguin/Crazy.mp3","ext":"mp3"},{"name":"penguin/Fart","url":"assets/lazy/sounds/penguin/Fart.mp3","ext":"mp3"},{"name":"penguin/Fly","url":"assets/lazy/sounds/penguin/Fly.mp3","ext":"mp3"},{"name":"penguin/penguin_amazing_kick","url":"assets/lazy/sounds/penguin/penguin_amazing_kick.mp3","ext":"mp3"},{"name":"penguin/penguin_fly_1","url":"assets/lazy/sounds/penguin/penguin_fly_1.mp3","ext":"mp3"},{"name":"penguin/penguin_fly_10","url":"assets/lazy/sounds/penguin/penguin_fly_10.mp3","ext":"mp3"},{"name":"penguin/penguin_fly_11","url":"assets/lazy/sounds/penguin/penguin_fly_11.mp3","ext":"mp3"},{"name":"penguin/penguin_fly_2","url":"assets/lazy/sounds/penguin/penguin_fly_2.mp3","ext":"mp3"},{"name":"penguin/penguin_fly_3","url":"assets/lazy/sounds/penguin/penguin_fly_3.mp3","ext":"mp3"},{"name":"penguin/penguin_fly_4","url":"assets/lazy/sounds/penguin/penguin_fly_4.mp3","ext":"mp3"},{"name":"penguin/penguin_fly_5","url":"assets/lazy/sounds/penguin/penguin_fly_5.mp3","ext":"mp3"},{"name":"penguin/penguin_fly_6","url":"assets/lazy/sounds/penguin/penguin_fly_6.mp3","ext":"mp3"},{"name":"penguin/penguin_fly_7","url":"assets/lazy/sounds/penguin/penguin_fly_7.mp3","ext":"mp3"},{"name":"penguin/penguin_fly_8","url":"assets/lazy/sounds/penguin/penguin_fly_8.mp3","ext":"mp3"},{"name":"penguin/penguin_fly_9","url":"assets/lazy/sounds/penguin/penguin_fly_9.mp3","ext":"mp3"},{"name":"penguin/Quit_Hey","url":"assets/lazy/sounds/penguin/Quit_Hey.mp3","ext":"mp3"},{"name":"penguin/Quit_No","url":"assets/lazy/sounds/penguin/Quit_No.mp3","ext":"mp3"},{"name":"penguin/Quit_Wait","url":"assets/lazy/sounds/penguin/Quit_Wait.mp3","ext":"mp3"},{"name":"penguin/rez_kunffu","url":"assets/lazy/sounds/penguin/rez_kunffu.mp3","ext":"mp3"},{"name":"penguin/rez_twerk","url":"assets/lazy/sounds/penguin/rez_twerk.mp3","ext":"mp3"},{"name":"penguin/SkyDiver","url":"assets/lazy/sounds/penguin/SkyDiver.mp3","ext":"mp3"},{"name":"penguin/slippy1","url":"assets/lazy/sounds/penguin/slippy1.mp3","ext":"mp3"},{"name":"penguin/slippy2","url":"assets/lazy/sounds/penguin/slippy2.mp3","ext":"mp3"},{"name":"penguin/snow_collision_1","url":"assets/lazy/sounds/penguin/snow_collision_1.mp3","ext":"mp3"},{"name":"penguin/snow_collision_2","url":"assets/lazy/sounds/penguin/snow_collision_2.mp3","ext":"mp3"},{"name":"penguin/snow_collision_3","url":"assets/lazy/sounds/penguin/snow_collision_3.mp3","ext":"mp3"},{"name":"penguin/snow_hit_1","url":"assets/lazy/sounds/penguin/snow_hit_1.mp3","ext":"mp3"},{"name":"penguin/snow_hit_2","url":"assets/lazy/sounds/penguin/snow_hit_2.mp3","ext":"mp3"},{"name":"penguin/Superman","url":"assets/lazy/sounds/penguin/Superman.mp3","ext":"mp3"},{"name":"roulette/get_item2","url":"assets/lazy/sounds/roulette/get_item2.mp3","ext":"mp3"},{"name":"roulette/ko_coins_1","url":"assets/lazy/sounds/roulette/ko_coins_1.mp3","ext":"mp3"},{"name":"roulette/ko_coins_2","url":"assets/lazy/sounds/roulette/ko_coins_2.mp3","ext":"mp3"},{"name":"roulette/ko_coins_3","url":"assets/lazy/sounds/roulette/ko_coins_3.mp3","ext":"mp3"},{"name":"roulette/roll_spin","url":"assets/lazy/sounds/roulette/roll_spin.mp3","ext":"mp3"},{"name":"roulette/rolls_appear","url":"assets/lazy/sounds/roulette/rolls_appear.mp3","ext":"mp3"}],"fonts":[],"spine":[],"models":[]},"loader":{"images":[{"name":"loading-screen-back","url":"assets/loader/images/loading-screen-back.jpg","ext":"jpg"}],"atlases":[],"sounds":[],"fonts":[],"spine":[],"models":[]},"main":{"images":[{"name":"arrow","url":"assets/main/images/arrow.png","ext":"png"},{"name":"BackgroundSimulation/colonyLocationClouds","url":"assets/main/images/BackgroundSimulation/colonyLocationClouds.png","ext":"png"},{"name":"BackgroundSimulation/DartStart","url":"assets/main/images/BackgroundSimulation/DartStart.png","ext":"png"},{"name":"BackgroundSimulation/FrontTree1","url":"assets/main/images/BackgroundSimulation/FrontTree1.png","ext":"png"},{"name":"BackgroundSimulation/FrontTree2","url":"assets/main/images/BackgroundSimulation/FrontTree2.png","ext":"png"},{"name":"BackgroundSimulation/FrontTree3","url":"assets/main/images/BackgroundSimulation/FrontTree3.png","ext":"png"},{"name":"BackgroundSimulation/FxBackIcePolarLights","url":"assets/main/images/BackgroundSimulation/FxBackIcePolarLights.png","ext":"png"},{"name":"BackgroundSimulation/FxBackIceSeaBack","url":"assets/main/images/BackgroundSimulation/FxBackIceSeaBack.png","ext":"png"},{"name":"BackgroundSimulation/FxBackIceSeaMiddle","url":"assets/main/images/BackgroundSimulation/FxBackIceSeaMiddle.png","ext":"png"},{"name":"BackgroundSimulation/FxBackSpaceMilkyWay","url":"assets/main/images/BackgroundSimulation/FxBackSpaceMilkyWay.png","ext":"png"},{"name":"BackgroundSimulation/Moon","url":"assets/main/images/BackgroundSimulation/Moon.png","ext":"png"},{"name":"BackgroundSimulation/Mountains","url":"assets/main/images/BackgroundSimulation/Mountains.png","ext":"png"},{"name":"BackgroundSimulation/mushroom_foolish","url":"assets/main/images/BackgroundSimulation/mushroom_foolish.png","ext":"png"},{"name":"BackgroundSimulation/mushroom_sing","url":"assets/main/images/BackgroundSimulation/mushroom_sing.png","ext":"png"},{"name":"BackgroundSimulation/NotSaturn","url":"assets/main/images/BackgroundSimulation/NotSaturn.png","ext":"png"},{"name":"BackgroundSimulation/PoliceBox","url":"assets/main/images/BackgroundSimulation/PoliceBox.png","ext":"png"},{"name":"BackgroundSimulation/Satellite","url":"assets/main/images/BackgroundSimulation/Satellite.png","ext":"png"},{"name":"BackgroundSimulation/Ship","url":"assets/main/images/BackgroundSimulation/Ship.png","ext":"png"},{"name":"BackgroundSimulation/Stars","url":"assets/main/images/BackgroundSimulation/Stars.png","ext":"png"},{"name":"BackgroundSimulation/TopHills","url":"assets/main/images/BackgroundSimulation/TopHills.png","ext":"png"},{"name":"BackgroundSimulation/TopHillsTree2","url":"assets/main/images/BackgroundSimulation/TopHillsTree2.png","ext":"png"},{"name":"BackgroundSimulation/TopHillsTree4","url":"assets/main/images/BackgroundSimulation/TopHillsTree4.png","ext":"png"},{"name":"BackgroundSimulation/TopIceberg","url":"assets/main/images/BackgroundSimulation/TopIceberg.png","ext":"png"},{"name":"BackgroundSimulation/Tree1","url":"assets/main/images/BackgroundSimulation/Tree1.png","ext":"png"},{"name":"BackgroundSimulation/Tree2","url":"assets/main/images/BackgroundSimulation/Tree2.png","ext":"png"},{"name":"BackgroundSimulation/Tree3","url":"assets/main/images/BackgroundSimulation/Tree3.png","ext":"png"},{"name":"BackgroundSimulation/Tree4","url":"assets/main/images/BackgroundSimulation/Tree4.png","ext":"png"},{"name":"BackgroundSimulation/Tree5","url":"assets/main/images/BackgroundSimulation/Tree5.png","ext":"png"},{"name":"BackgroundSimulation/Tree6","url":"assets/main/images/BackgroundSimulation/Tree6.png","ext":"png"},{"name":"BackgroundSimulation/tundraLocationClouds","url":"assets/main/images/BackgroundSimulation/tundraLocationClouds.png","ext":"png"},{"name":"BackgroundSimulation/tundraLocationClouds2","url":"assets/main/images/BackgroundSimulation/tundraLocationClouds2.png","ext":"png"},{"name":"BackgroundSimulation/Ufo","url":"assets/main/images/BackgroundSimulation/Ufo.png","ext":"png"},{"name":"BackgroundSimulation/VioletSaturn","url":"assets/main/images/BackgroundSimulation/VioletSaturn.png","ext":"png"},{"name":"BackgroundSnowArctic/ground_back","url":"assets/main/images/BackgroundSnowArctic/ground_back.png","ext":"png"},{"name":"BackgroundSnowArctic/ground_medium","url":"assets/main/images/BackgroundSnowArctic/ground_medium.png","ext":"png"},{"name":"BackgroundSnowArctic/iceberg","url":"assets/main/images/BackgroundSnowArctic/iceberg.png","ext":"png"},{"name":"BackgroundSnowArctic/sky","url":"assets/main/images/BackgroundSnowArctic/sky.png","ext":"png"},{"name":"BackgroundSnowArctic/tile_white","url":"assets/main/images/BackgroundSnowArctic/tile_white.png","ext":"png"},{"name":"chest_sm_red_closed","url":"assets/main/images/chest_sm_red_closed.png","ext":"png"},{"name":"common/coin_btn_locked","url":"assets/main/images/common/coin_btn_locked.png","ext":"png"},{"name":"common/coin","url":"assets/main/images/common/coin.png","ext":"png"},{"name":"common/fx_shine_medium_2","url":"assets/main/images/common/fx_shine_medium_2.png","ext":"png"},{"name":"common/gem","url":"assets/main/images/common/gem.png","ext":"png"},{"name":"daily_gift_icon","url":"assets/main/images/daily_gift_icon.png","ext":"png"},{"name":"effects/FX_ice_hole_part-1","url":"assets/main/images/effects/FX_ice_hole_part-1.png","ext":"png"},{"name":"effects/FX_ice_hole_part-2","url":"assets/main/images/effects/FX_ice_hole_part-2.png","ext":"png"},{"name":"effects/FX_particle_long_blur","url":"assets/main/images/effects/FX_particle_long_blur.png","ext":"png"},{"name":"effects/FX_progresbar_distanse_shine","url":"assets/main/images/effects/FX_progresbar_distanse_shine.png","ext":"png"},{"name":"effects/fx_shine_medium_2","url":"assets/main/images/effects/fx_shine_medium_2.png","ext":"png"},{"name":"effects/FX_snow","url":"assets/main/images/effects/FX_snow.png","ext":"png"},{"name":"effects/fx_trail_blur","url":"assets/main/images/effects/fx_trail_blur.png","ext":"png"},{"name":"effects/FX_trail_rainbow_among","url":"assets/main/images/effects/FX_trail_rainbow_among.png","ext":"png"},{"name":"effects/FX_trail_rainbow_center","url":"assets/main/images/effects/FX_trail_rainbow_center.png","ext":"png"},{"name":"effects/FX_trail_rainbow_rim","url":"assets/main/images/effects/FX_trail_rainbow_rim.png","ext":"png"},{"name":"effects/particle","url":"assets/main/images/effects/particle.png","ext":"png"},{"name":"missions_icon","url":"assets/main/images/missions_icon.png","ext":"png"},{"name":"paw","url":"assets/main/images/paw.png","ext":"png"},{"name":"progress-bar/hud_bar_blue","url":"assets/main/images/progress-bar/hud_bar_blue.png","ext":"png"},{"name":"progress-bar/hud_bar_green","url":"assets/main/images/progress-bar/hud_bar_green.png","ext":"png"},{"name":"progress-bar/hud_bar_pink","url":"assets/main/images/progress-bar/hud_bar_pink.png","ext":"png"},{"name":"progress-bar/hud_bar_sign_back","url":"assets/main/images/progress-bar/hud_bar_sign_back.png","ext":"png"},{"name":"progress-bar/hud_bar_white","url":"assets/main/images/progress-bar/hud_bar_white.png","ext":"png"},{"name":"progress-bar/hud_bar_yellow","url":"assets/main/images/progress-bar/hud_bar_yellow.png","ext":"png"},{"name":"progress-bar/hud_bar","url":"assets/main/images/progress-bar/hud_bar.png","ext":"png"},{"name":"progress-bar/icon_crown","url":"assets/main/images/progress-bar/icon_crown.png","ext":"png"},{"name":"progress-bar/icon_cup","url":"assets/main/images/progress-bar/icon_cup.png","ext":"png"},{"name":"shop_icon","url":"assets/main/images/shop_icon.png","ext":"png"},{"name":"trails/FX_trail","url":"assets/main/images/trails/FX_trail.png","ext":"png"},{"name":"trails/trail_begin_1","url":"assets/main/images/trails/trail_begin_1.png","ext":"png"},{"name":"trails/trail_end","url":"assets/main/images/trails/trail_end.png","ext":"png"},{"name":"trails/trail-1","url":"assets/main/images/trails/trail-1.png","ext":"png"},{"name":"trails/trail-2","url":"assets/main/images/trails/trail-2.png","ext":"png"},{"name":"trails/trail-3","url":"assets/main/images/trails/trail-3.png","ext":"png"},{"name":"trails/trail-4","url":"assets/main/images/trails/trail-4.png","ext":"png"}],"atlases":[{"name":"main-atlas-0","url":"assets/main/atlases/main-atlas-0.json","ext":"json"},{"name":"main-atlas-0","url":"assets/main/atlases/main-atlas-0.png","ext":"png"},{"name":"main-atlas-1","url":"assets/main/atlases/main-atlas-1.json","ext":"json"},{"name":"main-atlas-1","url":"assets/main/atlases/main-atlas-1.png","ext":"png"}],"sounds":[{"name":"history/ambient","url":"assets/main/sounds/history/ambient.mp3","ext":"mp3"},{"name":"history/bear_1","url":"assets/main/sounds/history/bear_1.mp3","ext":"mp3"},{"name":"history/bear_2","url":"assets/main/sounds/history/bear_2.mp3","ext":"mp3"},{"name":"history/bush","url":"assets/main/sounds/history/bush.mp3","ext":"mp3"},{"name":"history/happy_v2","url":"assets/main/sounds/history/happy_v2.mp3","ext":"mp3"},{"name":"history/kiss","url":"assets/main/sounds/history/kiss.mp3","ext":"mp3"},{"name":"history/laugh","url":"assets/main/sounds/history/laugh.mp3","ext":"mp3"},{"name":"history/penguin_girl_eye","url":"assets/main/sounds/history/penguin_girl_eye.mp3","ext":"mp3"},{"name":"history/penguin_girl","url":"assets/main/sounds/history/penguin_girl.mp3","ext":"mp3"},{"name":"history/penguin_help_me","url":"assets/main/sounds/history/penguin_help_me.mp3","ext":"mp3"},{"name":"history/penguin_love","url":"assets/main/sounds/history/penguin_love.mp3","ext":"mp3"},{"name":"history/spyglass","url":"assets/main/sounds/history/spyglass.mp3","ext":"mp3"}],"fonts":[{"name":"Montserrat-Bold","url":"assets/main/fonts/Montserrat-Bold.woff2","ext":"woff2"},{"name":"PTSans-Bold","url":"assets/main/fonts/PTSans-Bold.woff2","ext":"woff2"}],"spine":[{"name":"archer","url":"assets/main/spine/archer.atlas","ext":"atlas"},{"name":"archer","url":"assets/main/spine/archer.json","ext":"json"},{"name":"archer","url":"assets/main/spine/archer.png","ext":"png"},{"name":"bear_2","url":"assets/main/spine/bear_2.png","ext":"png"},{"name":"bear","url":"assets/main/spine/bear.atlas","ext":"atlas"},{"name":"bear","url":"assets/main/spine/bear.json","ext":"json"},{"name":"bear","url":"assets/main/spine/bear.png","ext":"png"},{"name":"bigboard_map","url":"assets/main/spine/bigboard_map.atlas","ext":"atlas"},{"name":"bigboard_map","url":"assets/main/spine/bigboard_map.json","ext":"json"},{"name":"bigboard_map","url":"assets/main/spine/bigboard_map.png","ext":"png"},{"name":"board_pointer","url":"assets/main/spine/board_pointer.atlas","ext":"atlas"},{"name":"board_pointer","url":"assets/main/spine/board_pointer.json","ext":"json"},{"name":"board_pointer","url":"assets/main/spine/board_pointer.png","ext":"png"},{"name":"board_violet","url":"assets/main/spine/board_violet.atlas","ext":"atlas"},{"name":"board_violet","url":"assets/main/spine/board_violet.json","ext":"json"},{"name":"board_violet","url":"assets/main/spine/board_violet.png","ext":"png"},{"name":"chest_ingame","url":"assets/main/spine/chest_ingame.atlas","ext":"atlas"},{"name":"chest_ingame","url":"assets/main/spine/chest_ingame.json","ext":"json"},{"name":"chest_ingame","url":"assets/main/spine/chest_ingame.png","ext":"png"},{"name":"coin","url":"assets/main/spine/coin.atlas","ext":"atlas"},{"name":"coin","url":"assets/main/spine/coin.json","ext":"json"},{"name":"coin","url":"assets/main/spine/coin.png","ext":"png"},{"name":"elk","url":"assets/main/spine/elk.atlas","ext":"atlas"},{"name":"elk","url":"assets/main/spine/elk.json","ext":"json"},{"name":"elk","url":"assets/main/spine/elk.png","ext":"png"},{"name":"fatality/penguin_elongated","url":"assets/main/spine/fatality/penguin_elongated.atlas","ext":"atlas"},{"name":"fatality/penguin_elongated","url":"assets/main/spine/fatality/penguin_elongated.json","ext":"json"},{"name":"fatality/penguin_elongated","url":"assets/main/spine/fatality/penguin_elongated.png","ext":"png"},{"name":"fatality/penguin_fat","url":"assets/main/spine/fatality/penguin_fat.atlas","ext":"atlas"},{"name":"fatality/penguin_fat","url":"assets/main/spine/fatality/penguin_fat.json","ext":"json"},{"name":"fatality/penguin_fat","url":"assets/main/spine/fatality/penguin_fat.png","ext":"png"},{"name":"fatality/penguin_front","url":"assets/main/spine/fatality/penguin_front.atlas","ext":"atlas"},{"name":"fatality/penguin_front","url":"assets/main/spine/fatality/penguin_front.json","ext":"json"},{"name":"fatality/penguin_front","url":"assets/main/spine/fatality/penguin_front.png","ext":"png"},{"name":"fatality/penguin_ninja_elongated","url":"assets/main/spine/fatality/penguin_ninja_elongated.atlas","ext":"atlas"},{"name":"fatality/penguin_ninja_elongated","url":"assets/main/spine/fatality/penguin_ninja_elongated.json","ext":"json"},{"name":"fatality/penguin_ninja_elongated","url":"assets/main/spine/fatality/penguin_ninja_elongated.png","ext":"png"},{"name":"fatality/penguin_ninja_fat","url":"assets/main/spine/fatality/penguin_ninja_fat.atlas","ext":"atlas"},{"name":"fatality/penguin_ninja_fat","url":"assets/main/spine/fatality/penguin_ninja_fat.json","ext":"json"},{"name":"fatality/penguin_ninja_fat","url":"assets/main/spine/fatality/penguin_ninja_fat.png","ext":"png"},{"name":"fatality/penguin_ninja_front","url":"assets/main/spine/fatality/penguin_ninja_front.atlas","ext":"atlas"},{"name":"fatality/penguin_ninja_front","url":"assets/main/spine/fatality/penguin_ninja_front.json","ext":"json"},{"name":"fatality/penguin_ninja_front","url":"assets/main/spine/fatality/penguin_ninja_front.png","ext":"png"},{"name":"fir_tree","url":"assets/main/spine/fir_tree.atlas","ext":"atlas"},{"name":"fir_tree","url":"assets/main/spine/fir_tree.json","ext":"json"},{"name":"fir_tree","url":"assets/main/spine/fir_tree.png","ext":"png"},{"name":"flag_map","url":"assets/main/spine/flag_map.atlas","ext":"atlas"},{"name":"flag_map","url":"assets/main/spine/flag_map.json","ext":"json"},{"name":"flag_map","url":"assets/main/spine/flag_map.png","ext":"png"},{"name":"gem","url":"assets/main/spine/gem.atlas","ext":"atlas"},{"name":"gem","url":"assets/main/spine/gem.json","ext":"json"},{"name":"gem","url":"assets/main/spine/gem.png","ext":"png"},{"name":"ice_floe","url":"assets/main/spine/ice_floe.atlas","ext":"atlas"},{"name":"ice_floe","url":"assets/main/spine/ice_floe.json","ext":"json"},{"name":"ice_floe","url":"assets/main/spine/ice_floe.png","ext":"png"},{"name":"killer_whale","url":"assets/main/spine/killer_whale.atlas","ext":"atlas"},{"name":"killer_whale","url":"assets/main/spine/killer_whale.json","ext":"json"},{"name":"killer_whale","url":"assets/main/spine/killer_whale.png","ext":"png"},{"name":"mushroom_big","url":"assets/main/spine/mushroom_big.atlas","ext":"atlas"},{"name":"mushroom_big","url":"assets/main/spine/mushroom_big.json","ext":"json"},{"name":"mushroom_big","url":"assets/main/spine/mushroom_big.png","ext":"png"},{"name":"penguin_perks","url":"assets/main/spine/penguin_perks.atlas","ext":"atlas"},{"name":"penguin_perks","url":"assets/main/spine/penguin_perks.json","ext":"json"},{"name":"penguin_perks","url":"assets/main/spine/penguin_perks.png","ext":"png"},{"name":"penguin","url":"assets/main/spine/penguin.atlas","ext":"atlas"},{"name":"penguin","url":"assets/main/spine/penguin.json","ext":"json"},{"name":"penguin","url":"assets/main/spine/penguin.png","ext":"png"},{"name":"piranha","url":"assets/main/spine/piranha.atlas","ext":"atlas"},{"name":"piranha","url":"assets/main/spine/piranha.json","ext":"json"},{"name":"piranha","url":"assets/main/spine/piranha.png","ext":"png"},{"name":"poop","url":"assets/main/spine/poop.atlas","ext":"atlas"},{"name":"poop","url":"assets/main/spine/poop.json","ext":"json"},{"name":"poop","url":"assets/main/spine/poop.png","ext":"png"},{"name":"popup_final","url":"assets/main/spine/popup_final.atlas","ext":"atlas"},{"name":"popup_final","url":"assets/main/spine/popup_final.json","ext":"json"},{"name":"popup_final","url":"assets/main/spine/popup_final.png","ext":"png"},{"name":"seal_moron","url":"assets/main/spine/seal_moron.atlas","ext":"atlas"},{"name":"seal_moron","url":"assets/main/spine/seal_moron.json","ext":"json"},{"name":"seal_moron","url":"assets/main/spine/seal_moron.png","ext":"png"},{"name":"seal","url":"assets/main/spine/seal.atlas","ext":"atlas"},{"name":"seal","url":"assets/main/spine/seal.json","ext":"json"},{"name":"seal","url":"assets/main/spine/seal.png","ext":"png"},{"name":"story/background_ending","url":"assets/main/spine/story/background_ending.atlas","ext":"atlas"},{"name":"story/background_ending","url":"assets/main/spine/story/background_ending.json","ext":"json"},{"name":"story/background_ending","url":"assets/main/spine/story/background_ending.png","ext":"png"},{"name":"story/background","url":"assets/main/spine/story/background.atlas","ext":"atlas"},{"name":"story/background","url":"assets/main/spine/story/background.json","ext":"json"},{"name":"story/background","url":"assets/main/spine/story/background.png","ext":"png"},{"name":"story/bear","url":"assets/main/spine/story/bear.atlas","ext":"atlas"},{"name":"story/bear","url":"assets/main/spine/story/bear.json","ext":"json"},{"name":"story/bear","url":"assets/main/spine/story/bear.png","ext":"png"},{"name":"story/penguin_ending","url":"assets/main/spine/story/penguin_ending.atlas","ext":"atlas"},{"name":"story/penguin_ending","url":"assets/main/spine/story/penguin_ending.json","ext":"json"},{"name":"story/penguin_ending","url":"assets/main/spine/story/penguin_ending.png","ext":"png"},{"name":"story/penguin_girl_ending","url":"assets/main/spine/story/penguin_girl_ending.atlas","ext":"atlas"},{"name":"story/penguin_girl_ending","url":"assets/main/spine/story/penguin_girl_ending.json","ext":"json"},{"name":"story/penguin_girl_ending","url":"assets/main/spine/story/penguin_girl_ending.png","ext":"png"},{"name":"story/penguin_girl","url":"assets/main/spine/story/penguin_girl.atlas","ext":"atlas"},{"name":"story/penguin_girl","url":"assets/main/spine/story/penguin_girl.json","ext":"json"},{"name":"story/penguin_girl","url":"assets/main/spine/story/penguin_girl.png","ext":"png"},{"name":"story/penguin","url":"assets/main/spine/story/penguin.atlas","ext":"atlas"},{"name":"story/penguin","url":"assets/main/spine/story/penguin.json","ext":"json"},{"name":"story/penguin","url":"assets/main/spine/story/penguin.png","ext":"png"},{"name":"tutorial_archer","url":"assets/main/spine/tutorial_archer.atlas","ext":"atlas"},{"name":"tutorial_archer","url":"assets/main/spine/tutorial_archer.json","ext":"json"},{"name":"tutorial_archer","url":"assets/main/spine/tutorial_archer.png","ext":"png"},{"name":"tutorial_elk","url":"assets/main/spine/tutorial_elk.atlas","ext":"atlas"},{"name":"tutorial_elk","url":"assets/main/spine/tutorial_elk.json","ext":"json"},{"name":"tutorial_elk","url":"assets/main/spine/tutorial_elk.png","ext":"png"},{"name":"tutorial_killer_whale","url":"assets/main/spine/tutorial_killer_whale.atlas","ext":"atlas"},{"name":"tutorial_killer_whale","url":"assets/main/spine/tutorial_killer_whale.json","ext":"json"},{"name":"tutorial_killer_whale","url":"assets/main/spine/tutorial_killer_whale.png","ext":"png"},{"name":"tutorial_mushroom","url":"assets/main/spine/tutorial_mushroom.atlas","ext":"atlas"},{"name":"tutorial_mushroom","url":"assets/main/spine/tutorial_mushroom.json","ext":"json"},{"name":"tutorial_mushroom","url":"assets/main/spine/tutorial_mushroom.png","ext":"png"},{"name":"tutorial_snowman","url":"assets/main/spine/tutorial_snowman.atlas","ext":"atlas"},{"name":"tutorial_snowman","url":"assets/main/spine/tutorial_snowman.json","ext":"json"},{"name":"tutorial_snowman","url":"assets/main/spine/tutorial_snowman.png","ext":"png"},{"name":"tutorial_swipe","url":"assets/main/spine/tutorial_swipe.atlas","ext":"atlas"},{"name":"tutorial_swipe","url":"assets/main/spine/tutorial_swipe.json","ext":"json"},{"name":"tutorial_swipe","url":"assets/main/spine/tutorial_swipe.png","ext":"png"},{"name":"tutorial_walrus","url":"assets/main/spine/tutorial_walrus.atlas","ext":"atlas"},{"name":"tutorial_walrus","url":"assets/main/spine/tutorial_walrus.json","ext":"json"},{"name":"tutorial_walrus","url":"assets/main/spine/tutorial_walrus.png","ext":"png"},{"name":"walrus_frida","url":"assets/main/spine/walrus_frida.atlas","ext":"atlas"},{"name":"walrus_frida","url":"assets/main/spine/walrus_frida.json","ext":"json"},{"name":"walrus_frida","url":"assets/main/spine/walrus_frida.png","ext":"png"},{"name":"walrus","url":"assets/main/spine/walrus.atlas","ext":"atlas"},{"name":"walrus","url":"assets/main/spine/walrus.json","ext":"json"},{"name":"walrus","url":"assets/main/spine/walrus.png","ext":"png"},{"name":"warlus_carl","url":"assets/main/spine/warlus_carl.atlas","ext":"atlas"},{"name":"warlus_carl","url":"assets/main/spine/warlus_carl.json","ext":"json"},{"name":"warlus_carl","url":"assets/main/spine/warlus_carl.png","ext":"png"}],"models":[],"editor":["data/editor/components/BadgeAlert.json","data/editor/components/BatPurchaseButton.json","data/editor/components/BatsPurchaseEntry.json","data/editor/components/BatsPurchasePopup.json","data/editor/components/BigBoard.json","data/editor/components/BigBoardLeaguesCups.json","data/editor/components/BigBoardMap.json","data/editor/components/CoinsCounter.json","data/editor/components/ComboVisual.json","data/editor/components/DailyGiftItem.json","data/editor/components/DailyMissionCompletedNotification.json","data/editor/components/DailyMissionView.json","data/editor/components/DistanceFlag.json","data/editor/components/effects/FxBackHorizonStars.json","data/editor/components/effects/FxBackMusic.json","data/editor/components/effects/FxBackSpaceMilkyWay.json","data/editor/components/effects/FxBigBoardShine.json","data/editor/components/effects/FxBloodLake.json","data/editor/components/effects/FxBloodPiranhas.json","data/editor/components/effects/FxBoundDestroy.json","data/editor/components/effects/FxBoundIdle.json","data/editor/components/effects/FxChestCollision.json","data/editor/components/effects/FxChestShow.json","data/editor/components/effects/FxCoinsDailyGiftClaimed.json","data/editor/components/effects/FxCoinsPickUp.json","data/editor/components/effects/FxDailyMissionsRays.json","data/editor/components/effects/FxFirTreeBottom.json","data/editor/components/effects/FxFirTreeDestroy.json","data/editor/components/effects/FxFirTreeMiddle.json","data/editor/components/effects/FxFirTreeSnow.json","data/editor/components/effects/FxFirTreeTop.json","data/editor/components/effects/FxForegroundSnow.json","data/editor/components/effects/FxGemIdle.json","data/editor/components/effects/FxGemsDailyGiftClaimed.json","data/editor/components/effects/FxGemsPickUp.json","data/editor/components/effects/FxIceDestroy.json","data/editor/components/effects/FxIceHoleIn.json","data/editor/components/effects/FxIceHoleOut.json","data/editor/components/effects/FxPenguinCollision.json","data/editor/components/effects/FxPenguinCollisionFeather.json","data/editor/components/effects/FxPenguinStick.json","data/editor/components/effects/FxRouletteCoinsSmall.json","data/editor/components/effects/FxRouletteGems.json","data/editor/components/effects/FxRouletteUpgrade.json","data/editor/components/effects/FxSnowballDestroy.json","data/editor/components/effects/FxSnowmanDestroy.json","data/editor/components/effects/FxStoneCollision.json","data/editor/components/effects/FxStoneDestroy.json","data/editor/components/effects/GemEffect.json","data/editor/components/GemsCounter.json","data/editor/components/IceHoleVisual.json","data/editor/components/LeagueCup.json","data/editor/components/ProgressBarAnimation.json","data/editor/components/ProgressBarView.json","data/editor/components/UpgradeButton.json","data/editor/components/UpgradeMenu.json","data/editor/scenes/bats-purchase.json","data/editor/scenes/burito-bison-hint-popup.json","data/editor/scenes/daily-gift.json","data/editor/scenes/daily-missions.json","data/editor/scenes/end-game-popup.json","data/editor/scenes/intro-movie-scene.json","data/editor/scenes/main.json","data/editor/scenes/modal-example.json","data/editor/scenes/money-flying-popup.json","data/editor/scenes/outro-movie-scene.json","data/editor/scenes/roulette.json"]}}')},8667:t=>{"use strict";t.exports=JSON.parse('{"snowArcticLocation":2500,"iceArcticLocation":7000,"tundraLocation":12000,"marioLocation":18000,"colonyLocation":25000}')},6133:t=>{"use strict";t.exports=JSON.parse('{"batsPrices":[{"type":"Bit","price":0},{"type":"Shovel","price":50},{"type":"BatThorns","price":50},{"type":"Candy","price":100},{"type":"Meat","price":100},{"type":"Flamingo","price":150},{"type":"Fish","price":150},{"type":"Pan","price":200},{"type":"MailBox","price":250},{"type":"Leg","price":250},{"type":"WoodenHammer","price":300},{"type":"Hook","price":300},{"type":"Unicorn","price":400},{"type":"IceCream","price":450},{"type":"EiffelTower","price":500},{"type":"Oscar","price":500},{"type":"Cucumber","price":600},{"type":"PuppyButthole","price":600},{"type":"MinecraftSword","price":700},{"type":"ThorHammer","price":700},{"type":"Guitar","price":800},{"type":"HelloKitty","price":800},{"type":"SuperArm","price":1500},{"type":"ThorHammerEpic","price":2000}]}')},159:t=>{"use strict";t.exports=JSON.parse('{"ge":[{"leagueKey":"bronze_1_key","leagueIndex":0,"leagueName":"leagues.league.first","distanceForReach":1000,"cupSpriteName":"cup_bronze_1","leagueCoinsReward":0,"leagueGemsReward":10,"bitType":0,"isUpgradableLeague":1},{"leagueKey":"bronze_2_key","leagueIndex":1,"leagueName":"leagues.league.second","distanceForReach":4000,"cupSpriteName":"cup_bronze_2","leagueCoinsReward":0,"leagueGemsReward":20,"bitType":0,"isUpgradableLeague":1},{"leagueKey":"bronze_3_key","leagueIndex":2,"leagueName":"leagues.league.third","distanceForReach":6000,"cupSpriteName":"cup_bronze_3","leagueCoinsReward":0,"leagueGemsReward":30,"bitType":0,"isUpgradableLeague":1},{"leagueKey":"silver_1_key","leagueIndex":3,"leagueName":"leagues.league.fourth","distanceForReach":8000,"cupSpriteName":"cup_silver_1","leagueCoinsReward":0,"leagueGemsReward":50,"bitType":0,"isUpgradableLeague":1},{"leagueKey":"silver_2_key","leagueIndex":4,"leagueName":"leagues.league.fifth","distanceForReach":10000,"cupSpriteName":"cup_silver_2","leagueCoinsReward":0,"leagueGemsReward":50,"bitType":0,"isUpgradableLeague":1},{"leagueKey":"silver_3_key","leagueIndex":5,"leagueName":"leagues.league.sixth","distanceForReach":14000,"cupSpriteName":"cup_silver_3","leagueCoinsReward":0,"leagueGemsReward":50,"bitType":0,"isUpgradableLeague":1},{"leagueKey":"gold_1_key","leagueIndex":6,"leagueName":"leagues.league.seventh","distanceForReach":16000,"cupSpriteName":"cup_gold_1","leagueCoinsReward":0,"leagueGemsReward":50,"bitType":0,"isUpgradableLeague":1},{"leagueKey":"gold_2_key","leagueIndex":7,"leagueName":"leagues.league.eighth","distanceForReach":20000,"cupSpriteName":"cup_gold_2","leagueCoinsReward":0,"leagueGemsReward":50,"bitType":0,"isUpgradableLeague":1},{"leagueKey":"gold_3_key","leagueIndex":8,"leagueName":"leagues.league.ninth","distanceForReach":22000,"cupSpriteName":"cup_gold_3","leagueCoinsReward":0,"leagueGemsReward":50,"bitType":0,"isUpgradableLeague":1},{"leagueKey":"rubin_key","leagueIndex":9,"leagueName":"leagues.league.tenth","distanceForReach":25000,"cupSpriteName":"cup_gold_4","leagueCoinsReward":0,"leagueGemsReward":100,"bitType":0,"isUpgradableLeague":0}]}')}},n={};function o(t){var e=n[t];if(void 0!==e)return e.exports;var i=n[t]={id:t,loaded:!1,exports:{}};return r[t].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=r,o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.f={},o.e=t=>Promise.all(Object.keys(o.f).reduce(((e,r)=>(o.f[r](t,e),e)),[])),o.u=t=>t+".js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="game:",o.l=(r,n,i,a)=>{if(t[r])t[r].push(n);else{var s,u;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==e+i){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",e+i),s.src=r),t[r]=[n];var f=(e,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((t=>t(n))),e)return e(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}},o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{var t={757:0};o.f.j=(e,r)=>{var n=o.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise(((r,i)=>n=t[e]=[r,i]));r.push(n[2]=i);var a=o.p+o.u(e),s=new Error;o.l(a,(r=>{if(o.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,n[1](s)}}),"chunk-"+e,e)}};var e=(e,r)=>{var n,i,[a,s,u]=r,l=0;if(a.some((e=>0!==t[e]))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(u)u(o)}for(e&&e(r);l<a.length;l++)i=a[l],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0},r=self.webpackChunkgame=self.webpackChunkgame||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),(()=>{"use strict";if(o(1934),o(5654),o(7694),o.g._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");o.g._babelPolyfill=!0;function t(t,e,r){t[e]||Object.defineProperty(t,e,{writable:!0,configurable:!0,value:r})}t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(e){[][e]&&t(Array,e,Function.call.bind([][e]))}))})(),(()=>{"use strict";var t=o(6013),e=o(7040),r=void 0;Object.defineProperty(t.s$.prototype,"disposeBag",{get:function(){var t;return null!==(t=this._disposeBag)&&void 0!==t?t:this._disposeBag=new e.$n}});var n=t.s$.prototype.destroy;if(t.s$.prototype.destroy=function(){var t;null===(t=this._disposeBag)||void 0===t||t.dispose(),n.apply(this,arguments)},t.W2.prototype.destroy=function(e){t.s$.prototype.destroy.apply(this,arguments),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i){var o=n[i];o.isDestructionGuest||o.destroy(e)}},r){var i=function(t){var e=t.Target,n=t.verbose,i="_destroyed",o="_"+i;Object.defineProperty(e.prototype,i,{get:function(){return this[o]},set:function(t){this[o]=t,this._disposeeRegistryUnregisterToken||(n&&console.log("register",this.constructor.name),this._disposeeRegistryUnregisterToken={},r.register(this,this.constructor.name,this._disposeeRegistryUnregisterToken))}});var a=e.prototype.destroy;e.prototype.destroy=function(){a.apply(this,arguments),n&&console.log("unregister",this.constructor.name),r.unregister(this._disposeeRegistryUnregisterToken)}};i({Target:t.TC,verbose:!1}),i({Target:t.xv,verbose:!1})}o(2063);var a=t.xv.prototype.render;t.xv.prototype.render=function(t){this._CONTEXT_UID!==t.CONTEXT_UID&&(this._CONTEXT_UID=t.CONTEXT_UID,this.dirty=!0,this.canvas.height=0);for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];a.call.apply(a,[this,t].concat(r))},o(6194).kX.prototype.then=function(t){var e=this;return new Promise((function(t){return e.onComplete(t)})).then(t)};var s=o(6729),u=o.n(s)();u.prototype.onOff=function(t,e,r){var n=this;return this.on(t,e,r),function(){return n.off(t,e,r)}},u.prototype.onceOff=function(t,e,r){var n=this;return this.once(t,e,r),function(){return n.off(t,e,r)}};var l=t.P6.EventEmitter;l.prototype.onOff=function(t,e,r){var n=this;return this.on(t,e,r),function(){return n.off(t,e,r)}},l.prototype.onceOff=function(t,e,r){var n=this;return this.once(t,e,r),function(){return n.off(t,e,r)}};var c=o(8949),h=o(1477);(0,c.jQ)({enforceActions:"never"}),window.runGame=function(){document.body.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1})),h.Z.init()}})()})();